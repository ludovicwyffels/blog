{"componentChunkName":"component---src-pages-404-tsx","path":"/404/","webpackCompilationHash":"28b74a5dec589e4586df","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"timeToRead":2,"frontmatter":{"title":"Bien g√©rer ses textes de commit (partie 2)","date":"2019-08-11T18:00:00.000Z","tags":["Git","Node.js"],"image":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBf/EABYBAQEBAAAAAAAAAAAAAAAAAAACA//aAAwDAQACEAMQAAABVLywQM4t/8QAGRABAQEAAwAAAAAAAAAAAAAAAgEAAxIi/9oACAEBAAEFAjYbGa/OO5x2O//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABYRAQEBAAAAAAAAAAAAAAAAAAABEv/aAAgBAgEBPwFiP//EAB0QAAIBBAMAAAAAAAAAAAAAAAABMgIQERIhQVH/2gAIAQEABj8ClwVbPD6JCG/Lf//EABwQAAMAAgMBAAAAAAAAAAAAAAABESExQVGBkf/aAAgBAQABPyGUSNvqLg0lKYL1eiZVcsToWHs//9oADAMBAAIAAwAAABAzL//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAEDAQE/ECf/xAAWEQEBAQAAAAAAAAAAAAAAAAABMRD/2gAIAQIBAT8QFjMP/8QAHBABAAICAwEAAAAAAAAAAAAAAQARIUExUZFh/9oACAEBAAE/EAltBA8O42KxjwXf2Jc+6ZIoPW0uXQptIchpjqk//9k=","aspectRatio":1.5056461731493098,"src":"/static/bb024aed8b63b69834a2bfb23baa20cf/81ef8/nature.jpg","srcSet":"/static/bb024aed8b63b69834a2bfb23baa20cf/f8f18/nature.jpg 930w,\n/static/bb024aed8b63b69834a2bfb23baa20cf/81ef8/nature.jpg 1200w","sizes":"(max-width: 1200px) 100vw, 1200px"}}},"author":{"id":"ludo","bio":"D√©veloppeur senior. Fullstack + DevOps","avatar":{"children":[{"__typename":"ImageSharp","fixed":{"src":"/static/5f2c129e42248a92c87b13b4293950cf/4e842/ghost.png"}}]}}},"excerpt":"Nous sommes tous pass√©s par l√†. Qu‚Äôil s‚Äôagisse d‚Äôun calendrier serr√©, de corrections constantes ou simplement de la cr√©ation de messages avec notre propre mod√®le d√©fini; nous avons tous fait de mauvais messages de commit. Heureusement pour nous, la sp√©cification Conventional Commits existe, et avec elle un ensemble d‚Äôoutils puissants pour nous aider. Application d‚Äôune norme Pour faire respecter une norme √† chaque fois que nous nous faisons un commit, nous avons husky et commitling. Husky √©coute les git hooks, et nous l‚Äôutiliserons pour d√©clencher le commitlint lorsque nous tapons un message de commit. Maintenant, installons les paquets : Apr√®s avoir install√© ces paquets, vous devez cr√©er un fichier commitlint.config.js dans le m√™me dossier que votre package.json : Et modifier votre package.json: Tout est pr√™t! Maintenant, vos messages seront linted. Nous les commitons avec commitizen Commitizen est un paquet qui facilite la cr√©ation de messages de commit selon la sp√©cification pr√©c√©dente. Pour ce faire, vous devez l‚Äôinstaller globalement et configurer votre projet. Maintenant, faites un changement, ajoutez-le et lancez git cz. Automatisation Nous avons ajout√© des outils pour assurer et faciliter la validation des messages de commit selon les sp√©cifications conventionnelles de commit. Non seulement nous avons re√ßu des messages standard sur l‚Äôensemble du projet que les humains peuvent lire, mais aussi des machines. Oui, des machines. Le respect de ces normes a permis aux machines de comprendre le motif, et avec cela, de mettre √† jour automatiquement la version de nos paquets et de g√©n√©rer des changelogs. Version bumping et CHANGELOG Pour faire les deux actions, nous n‚Äôavons besoin que d‚Äôun seul paquet, standard-version. Ce paquet le fera: Analyser vos engagements depuis votre derni√®re version (tag) Version bump votre paquet.json G√©n√©rer ou mettre √† jour un fichier CHANGELOG.md G√©n√©rer un message de livraison G√©n√©rer une nouvelle balise Utilisons-la donc : Mettez √† jour votre paquet.json : Et maintenant vous n‚Äôavez plus qu‚Äô√† lancer npm run release. Alternativement, si vous souhaitez simplement g√©n√©rer un fichier changelog, je vous recommande le fichier conventionnel-changelog-cli. Quelle est la prochaine √©tape? Apr√®s avoir gagn√© en lisibilit√© et en automatisation des t√¢ches quotidiennes douloureuses, vous pouvez cr√©er votre propre standard bas√© sur les sp√©cifications conventionnelles de commit. La famille d‚Äôoutils conventionnel-changelog vous permet et vous facilite la cr√©ation de votre propre version si vous le souhaitez. J‚Äôesp√®re que ce message vous a aid√©. S‚Äôil y a quoi que ce soit, partagez de l‚Äôinformation qui pourrait l‚Äôam√©liorer et la rendre meilleure pour les autres!","fields":{"layout":"post","slug":"/git-manage-commit-text-part2/"}}},{"node":{"timeToRead":4,"frontmatter":{"title":"Bien g√©rer ses textes de commit (partie 1)","date":"2019-08-11T08:00:00.000Z","tags":["Git","Node.js"],"image":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBf/EABYBAQEBAAAAAAAAAAAAAAAAAAACA//aAAwDAQACEAMQAAABVLywQM4t/8QAGRABAQEAAwAAAAAAAAAAAAAAAgEAAxIi/9oACAEBAAEFAjYbGa/OO5x2O//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABYRAQEBAAAAAAAAAAAAAAAAAAABEv/aAAgBAgEBPwFiP//EAB0QAAIBBAMAAAAAAAAAAAAAAAABMgIQERIhQVH/2gAIAQEABj8ClwVbPD6JCG/Lf//EABwQAAMAAgMBAAAAAAAAAAAAAAABESExQVGBkf/aAAgBAQABPyGUSNvqLg0lKYL1eiZVcsToWHs//9oADAMBAAIAAwAAABAzL//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAEDAQE/ECf/xAAWEQEBAQAAAAAAAAAAAAAAAAABMRD/2gAIAQIBAT8QFjMP/8QAHBABAAICAwEAAAAAAAAAAAAAAQARIUExUZFh/9oACAEBAAE/EAltBA8O42KxjwXf2Jc+6ZIoPW0uXQptIchpjqk//9k=","aspectRatio":1.5056461731493098,"src":"/static/bb024aed8b63b69834a2bfb23baa20cf/81ef8/nature.jpg","srcSet":"/static/bb024aed8b63b69834a2bfb23baa20cf/f8f18/nature.jpg 930w,\n/static/bb024aed8b63b69834a2bfb23baa20cf/81ef8/nature.jpg 1200w","sizes":"(max-width: 1200px) 100vw, 1200px"}}},"author":{"id":"ludo","bio":"D√©veloppeur senior. Fullstack + DevOps","avatar":{"children":[{"__typename":"ImageSharp","fixed":{"src":"/static/5f2c129e42248a92c87b13b4293950cf/4e842/ghost.png"}}]}}},"excerpt":"Que l‚Äôon soit backend, frontend, il y a une chose qui nous rassemble, c‚Äôest notre gestionnaire de source et son utilisation. Dans cet article, je vais vous pr√©senter le conventional-changelog qui vous permettra de produire un historique de super qualit√© üôå! Le probl√®me Combien d‚Äôentre vous sont tomb√©s sur des projets avec un historique qui ressemble √† cela: ü§ï Comment s‚Äôy retrouver? Comment exploiter un historique qui ne vous donne quasiment jamais d‚Äôinformation. La solution, c‚Äôest d‚Äôutiliser le Conventional-Changelog (oui, on dirait une pub de t√©l√©-achat üòù). Qu‚Äôest-ce que c‚Äôest le conventional-changelog? C‚Äôest bien de vous vendre une solution, mais il faudrait peut-√™tre expliquer ce que c‚Äôest‚Ä¶ en vrai. Le Conventional-Changelog est une mani√®re d‚Äô√©crire ses commits dans les projets. Il existe plusieurs ‚Äúflavours‚Äù, je vais vous d√©tailler la version Angular. Le format est le suivant: Si ce format est bien appliqu√©, cela peut donner ce type de texte de commit : C‚Äôest un peu plus agr√©able √† lire non ? Je vais vous d√©crire les diff√©rentes parties de cette convention et comment bien les utiliser. Type Le type permet de repr√©senter de mani√®re succincte le type d‚Äôaction que vous avez fait sur le projet : feat: Ajout d‚Äôune fonctionnalit√© fix: Correction perf: Am√©lioration des performances docs: Ajout de documentation style: Linting du code refactor: Modification du code, mutualisation et autres modifs afin d‚Äôam√©liorer le projet test: Ajout de tests unitaires, int√©gration, end-to-end chore: T√¢che m√©nag√®re, comme mettre √† jour les d√©pendances, reconfigurer la CI‚Ä¶ On ne peut mettre qu‚Äôun seul type par commit, donc finis les commits qui contiennent une feature et un fix en m√™me temps‚Ä¶ Scope Ici, pas de liste impos√©e, juste le titre de l‚Äô√©l√©ment sur lequel une modification a √©t√© faite. Nous avons tendance √† d√©finir clairement les scopes du projet √† l‚Äôavance afin que tout le monde commit avec les m√™mes scopes. Pour exemple, sur une application orient√©e ‚Äúe-commerce‚Äù, on pourrait avoir les scopes suivants : homepage search my-account product-details order admin Parfois, ce scope peut √™tre omis‚Ä¶ car il n‚Äôy en a pas forc√©ment ou vous avez touch√© √† l‚Äôapplication de mani√®re globale. Dans ce cas, laissez vide üòÖ Et par contre, comme pour le type, il ne peut y avoir qu‚Äôun seul scope. Donc si vous pensez avoir deux scopes‚Ä¶ faites deux commit diff√©rents Subject Le sujet doit contenir une description courte du changement effectu√© dans le commit. Quelques conseils pour formater le message : Utiliser l‚Äôimp√©ratif Utiliser le pr√©sent Pas de 1er lettre en majuscule Pas de point . √† la fin du sujet Body Le body est la partie ‚Äúprincipale‚Äù du commit. J‚Äôai tendance √† dire qu‚Äôelle doit contenir le ‚ÄúPourquoi‚Äù du commit. Si vous avez fait une modification structurante ou si la m√©thode d‚Äôimpl√©mentation est particuli√®re, √©crivez-le dans le body ! C‚Äôest un point de vue qui est personnel, mais je pense que le body est le meilleur endroit pour accueillir un commentaire‚Ä¶ car un message de commit ne se d√©synchronise jamais du code. Footer Cette derni√®re partie permet de placer les r√©f√©rences vers toutes les issues, User stories & co. On s‚Äôen sert g√©n√©ralement pour lier (Linked to) ou cl√¥turer (Closes) les issues directement depuis git. Autre √©l√©ment qui peut √™tre ajout√© dans ce footer est la notion de Breaking Change. Il suffit d‚Äôajouter BREAKING CHANGE: suivi du d√©tail de ce fameux breaking change. Je suis oblig√© d‚Äô√©crire tout cela √† chaque fois? Non, rassurez-vous, vous n‚Äô√™tes pas oblig√©‚Ä¶ m√™me s‚Äôil est bien de mettre un max d‚Äôinformation dans le message de commit. La convention veut que seule la 1√®re ligne soit obligatoire. Donc, libre √† vous, de ne pas mettre de body et de footer Conclusion Avec cette convention, vous prendrez plaisir √† fouiller dans l‚Äôhistorique de votre projet, trouver la source d‚Äôune modification et surtout savoir ‚ÄúPourquoi cela a √©t√© fait comme cela !‚Äù Et quand l‚Äôon regarde, la diff√©rence entre l‚Äôancienne version : et la nouvelle (certes, sur des projets diff√©rents): Cela est quand m√™me bien plus clair ! R√©f√©rence Git Commit Message Conventions","fields":{"layout":"post","slug":"/git-manage-commit-text-part1/"}}},{"node":{"timeToRead":2,"frontmatter":{"title":"Automatisez les mises √† jour des d√©pendances","date":"2019-08-10T14:00:00.000Z","tags":["Node.js"],"image":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAQFA//EABYBAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAABqyn8s1EcD//EABoQAQACAwEAAAAAAAAAAAAAAAEAAgMREiL/2gAIAQEAAQUCt6Lruc6jUTJU7//EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAEDAQE/AYf/xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAgEBPwGn/8QAGhAAAgMBAQAAAAAAAAAAAAAAAAECESFBcf/aAAgBAQAGPwJoblu0cFWEvRn/xAAdEAACAgIDAQAAAAAAAAAAAAAAAREhMWFBUYGR/9oACAEBAAE/Iai1LQ5jEVYJ38MVHkrSkQ8d/aKQoP/aAAwDAQACAAMAAAAQbz//xAAXEQEAAwAAAAAAAAAAAAAAAAAAARFh/9oACAEDAQE/EIKx/8QAFxEBAAMAAAAAAAAAAAAAAAAAAAERYf/aAAgBAgEBPxCS9f/EABwQAQEBAQACAwAAAAAAAAAAAAERIQAxQVFhgf/aAAgBAQABPxAAqoN+Hsvt1wWQJ9POkMmdE3+hB5KT9nMSBAi5GuDMprM3v//Z","aspectRatio":1.5005861664712778,"src":"/static/8756b203d47a4deaf400dbe6dbdbc9ba/c108b/board-game-challenge.jpg","srcSet":"/static/8756b203d47a4deaf400dbe6dbdbc9ba/f8f18/board-game-challenge.jpg 930w,\n/static/8756b203d47a4deaf400dbe6dbdbc9ba/c108b/board-game-challenge.jpg 1280w","sizes":"(max-width: 1280px) 100vw, 1280px"}}},"author":{"id":"ludo","bio":"D√©veloppeur senior. Fullstack + DevOps","avatar":{"children":[{"__typename":"ImageSharp","fixed":{"src":"/static/5f2c129e42248a92c87b13b4293950cf/4e842/ghost.png"}}]}}},"excerpt":"Une application Node raisonnablement grande aura des centaines de d√©pendances. Les garder tous √† jour est une chose qu‚Äôun d√©veloppeur doit r√©aliser √† un moment ou √† un autre. Soit vous ignorez les mises √† jour des d√©pendances jusqu‚Äô√† ce que vous soyez coinc√© avec un tr√®s ancien ensemble de d√©pendances qui entravent votre progression avec les vuln√©rabilit√©s de s√©curit√© ou vous passez votre pr√©cieux temps de d√©veloppement d‚Äôapplication √† tester manuellement les mises √† jour sur une cadence raisonnable. Voyons comment automatiser ce processus dans un environnement d‚Äôentreprise en supposant que vous ayez un environnement CI/CD et un repo GitHub priv√©. Ingr√©dients Tests unitaires solides pour votre code. Points bonus si vous avez des tests de e2e et des tests snapshot pour les composants de l‚Äôinterface utilisateur. next-update Un paquet npm qui teste si vos d√©pendances peuvent √™tre mises √† jour sans casser les tests. hub CLI Il s‚Äôagit d‚Äôune application en ligne de commande de Git ‚ÄúHub‚Äù qui peut interagir avec votre GitHub repo. hub est exactement similaire √† git CLI et constitue un remplacement imm√©diat, mais dispose des fonctionnalit√©s suppl√©mentaires pour interagir avec GitHub. Pratique pour ouvrir une Pull Request apr√®s l‚Äôop√©ration de mise √† jour. Recette npm install next-update --save-dev\nInstallez next-update en tant que dev-dependency. Configurez un script npm dep:update dans votre section de scripts du fichier package.json npm run dep:update\nEx√©cutez le script. next-update ira de l‚Äôavant et trouvera tous les nouveaux paquets. Les met √† jour en s√©quence et conserve la mise √† jour si vos tests r√©ussissent. T√©l√©chargez et installez le hub cli Configurez hub Demander au bot d‚Äôouvrir une Pull Request Raccordez ce script dans votre environnement CI/CD pour qu‚Äôil s‚Äôex√©cute quotidiennement","fields":{"layout":"post","slug":"/node-automate-dependency-updates/"}}}]}},"pageContext":{"isCreatedByStatefulCreatePages":true}}}