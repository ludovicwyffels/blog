{"componentChunkName":"component---src-templates-post-tsx","path":"/git-manage-commit-text-part1/","webpackCompilationHash":"28b74a5dec589e4586df","result":{"data":{"logo":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsSAAALEgHS3X78AAABFUlEQVQY023PvUrDUBTA8ZuCtoMoOLQ4dWhN14x2kEKXFkGoohQ/QBexOHRycAidKkgHHRq69APRoTjFJYODIA6+gSBYfYMmfYLE/5VT6NALP845NyeHc9UoCHZRQvonCLKKE4ZhAXYURTsYoE9dIy5iCzfUJnEdV+RF4iu6ikFH2EPxazzOcJmg4Rnn5C8ysIEOHqTe5/sT3qXOwYOtRr5/wLAqzpCTDXu4p2ETtyjgGJ/cX+se8jeU9fa4RBt5vWENpjzdkoGPcGg4RQsbOMEFmnBRRwVDHEK/yFXfvr/CoPjvZLKcdByDyzWGeajigzorGy0oOeRJiUtITe/pX1XzDk3buIMltSFR/zTtic3060X+8z8PsEUt8G3LVQAAAABJRU5ErkJggg==","width":400,"height":128,"src":"/static/2b5eaa0de166a8b5faebad4955c2200c/647de/ghost-logo.png","srcSet":"/static/2b5eaa0de166a8b5faebad4955c2200c/647de/ghost-logo.png 1x"}}},"markdownRemark":{"html":"<p>Que l‚Äôon soit backend, frontend, il y a une chose qui nous rassemble, c‚Äôest notre gestionnaire de source et son utilisation.</p>\n<p>Dans cet article, je vais vous pr√©senter le conventional-changelog qui vous permettra de produire un historique de super qualit√© üôå!</p>\n<h2>Le probl√®me</h2>\n<p>Combien d‚Äôentre vous sont tomb√©s sur des projets avec un historique qui ressemble √† cela: ü§ï</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">e60930a9 (HEAD -&gt; develop, origin/develop) Modification front\n49ff1d07 Fix an error\n59a4d13e Add log\n44e2f204 Update conf\n03d00e2e Types\n10d42648 Lots of things...\nbab7be76 General linting\na62f7880 No comment\n26f99ee0 ...\n31409e82 Add test\n815485dd Issue #782</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Comment s‚Äôy retrouver? Comment exploiter un historique qui ne vous donne quasiment jamais d‚Äôinformation.</p>\n<p>La solution, c‚Äôest d‚Äôutiliser le Conventional-Changelog (oui, on dirait une pub de t√©l√©-achat üòù).</p>\n<h2>Qu‚Äôest-ce que c‚Äôest le conventional-changelog?</h2>\n<p>C‚Äôest bien de vous vendre une solution, mais il faudrait peut-√™tre expliquer ce que c‚Äôest‚Ä¶ en vrai.</p>\n<p>Le Conventional-Changelog est une mani√®re d‚Äô√©crire ses commits dans les projets. Il existe plusieurs ‚Äúflavours‚Äù, je vais vous d√©tailler la version Angular.</p>\n<p>Le format est le suivant:</p>\n<div class=\"gatsby-highlight\" data-language=\"txt\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-txt line-numbers\"><code class=\"language-txt\">&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;\n\n&lt;body&gt;\n\n&lt;footer&gt;</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Si ce format est bien appliqu√©, cela peut donner ce type de texte de commit :</p>\n<div class=\"gatsby-highlight\" data-language=\"txt\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-txt line-numbers\"><code class=\"language-txt\">feat(users): add user management page\n\nIn order to add users into the system, a management page has been added. The route and services are integrated into the UserModule. A mock has been added due to back-end limitation.\n\nCloses #456 and PRJ-345</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>C‚Äôest un peu plus agr√©able √† lire non ?</p>\n<p>Je vais vous d√©crire les diff√©rentes parties de cette convention et comment bien les utiliser.</p>\n<h2>Type</h2>\n<p>Le type permet de repr√©senter de mani√®re succincte le <strong>type</strong> d‚Äôaction que vous avez fait sur le projet :</p>\n<ul>\n<li><code>feat</code>: Ajout d‚Äôune fonctionnalit√©</li>\n<li><code>fix</code>: Correction</li>\n<li><code>perf</code>: Am√©lioration des performances</li>\n<li><code>docs</code>: Ajout de documentation</li>\n<li><code>style</code>: Linting du code</li>\n<li><code>refactor</code>: Modification du code, mutualisation et autres modifs afin d‚Äôam√©liorer le projet</li>\n<li><code>test</code>: Ajout de tests unitaires, int√©gration, end-to-end</li>\n<li><code>chore</code>: T√¢che <em>m√©nag√®re</em>, comme mettre √† jour les d√©pendances, reconfigurer la CI‚Ä¶</li>\n</ul>\n<p>On ne peut mettre qu‚Äôun seul type par commit, donc finis les commits qui contiennent une feature et un fix en m√™me temps‚Ä¶</p>\n<h2>Scope</h2>\n<p>Ici, pas de liste impos√©e, juste le titre de l‚Äô√©l√©ment sur lequel une modification a √©t√© faite. Nous avons tendance √† d√©finir clairement les scopes du projet √† l‚Äôavance afin que tout le monde commit avec les m√™mes scopes.</p>\n<p>Pour exemple, sur une application orient√©e ‚Äúe-commerce‚Äù, on pourrait avoir les scopes suivants :</p>\n<ul>\n<li>homepage</li>\n<li>search</li>\n<li>my-account</li>\n<li>product-details</li>\n<li>order</li>\n<li>admin</li>\n</ul>\n<p>Parfois, ce scope peut √™tre omis‚Ä¶ car il n‚Äôy en a pas forc√©ment ou vous avez touch√© √† l‚Äôapplication de mani√®re globale. Dans ce cas, laissez vide üòÖ</p>\n<p>Et par contre, comme pour le type, il ne peut y avoir qu‚Äôun seul scope. Donc si vous pensez avoir deux scopes‚Ä¶ faites deux commit diff√©rents</p>\n<h2>Subject</h2>\n<p>Le sujet doit contenir une description courte du changement effectu√© dans le commit.</p>\n<p>Quelques conseils pour formater le message :</p>\n<ul>\n<li>Utiliser l‚Äôimp√©ratif</li>\n<li>Utiliser le pr√©sent</li>\n<li>Pas de 1er lettre en majuscule</li>\n<li>Pas de point <code>.</code> √† la fin du sujet</li>\n</ul>\n<h2>Body</h2>\n<p>Le body est la partie ‚Äúprincipale‚Äù du commit. J‚Äôai tendance √† dire qu‚Äôelle doit contenir le ‚ÄúPourquoi‚Äù du commit.</p>\n<p>Si vous avez fait une modification structurante ou si la m√©thode d‚Äôimpl√©mentation est particuli√®re, √©crivez-le dans le body !</p>\n<p>C‚Äôest un point de vue qui est personnel, mais je pense que le body est le meilleur endroit pour accueillir un commentaire‚Ä¶ car un message de commit ne se d√©synchronise jamais du code.</p>\n<h2>Footer</h2>\n<p>Cette derni√®re partie permet de placer les r√©f√©rences vers toutes les issues, User stories &#x26; co. On s‚Äôen sert g√©n√©ralement pour lier (<code>Linked to</code>) ou cl√¥turer (<code>Closes</code>) les issues directement depuis git.</p>\n<p>Autre √©l√©ment qui peut √™tre ajout√© dans ce footer est la notion de Breaking Change. Il suffit d‚Äôajouter <code>BREAKING CHANGE:</code> suivi du d√©tail de ce fameux breaking change.</p>\n<h2>Je suis oblig√© d‚Äô√©crire tout cela √† chaque fois?</h2>\n<p>Non, rassurez-vous, vous n‚Äô√™tes pas oblig√©‚Ä¶ m√™me s‚Äôil est bien de mettre un max d‚Äôinformation dans le message de commit.</p>\n<p>La convention veut que seule la 1√®re ligne soit obligatoire. Donc, libre √† vous, de ne pas mettre de body et de footer</p>\n<h2>Conclusion</h2>\n<p>Avec cette convention, vous prendrez plaisir √† fouiller dans l‚Äôhistorique de votre projet, trouver la source d‚Äôune modification et surtout savoir ‚ÄúPourquoi cela a √©t√© fait comme cela !‚Äù</p>\n<p>Et quand l‚Äôon regarde, la diff√©rence entre l‚Äôancienne version :</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">e60930a9 (HEAD -&gt; develop, origin/develop) Front modification\n49ff1d07 Error correction\n59a4d13e Add log\n44e2f204 Update config\n03d00e2e Fix typos</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>et la nouvelle (certes, sur des projets diff√©rents):</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">b1365d1fa (HEAD -&gt; master, origin/master, origin/HEAD) refactor(ivy): remove directiveRefresh instruction (#22745)\n4ac606b41 docs(compiler): fix spelling errors (#22704)\n51027d73c fix(ivy): Update rollup rule to prevent inlining symbols in debug. (#22747)\n48636f3e8 chore(aio): compute stability and deprecate `@stable` tag (#22674)\nbd9d4df73 refactor(ivy): remove inputsPropertyName (#22716)</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Cela est quand m√™me bien plus clair !</p>\n<h2>R√©f√©rence</h2>\n<ul>\n<li><a href=\"https://git.wiki.kernel.org/index.php/CommitMessageConventions\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Git Commit Message Conventions</a></li>\n</ul>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Que l‚Äôon soit backend, frontend, il y a une chose qui nous rassemble, c‚Äôest notre gestionnaire de source et son utilisation."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Dans cet article, je vais vous pr√©senter le conventional-changelog qui vous permettra de produire un historique de super qualit√© üôå!"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Le probl√®me"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Combien d‚Äôentre vous sont tomb√©s sur des projets avec un historique qui ressemble √† cela: ü§ï"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"style":"counter-reset: linenumber NaN","className":["language-text","line-numbers"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"e60930a9 (HEAD -> develop, origin/develop) Modification front\n49ff1d07 Fix an error\n59a4d13e Add log\n44e2f204 Update conf\n03d00e2e Types\n10d42648 Lots of things...\nbab7be76 General linting\na62f7880 No comment\n26f99ee0 ...\n31409e82 Add test\n815485dd Issue #782"}]},{"type":"element","tagName":"span","properties":{"ariaHidden":"true","className":["line-numbers-rows"],"style":"white-space: normal; width: auto; left: 0;"},"children":[{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Comment s‚Äôy retrouver? Comment exploiter un historique qui ne vous donne quasiment jamais d‚Äôinformation."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"La solution, c‚Äôest d‚Äôutiliser le Conventional-Changelog (oui, on dirait une pub de t√©l√©-achat üòù)."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Qu‚Äôest-ce que c‚Äôest le conventional-changelog?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"C‚Äôest bien de vous vendre une solution, mais il faudrait peut-√™tre expliquer ce que c‚Äôest‚Ä¶ en vrai."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Le Conventional-Changelog est une mani√®re d‚Äô√©crire ses commits dans les projets. Il existe plusieurs ‚Äúflavours‚Äù, je vais vous d√©tailler la version Angular."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Le format est le suivant:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"txt"},"children":[{"type":"element","tagName":"pre","properties":{"style":"counter-reset: linenumber NaN","className":["language-txt","line-numbers"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-txt"]},"children":[{"type":"text","value":"<type>(<scope>): <subject>\n\n<body>\n\n<footer>"}]},{"type":"element","tagName":"span","properties":{"ariaHidden":"true","className":["line-numbers-rows"],"style":"white-space: normal; width: auto; left: 0;"},"children":[{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Si ce format est bien appliqu√©, cela peut donner ce type de texte de commit :"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"txt"},"children":[{"type":"element","tagName":"pre","properties":{"style":"counter-reset: linenumber NaN","className":["language-txt","line-numbers"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-txt"]},"children":[{"type":"text","value":"feat(users): add user management page\n\nIn order to add users into the system, a management page has been added. The route and services are integrated into the UserModule. A mock has been added due to back-end limitation.\n\nCloses #456 and PRJ-345"}]},{"type":"element","tagName":"span","properties":{"ariaHidden":"true","className":["line-numbers-rows"],"style":"white-space: normal; width: auto; left: 0;"},"children":[{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"C‚Äôest un peu plus agr√©able √† lire non ?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Je vais vous d√©crire les diff√©rentes parties de cette convention et comment bien les utiliser."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Type"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Le type permet de repr√©senter de mani√®re succincte le "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"type"}]},{"type":"text","value":" d‚Äôaction que vous avez fait sur le projet :"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"feat"}]},{"type":"text","value":": Ajout d‚Äôune fonctionnalit√©"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"fix"}]},{"type":"text","value":": Correction"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"perf"}]},{"type":"text","value":": Am√©lioration des performances"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"docs"}]},{"type":"text","value":": Ajout de documentation"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"style"}]},{"type":"text","value":": Linting du code"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"refactor"}]},{"type":"text","value":": Modification du code, mutualisation et autres modifs afin d‚Äôam√©liorer le projet"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"test"}]},{"type":"text","value":": Ajout de tests unitaires, int√©gration, end-to-end"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"chore"}]},{"type":"text","value":": T√¢che "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"m√©nag√®re"}]},{"type":"text","value":", comme mettre √† jour les d√©pendances, reconfigurer la CI‚Ä¶"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"On ne peut mettre qu‚Äôun seul type par commit, donc finis les commits qui contiennent une feature et un fix en m√™me temps‚Ä¶"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Scope"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Ici, pas de liste impos√©e, juste le titre de l‚Äô√©l√©ment sur lequel une modification a √©t√© faite. Nous avons tendance √† d√©finir clairement les scopes du projet √† l‚Äôavance afin que tout le monde commit avec les m√™mes scopes."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Pour exemple, sur une application orient√©e ‚Äúe-commerce‚Äù, on pourrait avoir les scopes suivants :"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"homepage"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"search"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"my-account"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"product-details"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"order"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"admin"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Parfois, ce scope peut √™tre omis‚Ä¶ car il n‚Äôy en a pas forc√©ment ou vous avez touch√© √† l‚Äôapplication de mani√®re globale. Dans ce cas, laissez vide üòÖ"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Et par contre, comme pour le type, il ne peut y avoir qu‚Äôun seul scope. Donc si vous pensez avoir deux scopes‚Ä¶ faites deux commit diff√©rents"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Subject"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Le sujet doit contenir une description courte du changement effectu√© dans le commit."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Quelques conseils pour formater le message :"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Utiliser l‚Äôimp√©ratif"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Utiliser le pr√©sent"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Pas de 1er lettre en majuscule"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Pas de point "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"."}]},{"type":"text","value":" √† la fin du sujet"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Body"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Le body est la partie ‚Äúprincipale‚Äù du commit. J‚Äôai tendance √† dire qu‚Äôelle doit contenir le ‚ÄúPourquoi‚Äù du commit."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Si vous avez fait une modification structurante ou si la m√©thode d‚Äôimpl√©mentation est particuli√®re, √©crivez-le dans le body !"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"C‚Äôest un point de vue qui est personnel, mais je pense que le body est le meilleur endroit pour accueillir un commentaire‚Ä¶ car un message de commit ne se d√©synchronise jamais du code."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Footer"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Cette derni√®re partie permet de placer les r√©f√©rences vers toutes les issues, User stories & co. On s‚Äôen sert g√©n√©ralement pour lier ("},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Linked to"}]},{"type":"text","value":") ou cl√¥turer ("},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Closes"}]},{"type":"text","value":") les issues directement depuis git."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Autre √©l√©ment qui peut √™tre ajout√© dans ce footer est la notion de Breaking Change. Il suffit d‚Äôajouter "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"BREAKING CHANGE:"}]},{"type":"text","value":" suivi du d√©tail de ce fameux breaking change."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Je suis oblig√© d‚Äô√©crire tout cela √† chaque fois?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Non, rassurez-vous, vous n‚Äô√™tes pas oblig√©‚Ä¶ m√™me s‚Äôil est bien de mettre un max d‚Äôinformation dans le message de commit."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"La convention veut que seule la 1√®re ligne soit obligatoire. Donc, libre √† vous, de ne pas mettre de body et de footer"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Conclusion"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Avec cette convention, vous prendrez plaisir √† fouiller dans l‚Äôhistorique de votre projet, trouver la source d‚Äôune modification et surtout savoir ‚ÄúPourquoi cela a √©t√© fait comme cela !‚Äù"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Et quand l‚Äôon regarde, la diff√©rence entre l‚Äôancienne version :"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"style":"counter-reset: linenumber NaN","className":["language-text","line-numbers"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"e60930a9 (HEAD -> develop, origin/develop) Front modification\n49ff1d07 Error correction\n59a4d13e Add log\n44e2f204 Update config\n03d00e2e Fix typos"}]},{"type":"element","tagName":"span","properties":{"ariaHidden":"true","className":["line-numbers-rows"],"style":"white-space: normal; width: auto; left: 0;"},"children":[{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"et la nouvelle (certes, sur des projets diff√©rents):"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"style":"counter-reset: linenumber NaN","className":["language-text","line-numbers"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"b1365d1fa (HEAD -> master, origin/master, origin/HEAD) refactor(ivy): remove directiveRefresh instruction (#22745)\n4ac606b41 docs(compiler): fix spelling errors (#22704)\n51027d73c fix(ivy): Update rollup rule to prevent inlining symbols in debug. (#22747)\n48636f3e8 chore(aio): compute stability and deprecate `@stable` tag (#22674)\nbd9d4df73 refactor(ivy): remove inputsPropertyName (#22716)"}]},{"type":"element","tagName":"span","properties":{"ariaHidden":"true","className":["line-numbers-rows"],"style":"white-space: normal; width: auto; left: 0;"},"children":[{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Cela est quand m√™me bien plus clair !"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"R√©f√©rence"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://git.wiki.kernel.org/index.php/CommitMessageConventions","target":"_blank","rel":["nofollow","noopener","noreferrer"]},"children":[{"type":"text","value":"Git Commit Message Conventions"}]}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}},"excerpt":"Que l‚Äôon soit backend, frontend, il y a une chose qui nous rassemble, c‚Äôest notre gestionnaire de source et son utilisation. Dans cet article, je vais vous pr√©senter le conventional-changelog qui vous permettra de produire un historique de super qualit√© üôå! Le probl√®me Combien d‚Äôentre vous sont tomb√©s sur des projets avec un historique qui ressemble √† cela: ü§ï Comment s‚Äôy retrouver? Comment exploiter un historique qui ne vous donne quasiment jamais d‚Äôinformation. La solution, c‚Äôest d‚Äôutiliser le Conventional-Changelog (oui, on dirait une pub de t√©l√©-achat üòù). Qu‚Äôest-ce que c‚Äôest le conventional-changelog? C‚Äôest bien de vous vendre une solution, mais il faudrait peut-√™tre expliquer ce que c‚Äôest‚Ä¶ en vrai. Le Conventional-Changelog est une mani√®re d‚Äô√©crire ses commits dans les projets. Il existe plusieurs ‚Äúflavours‚Äù, je vais vous d√©tailler la version Angular. Le format est le suivant: Si ce format est bien appliqu√©, cela peut donner ce type de texte de commit : C‚Äôest un peu plus agr√©able √† lire non ? Je vais vous d√©crire les diff√©rentes parties de cette convention et comment bien les utiliser. Type Le type permet de repr√©senter de mani√®re succincte le type d‚Äôaction que vous avez fait sur le projet : feat: Ajout d‚Äôune fonctionnalit√© fix: Correction perf: Am√©lioration des performances docs: Ajout de documentation style: Linting du code refactor: Modification du code, mutualisation et autres modifs afin d‚Äôam√©liorer le projet test: Ajout de tests unitaires, int√©gration, end-to-end chore: T√¢che m√©nag√®re, comme mettre √† jour les d√©pendances, reconfigurer la CI‚Ä¶ On ne peut mettre qu‚Äôun seul type par commit, donc finis les commits qui contiennent une feature et un fix en m√™me temps‚Ä¶ Scope Ici, pas de liste impos√©e, juste le titre de l‚Äô√©l√©ment sur lequel une modification a √©t√© faite. Nous avons tendance √† d√©finir clairement les scopes du projet √† l‚Äôavance afin que tout le monde commit avec les m√™mes scopes. Pour exemple, sur une application orient√©e ‚Äúe-commerce‚Äù, on pourrait avoir les scopes suivants : homepage search my-account product-details order admin Parfois, ce scope peut √™tre omis‚Ä¶ car il n‚Äôy en a pas forc√©ment ou vous avez touch√© √† l‚Äôapplication de mani√®re globale. Dans ce cas, laissez vide üòÖ Et par contre, comme pour le type, il ne peut y avoir qu‚Äôun seul scope. Donc si vous pensez avoir deux scopes‚Ä¶ faites deux commit diff√©rents Subject Le sujet doit contenir une description courte du changement effectu√© dans le commit. Quelques conseils pour formater le message : Utiliser l‚Äôimp√©ratif Utiliser le pr√©sent Pas de 1er lettre en majuscule Pas de point . √† la fin du sujet Body Le body est la partie ‚Äúprincipale‚Äù du commit. J‚Äôai tendance √† dire qu‚Äôelle doit contenir le ‚ÄúPourquoi‚Äù du commit. Si vous avez fait une modification structurante ou si la m√©thode d‚Äôimpl√©mentation est particuli√®re, √©crivez-le dans le body ! C‚Äôest un point de vue qui est personnel, mais je pense que le body est le meilleur endroit pour accueillir un commentaire‚Ä¶ car un message de commit ne se d√©synchronise jamais du code. Footer Cette derni√®re partie permet de placer les r√©f√©rences vers toutes les issues, User stories & co. On s‚Äôen sert g√©n√©ralement pour lier (Linked to) ou cl√¥turer (Closes) les issues directement depuis git. Autre √©l√©ment qui peut √™tre ajout√© dans ce footer est la notion de Breaking Change. Il suffit d‚Äôajouter BREAKING CHANGE: suivi du d√©tail de ce fameux breaking change. Je suis oblig√© d‚Äô√©crire tout cela √† chaque fois? Non, rassurez-vous, vous n‚Äô√™tes pas oblig√©‚Ä¶ m√™me s‚Äôil est bien de mettre un max d‚Äôinformation dans le message de commit. La convention veut que seule la 1√®re ligne soit obligatoire. Donc, libre √† vous, de ne pas mettre de body et de footer Conclusion Avec cette convention, vous prendrez plaisir √† fouiller dans l‚Äôhistorique de votre projet, trouver la source d‚Äôune modification et surtout savoir ‚ÄúPourquoi cela a √©t√© fait comme cela !‚Äù Et quand l‚Äôon regarde, la diff√©rence entre l‚Äôancienne version : et la nouvelle (certes, sur des projets diff√©rents): Cela est quand m√™me bien plus clair ! R√©f√©rence Git Commit Message Conventions","timeToRead":4,"frontmatter":{"title":"Bien g√©rer ses textes de commit (partie 1)","subtitle":"Que l‚Äôon soit backend, frontend, il y a une chose qui nous rassemble, c‚Äôest notre gestionnaire de source et son utilisation. Dans cet article, je vais vous pr√©senter le conventional-changelog qui vous permettra de produire un historique de super qualit√© !","userDate":"11 August 2019","date":"2019-08-11T08:00:00.000Z","tags":["Git","Node.js"],"image":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBf/EABYBAQEBAAAAAAAAAAAAAAAAAAACA//aAAwDAQACEAMQAAABVLywQM4t/8QAGRABAQEAAwAAAAAAAAAAAAAAAgEAAxIi/9oACAEBAAEFAjYbGa/OO5x2O//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABYRAQEBAAAAAAAAAAAAAAAAAAABEv/aAAgBAgEBPwFiP//EAB0QAAIBBAMAAAAAAAAAAAAAAAABMgIQERIhQVH/2gAIAQEABj8ClwVbPD6JCG/Lf//EABwQAAMAAgMBAAAAAAAAAAAAAAABESExQVGBkf/aAAgBAQABPyGUSNvqLg0lKYL1eiZVcsToWHs//9oADAMBAAIAAwAAABAzL//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAEDAQE/ECf/xAAWEQEBAQAAAAAAAAAAAAAAAAABMRD/2gAIAQIBAT8QFjMP/8QAHBABAAICAwEAAAAAAAAAAAAAAQARIUExUZFh/9oACAEBAAE/EAltBA8O42KxjwXf2Jc+6ZIoPW0uXQptIchpjqk//9k=","aspectRatio":1.5056461731493098,"src":"/static/bb024aed8b63b69834a2bfb23baa20cf/81ef8/nature.jpg","srcSet":"/static/bb024aed8b63b69834a2bfb23baa20cf/f8f18/nature.jpg 930w,\n/static/bb024aed8b63b69834a2bfb23baa20cf/81ef8/nature.jpg 1200w","sizes":"(max-width: 1200px) 100vw, 1200px"}}},"author":{"id":"ludo","name":"Wyffels Ludovic","bio":"D√©veloppeur senior. Fullstack + DevOps","avatar":{"children":[{"__typename":"ImageSharp","fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAABMUlEQVQ4y2MwsXf5T03MMGogGBvbOYNpUwdXOIbJwdgwNQQNhCk0snX6r2thC8Y6QGxg7QCWA/FBcrgMxepCkAZrV6//EYmpYBydkvHfMzjiv5mj2//whJT/Nm7ecEMJGgjykp6V/f+AqLj/O/Ye+L8diA8dO/m/pbv/v72n3/+tu/f9D45N/K9naYcSFESFoRXQlSCX2rh7g/kgr1u5epIWhiAMCi/3wLD/fVNn/u+fNgtMT5g+6//kmXOB/Jn/PYLCwWrINnDijDlAPBvKJ8NAZC+DIgCkGYRBbJAYSV5GjpTte/b/PwiMkLj0nP8xqVn/Dxw9AY6kwOh40iIFlmzCgUkmKjnjvx0wdu08fMFskJi1mxfxyQY9YetAEzJyQic5YaNnPeTgIDnrjZaHJGMACtTMXoVAJ6sAAAAASUVORK5CYII=","width":400,"height":400,"src":"/static/5f2c129e42248a92c87b13b4293950cf/4e842/ghost.png","srcSet":"/static/5f2c129e42248a92c87b13b4293950cf/4e842/ghost.png 1x"}}]}}}},"relatedPosts":{"totalCount":5,"edges":[{"node":{"id":"a7b23c0d-9c79-54c7-8132-41d2f4632b4c","timeToRead":1,"excerpt":"Une des choses les plus grandes et les pires avec git est que vous pouvez r√©√©crire l‚Äôhistoire. Voici une fa√ßon sournoise d‚Äôabuser de cela, je ne peux pas penser √† une raison l√©gitime de le faire. Comme pour tout, merci StackOverflow pour toutes les options que je peux choisir parmi Fixe la date du dernier commit √† la date du jour Fixer la date du dernier commit √† une date arbitraire D√©finir la date d‚Äôune validation arbitraire sur une date arbitraire ou courante Rebaser avant ledit engagement et arr√™ter pour modification: git rebase <commit-hash>^ -i Remplace pick par e (edit) sur la ligne avec ce commit (le premier) Quittez l‚Äô√©diteur (ESC suivi de :wq dans VIM) Non plus: GIT_COMMITTER_DATE=\"$(date)\" git commit --amend --no-edit --date \"$(date)\" GIT_COMMITTER_DATE=\"Mon 20 Aug 2018 20:19:19 BST\" git commit --amend --no-edit --date \"Mon 20 Aug 2018 20:19:19 BST\" Voir ici pour plus d‚Äôinformations sur le rebase et l‚Äô√©dition dans git: Fractionner un commit git existant. Apr√®s l‚Äôune de ces 3 options, vous voudrez ex√©cuter:","frontmatter":{"title":"Changer la date d'un commit","subtitle":"Une des choses les plus grandes et les pires avec git est que vous pouvez r√©√©crire l'histoire. Voici une fa√ßon sournoise d'abuser de cela, je ne peux pas penser √† une raison l√©gitime de le faire."},"fields":{"slug":"/git-changeGitOfCommit/"}}},{"node":{"id":"044eb1a1-d28b-5edd-bca2-052da2b0b1bd","timeToRead":7,"excerpt":"Dans cet article, vous apprendrez √† cr√©er et √† g√©rer facilement des git hooks pour vos projets Node/NPM √† l‚Äôaide de Husky. Git Hooks En termes simples, les git hooks sont des scripts personnalis√©s, qui peuvent √™tre ex√©cut√©s automatiquement lorsque des √©v√©nements sp√©cifiques se produisent. Des crochets (hooks) c√¥t√© client sont d√©clench√©s pour des actions telles que le commit ou le merge. Les crochets c√¥t√© serveur s‚Äôex√©cutent dans des situations telles que la r√©ception de donn√©es (git push) du client. Les hooks peuvent ex√©cuter n‚Äôimporte quelle logique personnalis√©e et, plus important encore, rejeter l‚Äôaction effectu√©e si quelque chose ne va pas. Par exemple, vous pouvez annuler la validation du commit si son message ne contient pas l‚ÄôID de probl√®me du suivi des probl√®mes. Vous pouvez √©galement le refuser si l‚Äôanalyse de code statique √©choue. Cela peut √™tre tr√®s utile si vous voulez vous assurer que votre base de code reste propre ou si vous souhaitez appliquer certaines r√®gles de qualit√©. Mais comment pouvez-vous r√©ellement installer et g√©rer ces hooks? Chaque fois que vous clonez un repo git, toutes les donn√©es git de votre projet sont stock√©es dans un r√©pertoire .git dans votre dossier. Il contient plusieurs fichiers et sous-r√©pertoires, l‚Äôun d‚Äôeux √©tant appel√© \u001dhooks\u001d. √Ä l‚Äôint√©rieur, vous trouverez un tas de fichiers.  Chacun d‚Äôentre eux est un script, qui est ex√©cut√© lorsqu‚Äôun √©v√©nement sp√©cifique se produit. Le nom de l‚Äô√©v√©nement correspond au nom du fichier. Par exemple, la \u001dpre-commit\u001d est ex√©cut√©e avant de commiter vos modifications. Comme vous pouvez le constater, tous les fichiers ont une extension \u001d.sample\u001d. Git ignore ces fichiers √† moins que vous ne les renommiez. Vous devez supprimer l‚Äôextension \u001d.sample\u001d pour activer ces hooks. Dans les exemples de fichiers, vous pouvez trouver une description et un exemple d‚Äôimpl√©mentation que vous pouvez utiliser comme point de d√©part pour impl√©menter vos propres hooks. √Ä quoi √ßa sert? Maintenant, regardons quelques exemples sp√©cifiques de ce qui peut √™tre r√©alis√© avec les git hooks. Comme ce ne sont que des scripts, vous pouvez faire √† peu pr√®s n‚Äôimporte quoi. Habituellement, cela signifie effectuer divers contr√¥les de qualit√©. Vous pouvez vous assurer que l‚Äôutilisateur a son nom et son email renseign√©s. Vous pouvez v√©rifier que le message de validation est correctement format√©. Vous pouvez essayer de cr√©er votre application et rejeter le commit si la construction √©choue. Vous pouvez ex√©cuter des tests pour vous assurer qu‚Äôils passent avant le commit. L‚Äôutilisation typique est √©galement l‚Äôanalyse de code statique ou le formatage. Cela signifie qu‚Äôil faut v√©rifier dans votre code les probl√®mes courants, les mauvaises pratiques, les conventions de d√©nomination, etc. Il peut √©galement √™tre utile d‚Äôex√©cuter un outil tel que Prettier pour s‚Äôassurer que le code est bien format√© avant le commit. Cela √©vite de nombreux maux de t√™te lors de la r√©vision du code. Vous pouvez m√™me v√©rifier les failles de s√©curit√© de votre code avec un outil tel que Snyk. Distribution aux membres de l‚Äô√©quipe Avec les hooks c√¥t√© serveur, la distribution est facile. Vous n‚Äôavez g√©n√©ralement qu‚Äôun seul r√©f√©rentiel de serveur principal. Cela signifie que tous les membres de l‚Äô√©quipe mettent g√©n√©ralement leurs modifications au m√™me endroit. Vous y installez vos hooks et vous avez termin√©. Avec les hooks c√¥t√© client, cela devient plus compliqu√©. Lorsque vous clonez un r√©f√©rentiel, les hooks ne sont pas transf√©r√©s au client. Cela signifie qu‚Äôun r√©f√©rentiel fra√Æchement clon√© n‚Äôa aucun hook, peu importe le type de hook que vous avez sur le serveur. Si vous voulez que les membres de votre √©quipe aient un ensemble unifi√© de git hooks, vous devez les distribuer d‚Äôune mani√®re ou d‚Äôune autre et vous assurer qu‚Äôils sont inclus dans leur sous-r√©pertoire git hooks. La solution la plus √©l√©mentaire consiste √† cr√©er un emplacement partag√©, o√π vous stockez vos hooks, puis demandez √† vos d√©veloppeurs de les t√©l√©charger et de les mettre dans leur r√©pertoire de hooks. Bien s√ªr, vous ne pouvez pas √™tre s√ªr qu‚Äôils le feront r√©ellement. Le probl√®me est qu‚Äôils ont besoin de savoir qu‚Äôils devraient le faire et comment. Et m√™me s‚Äôils le font, ils peuvent √™tre paresseux ou simplement ignorer votre politique. Vous pouvez am√©liorer un peu cette solution de base en ayant des hooks dans le r√©f√©rentiel de votre projet et en laissant simplement √† vos d√©veloppeurs ex√©cuter un script personnalis√© comme celui-ci, qui les copie ensuite dans leur r√©pertoire de hooks. Sinon, git propose une option pour changer la destination du r√©pertoire des hooks en un emplacement personnalis√©: Ces solutions facilitent la distribution, mais ne r√©solvent pas les probl√®mes essentiels. Husky Installation Vous pouvez installer Husky simplement en ex√©cutant: Alternative, avec yarn: Ajout de hooks Ajouter des hooks avec Husky est facile. Vous devez juste √©diter votre package.json. Vous d√©finissez quels scripts doivent √™tre ex√©cut√©s sur quel √©v√©nement git. Pour Husky 1.0.0+, utilisez: Si vous utilisez une version de Husky ant√©rieure √† 1.0.0 (disponible dans la version candidate du 06/2018), la syntaxe est l√©g√®rement diff√©rente. Vous ajoutez vos hooks Husky directement dans la section scripts. L‚Äôexemple ci-dessus ex√©cute tous vos tests avant de commiter et avant de pousser et si vos tests √©chouent, l‚Äôaction git n‚Äôest pas ex√©cut√©e. Bien s√ªr, vous pouvez ex√©cuter tout autre script nom plut√¥t que le nom test. Probl√®me de correction automatique avant validation Il est utile de casser le build si quelque chose ne va pas, mais il est encore plus utile de corriger automatiquement les probl√®mes avant de s‚Äôengager. Par exemple, vous pouvez personnaliser votre code en utilisant Prettier avant de faire un commit ou vous pouvez corriger automatiquement les probl√®mes de formatage, qui peuvent √™tre r√©solus automatiquement. C‚Äôest beaucoup plus facile de cette fa√ßon. Heureusement, il existe un outil pour cela. Cela s‚Äôappelle lint-staged. Vous pouvez l‚Äôinstaller par: Maintenant, sur votre action de pre-commit, vous ex√©cutez directement \u001dlint-staged\u001d au lieu de votre linter. Dans lint-staged, vous d√©finissez ce qui doit √™tre ex√©cut√©: Lorsque vous essayez de commiter maintenant, \u001dlint-staged\u001d peut modifier vos fichiers avant l‚Äôex√©cution de la validation. Cependant, ce qui est vraiment bien, c‚Äôest que vous ne filtrez que les fichiers en attente de validation, et non l‚Äôensemble de votre projet. Cela signifie que l‚Äôensemble du processus est beaucoup plus rapide. Bug JetBrains IDE La bonne nouvelle est que les git hooks configur√©s de cette mani√®re sont ex√©cut√©s non seulement lorsque vous utilisez git √† partir de votre terminal, mais √©galement √† partir d‚Äôun IDE. La mauvaise nouvelle est que les IDE JetBrains (IDEA, Webstorm, ‚Ä¶) ont actuellement un m√©chant bogue (voir IDEA-135454) et ne fonctionnent pas bien avec cette configuration. Le probl√®me n‚Äôest pas r√©solu avant plusieurs ann√©es, mais heureusement, il existe une solution de contournement. Vous devez juste ajouter ce hook post-commit: Bien entendu, il ne s‚Äôagit que d‚Äôune solution de contournement jusqu‚Äô√† ce que le probl√®me soit r√©solu. Le suivi des probl√®mes de JetBrains contient une fonctionnalit√© de vote, alors assurez-vous de voter pour que ce probl√®me soit r√©solu s‚Äôil vous pose probl√®me. Int√©gration continue Une chose √† noter est que Husky installe les hooks uniquement lorsqu‚Äôil ne s‚Äôex√©cute pas sur un serveur d‚Äôint√©gration continue. Husky peut d√©tecter qu‚Äôil est en cours d‚Äôex√©cution dans le cadre d‚Äôun travail CI et n‚Äôinstalle aucun hook. En ignorant Les hooks c√¥t√© client peuvent √™tre utiles, mais vous ne pouvez pas trop compter sur eux. Ils ne sont que le premier niveau de d√©fense. Vous ne pouvez pas √™tre s√ªr √† 100% qu‚Äôils soient ex√©cut√©s. Ils peuvent √™tre ignor√©s √† la demande en ajoutant une option de ligne de commande: Pour rendre les choses encore plus faciles, les hooks peuvent √™tre d√©sactiv√©s √† l‚Äôaide de certaines variables environnementales. Pour cette raison, il est toujours utile d‚Äôappliquer la m√™me fonctionnalit√© sur le serveur. Performance Bien que les hooks cot√©s client tels que le pre-commit puissent s‚Äôav√©rer tr√®s utiles, vous devez garder √† l‚Äôesprit qu‚Äôils prennent un certain temps √† s‚Äôex√©cuter. Les commits, qui sont g√©n√©ralement tr√®s rapides, car ils ne se produisent que sur le client, peuvent prendre soudainement tr√®s longtemps. Vous serez peut-√™tre tent√© d‚Äôex√©cuter tous les tests, l‚Äôanalyse de code statique, les v√©rifications pr√©alables, etc., avant chaque validation. Lorsqu‚Äôun commit prend des ann√©es, vos d√©veloppeurs ne seront pas heureux et seront tent√©s d‚Äôignorer les hooks lors de l‚Äôex√©cution de leurs commandes git. Vous devez donc trouver le bon √©quilibre entre ce qui doit √™tre effectu√© sur le client et ce qui peut √™tre un point d‚Äôacc√®s c√¥t√© serveur. Conclusion Husky est un outil utile qui permet de cr√©er et de g√©rer facilement des hooks git sur le client. Vous n‚Äôavez plus besoin de distribuer vos hooks manuellement. Comme pour tout, gardez le nombre de hooks c√¥t√© client avec mod√©ration afin d‚Äô√©viter les temps d‚Äôex√©cution trop longs.","frontmatter":{"title":"Git hooks avec Husky","subtitle":"En termes simples, les git hooks sont des scripts personnalis√©s, qui peuvent √™tre ex√©cut√©s automatiquement lorsque des √©v√©nements sp√©cifiques se produisent."},"fields":{"slug":"/git-husky/"}}},{"node":{"id":"89da3cdd-4f91-58a2-8d1d-480a0cf11697","timeToRead":4,"excerpt":"Que l‚Äôon soit backend, frontend, il y a une chose qui nous rassemble, c‚Äôest notre gestionnaire de source et son utilisation. Dans cet article, je vais vous pr√©senter le conventional-changelog qui vous permettra de produire un historique de super qualit√© üôå! Le probl√®me Combien d‚Äôentre vous sont tomb√©s sur des projets avec un historique qui ressemble √† cela: ü§ï Comment s‚Äôy retrouver? Comment exploiter un historique qui ne vous donne quasiment jamais d‚Äôinformation. La solution, c‚Äôest d‚Äôutiliser le Conventional-Changelog (oui, on dirait une pub de t√©l√©-achat üòù). Qu‚Äôest-ce que c‚Äôest le conventional-changelog? C‚Äôest bien de vous vendre une solution, mais il faudrait peut-√™tre expliquer ce que c‚Äôest‚Ä¶ en vrai. Le Conventional-Changelog est une mani√®re d‚Äô√©crire ses commits dans les projets. Il existe plusieurs ‚Äúflavours‚Äù, je vais vous d√©tailler la version Angular. Le format est le suivant: Si ce format est bien appliqu√©, cela peut donner ce type de texte de commit : C‚Äôest un peu plus agr√©able √† lire non ? Je vais vous d√©crire les diff√©rentes parties de cette convention et comment bien les utiliser. Type Le type permet de repr√©senter de mani√®re succincte le type d‚Äôaction que vous avez fait sur le projet : feat: Ajout d‚Äôune fonctionnalit√© fix: Correction perf: Am√©lioration des performances docs: Ajout de documentation style: Linting du code refactor: Modification du code, mutualisation et autres modifs afin d‚Äôam√©liorer le projet test: Ajout de tests unitaires, int√©gration, end-to-end chore: T√¢che m√©nag√®re, comme mettre √† jour les d√©pendances, reconfigurer la CI‚Ä¶ On ne peut mettre qu‚Äôun seul type par commit, donc finis les commits qui contiennent une feature et un fix en m√™me temps‚Ä¶ Scope Ici, pas de liste impos√©e, juste le titre de l‚Äô√©l√©ment sur lequel une modification a √©t√© faite. Nous avons tendance √† d√©finir clairement les scopes du projet √† l‚Äôavance afin que tout le monde commit avec les m√™mes scopes. Pour exemple, sur une application orient√©e ‚Äúe-commerce‚Äù, on pourrait avoir les scopes suivants : homepage search my-account product-details order admin Parfois, ce scope peut √™tre omis‚Ä¶ car il n‚Äôy en a pas forc√©ment ou vous avez touch√© √† l‚Äôapplication de mani√®re globale. Dans ce cas, laissez vide üòÖ Et par contre, comme pour le type, il ne peut y avoir qu‚Äôun seul scope. Donc si vous pensez avoir deux scopes‚Ä¶ faites deux commit diff√©rents Subject Le sujet doit contenir une description courte du changement effectu√© dans le commit. Quelques conseils pour formater le message : Utiliser l‚Äôimp√©ratif Utiliser le pr√©sent Pas de 1er lettre en majuscule Pas de point . √† la fin du sujet Body Le body est la partie ‚Äúprincipale‚Äù du commit. J‚Äôai tendance √† dire qu‚Äôelle doit contenir le ‚ÄúPourquoi‚Äù du commit. Si vous avez fait une modification structurante ou si la m√©thode d‚Äôimpl√©mentation est particuli√®re, √©crivez-le dans le body ! C‚Äôest un point de vue qui est personnel, mais je pense que le body est le meilleur endroit pour accueillir un commentaire‚Ä¶ car un message de commit ne se d√©synchronise jamais du code. Footer Cette derni√®re partie permet de placer les r√©f√©rences vers toutes les issues, User stories & co. On s‚Äôen sert g√©n√©ralement pour lier (Linked to) ou cl√¥turer (Closes) les issues directement depuis git. Autre √©l√©ment qui peut √™tre ajout√© dans ce footer est la notion de Breaking Change. Il suffit d‚Äôajouter BREAKING CHANGE: suivi du d√©tail de ce fameux breaking change. Je suis oblig√© d‚Äô√©crire tout cela √† chaque fois? Non, rassurez-vous, vous n‚Äô√™tes pas oblig√©‚Ä¶ m√™me s‚Äôil est bien de mettre un max d‚Äôinformation dans le message de commit. La convention veut que seule la 1√®re ligne soit obligatoire. Donc, libre √† vous, de ne pas mettre de body et de footer Conclusion Avec cette convention, vous prendrez plaisir √† fouiller dans l‚Äôhistorique de votre projet, trouver la source d‚Äôune modification et surtout savoir ‚ÄúPourquoi cela a √©t√© fait comme cela !‚Äù Et quand l‚Äôon regarde, la diff√©rence entre l‚Äôancienne version : et la nouvelle (certes, sur des projets diff√©rents): Cela est quand m√™me bien plus clair ! R√©f√©rence Git Commit Message Conventions","frontmatter":{"title":"Bien g√©rer ses textes de commit (partie 1)","subtitle":"Que l‚Äôon soit backend, frontend, il y a une chose qui nous rassemble, c‚Äôest notre gestionnaire de source et son utilisation. Dans cet article, je vais vous pr√©senter le conventional-changelog qui vous permettra de produire un historique de super qualit√© !"},"fields":{"slug":"/git-manage-commit-text-part1/"}}}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/git-manage-commit-text-part1/","prev":{"excerpt":"Une application Node raisonnablement grande aura des centaines de d√©pendances. Les garder tous √† jour est une chose qu‚Äôun d√©veloppeur doit r√©aliser √† un moment ou √† un autre. Soit vous ignorez les mises √† jour des d√©pendances jusqu‚Äô√† ce que vous soyez coinc√© avec un tr√®s ancien ensemble de d√©pendances qui entravent votre progression avec les vuln√©rabilit√©s de s√©curit√© ou vous passez votre pr√©cieux temps de d√©veloppement d‚Äôapplication √† tester manuellement les mises √† jour sur une cadence raisonnable. Voyons comment automatiser ce processus dans un environnement d‚Äôentreprise en supposant que vous ayez un environnement CI/CD et un repo GitHub priv√©. Ingr√©dients Tests unitaires solides pour votre code. Points bonus si vous avez des tests de e2e et des tests snapshot pour les composants de l‚Äôinterface utilisateur. next-update Un paquet npm qui teste si vos d√©pendances peuvent √™tre mises √† jour sans casser les tests. hub CLI Il s‚Äôagit d‚Äôune application en ligne de commande de Git ‚ÄúHub‚Äù qui peut interagir avec votre GitHub repo. hub est exactement similaire √† git CLI et constitue un remplacement imm√©diat, mais dispose des fonctionnalit√©s suppl√©mentaires pour interagir avec GitHub. Pratique pour ouvrir une Pull Request apr√®s l‚Äôop√©ration de mise √† jour. Recette npm install next-update --save-dev\nInstallez next-update en tant que dev-dependency. Configurez un script npm dep:update dans votre section de scripts du fichier package.json npm run dep:update\nEx√©cutez le script. next-update ira de l‚Äôavant et trouvera tous les nouveaux paquets. Les met √† jour en s√©quence et conserve la mise √† jour si vos tests r√©ussissent. T√©l√©chargez et installez le hub cli Configurez hub Demander au bot d‚Äôouvrir une Pull Request Raccordez ce script dans votre environnement CI/CD pour qu‚Äôil s‚Äôex√©cute quotidiennement","timeToRead":2,"frontmatter":{"title":"Automatisez les mises √† jour des d√©pendances","subtitle":"Voyons comment automatiser ce processus dans un environnement d'entreprise en supposant que vous ayez un environnement CI/CD et un repo GitHub priv√©.","tags":["Node.js"],"category":["Node.js"],"date":"2019-08-10T14:00:00.000Z","draft":false,"image":{"childImageSharp":{"fluid":{"aspectRatio":1.5005861664712778,"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAQFA//EABYBAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAABqyn8s1EcD//EABoQAQACAwEAAAAAAAAAAAAAAAEAAgMREiL/2gAIAQEAAQUCt6Lruc6jUTJU7//EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAEDAQE/AYf/xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAgEBPwGn/8QAGhAAAgMBAQAAAAAAAAAAAAAAAAECESFBcf/aAAgBAQAGPwJoblu0cFWEvRn/xAAdEAACAgIDAQAAAAAAAAAAAAAAAREhMWFBUYGR/9oACAEBAAE/Iai1LQ5jEVYJ38MVHkrSkQ8d/aKQoP/aAAwDAQACAAMAAAAQbz//xAAXEQEAAwAAAAAAAAAAAAAAAAAAARFh/9oACAEDAQE/EIKx/8QAFxEBAAMAAAAAAAAAAAAAAAAAAAERYf/aAAgBAgEBPxCS9f/EABwQAQEBAQACAwAAAAAAAAAAAAERIQAxQVFhgf/aAAgBAQABPxAAqoN+Hsvt1wWQJ9POkMmdE3+hB5KT9nMSBAi5GuDMprM3v//Z","sizes":"(max-width: 1280px) 100vw, 1280px","src":"/static/8756b203d47a4deaf400dbe6dbdbc9ba/c108b/board-game-challenge.jpg","srcSet":"/static/8756b203d47a4deaf400dbe6dbdbc9ba/f8f18/board-game-challenge.jpg 930w,\n/static/8756b203d47a4deaf400dbe6dbdbc9ba/c108b/board-game-challenge.jpg 1280w"}}},"author":{"id":"ludo","bio":"D√©veloppeur senior. Fullstack + DevOps","avatar":{"children":[{"fixed":{"src":"/static/5f2c129e42248a92c87b13b4293950cf/4e842/ghost.png"}}]}}},"fields":{"layout":"post","slug":"/node-automate-dependency-updates/"}},"next":{"excerpt":"Nous sommes tous pass√©s par l√†. Qu‚Äôil s‚Äôagisse d‚Äôun calendrier serr√©, de corrections constantes ou simplement de la cr√©ation de messages avec notre propre mod√®le d√©fini; nous avons tous fait de mauvais messages de commit. Heureusement pour nous, la sp√©cification Conventional Commits existe, et avec elle un ensemble d‚Äôoutils puissants pour nous aider. Application d‚Äôune norme Pour faire respecter une norme √† chaque fois que nous nous faisons un commit, nous avons husky et commitling. Husky √©coute les git hooks, et nous l‚Äôutiliserons pour d√©clencher le commitlint lorsque nous tapons un message de commit. Maintenant, installons les paquets : Apr√®s avoir install√© ces paquets, vous devez cr√©er un fichier commitlint.config.js dans le m√™me dossier que votre package.json : Et modifier votre package.json: Tout est pr√™t! Maintenant, vos messages seront linted. Nous les commitons avec commitizen Commitizen est un paquet qui facilite la cr√©ation de messages de commit selon la sp√©cification pr√©c√©dente. Pour ce faire, vous devez l‚Äôinstaller globalement et configurer votre projet. Maintenant, faites un changement, ajoutez-le et lancez git cz. Automatisation Nous avons ajout√© des outils pour assurer et faciliter la validation des messages de commit selon les sp√©cifications conventionnelles de commit. Non seulement nous avons re√ßu des messages standard sur l‚Äôensemble du projet que les humains peuvent lire, mais aussi des machines. Oui, des machines. Le respect de ces normes a permis aux machines de comprendre le motif, et avec cela, de mettre √† jour automatiquement la version de nos paquets et de g√©n√©rer des changelogs. Version bumping et CHANGELOG Pour faire les deux actions, nous n‚Äôavons besoin que d‚Äôun seul paquet, standard-version. Ce paquet le fera: Analyser vos engagements depuis votre derni√®re version (tag) Version bump votre paquet.json G√©n√©rer ou mettre √† jour un fichier CHANGELOG.md G√©n√©rer un message de livraison G√©n√©rer une nouvelle balise Utilisons-la donc : Mettez √† jour votre paquet.json : Et maintenant vous n‚Äôavez plus qu‚Äô√† lancer npm run release. Alternativement, si vous souhaitez simplement g√©n√©rer un fichier changelog, je vous recommande le fichier conventionnel-changelog-cli. Quelle est la prochaine √©tape? Apr√®s avoir gagn√© en lisibilit√© et en automatisation des t√¢ches quotidiennes douloureuses, vous pouvez cr√©er votre propre standard bas√© sur les sp√©cifications conventionnelles de commit. La famille d‚Äôoutils conventionnel-changelog vous permet et vous facilite la cr√©ation de votre propre version si vous le souhaitez. J‚Äôesp√®re que ce message vous a aid√©. S‚Äôil y a quoi que ce soit, partagez de l‚Äôinformation qui pourrait l‚Äôam√©liorer et la rendre meilleure pour les autres!","timeToRead":2,"frontmatter":{"title":"Bien g√©rer ses textes de commit (partie 2)","subtitle":"Mettons en place l'application de la norme \"conventional-changelog\" pour un nouveau projet","tags":["Git","Node.js"],"category":["Git","Node.js"],"date":"2019-08-11T18:00:00.000Z","draft":false,"image":{"childImageSharp":{"fluid":{"aspectRatio":1.5056461731493098,"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBf/EABYBAQEBAAAAAAAAAAAAAAAAAAACA//aAAwDAQACEAMQAAABVLywQM4t/8QAGRABAQEAAwAAAAAAAAAAAAAAAgEAAxIi/9oACAEBAAEFAjYbGa/OO5x2O//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABYRAQEBAAAAAAAAAAAAAAAAAAABEv/aAAgBAgEBPwFiP//EAB0QAAIBBAMAAAAAAAAAAAAAAAABMgIQERIhQVH/2gAIAQEABj8ClwVbPD6JCG/Lf//EABwQAAMAAgMBAAAAAAAAAAAAAAABESExQVGBkf/aAAgBAQABPyGUSNvqLg0lKYL1eiZVcsToWHs//9oADAMBAAIAAwAAABAzL//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAEDAQE/ECf/xAAWEQEBAQAAAAAAAAAAAAAAAAABMRD/2gAIAQIBAT8QFjMP/8QAHBABAAICAwEAAAAAAAAAAAAAAQARIUExUZFh/9oACAEBAAE/EAltBA8O42KxjwXf2Jc+6ZIoPW0uXQptIchpjqk//9k=","sizes":"(max-width: 1200px) 100vw, 1200px","src":"/static/bb024aed8b63b69834a2bfb23baa20cf/81ef8/nature.jpg","srcSet":"/static/bb024aed8b63b69834a2bfb23baa20cf/f8f18/nature.jpg 930w,\n/static/bb024aed8b63b69834a2bfb23baa20cf/81ef8/nature.jpg 1200w"}}},"author":{"id":"ludo","bio":"D√©veloppeur senior. Fullstack + DevOps","avatar":{"children":[{"fixed":{"src":"/static/5f2c129e42248a92c87b13b4293950cf/4e842/ghost.png"}}]}}},"fields":{"layout":"post","slug":"/git-manage-commit-text-part2/"}},"primaryTag":"Git","primaryCategory":"Git"}}}