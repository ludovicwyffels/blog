{"componentChunkName":"component---src-templates-post-tsx","path":"/vim-modelines-vulnerable/","webpackCompilationHash":"28b74a5dec589e4586df","result":{"data":{"logo":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsSAAALEgHS3X78AAABFUlEQVQY023PvUrDUBTA8ZuCtoMoOLQ4dWhN14x2kEKXFkGoohQ/QBexOHRycAidKkgHHRq69APRoTjFJYODIA6+gSBYfYMmfYLE/5VT6NALP845NyeHc9UoCHZRQvonCLKKE4ZhAXYURTsYoE9dIy5iCzfUJnEdV+RF4iu6ikFH2EPxazzOcJmg4Rnn5C8ysIEOHqTe5/sT3qXOwYOtRr5/wLAqzpCTDXu4p2ETtyjgGJ/cX+se8jeU9fa4RBt5vWENpjzdkoGPcGg4RQsbOMEFmnBRRwVDHEK/yFXfvr/CoPjvZLKcdByDyzWGeajigzorGy0oOeRJiUtITe/pX1XzDk3buIMltSFR/zTtic3060X+8z8PsEUt8G3LVQAAAABJRU5ErkJggg==","width":400,"height":128,"src":"/static/2b5eaa0de166a8b5faebad4955c2200c/647de/ghost-logo.png","srcSet":"/static/2b5eaa0de166a8b5faebad4955c2200c/647de/ghost-logo.png 1x"}}},"markdownRemark":{"html":"<p>Si vous travaillez dans le terminal, vous utilisez probablement Vim fréquemment. Beaucoup de gens ont une relation d’amour/haine avec Vim, mais personnellement c’est mon éditeur de ligne de commande préféré, surtout quand je suis sur une machine Linux, et je l’utilise aussi fréquemment sur mon Mac, aussi.</p>\n<p>Récemment, une <a href=\"https://nvd.nist.gov/vuln/detail/CVE-2019-12735\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">vulnérabilité</a> a été <a href=\"https://github.com/numirias/security/blob/master/doc/2019-06-04_ace-vim-neovim.md\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">identifiée</a> à Vim. La vulnérabilité concerne l’utilisation malveillante de la fonction <code>modelines</code> de Vim.</p>\n<p>Cette vulnérabilité affecte toutes les versions de Vim antérieures à la version 8.1.1365, ce qui signifie qu’elle affecte aussi votre Mac, si vous utilisez la version fournie avec macOS 10.14.5, qui est 8.0.1283. Au moment d’écrire ces lignes, la version que nous installons est la 8.1.1573, ce qui permettra de corriger la vulnérabilité.</p>\n<p>Nous allons discuter comment mettre à jour Vim à la dernière version pour éviter ce problème et aussi couvrir brièvement ce que signifie cette vulnérabilité.</p>\n<p>Parlons d’abord des mauvaises choses.</p>\n<h2>Que sont les <em>modelines</em> et pourquoi devrais-je m’en soucier?</h2>\n<p>Sans vous ennuyer avec les détails précis, nous pouvons dire que les <em>modelines</em> sont un moyent de configurer les préréglages dans Vim en ajoutant des commandes en haut des fichier qui définissent ces préréglages lors de l’exécution du fichier.</p>\n<p>Alors qu’est-ce que cela signifie?</p>\n<p>En termes de vulnérabilité, cela signifie que bien que les <em>modelines</em> aient des cas d’utilisation légitimes, si vous avez une version vulnérable de Vim, il est possible d’abuser de cette fonctionnalité et d’échapper à la sandbox d’exécution de Vim, ce qui permet d’exécuter du code arbitraire de manière non sécurisée.</p>\n<h2>Comment fonctionne cette vulnérabilité?</h2>\n<p>Imaginez un scénario dans lequel un acteur malveillant a chargé un script contenant des <em>modelines</em> dans GitHub et a réussi à valider le fichier dans un référentiel que vous utilisez. L’attaquant a ajouté quelques lignes de commandes <em>modeline</em> en haut d’un script censé être un script Bash standard. Vous décidez d’ouvrir le fichier dans Vim pour lire le code avant de l’exécuter (toujours une bonne idée… en général).</p>\n<p>C’est tout ce dont nous avons besoin; le code malveillant s’exécute car tout ce que Vim doit faire est de lire le fichier et les <em>modelines</em> sont exécutées, c’est ainsi que les <em>modelines</em> sont supposées fonctionner. Malheureusement pour vous, votre version de Vim est obsolète et vous avez été infecté car ce code malveillant peut maintenant être exécuté en dehors de Vim.</p>\n<p>Ou peut-être pas, parce que vous avez lu cet article en premier, puis vous avez mis à jour Vim.</p>\n<h2>Liste de pré-installation</h2>\n<p>Il convient de discuter de certaines mises en garde avant de poursuivre. Chaque fois que vous apportez des modifications à macOS en utilisant un terminal, et en particulier en exécutant des commandes utilisant <code>sudo</code>, vous devez faire <strong>attention car il est facile de casser des choses</strong>.</p>\n<p><strong>Premièrement</strong>, nous ne pouvons pas supprimer la version de Vim installée avec macOS. Au lieu de cela, nous allons installer la dernière version et nous assurer que c’est celle utilisée lorsque vous accédez au terminal.</p>\n<p>La raison pour laquelle nous ne pouvons pas supprimer la version de Vim fournie avec macOS est due à la configuration des autorisations dans macOS. Apple a configuré en toute sécurité les autorisations de sorte que l’utilisateur ne puisse plus modifier (ni même casser les composants) du système principal, y compris Vim.</p>\n<p>De plus, nous ne souhaitons pas vraiment supprimer les logiciels de base afin de ne pas causer de conflits. Nous apportons un changement qui peut facilement être annulé si quelque chose se passait mal ou devait être changé à l’avenir.</p>\n<p><strong>Deuxièmement</strong>, nous allons exécuter quelques commandes en utilisant <em>sudo</em>. Cela signifie que vous allez exécuter ces commandes comme si vous étiez l’utilisateur <em>root</em>. Cela pourrait poser problème <em>si vous ne lisez pas et ne suivez pas les instructions à la lettre</em>.</p>\n<p>Cela signifie également que vous devez avoir un accès administrateur dans macOS et que vous devrez fournir votre mot de passe lors de l’exécution de la commande.</p>\n<p>Tu as été prévenu.</p>\n<p>Mais ne vous inquiétez pas, ce que nous faisons est assez simple, et utiliser <code>sudo</code> n’est pas mauvais, c’est juste que vous voulez vous rappeler qu’un grand pouvoir implique de grandes responsabilités, et que <code>sudo</code> a définitivement un grand pouvoir.</p>\n<blockquote>\n<p>Un grand pouvoir implique de grandes responsabilités.</p>\n<ul>\n<li>Oncle Ben</li>\n</ul>\n</blockquote>\n<p>Cela dit, passons à autre chose et commençons à mettre à jour Vim.</p>\n<h2>Compiler Vim sur macOS</h2>\n<p>Pour commencer, ouvrons l’application Terminal. Vous pouvez rechercher cela en utilisant Spotlight (Cmd + Space) ou ouvrir votre dossier Applications, cliquez sur Utilitaires, puis sur Terminal.</p>\n<p>Tout d’abord, nous devons récupérer la dernière version de Vim dans le dépôt officiel GitHub, puis nous allons changer de répertoire dans le répertoire <code>vim</code> qui vient d’être créé.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">git</span> clone https://github.com/vim/vim.git\n<span class=\"token builtin class-name\">cd</span> <span class=\"token function\">vim</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>Nous venons de télécharger le code source de Vim, ce qui signifie que nous devrons le compiler avant de pouvoir l’installer. Pour ce faire, tapez simplement <code>make</code> dans le même répertoire.</p>\n<p>Vous allez voir un mur de texte en cours de création lors de la compilation de l’application. Cela prendra probablement quelques minutes, en fonction de la vitesse de votre Mac. Une fois terminé, vous serez renvoyé à l’invite de commande.</p>\n<h2>Installer le dernier Vim sur macOS</h2>\n<p>Maintenant que nous avons compilé Vim, il est temps de terminer l’installation. Pour exécuter la commande d’installation, vous devrez utiliser <code>sudo</code>. C’est une considération importante car cela signifie que nous installons dans un répertoire système et, comme je l’ai mentionné ci-dessus, nous souhaitons faire attention, veillez à exécuter correctement la commande suivante.</p>\n<p>Exécutez ce qui suit dans le même dossier vim que nous utilisions. Votre mot de passe vous sera demandé, indiquez-le et la commande sera exécutée.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">make</span> <span class=\"token function\">install</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Encore une fois, vous verrez un mur de texte semblable à celui que vous avez vu lors de la compilation de Vim. Une fois ce processus terminé, Vim sera installé et vous reviendrez à l’invite de commande, mais <strong>nous ne l’avons pas encore terminée</strong>.</p>\n<p>Comme je l’ai mentionné plus tôt, nous installons une installation supplémentaire de Vim. Nous voulons être certains que lorsque nous exécutons <code>vim</code> à partir du terminal, nous obtenons vraiment la bonne version.</p>\n<p>Lisez la suite pour voir comment configurer ceci correctement.</p>\n<h2>Configurer le bon Vim</h2>\n<p>Lorsque nous avons installé Vim, l’application binaire exécutable a été placée dans <code>/usr/local/bin/vim</code>. Toutefois, l’installation initiale de MacOS se trouve toujours dans <code>/usr/bin/vim</code>. Cela ne posera aucun problème lorsque nous utiliserons <code>vim</code> depuis le terminal, mais cela posera des problèmes si nous exécutons <code>vi</code>, ce qui est très courant pour les utilisateurs de longue date de Vim, car Vi est l’application sur laquelle Vim est basé.</p>\n<p>Sur macOS, la commande <code>vi</code> est un lien symbolique vers <code>/usr/bin/vim</code> et cela n’a pas changé après notre installation. Vous remarquerez que la version affichée sur l’écran d’accueil de Vim est différente si vous exécutez <code>vim</code> vs. <code>vi</code>.</p>\n<p>Cela pourrait causer des problèmes plus tard. Voyons ce qui se passe.</p>\n<p>Que se passe t-il ici? Le problème est notre <code>PATH</code> - il sait toujours que le lien symbolique vi existe et lit le répertoire <code>/usr/bin</code> lorsque notre profil est chargé. Cependant, par défaut, <code>/usr/local/bin</code> est lu en premier, puis <code>/usr/bin</code>, ce qui signifie que nous devons simplement fournir un lien symbolique vers le chemin de l’application que nous voulons exécuter lorsque nous exécutons <code>vi</code>.</p>\n<p>Faisons-le maintenant. Créez un lien symbolique à l’aide de la commande suivante, puis redémarrez votre terminal.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">ln</span> -s /usr/local/bin/vim /usr/local/bin/vi</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>C’est tout! Une fois que vous aurez redémarré votre terminal, que vous utilisiez Vi ou Vim, vous obtiendrez la même installation mise à jour de Vim.</p>\n<h2>Conclusion</h2>\n<p>J’espère que cela a été une expérience éducative, mais simple, mettant à jour l’éditeur de texte en ligne de commande préféré de tout le monde.</p>\n<p>Merci d’avoir lu!</p>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Si vous travaillez dans le terminal, vous utilisez probablement Vim fréquemment. Beaucoup de gens ont une relation d’amour/haine avec Vim, mais personnellement c’est mon éditeur de ligne de commande préféré, surtout quand je suis sur une machine Linux, et je l’utilise aussi fréquemment sur mon Mac, aussi."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Récemment, une "},{"type":"element","tagName":"a","properties":{"href":"https://nvd.nist.gov/vuln/detail/CVE-2019-12735","target":"_blank","rel":["nofollow","noopener","noreferrer"]},"children":[{"type":"text","value":"vulnérabilité"}]},{"type":"text","value":" a été "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/numirias/security/blob/master/doc/2019-06-04_ace-vim-neovim.md","target":"_blank","rel":["nofollow","noopener","noreferrer"]},"children":[{"type":"text","value":"identifiée"}]},{"type":"text","value":" à Vim. La vulnérabilité concerne l’utilisation malveillante de la fonction "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"modelines"}]},{"type":"text","value":" de Vim."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Cette vulnérabilité affecte toutes les versions de Vim antérieures à la version 8.1.1365, ce qui signifie qu’elle affecte aussi votre Mac, si vous utilisez la version fournie avec macOS 10.14.5, qui est 8.0.1283. Au moment d’écrire ces lignes, la version que nous installons est la 8.1.1573, ce qui permettra de corriger la vulnérabilité."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Nous allons discuter comment mettre à jour Vim à la dernière version pour éviter ce problème et aussi couvrir brièvement ce que signifie cette vulnérabilité."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Parlons d’abord des mauvaises choses."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Que sont les "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"modelines"}]},{"type":"text","value":" et pourquoi devrais-je m’en soucier?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Sans vous ennuyer avec les détails précis, nous pouvons dire que les "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"modelines"}]},{"type":"text","value":" sont un moyent de configurer les préréglages dans Vim en ajoutant des commandes en haut des fichier qui définissent ces préréglages lors de l’exécution du fichier."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Alors qu’est-ce que cela signifie?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"En termes de vulnérabilité, cela signifie que bien que les "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"modelines"}]},{"type":"text","value":" aient des cas d’utilisation légitimes, si vous avez une version vulnérable de Vim, il est possible d’abuser de cette fonctionnalité et d’échapper à la sandbox d’exécution de Vim, ce qui permet d’exécuter du code arbitraire de manière non sécurisée."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Comment fonctionne cette vulnérabilité?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Imaginez un scénario dans lequel un acteur malveillant a chargé un script contenant des "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"modelines"}]},{"type":"text","value":" dans GitHub et a réussi à valider le fichier dans un référentiel que vous utilisez. L’attaquant a ajouté quelques lignes de commandes "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"modeline"}]},{"type":"text","value":" en haut d’un script censé être un script Bash standard. Vous décidez d’ouvrir le fichier dans Vim pour lire le code avant de l’exécuter (toujours une bonne idée… en général)."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"C’est tout ce dont nous avons besoin; le code malveillant s’exécute car tout ce que Vim doit faire est de lire le fichier et les "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"modelines"}]},{"type":"text","value":" sont exécutées, c’est ainsi que les "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"modelines"}]},{"type":"text","value":" sont supposées fonctionner. Malheureusement pour vous, votre version de Vim est obsolète et vous avez été infecté car ce code malveillant peut maintenant être exécuté en dehors de Vim."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Ou peut-être pas, parce que vous avez lu cet article en premier, puis vous avez mis à jour Vim."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Liste de pré-installation"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Il convient de discuter de certaines mises en garde avant de poursuivre. Chaque fois que vous apportez des modifications à macOS en utilisant un terminal, et en particulier en exécutant des commandes utilisant "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"sudo"}]},{"type":"text","value":", vous devez faire "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"attention car il est facile de casser des choses"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Premièrement"}]},{"type":"text","value":", nous ne pouvons pas supprimer la version de Vim installée avec macOS. Au lieu de cela, nous allons installer la dernière version et nous assurer que c’est celle utilisée lorsque vous accédez au terminal."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"La raison pour laquelle nous ne pouvons pas supprimer la version de Vim fournie avec macOS est due à la configuration des autorisations dans macOS. Apple a configuré en toute sécurité les autorisations de sorte que l’utilisateur ne puisse plus modifier (ni même casser les composants) du système principal, y compris Vim."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"De plus, nous ne souhaitons pas vraiment supprimer les logiciels de base afin de ne pas causer de conflits. Nous apportons un changement qui peut facilement être annulé si quelque chose se passait mal ou devait être changé à l’avenir."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Deuxièmement"}]},{"type":"text","value":", nous allons exécuter quelques commandes en utilisant "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"sudo"}]},{"type":"text","value":". Cela signifie que vous allez exécuter ces commandes comme si vous étiez l’utilisateur "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"root"}]},{"type":"text","value":". Cela pourrait poser problème "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"si vous ne lisez pas et ne suivez pas les instructions à la lettre"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Cela signifie également que vous devez avoir un accès administrateur dans macOS et que vous devrez fournir votre mot de passe lors de l’exécution de la commande."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Tu as été prévenu."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Mais ne vous inquiétez pas, ce que nous faisons est assez simple, et utiliser "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"sudo"}]},{"type":"text","value":" n’est pas mauvais, c’est juste que vous voulez vous rappeler qu’un grand pouvoir implique de grandes responsabilités, et que "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"sudo"}]},{"type":"text","value":" a définitivement un grand pouvoir."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Un grand pouvoir implique de grandes responsabilités."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Oncle Ben"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Cela dit, passons à autre chose et commençons à mettre à jour Vim."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Compiler Vim sur macOS"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Pour commencer, ouvrons l’application Terminal. Vous pouvez rechercher cela en utilisant Spotlight (Cmd + Space) ou ouvrir votre dossier Applications, cliquez sur Utilitaires, puis sur Terminal."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Tout d’abord, nous devons récupérer la dernière version de Vim dans le dépôt officiel GitHub, puis nous allons changer de répertoire dans le répertoire "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"vim"}]},{"type":"text","value":" qui vient d’être créé."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"style":"counter-reset: linenumber NaN","className":["language-bash","line-numbers"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"git"}]},{"type":"text","value":" clone https://github.com/vim/vim.git\n"},{"type":"element","tagName":"span","properties":{"className":["token","builtin","class-name"]},"children":[{"type":"text","value":"cd"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"vim"}]}]},{"type":"element","tagName":"span","properties":{"ariaHidden":"true","className":["line-numbers-rows"],"style":"white-space: normal; width: auto; left: 0;"},"children":[{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Nous venons de télécharger le code source de Vim, ce qui signifie que nous devrons le compiler avant de pouvoir l’installer. Pour ce faire, tapez simplement "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"make"}]},{"type":"text","value":" dans le même répertoire."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Vous allez voir un mur de texte en cours de création lors de la compilation de l’application. Cela prendra probablement quelques minutes, en fonction de la vitesse de votre Mac. Une fois terminé, vous serez renvoyé à l’invite de commande."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Installer le dernier Vim sur macOS"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Maintenant que nous avons compilé Vim, il est temps de terminer l’installation. Pour exécuter la commande d’installation, vous devrez utiliser "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"sudo"}]},{"type":"text","value":". C’est une considération importante car cela signifie que nous installons dans un répertoire système et, comme je l’ai mentionné ci-dessus, nous souhaitons faire attention, veillez à exécuter correctement la commande suivante."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Exécutez ce qui suit dans le même dossier vim que nous utilisions. Votre mot de passe vous sera demandé, indiquez-le et la commande sera exécutée."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"style":"counter-reset: linenumber NaN","className":["language-bash","line-numbers"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"sudo"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"make"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"install"}]}]},{"type":"element","tagName":"span","properties":{"ariaHidden":"true","className":["line-numbers-rows"],"style":"white-space: normal; width: auto; left: 0;"},"children":[{"type":"element","tagName":"span","properties":{},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Encore une fois, vous verrez un mur de texte semblable à celui que vous avez vu lors de la compilation de Vim. Une fois ce processus terminé, Vim sera installé et vous reviendrez à l’invite de commande, mais "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"nous ne l’avons pas encore terminée"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Comme je l’ai mentionné plus tôt, nous installons une installation supplémentaire de Vim. Nous voulons être certains que lorsque nous exécutons "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"vim"}]},{"type":"text","value":" à partir du terminal, nous obtenons vraiment la bonne version."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Lisez la suite pour voir comment configurer ceci correctement."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Configurer le bon Vim"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Lorsque nous avons installé Vim, l’application binaire exécutable a été placée dans "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/local/bin/vim"}]},{"type":"text","value":". Toutefois, l’installation initiale de MacOS se trouve toujours dans "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/bin/vim"}]},{"type":"text","value":". Cela ne posera aucun problème lorsque nous utiliserons "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"vim"}]},{"type":"text","value":" depuis le terminal, mais cela posera des problèmes si nous exécutons "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"vi"}]},{"type":"text","value":", ce qui est très courant pour les utilisateurs de longue date de Vim, car Vi est l’application sur laquelle Vim est basé."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Sur macOS, la commande "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"vi"}]},{"type":"text","value":" est un lien symbolique vers "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/bin/vim"}]},{"type":"text","value":" et cela n’a pas changé après notre installation. Vous remarquerez que la version affichée sur l’écran d’accueil de Vim est différente si vous exécutez "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"vim"}]},{"type":"text","value":" vs. "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"vi"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Cela pourrait causer des problèmes plus tard. Voyons ce qui se passe."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Que se passe t-il ici? Le problème est notre "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"PATH"}]},{"type":"text","value":" - il sait toujours que le lien symbolique vi existe et lit le répertoire "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/bin"}]},{"type":"text","value":" lorsque notre profil est chargé. Cependant, par défaut, "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/local/bin"}]},{"type":"text","value":" est lu en premier, puis "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"/usr/bin"}]},{"type":"text","value":", ce qui signifie que nous devons simplement fournir un lien symbolique vers le chemin de l’application que nous voulons exécuter lorsque nous exécutons "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"vi"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Faisons-le maintenant. Créez un lien symbolique à l’aide de la commande suivante, puis redémarrez votre terminal."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"style":"counter-reset: linenumber NaN","className":["language-bash","line-numbers"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"sudo"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"ln"}]},{"type":"text","value":" -s /usr/local/bin/vim /usr/local/bin/vi"}]},{"type":"element","tagName":"span","properties":{"ariaHidden":"true","className":["line-numbers-rows"],"style":"white-space: normal; width: auto; left: 0;"},"children":[{"type":"element","tagName":"span","properties":{},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"C’est tout! Une fois que vous aurez redémarré votre terminal, que vous utilisiez Vi ou Vim, vous obtiendrez la même installation mise à jour de Vim."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Conclusion"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"J’espère que cela a été une expérience éducative, mais simple, mettant à jour l’éditeur de texte en ligne de commande préféré de tout le monde."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Merci d’avoir lu!"}]}],"data":{"quirksMode":false}},"excerpt":"Si vous travaillez dans le terminal, vous utilisez probablement Vim fréquemment. Beaucoup de gens ont une relation d’amour/haine avec Vim, mais personnellement c’est mon éditeur de ligne de commande préféré, surtout quand je suis sur une machine Linux, et je l’utilise aussi fréquemment sur mon Mac, aussi. Récemment, une vulnérabilité a été identifiée à Vim. La vulnérabilité concerne l’utilisation malveillante de la fonction modelines de Vim. Cette vulnérabilité affecte toutes les versions de Vim antérieures à la version 8.1.1365, ce qui signifie qu’elle affecte aussi votre Mac, si vous utilisez la version fournie avec macOS 10.14.5, qui est 8.0.1283. Au moment d’écrire ces lignes, la version que nous installons est la 8.1.1573, ce qui permettra de corriger la vulnérabilité. Nous allons discuter comment mettre à jour Vim à la dernière version pour éviter ce problème et aussi couvrir brièvement ce que signifie cette vulnérabilité. Parlons d’abord des mauvaises choses. Que sont les modelines et pourquoi devrais-je m’en soucier? Sans vous ennuyer avec les détails précis, nous pouvons dire que les modelines sont un moyent de configurer les préréglages dans Vim en ajoutant des commandes en haut des fichier qui définissent ces préréglages lors de l’exécution du fichier. Alors qu’est-ce que cela signifie? En termes de vulnérabilité, cela signifie que bien que les modelines aient des cas d’utilisation légitimes, si vous avez une version vulnérable de Vim, il est possible d’abuser de cette fonctionnalité et d’échapper à la sandbox d’exécution de Vim, ce qui permet d’exécuter du code arbitraire de manière non sécurisée. Comment fonctionne cette vulnérabilité? Imaginez un scénario dans lequel un acteur malveillant a chargé un script contenant des modelines dans GitHub et a réussi à valider le fichier dans un référentiel que vous utilisez. L’attaquant a ajouté quelques lignes de commandes modeline en haut d’un script censé être un script Bash standard. Vous décidez d’ouvrir le fichier dans Vim pour lire le code avant de l’exécuter (toujours une bonne idée… en général). C’est tout ce dont nous avons besoin; le code malveillant s’exécute car tout ce que Vim doit faire est de lire le fichier et les modelines sont exécutées, c’est ainsi que les modelines sont supposées fonctionner. Malheureusement pour vous, votre version de Vim est obsolète et vous avez été infecté car ce code malveillant peut maintenant être exécuté en dehors de Vim. Ou peut-être pas, parce que vous avez lu cet article en premier, puis vous avez mis à jour Vim. Liste de pré-installation Il convient de discuter de certaines mises en garde avant de poursuivre. Chaque fois que vous apportez des modifications à macOS en utilisant un terminal, et en particulier en exécutant des commandes utilisant sudo, vous devez faire attention car il est facile de casser des choses. Premièrement, nous ne pouvons pas supprimer la version de Vim installée avec macOS. Au lieu de cela, nous allons installer la dernière version et nous assurer que c’est celle utilisée lorsque vous accédez au terminal. La raison pour laquelle nous ne pouvons pas supprimer la version de Vim fournie avec macOS est due à la configuration des autorisations dans macOS. Apple a configuré en toute sécurité les autorisations de sorte que l’utilisateur ne puisse plus modifier (ni même casser les composants) du système principal, y compris Vim. De plus, nous ne souhaitons pas vraiment supprimer les logiciels de base afin de ne pas causer de conflits. Nous apportons un changement qui peut facilement être annulé si quelque chose se passait mal ou devait être changé à l’avenir. Deuxièmement, nous allons exécuter quelques commandes en utilisant sudo. Cela signifie que vous allez exécuter ces commandes comme si vous étiez l’utilisateur root. Cela pourrait poser problème si vous ne lisez pas et ne suivez pas les instructions à la lettre. Cela signifie également que vous devez avoir un accès administrateur dans macOS et que vous devrez fournir votre mot de passe lors de l’exécution de la commande. Tu as été prévenu. Mais ne vous inquiétez pas, ce que nous faisons est assez simple, et utiliser sudo n’est pas mauvais, c’est juste que vous voulez vous rappeler qu’un grand pouvoir implique de grandes responsabilités, et que sudo a définitivement un grand pouvoir. Un grand pouvoir implique de grandes responsabilités. Oncle Ben Cela dit, passons à autre chose et commençons à mettre à jour Vim. Compiler Vim sur macOS Pour commencer, ouvrons l’application Terminal. Vous pouvez rechercher cela en utilisant Spotlight (Cmd + Space) ou ouvrir votre dossier Applications, cliquez sur Utilitaires, puis sur Terminal. Tout d’abord, nous devons récupérer la dernière version de Vim dans le dépôt officiel GitHub, puis nous allons changer de répertoire dans le répertoire vim qui vient d’être créé. Nous venons de télécharger le code source de Vim, ce qui signifie que nous devrons le compiler avant de pouvoir l’installer. Pour ce faire, tapez simplement make dans le même répertoire. Vous allez voir un mur de texte en cours de création lors de la compilation de l’application. Cela prendra probablement quelques minutes, en fonction de la vitesse de votre Mac. Une fois terminé, vous serez renvoyé à l’invite de commande. Installer le dernier Vim sur macOS Maintenant que nous avons compilé Vim, il est temps de terminer l’installation. Pour exécuter la commande d’installation, vous devrez utiliser sudo. C’est une considération importante car cela signifie que nous installons dans un répertoire système et, comme je l’ai mentionné ci-dessus, nous souhaitons faire attention, veillez à exécuter correctement la commande suivante. Exécutez ce qui suit dans le même dossier vim que nous utilisions. Votre mot de passe vous sera demandé, indiquez-le et la commande sera exécutée. Encore une fois, vous verrez un mur de texte semblable à celui que vous avez vu lors de la compilation de Vim. Une fois ce processus terminé, Vim sera installé et vous reviendrez à l’invite de commande, mais nous ne l’avons pas encore terminée. Comme je l’ai mentionné plus tôt, nous installons une installation supplémentaire de Vim. Nous voulons être certains que lorsque nous exécutons vim à partir du terminal, nous obtenons vraiment la bonne version. Lisez la suite pour voir comment configurer ceci correctement. Configurer le bon Vim Lorsque nous avons installé Vim, l’application binaire exécutable a été placée dans /usr/local/bin/vim. Toutefois, l’installation initiale de MacOS se trouve toujours dans /usr/bin/vim. Cela ne posera aucun problème lorsque nous utiliserons vim depuis le terminal, mais cela posera des problèmes si nous exécutons vi, ce qui est très courant pour les utilisateurs de longue date de Vim, car Vi est l’application sur laquelle Vim est basé. Sur macOS, la commande vi est un lien symbolique vers /usr/bin/vim et cela n’a pas changé après notre installation. Vous remarquerez que la version affichée sur l’écran d’accueil de Vim est différente si vous exécutez vim vs. vi. Cela pourrait causer des problèmes plus tard. Voyons ce qui se passe. Que se passe t-il ici? Le problème est notre PATH - il sait toujours que le lien symbolique vi existe et lit le répertoire /usr/bin lorsque notre profil est chargé. Cependant, par défaut, /usr/local/bin est lu en premier, puis /usr/bin, ce qui signifie que nous devons simplement fournir un lien symbolique vers le chemin de l’application que nous voulons exécuter lorsque nous exécutons vi. Faisons-le maintenant. Créez un lien symbolique à l’aide de la commande suivante, puis redémarrez votre terminal. C’est tout! Une fois que vous aurez redémarré votre terminal, que vous utilisiez Vi ou Vim, vous obtiendrez la même installation mise à jour de Vim. Conclusion J’espère que cela a été une expérience éducative, mais simple, mettant à jour l’éditeur de texte en ligne de commande préféré de tout le monde. Merci d’avoir lu!","timeToRead":6,"frontmatter":{"title":"Vim est vulnérable - Mise à jour de Vim sur macOS","subtitle":"Mettez à jour Vim avec la dernière version en quelques minutes.","userDate":"23 June 2019","date":"2019-06-23T19:00:00.000Z","tags":["Vim","Mac"],"image":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAMEAQX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABnPJRfYRJ3eAH/8QAHBAAAgICAwAAAAAAAAAAAAAAAQIDEgAEEBMh/9oACAEBAAEFAr+d1Wj3LA4kTSYuqAIoUYcf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAHRAAAgEEAwAAAAAAAAAAAAAAAAEhAhEigRASUf/aAAgBAQAGPwLGndUCqv2a0jKC7Zio9JZdrn//xAAeEAEAAgIBBQAAAAAAAAAAAAABABEhMXEQQWGRof/aAAgBAQABPyHF3pxvUElc2AUQ1SO9Eu7XLPvxqV1b8TNfXZ1Koo6f/9oADAMBAAIAAwAAABCDLzz/xAAWEQEBAQAAAAAAAAAAAAAAAAABESD/2gAIAQMBAT8QVSLj/8QAFxEBAAMAAAAAAAAAAAAAAAAAAREgIf/aAAgBAgEBPxANmn//xAAfEAEBAAIBBAMAAAAAAAAAAAABEQAhMUFRcaEQ4fD/2gAIAQEAAT8QTY2F4eBtwaGwenXlylUwS6h95VQu9P3rN0jXLMAV+uQPeSBaA2V3nVwAAAcAQPj/2Q==","aspectRatio":1,"src":"/static/368261693a41f4548bf3cc82019ebe1a/fb184/vim.jpg","srcSet":"/static/368261693a41f4548bf3cc82019ebe1a/f8f18/vim.jpg 930w,\n/static/368261693a41f4548bf3cc82019ebe1a/fb184/vim.jpg 1800w","sizes":"(max-width: 1800px) 100vw, 1800px"}}},"author":{"id":"ludo","name":"Wyffels Ludovic","bio":"Développeur senior. Fullstack + DevOps","avatar":{"children":[{"__typename":"ImageSharp","fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAABMUlEQVQ4y2MwsXf5T03MMGogGBvbOYNpUwdXOIbJwdgwNQQNhCk0snX6r2thC8Y6QGxg7QCWA/FBcrgMxepCkAZrV6//EYmpYBydkvHfMzjiv5mj2//whJT/Nm7ecEMJGgjykp6V/f+AqLj/O/Ye+L8diA8dO/m/pbv/v72n3/+tu/f9D45N/K9naYcSFESFoRXQlSCX2rh7g/kgr1u5epIWhiAMCi/3wLD/fVNn/u+fNgtMT5g+6//kmXOB/Jn/PYLCwWrINnDijDlAPBvKJ8NAZC+DIgCkGYRBbJAYSV5GjpTte/b/PwiMkLj0nP8xqVn/Dxw9AY6kwOh40iIFlmzCgUkmKjnjvx0wdu08fMFskJi1mxfxyQY9YetAEzJyQic5YaNnPeTgIDnrjZaHJGMACtTMXoVAJ6sAAAAASUVORK5CYII=","width":400,"height":400,"src":"/static/5f2c129e42248a92c87b13b4293950cf/4e842/ghost.png","srcSet":"/static/5f2c129e42248a92c87b13b4293950cf/4e842/ghost.png 1x"}}]}}}},"relatedPosts":{"totalCount":1,"edges":[{"node":{"id":"97d5c26d-39d7-561c-9742-e7facb7ee06b","timeToRead":6,"excerpt":"Si vous travaillez dans le terminal, vous utilisez probablement Vim fréquemment. Beaucoup de gens ont une relation d’amour/haine avec Vim, mais personnellement c’est mon éditeur de ligne de commande préféré, surtout quand je suis sur une machine Linux, et je l’utilise aussi fréquemment sur mon Mac, aussi. Récemment, une vulnérabilité a été identifiée à Vim. La vulnérabilité concerne l’utilisation malveillante de la fonction modelines de Vim. Cette vulnérabilité affecte toutes les versions de Vim antérieures à la version 8.1.1365, ce qui signifie qu’elle affecte aussi votre Mac, si vous utilisez la version fournie avec macOS 10.14.5, qui est 8.0.1283. Au moment d’écrire ces lignes, la version que nous installons est la 8.1.1573, ce qui permettra de corriger la vulnérabilité. Nous allons discuter comment mettre à jour Vim à la dernière version pour éviter ce problème et aussi couvrir brièvement ce que signifie cette vulnérabilité. Parlons d’abord des mauvaises choses. Que sont les modelines et pourquoi devrais-je m’en soucier? Sans vous ennuyer avec les détails précis, nous pouvons dire que les modelines sont un moyent de configurer les préréglages dans Vim en ajoutant des commandes en haut des fichier qui définissent ces préréglages lors de l’exécution du fichier. Alors qu’est-ce que cela signifie? En termes de vulnérabilité, cela signifie que bien que les modelines aient des cas d’utilisation légitimes, si vous avez une version vulnérable de Vim, il est possible d’abuser de cette fonctionnalité et d’échapper à la sandbox d’exécution de Vim, ce qui permet d’exécuter du code arbitraire de manière non sécurisée. Comment fonctionne cette vulnérabilité? Imaginez un scénario dans lequel un acteur malveillant a chargé un script contenant des modelines dans GitHub et a réussi à valider le fichier dans un référentiel que vous utilisez. L’attaquant a ajouté quelques lignes de commandes modeline en haut d’un script censé être un script Bash standard. Vous décidez d’ouvrir le fichier dans Vim pour lire le code avant de l’exécuter (toujours une bonne idée… en général). C’est tout ce dont nous avons besoin; le code malveillant s’exécute car tout ce que Vim doit faire est de lire le fichier et les modelines sont exécutées, c’est ainsi que les modelines sont supposées fonctionner. Malheureusement pour vous, votre version de Vim est obsolète et vous avez été infecté car ce code malveillant peut maintenant être exécuté en dehors de Vim. Ou peut-être pas, parce que vous avez lu cet article en premier, puis vous avez mis à jour Vim. Liste de pré-installation Il convient de discuter de certaines mises en garde avant de poursuivre. Chaque fois que vous apportez des modifications à macOS en utilisant un terminal, et en particulier en exécutant des commandes utilisant sudo, vous devez faire attention car il est facile de casser des choses. Premièrement, nous ne pouvons pas supprimer la version de Vim installée avec macOS. Au lieu de cela, nous allons installer la dernière version et nous assurer que c’est celle utilisée lorsque vous accédez au terminal. La raison pour laquelle nous ne pouvons pas supprimer la version de Vim fournie avec macOS est due à la configuration des autorisations dans macOS. Apple a configuré en toute sécurité les autorisations de sorte que l’utilisateur ne puisse plus modifier (ni même casser les composants) du système principal, y compris Vim. De plus, nous ne souhaitons pas vraiment supprimer les logiciels de base afin de ne pas causer de conflits. Nous apportons un changement qui peut facilement être annulé si quelque chose se passait mal ou devait être changé à l’avenir. Deuxièmement, nous allons exécuter quelques commandes en utilisant sudo. Cela signifie que vous allez exécuter ces commandes comme si vous étiez l’utilisateur root. Cela pourrait poser problème si vous ne lisez pas et ne suivez pas les instructions à la lettre. Cela signifie également que vous devez avoir un accès administrateur dans macOS et que vous devrez fournir votre mot de passe lors de l’exécution de la commande. Tu as été prévenu. Mais ne vous inquiétez pas, ce que nous faisons est assez simple, et utiliser sudo n’est pas mauvais, c’est juste que vous voulez vous rappeler qu’un grand pouvoir implique de grandes responsabilités, et que sudo a définitivement un grand pouvoir. Un grand pouvoir implique de grandes responsabilités. Oncle Ben Cela dit, passons à autre chose et commençons à mettre à jour Vim. Compiler Vim sur macOS Pour commencer, ouvrons l’application Terminal. Vous pouvez rechercher cela en utilisant Spotlight (Cmd + Space) ou ouvrir votre dossier Applications, cliquez sur Utilitaires, puis sur Terminal. Tout d’abord, nous devons récupérer la dernière version de Vim dans le dépôt officiel GitHub, puis nous allons changer de répertoire dans le répertoire vim qui vient d’être créé. Nous venons de télécharger le code source de Vim, ce qui signifie que nous devrons le compiler avant de pouvoir l’installer. Pour ce faire, tapez simplement make dans le même répertoire. Vous allez voir un mur de texte en cours de création lors de la compilation de l’application. Cela prendra probablement quelques minutes, en fonction de la vitesse de votre Mac. Une fois terminé, vous serez renvoyé à l’invite de commande. Installer le dernier Vim sur macOS Maintenant que nous avons compilé Vim, il est temps de terminer l’installation. Pour exécuter la commande d’installation, vous devrez utiliser sudo. C’est une considération importante car cela signifie que nous installons dans un répertoire système et, comme je l’ai mentionné ci-dessus, nous souhaitons faire attention, veillez à exécuter correctement la commande suivante. Exécutez ce qui suit dans le même dossier vim que nous utilisions. Votre mot de passe vous sera demandé, indiquez-le et la commande sera exécutée. Encore une fois, vous verrez un mur de texte semblable à celui que vous avez vu lors de la compilation de Vim. Une fois ce processus terminé, Vim sera installé et vous reviendrez à l’invite de commande, mais nous ne l’avons pas encore terminée. Comme je l’ai mentionné plus tôt, nous installons une installation supplémentaire de Vim. Nous voulons être certains que lorsque nous exécutons vim à partir du terminal, nous obtenons vraiment la bonne version. Lisez la suite pour voir comment configurer ceci correctement. Configurer le bon Vim Lorsque nous avons installé Vim, l’application binaire exécutable a été placée dans /usr/local/bin/vim. Toutefois, l’installation initiale de MacOS se trouve toujours dans /usr/bin/vim. Cela ne posera aucun problème lorsque nous utiliserons vim depuis le terminal, mais cela posera des problèmes si nous exécutons vi, ce qui est très courant pour les utilisateurs de longue date de Vim, car Vi est l’application sur laquelle Vim est basé. Sur macOS, la commande vi est un lien symbolique vers /usr/bin/vim et cela n’a pas changé après notre installation. Vous remarquerez que la version affichée sur l’écran d’accueil de Vim est différente si vous exécutez vim vs. vi. Cela pourrait causer des problèmes plus tard. Voyons ce qui se passe. Que se passe t-il ici? Le problème est notre PATH - il sait toujours que le lien symbolique vi existe et lit le répertoire /usr/bin lorsque notre profil est chargé. Cependant, par défaut, /usr/local/bin est lu en premier, puis /usr/bin, ce qui signifie que nous devons simplement fournir un lien symbolique vers le chemin de l’application que nous voulons exécuter lorsque nous exécutons vi. Faisons-le maintenant. Créez un lien symbolique à l’aide de la commande suivante, puis redémarrez votre terminal. C’est tout! Une fois que vous aurez redémarré votre terminal, que vous utilisiez Vi ou Vim, vous obtiendrez la même installation mise à jour de Vim. Conclusion J’espère que cela a été une expérience éducative, mais simple, mettant à jour l’éditeur de texte en ligne de commande préféré de tout le monde. Merci d’avoir lu!","frontmatter":{"title":"Vim est vulnérable - Mise à jour de Vim sur macOS","subtitle":"Mettez à jour Vim avec la dernière version en quelques minutes."},"fields":{"slug":"/vim-modelines-vulnerable/"}}}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/vim-modelines-vulnerable/","prev":{"excerpt":"Dans Kubernetes, il existe plusieurs façons de publier une application. Il est donc nécessaire de choisir la bonne stratégie pour rendre votre infrastructure fiable lors de la mise à jour d’une application. Le choix de la procédure de déploiement appropriée dépend des besoins. Nous avons énuméré ci-dessous certaines des stratégies possibles à adopter: Recreate RollingUpdate Blue/Green Canary A/B testing Vous pouvez expérimenter chacune de ces stratégies avec Minikube, les manifestes et les étapes à suivre sont expliqués dans ce github Examinons chaque stratégie et voyons quel type d’application vous conviendrez le mieux.  Recreate - idéal pour l’environnement de développement Un déploiement défini avec une stratégie de type recreate mettra fin à toutes les instances en cours d’exécution, puis les recréera avec la version la plus récente.  Vous trouverez un exemple complet et les étapes de déploiement à l’adresse https://github.com/ludovicwyffels/k8s-deployment-demo/tree/master/recreate Avantage État d’application entièrement renouvelé Inconvénients Temps d’arrêt qui dépend à la fois de la durée d’arrêt et du démarrage de l’application  RollingUpdate - déploiement lent Ce déploiement met à jour les pods de façon progressive. Un ReplicaSet secondaire est créé avec la nouvelle version de l’application, puis le nombre de répliques de l’ancienne version est réduit et la nouvelle version est augmentée jusqu’à ce que le nombre correct de répliques soit atteint.  Vous trouverez un exemple complet et les étapes de déploiement à l’adresse https://github.com/ludovicwyffels/k8s-deployment-demo/tree/master/ramped Lors de la configuration avec la mise à l’ échelle automatique du pod horizontal, il peut être pratique d’utiliser une valeur en pourcentage au lieu d’un nombre pour maxSurge et maxUnavailable . maxSurge permet d’indiquez combien de Pod il peut créer en plus du nombre de répliqua actuellement configurer maxUnavailable permet d’indiquer combien de Pod peuvent être “non disponible” pendant la mise à jour, toujours en fonction du nombre de répliqua configuré Si vous déclenchez un déploiement alors qu’un déploiement existant est en cours, le déploiement mettra le déploiement en pause et passera à une nouvelle version en remplaçant le déploiement. Avantages la version est lentement publiée sur toutes les instances pratique pour les applications avec état pouvant gérer le rééquilibrage des données Inconvénients le déploiement/la restauration peut prendre du temps la prise en charge de plusieurs API est difficile aucun contrôle sur le trafic  Blue/Green - mieux éviter les problèmes de versioning de l’API Un déploiement blue/green diffère d’un déploiement parce que la version “green” de l’application est déployée en parallèle de la version “blue”. Après avoir vérifié que la nouvelle version réponde aux exigences, nous mettons à jour l’objet Kubernetes Service qui joue le rôle d’équilibreur de charge pour envoyer du trafic vers la nouvelle version en remplaçant l’étiquette de version dans le champ selector  Vous trouverez un exemple complet et les étapes de déploiement à l’adresse https://github.com/ludovicwyffels/k8s-deployment-demo/tree/master/blue-green Avantages déploiement instantané éviter le problème de versioning, changer l’état du cluster en une fois Inconvénients nécessite le double des ressources le bon test de toute la plate-forme doit être effectué avant la mise en production la gestion des applications avec état peut être difficile  Canary - laissez le consommateur faire le test Le déploiement Canary consiste à router un sous-ensemble d’utilisateurs vers une nouvelle fonctionnalité. Dans Kubernetes, un déploiement canary peut être effectué en utilisant deux déploiements avec des étiquettes de pods communes. Une réplique de la nouvelle version est publiée à côté de l’ancienne version. Ensuite, après un certain temps et si aucune erreur n’est détectée, augmentez le nombre de répliques de la nouvelle version et supprimez l’ancien déploiement. L’utilisation de cette technique ReplicaSet nécessite de faire tourner autant de pod que nécessaire pour obtenir le bon pourcentage de trafic. Cela dit, si vous voulez envoyer 1% du trafic vers la version B, vous devez avoir un pod fonctionnant avec la version B et 99 pods fonctionnant avec la version A. Cela peut être assez peu pratique à gérer donc si vous recherchez une meilleure répartition du trafic, regarder les équilibreurs de charge tels que HAProxy ou les mailles de service comme Linkerd, qui offrent un meilleur contrôle du trafic.  Dans l’exemple suivant, nous utilisons deux ReplicaSets côte à côte, la version A avec trois répliques (75% du trafic), la version B avec un répliqua (25% du trafic). Manifeste de déploiement tronqué version A: Manifeste de déploiement tronqué version B, notez que ous ne démarrons qu’un seul répliqua de l’application: Vous trouverez un exemple complet et les étapes de déploiement à l’adresse https://github.com/ludovicwyffels/k8s-deployment-demo/tree/master/canary Avantages version publiée pour un sous-ensemble d’utilisateurs pratique pour la surveillance du taux d’erreur et des performances rollback rapide Inconvénients déploiement lent la répartition du trafic ajustée peut être coûteuse (99% A / 1% B = 99 pod A, 1 pod B) La procédure utilisée ci-dessus est native de Kubernetes, nous ajustons le nombre de répliques gérées par un ReplicaSet pour distribuer le trafic entre les versions. Si vous n’êtes pas sûr de l’impact que la sortie d’une nouvelle fonctionnalité pourrait avoir sur la stabilité de la plate-forme, une stratégie de sortie canari est suggérée.  A/B testing - idéal pour testes les fonctionnalités sur un sous-ensemble d’utilisateurs Le test A/B est en fait une technique permettant de prendre des décisions d’affaires basées sur des statistiques, plutôt qu’une stratégie de déploiement. Cependant, il est apparenté et peut être mis en oeuvre à l’aide d’un déploiement canari, c’est pourquoi nous en parlerons brièvement ici. En plus de répartir le trafic entre les versions en fonction du poids, vous pouvez cibler précisément un groupe donné d’utilisateurs en fonction de quelques paramètres (cookie, user agent, etc.). Cette technique est largement utilisée pour tester la conversion d’une fonctionnalité donnée et ne déployer que la version qui convient le plus. Istio, comme les autres maillages de service, fournis un moyen plus fin de subdiviser les instances de service avec un routage dynamique des requêtes basé sur des poids et/ou des en-têtes HTTP.  Vous trouverez ci-dessous un exemple d’installation de règles à l’aide d’Istio. Vous trouverez un exemple complet et les étapes de déploiement à l’adresse https://github.com/ludovicwyffels/k8s-deployment-demo/tree/master/ab-testing D’autres outils comme Linkerd, Traefik, NGINX, HAProxy, vous permettent également de le faire. Avantages nécessite un équilibreur de charge intelligent plusieurs versions en parallèle un contrôle total sur la répartition du trafic Inconvénients les erreurs difficiles à dépanner pour une session donnée, le traçage distribué deviennent obligatoires pas simple, vous devez configurer des outils supplémentaires  En résumé Il y a différentes façons de déployer une application, lors de la mise en production dans un environnement de développement/staging, un déploiement big bang ou progressif est généralement un bon choix. Lorsqu’il s’agit de production, un déploiement progressif ou en blue/green est généralement un bon choix, mais un test approprié de la nouvelle plate-forme est nécessaire. Si vous n’êtes pas sûr de la stabilité de la plate-forme et de l’impact que pourrait avoir la sortie d’une nouvelle version de logiciel, alors une version canari devrait être la bonne solution. Ce faisant, vous laissez le consommateur tester l’application et son intégration à la plate-forme. Enfin, si votre entreprise a besoin de tester une nouvelle fonctionnalité parmi un groupe spécifique d’utilisateurs, par exemple, tous les utilisateurs accédant à l’application à l’aide d’un téléphone mobile sont envoyés à la version A, tous les utilisateurs accédant via un ordinateur passent à la version B. Vous pouvez alors utiliser la technique de test A/B qui en utilisant un réseau de services Kubernetes ou une configuration serveur personnalisée vous permet de déterminer où un utilisateur doit être dirigé en fonction de certains paramètres.","timeToRead":8,"frontmatter":{"title":"Stratégie de déploiement de Kubernetes","subtitle":"Dans Kubernetes, il y a plusieurs façons de publier une application, il est nécessaire de choisir la bonne stratégie pour rendre votre infrastructure fiable pendant la mise à jour d'une application.","tags":["Kubernetes","DevOps"],"category":["DevOps"],"date":"2019-05-25T08:00:00.000Z","draft":false,"image":{"childImageSharp":{"fluid":{"aspectRatio":1.33422281521014,"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMBAgT/xAAVAQEBAAAAAAAAAAAAAAAAAAABAP/aAAwDAQACEAMQAAABzC2jBYj/xAAaEAACAgMAAAAAAAAAAAAAAAABAgARITFC/9oACAEBAAEFAu8hQtzZANss/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQIBAT8BR//EABkQAAMAAwAAAAAAAAAAAAAAAAABERAxQf/aAAgBAQAGPwJXREcEs//EABgQAQEBAQEAAAAAAAAAAAAAAAERADFh/9oACAEBAAE/IRsrGWEVe4jVD66plnHI7Z2ZqM6Xf//aAAwDAQACAAMAAAAQwP8A/8QAFxEBAAMAAAAAAAAAAAAAAAAAAAERMf/aAAgBAwEBPxDZU//EABcRAAMBAAAAAAAAAAAAAAAAAAABESH/2gAIAQIBAT8QxIg//8QAHhABAAICAgMBAAAAAAAAAAAAAQAhEUExYXGBkaH/2gAIAQEAAT8QZGFr56O45sQgzWiXtrCEP6wYQCWcsZ1Hgda+xT8AxY17n//Z","sizes":"(max-width: 2000px) 100vw, 2000px","src":"/static/cc32bd959fba19866af4a1302ca23593/883ab/interchange.jpg","srcSet":"/static/cc32bd959fba19866af4a1302ca23593/f8f18/interchange.jpg 930w,\n/static/cc32bd959fba19866af4a1302ca23593/0e6ff/interchange.jpg 1860w,\n/static/cc32bd959fba19866af4a1302ca23593/883ab/interchange.jpg 2000w"}}},"author":{"id":"ludo","bio":"Développeur senior. Fullstack + DevOps","avatar":{"children":[{"fixed":{"src":"/static/5f2c129e42248a92c87b13b4293950cf/4e842/ghost.png"}}]}}},"fields":{"layout":"post","slug":"/k8s-deployement-strategies/"}},"next":{"excerpt":"LoopBack 4 est un framework d’API open-source pour Node.js. La dernière version a adopté les dernières fonctionnalités de ES2016/2017/2018, supporte TypeScript et intègre de nouveaux standards tels que OpenAPI Spec et GraphQL, parmi d’autres. Cet article a pour but de guider les débutants à travers la documentation et d’expliquer les points cruciaux nécessaires pour commencer à construire un projet d’API LoopBack 4 maintenable. Installation Assurez-vous d’avoir Node.js version 8+ installé sur votre machine. Le monorepo LoopBack inclut un package CLI, qui nous aidera dans l’échafaudage de notre application LoopBack 4. Pour l’installer, exécutez la commande suivante sur votre terminal : Créer un nouveau projet Une fois que l’outil LoopBack 4 CLI a été installé en global sur notre machine locale, nous pouvons échafauder notre application en utilisant la commande suivante : Le terminal présentera les demandes d’entrée suivantes, que j’ai remplies ci-dessous et qui formeront la base de notre exemple d’API pour l’avenir. Après avoir parcouru l’assistant CLI ci-dessus, il créera un tas de répertoires et de fichiers boilerplate ainsi que lancera npm install à notre place. Nous pouvons alors naviguer dans notre répertoire nouvellement créé et démarrer l’application. Si tout s’est bien déroulé, vous devriez voir le résultat suivant : Le projet expose un simple endpoint GET /ping. Ce qui n’est pas clair dans la sortie du terminal, ou dans la documentation de démarrage, c’est que l’application LoopBack 4 expose également un endpoint qui rendra la documentation OpenAPI Spec. Pour y accéder, il vous suffit d’ouvrir votre navigateur et d’aller à l’url suivante : http://localhost:3000/swagger-ui. LoopBack 4 OpenAPI Cette fonctionnalité permet aux développeurs d’API de documenter facilement leurs services Web au fur et à mesure que le code est écrit et de tester les endpoints d’une manière conviviale. Exploration de l’expression standard Le LoopBack CLI crée beaucoup de fichiers et de dossiers pour nous. Réduisons le bruit et concentrons-nous sur les éléments dont nous avons besoin pour mettre en place et faire fonctionner un nouveau endpoint. LoopBack 4 Structure du projet Un fichier ping.controller.ts initial est créé pour nous. C’est la convention de nommage par défaut que l’application LoopBack applique par configuration, qui peut être modifiée dans le fichier application.ts et qui sera explorée dans de futurs articles. Après avoir ouvert le fichier ping.controller.ts, nous pouvons voir que le code utilise des décorateurs TypeScript pour fournir des métadonnées HTTP à la fonction ping() TypeScript dans la classe PingController. Ce décorateur permet à l’application LoopBack de savoir que toute requête HTTP GET doit invoquer la fonction ping(). La fonction ping() renvoie un objet JSON simple. L’application LoopBack s’occupe de la sérialisation automatique des données de réponse, qui est dans ce cas JSON. Création d’un nouveau Endpoint\nUn nouveau point final peut être créé en écrivant une nouvelle fonction décorée sur le PingController dans le fichier ping.controller.ts en se référant à la fonction ping() existante. LoopBack nous permet également de créer facilement de nouveaux contrôleurs en utilisant le CLI : Afin d’utiliser le contrôleur REST avec l’option de fonctions CRUD, nous devons d’abord avoir un référentiel que nous examinerons dans les prochains articles. Si nous exécutons notre serveur avec npm, démarrez et rafraîchissez notre navigateur OpenAPI, remarquez qu’il n’y a pas encore de mention d’un PaymentController. C’est parce que nous n’avons pas encore mappé de fonctions aux chemins HTTP pour l’application LoopBack à documenter en utilisant les spécifications OpenAPI. Une fonction appelée paye accepte un seul paramètre paiement de type any et retourne un Object. Nous utilisons deux décorateurs : Ce qui dit à LoopBack de mapper la fonction pay() à une méthode HTTP POST sur les requêtes entrantes /payments et qui indique à LoopBack de mapper le corps de requête HTTP POST au paramètre de paiement de la fonction pay(). LoopBack analysera automatiquement le corps de requête HTTP JSON en fonction du type requis, ce qui est le cas dans ce cas. En réexécutant le serveur (npm start) et en rafraîchissant le navigateur OpenAPI Spec, le PaymentController sera présent avec un endpoint POST /payments. PaymentController - POST /payments Le navigateur OpenAPI Spec affiche les paramètres disponibles que nous pouvons utiliser pour interagir avec l’API, qui est juste un corps de requête HTTP pour le moment. Nous pouvons tester ce endpoint en appuyant sur le bouton “Try it out” en haut à droite. Test POST /payments La valeur d’exemple a été initialisée avec un objet JSON vide. Ce n’est pas très utile, car cela ne communique pas les valeurs attendues par le endpoint. Grâce à des normes REST simples, nous pouvons établir que nous pouvons probablement utiliser ce endpoint pour effectuer un paiement, mais quelles sont les propriétés exactes que nous pouvons transmettre ici? Valeur? Devise? Montant? Paramètres du document à l’aide des définitions de modèle Dans LoopBack 3.x, tout était piloté par un modèle, qui était un simple fichier de configuration JSON décrivant les propriétés du modèle et leurs types. Les fichiers de définition de modèle permettaient également aux développeurs de spécifier si le modèle était persistant ou non et de mapper les propriétés JSON sur des colonnes spécifiques aux bases de données (si nécessaire). Le fichier permettait également de configurer des validations, des relations, des acls (Access Control Lists) et des méthodes à distance. LoopBack 4 a pour but de découpler beaucoup de ces éléments afin de permettre une plus grande flexibilité. Nous pouvons toutefois réutiliser une grande partie de la structure syntaxique des métadonnées dans LoopBack 4, en conséquence. Nous utilisons la classe Model ci-dessus pour déclarer que la classe PaymentRequest n’est pas persistante, car elle n’est pas conforme à l’interface Persistable (qui se trouve dans le paquet LoopBack Repository). La classe Entity, utilisée dans les articles ultérieurs, implémente l’interface Persistable et inclut une fonction qui est utilisée pour définir quelle propriété détermine son caractère unique, c’est-à-dire qu’elle a un identifiant unique et peut être stockée/persistée dans une source de données (Data Source). La classe PaymentRequest est utilisée pour modéliser les données de notre module POST /payments HTTP Request. Le décorateur @model() peut être utilisé pour inclure des métadonnées supplémentaires pour le modèle. Dans ce cas, il est juste utilisé pour faire savoir à LoopBack qu’il s’agit d’un modèle et qu’il doit être utilisé pour rendre la documentation dans la spécification OpenAPI. Le décorateur @property est utilisé pour fournir des métadonnées supplémentaires aux propriétés individuelles de notre modèle. Ces métadonnées permettent d’afficher les propriétés dans les fichiers de définition de modèle LoopBack 3 et leur but principal est de permettre aux spécifications OpenAPI de documenter facilement les propriétés ainsi que les propriétés de mapper aux noms de colonnes spécifiques à la base de données. Nous pouvons utiliser cette classe de modèle comme type de paramètre dans la fonction PaymentController#pay : Avec une classe TypeScript spécifique utilisée comme type de paramètre, LoopBack peut maintenant fournir des détails supplémentaires à la spécification OpenAPI et notre navigateur rend maintenant ce qui suit (après avoir redémarré le serveur et actualisé la page): POST /payments Documentation Request Body Nos développeurs frontaux peuvent maintenant facilement lire la documentation interactive et commencer à intégrer leurs applications avec un minimum d’effort. L’exécution de cette opération après avoir appuyé sur le bouton “Try it out” et modifié certains des paramètres permet d’obtenir un code de réponse HTTP 200 avec le corps de réponse JSON suivant: 200 Success Nous avons changé la propriété de statut à “succès” dans la fonction pay() plus tôt, ce qui est vu dans la sortie JSON ci-dessus. Conclusion Cet article a introduit LoopBack 4 en échafaudant une API de paiement simple par l’intermédiaire du CLI. Nous avons examiné à quel point il est facile de documenter et de tester les endpoints de l’API à l’aide des spécifications OpenAPI intégrées en utilisant les contrôleurs LoopBack 4 et les fonctions TypeScript décorées. Enfin, nous avons exploré l’évolution des fichiers de définition de modèle LoopBack 2/3 en détail. LoopBack 4 est toujours en cours de développement, avec de nombreuses nouvelles fonctionnalités construites par l’impressionnante communauté open-source. Dans les articles suivants, nous les explorerons tous plus en détail au fur et à mesure que nous construirons notre API de paiement simple.","timeToRead":7,"frontmatter":{"title":"Premiers pas avec LoopBack 4","subtitle":"LoopBack 4 est un framework d'API open-source. La dernière version a adopté les dernières fonctionnalités de ES2016/2017/2018, supporte TypeScript et intègre de nouveaux standards tels que OpenAPI Spec et GraphQL, parmi d'autres.","tags":["LoopBack","Node.js"],"category":["Node.js"],"date":"2019-06-29T08:00:00.000Z","draft":false,"image":{"childImageSharp":{"fluid":{"aspectRatio":1,"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAIDBQH/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAgP/2gAMAwEAAhADEAAAAd2qFGs6KLKpA6D/xAAaEAACAwEBAAAAAAAAAAAAAAABAgADERAS/9oACAEBAAEFAmYKBaNltZY+S8UYvf/EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABcRAQADAAAAAAAAAAAAAAAAAAIBESD/2gAIAQIBAT8Bgmsf/8QAIBAAAgEBCQAAAAAAAAAAAAAAAREAAhASICExQVFhcf/aAAgBAQAGPwJmIg0+2MLTeZPu8IBxg//EABsQAAICAwEAAAAAAAAAAAAAAAERACEQIDGx/9oACAEBAAE/IWZQhjIPFTxZdwoB1CpF5SyGi0//2gAMAwEAAgADAAAAEGfvAP/EABYRAQEBAAAAAAAAAAAAAAAAAAERIP/aAAgBAwEBPxBW4//EABgRAQADAQAAAAAAAAAAAAAAAAEAEBHh/9oACAECAQE/EGaXkb//xAAeEAEBAAEEAwEAAAAAAAAAAAABESEAMUFhECBxwf/aAAgBAQABPxBSMi50HycxA+/j4mbfQaZtJz1qYZEiAUiAeB2k71ltDTzCen//2Q==","sizes":"(max-width: 2000px) 100vw, 2000px","src":"/static/9611cacec962506545385f22b26d913d/883ab/loopback.jpg","srcSet":"/static/9611cacec962506545385f22b26d913d/f8f18/loopback.jpg 930w,\n/static/9611cacec962506545385f22b26d913d/0e6ff/loopback.jpg 1860w,\n/static/9611cacec962506545385f22b26d913d/883ab/loopback.jpg 2000w"}}},"author":{"id":"ludo","bio":"Développeur senior. Fullstack + DevOps","avatar":{"children":[{"fixed":{"src":"/static/5f2c129e42248a92c87b13b4293950cf/4e842/ghost.png"}}]}}},"fields":{"layout":"post","slug":"/node-loopback/"}},"primaryTag":"Vim","primaryCategory":"Vim"}}}