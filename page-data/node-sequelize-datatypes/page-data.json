{"componentChunkName":"component---src-templates-post-tsx","path":"/node-sequelize-datatypes/","webpackCompilationHash":"28b74a5dec589e4586df","result":{"data":{"logo":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsSAAALEgHS3X78AAABFUlEQVQY023PvUrDUBTA8ZuCtoMoOLQ4dWhN14x2kEKXFkGoohQ/QBexOHRycAidKkgHHRq69APRoTjFJYODIA6+gSBYfYMmfYLE/5VT6NALP845NyeHc9UoCHZRQvonCLKKE4ZhAXYURTsYoE9dIy5iCzfUJnEdV+RF4iu6ikFH2EPxazzOcJmg4Rnn5C8ysIEOHqTe5/sT3qXOwYOtRr5/wLAqzpCTDXu4p2ETtyjgGJ/cX+se8jeU9fa4RBt5vWENpjzdkoGPcGg4RQsbOMEFmnBRRwVDHEK/yFXfvr/CoPjvZLKcdByDyzWGeajigzorGy0oOeRJiUtITe/pX1XzDk3buIMltSFR/zTtic3060X+8z8PsEUt8G3LVQAAAABJRU5ErkJggg==","width":400,"height":128,"src":"/static/2b5eaa0de166a8b5faebad4955c2200c/647de/ghost-logo.png","srcSet":"/static/2b5eaa0de166a8b5faebad4955c2200c/647de/ghost-logo.png 1x"}}},"markdownRemark":{"html":"<p>Les DataTypes sont au coeur de la bibliothèque Sequelize. Ceci est un guide pratique et complet pour compenser la documentation officielle clairsemée de Sequelize sur le sujet.</p>\n<p>Tout d’abord, DataTypes contient à la fois les types et les générateurs pour les valeurs par défaut: <code>NOW</code> , <code>\u001dUUIDV1</code> et <code>UUIDV4</code> sont des valeurs par défaut spéciales.</p>\n<p>Les endroits où vous êtes susceptible de rencontrer des DataTypes se trouvent dans la définition du champ de modèle et dans les définitions de migration. Notez que pour un modèle et un champ donnés, le type de données doit être identique dans le modèle et dans la migration.</p>\n<p>Table des matières:</p>\n<ul>\n<li><a href=\"#text-types\">Types de texte</a></li>\n<li><a href=\"#default-values\">Les valeurs par défaut</a></li>\n<li><a href=\"#number\">Nombre</a></li>\n<li><a href=\"#fancy-primitive-types\">Types primitifs fantaisie</a></li>\n<li><a href=\"#date-time\">Date/heure</a></li>\n<li><a href=\"#fancy-types\">Types de fantaisie</a></li>\n<li><a href=\"#postgres-fancy-types\">Types fantaisie Postgres</a></li>\n</ul>\n<hr>\n<p><a name=\"text-types\"></a></p>\n<h2>Types de texte</h2>\n<ul>\n<li>\n<p><code>STRING</code></p>\n<ul>\n<li>Une chaîne de longueur variable.</li>\n<li>Longueur par défaut 255.</li>\n<li>Prend en charge <code>BINARY</code></li>\n<li>Utilisation: une chaîne binaire de 100 longueurs <code>DataTypes.STRING(100).BINARY</code></li>\n</ul>\n</li>\n<li>\n<p><code>CHAR</code></p>\n<ul>\n<li>Une chaîne de longueur fixe.</li>\n<li>Longueur par défaut 255.</li>\n<li>Prend en charge <code>BINARY</code></li>\n<li>Utilisation: un caractère binaire de 100 longueurs <code>DataTypes.CHAR(100).BINARY</code></li>\n</ul>\n</li>\n<li><code>TEXT</code> : une colonne de texte de longueur illimitée</li>\n</ul>\n<p><a name=\"default-values\"></a></p>\n<h2>Les valeurs par défaut</h2>\n<ul>\n<li><code>NOW</code> : une valeur par défaut de l’horodatage actuel</li>\n<li><code>UUIDV1</code> : Un identifiant universel unique par défaut généré conformément à la norme UUID v1</li>\n<li><code>UUIDV4</code> : Un identifiant universel unique par défaut généré conformément à la norme UUID v2</li>\n</ul>\n<p><a name=\"number\"></a></p>\n<h2>Nombre</h2>\n<p>Tous les éléments suivants prennent en charge ces propriétés: <code>UNSIGNED</code>, <code>ZEROFILL</code>.</p>\n<p>Par exemple:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">DataTypes<span class=\"token punctuation\">.</span><span class=\"token constant\">INTEGER</span><span class=\"token punctuation\">.</span><span class=\"token constant\">UNSIGNED</span><span class=\"token punctuation\">.</span><span class=\"token constant\">ZEROFILL</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// or</span>\nDataTypes<span class=\"token punctuation\">.</span><span class=\"token constant\">INTEGER</span><span class=\"token punctuation\">.</span><span class=\"token constant\">ZEROFILL</span><span class=\"token punctuation\">.</span><span class=\"token constant\">UNSIGNED</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>La même chose peut être faite en utilisant <code>BIGINT.UNSIGNED</code>, <code>FLOAT.UNSIGNED</code>,…</p>\n<ul>\n<li><code>INTEGER</code>: Un entier de 32 bits.</li>\n<li><code>BIGINT</code>: Un entier de 64 bits.</li>\n<li><code>FLOAT</code>: nombre à virgule flottante (précision sur 4 octets). Accepte un ou deux arguments de précision</li>\n<li><code>REAL</code>: nombre à virgule flottante (précision sur 4 octets). Accepte un ou deux arguments de précision</li>\n<li><code>DOUBLE</code>: nombre à virgule flottante (précision sur 8 octets). Accepte un ou deux arguments de précision</li>\n<li><code>DECIMAL</code>: nombre décimal. Accepte un ou deux arguments de précision</li>\n</ul>\n<p><a name=\"fancy-primitive-types\"></a></p>\n<h2>Types primitifs fantaisie</h2>\n<ul>\n<li><code>BOOLEAN</code>: colonne booléenne / tinyint qui est forcée de devenir un booléen JavaScript.</li>\n<li><code>UUID</code>: Une colonne contenant un identifiant universel unique, la forme est validée, à utiliser avec les valeurs par défaut <code>UUIDV1</code> ou <code>UUIDV4</code></li>\n</ul>\n<p><a name=\"date-time\"></a></p>\n<h2>Date/heure</h2>\n<ul>\n<li><code>TIME</code>: une colonne de temps</li>\n<li><code>DATE</code>: une colonne datetime</li>\n<li><code>DATEONLY</code>: Une colonne de date seulement</li>\n</ul>\n<p><a name=\"fancy-types\"></a></p>\n<h2>Types fantaisie</h2>\n<ul>\n<li><code>BLOB</code>: Stockage binaire. Longueurs disponibles: <code>tiny</code>, <code>medium</code>, <code>long</code>. Par exemple: <code>DataTypes.BLOG('tiny')</code></li>\n<li>\n<p><code>VIRTUAL</code></p>\n<ul>\n<li>Une valeur virtuelle qui n’est pas stockée dans la base de données. Cela peut par exemple être utile si vous souhaitez fournir une valeur par défaut dans votre modèle, qui est renvoyée à l’utilisateur mais non stockée dans la base de données.</li>\n<li><a href=\"https://sequelize.readthedocs.io/en/2.0/api/datatypes/#virtual\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Voir les docs</a></li>\n</ul>\n</li>\n<li>\n<p><code>ENUM</code></p>\n<ul>\n<li>Une énumération.</li>\n<li><code>DataTypes.ENUM('value', 'another value')</code></li>\n<li>Idéalement, devrait être utilisé avec les chaînes stockées dans les constantes</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token constant\">FIRST_ENUM_VALUE</span> <span class=\"token operator\">=</span> <span class=\"token string\">'FIRST_ENUM_VALUE'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">OTHER_ENUM_VALUE</span> <span class=\"token operator\">=</span> <span class=\"token string\">'OTHER_ENUM_VALUE'</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// In migration or model definition</span>\nDataTypes<span class=\"token punctuation\">.</span><span class=\"token constant\">ENUM</span><span class=\"token punctuation\">(</span><span class=\"token constant\">FIRST_ENUM_VALUE</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">OTHER_ENUM_VALUE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n</li>\n</ul>\n<p><a name=\"postgres-fancy-types\"></a></p>\n<h2>Types fantaisie Postgres</h2>\n<ul>\n<li><code>HSTORE</code>: une colonne clé/valeur</li>\n<li><code>JSON</code>: une colonne de chaîne JSON.</li>\n<li><code>JSONB</code>: une colonne de données JSON pré-traitée.</li>\n<li><code>RANGE</code>: Pour Postgres 9.4+, les types de plage sont des types de données représentant une plage de valeurs d’un type d’élément (appelé sous-type de plage).</li>\n<li>\n<p><code>ARRAY</code></p>\n<ul>\n<li>Un tableau de <code>type</code>, par exemple <code>DataTypes.ARRAY(DataTypes.DECIMAL)</code></li>\n</ul>\n</li>\n</ul>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Les DataTypes sont au coeur de la bibliothèque Sequelize. Ceci est un guide pratique et complet pour compenser la documentation officielle clairsemée de Sequelize sur le sujet."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Tout d’abord, DataTypes contient à la fois les types et les générateurs pour les valeurs par défaut: "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"NOW"}]},{"type":"text","value":" , "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"\u001dUUIDV1"}]},{"type":"text","value":" et "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"UUIDV4"}]},{"type":"text","value":" sont des valeurs par défaut spéciales."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Les endroits où vous êtes susceptible de rencontrer des DataTypes se trouvent dans la définition du champ de modèle et dans les définitions de migration. Notez que pour un modèle et un champ donnés, le type de données doit être identique dans le modèle et dans la migration."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Table des matières:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"#text-types"},"children":[{"type":"text","value":"Types de texte"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"#default-values"},"children":[{"type":"text","value":"Les valeurs par défaut"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"#number"},"children":[{"type":"text","value":"Nombre"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"#fancy-primitive-types"},"children":[{"type":"text","value":"Types primitifs fantaisie"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"#date-time"},"children":[{"type":"text","value":"Date/heure"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"#fancy-types"},"children":[{"type":"text","value":"Types de fantaisie"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"#postgres-fancy-types"},"children":[{"type":"text","value":"Types fantaisie Postgres"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"name":"text-types"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Types de texte"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"STRING"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Une chaîne de longueur variable."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Longueur par défaut 255."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Prend en charge "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"BINARY"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Utilisation: une chaîne binaire de 100 longueurs "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"DataTypes.STRING(100).BINARY"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"CHAR"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Une chaîne de longueur fixe."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Longueur par défaut 255."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Prend en charge "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"BINARY"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Utilisation: un caractère binaire de 100 longueurs "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"DataTypes.CHAR(100).BINARY"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"TEXT"}]},{"type":"text","value":" : une colonne de texte de longueur illimitée"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"name":"default-values"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Les valeurs par défaut"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"NOW"}]},{"type":"text","value":" : une valeur par défaut de l’horodatage actuel"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"UUIDV1"}]},{"type":"text","value":" : Un identifiant universel unique par défaut généré conformément à la norme UUID v1"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"UUIDV4"}]},{"type":"text","value":" : Un identifiant universel unique par défaut généré conformément à la norme UUID v2"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"name":"number"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Nombre"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Tous les éléments suivants prennent en charge ces propriétés: "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"UNSIGNED"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ZEROFILL"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Par exemple:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"js"},"children":[{"type":"element","tagName":"pre","properties":{"style":"counter-reset: linenumber NaN","className":["language-js","line-numbers"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"DataTypes"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","constant"]},"children":[{"type":"text","value":"INTEGER"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","constant"]},"children":[{"type":"text","value":"UNSIGNED"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","constant"]},"children":[{"type":"text","value":"ZEROFILL"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// or"}]},{"type":"text","value":"\nDataTypes"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","constant"]},"children":[{"type":"text","value":"INTEGER"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","constant"]},"children":[{"type":"text","value":"ZEROFILL"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","constant"]},"children":[{"type":"text","value":"UNSIGNED"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]}]},{"type":"element","tagName":"span","properties":{"ariaHidden":"true","className":["line-numbers-rows"],"style":"white-space: normal; width: auto; left: 0;"},"children":[{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"La même chose peut être faite en utilisant "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"BIGINT.UNSIGNED"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"FLOAT.UNSIGNED"}]},{"type":"text","value":",…"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"INTEGER"}]},{"type":"text","value":": Un entier de 32 bits."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"BIGINT"}]},{"type":"text","value":": Un entier de 64 bits."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"FLOAT"}]},{"type":"text","value":": nombre à virgule flottante (précision sur 4 octets). Accepte un ou deux arguments de précision"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"REAL"}]},{"type":"text","value":": nombre à virgule flottante (précision sur 4 octets). Accepte un ou deux arguments de précision"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"DOUBLE"}]},{"type":"text","value":": nombre à virgule flottante (précision sur 8 octets). Accepte un ou deux arguments de précision"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"DECIMAL"}]},{"type":"text","value":": nombre décimal. Accepte un ou deux arguments de précision"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"name":"fancy-primitive-types"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Types primitifs fantaisie"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"BOOLEAN"}]},{"type":"text","value":": colonne booléenne / tinyint qui est forcée de devenir un booléen JavaScript."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"UUID"}]},{"type":"text","value":": Une colonne contenant un identifiant universel unique, la forme est validée, à utiliser avec les valeurs par défaut "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"UUIDV1"}]},{"type":"text","value":" ou "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"UUIDV4"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"name":"date-time"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Date/heure"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"TIME"}]},{"type":"text","value":": une colonne de temps"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"DATE"}]},{"type":"text","value":": une colonne datetime"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"DATEONLY"}]},{"type":"text","value":": Une colonne de date seulement"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"name":"fancy-types"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Types fantaisie"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"BLOB"}]},{"type":"text","value":": Stockage binaire. Longueurs disponibles: "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"tiny"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"medium"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"long"}]},{"type":"text","value":". Par exemple: "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"DataTypes.BLOG('tiny')"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"VIRTUAL"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Une valeur virtuelle qui n’est pas stockée dans la base de données. Cela peut par exemple être utile si vous souhaitez fournir une valeur par défaut dans votre modèle, qui est renvoyée à l’utilisateur mais non stockée dans la base de données."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://sequelize.readthedocs.io/en/2.0/api/datatypes/#virtual","target":"_blank","rel":["nofollow","noopener","noreferrer"]},"children":[{"type":"text","value":"Voir les docs"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ENUM"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Une énumération."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"DataTypes.ENUM('value', 'another value')"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Idéalement, devrait être utilisé avec les chaînes stockées dans les constantes"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"js"},"children":[{"type":"element","tagName":"pre","properties":{"style":"counter-reset: linenumber NaN","className":["language-js","line-numbers"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","constant"]},"children":[{"type":"text","value":"FIRST_ENUM_VALUE"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'FIRST_ENUM_VALUE'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","constant"]},"children":[{"type":"text","value":"OTHER_ENUM_VALUE"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'OTHER_ENUM_VALUE'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// In migration or model definition"}]},{"type":"text","value":"\nDataTypes"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","constant"]},"children":[{"type":"text","value":"ENUM"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","constant"]},"children":[{"type":"text","value":"FIRST_ENUM_VALUE"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","constant"]},"children":[{"type":"text","value":"OTHER_ENUM_VALUE"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]}]},{"type":"element","tagName":"span","properties":{"ariaHidden":"true","className":["line-numbers-rows"],"style":"white-space: normal; width: auto; left: 0;"},"children":[{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]}]}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"name":"postgres-fancy-types"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Types fantaisie Postgres"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"HSTORE"}]},{"type":"text","value":": une colonne clé/valeur"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"JSON"}]},{"type":"text","value":": une colonne de chaîne JSON."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"JSONB"}]},{"type":"text","value":": une colonne de données JSON pré-traitée."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"RANGE"}]},{"type":"text","value":": Pour Postgres 9.4+, les types de plage sont des types de données représentant une plage de valeurs d’un type d’élément (appelé sous-type de plage)."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ARRAY"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Un tableau de "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"type"}]},{"type":"text","value":", par exemple "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"DataTypes.ARRAY(DataTypes.DECIMAL)"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}},"excerpt":"Les DataTypes sont au coeur de la bibliothèque Sequelize. Ceci est un guide pratique et complet pour compenser la documentation officielle clairsemée de Sequelize sur le sujet. Tout d’abord, DataTypes contient à la fois les types et les générateurs pour les valeurs par défaut: NOW , \u001dUUIDV1 et UUIDV4 sont des valeurs par défaut spéciales. Les endroits où vous êtes susceptible de rencontrer des DataTypes se trouvent dans la définition du champ de modèle et dans les définitions de migration. Notez que pour un modèle et un champ donnés, le type de données doit être identique dans le modèle et dans la migration. Table des matières: Types de texte Les valeurs par défaut Nombre Types primitifs fantaisie Date/heure Types de fantaisie Types fantaisie Postgres  Types de texte STRING Une chaîne de longueur variable. Longueur par défaut 255. Prend en charge BINARY Utilisation: une chaîne binaire de 100 longueurs DataTypes.STRING(100).BINARY CHAR Une chaîne de longueur fixe. Longueur par défaut 255. Prend en charge BINARY Utilisation: un caractère binaire de 100 longueurs DataTypes.CHAR(100).BINARY TEXT : une colonne de texte de longueur illimitée  Les valeurs par défaut NOW : une valeur par défaut de l’horodatage actuel UUIDV1 : Un identifiant universel unique par défaut généré conformément à la norme UUID v1 UUIDV4 : Un identifiant universel unique par défaut généré conformément à la norme UUID v2  Nombre Tous les éléments suivants prennent en charge ces propriétés: UNSIGNED, ZEROFILL. Par exemple: La même chose peut être faite en utilisant BIGINT.UNSIGNED, FLOAT.UNSIGNED,… INTEGER: Un entier de 32 bits. BIGINT: Un entier de 64 bits. FLOAT: nombre à virgule flottante (précision sur 4 octets). Accepte un ou deux arguments de précision REAL: nombre à virgule flottante (précision sur 4 octets). Accepte un ou deux arguments de précision DOUBLE: nombre à virgule flottante (précision sur 8 octets). Accepte un ou deux arguments de précision DECIMAL: nombre décimal. Accepte un ou deux arguments de précision  Types primitifs fantaisie BOOLEAN: colonne booléenne / tinyint qui est forcée de devenir un booléen JavaScript. UUID: Une colonne contenant un identifiant universel unique, la forme est validée, à utiliser avec les valeurs par défaut UUIDV1 ou UUIDV4  Date/heure TIME: une colonne de temps DATE: une colonne datetime DATEONLY: Une colonne de date seulement  Types fantaisie BLOB: Stockage binaire. Longueurs disponibles: tiny, medium, long. Par exemple: DataTypes.BLOG('tiny') VIRTUAL Une valeur virtuelle qui n’est pas stockée dans la base de données. Cela peut par exemple être utile si vous souhaitez fournir une valeur par défaut dans votre modèle, qui est renvoyée à l’utilisateur mais non stockée dans la base de données. Voir les docs ENUM Une énumération. DataTypes.ENUM('value', 'another value') Idéalement, devrait être utilisé avec les chaînes stockées dans les constantes  Types fantaisie Postgres HSTORE: une colonne clé/valeur JSON: une colonne de chaîne JSON. JSONB: une colonne de données JSON pré-traitée. RANGE: Pour Postgres 9.4+, les types de plage sont des types de données représentant une plage de valeurs d’un type d’élément (appelé sous-type de plage). ARRAY Un tableau de type, par exemple DataTypes.ARRAY(DataTypes.DECIMAL)","timeToRead":3,"frontmatter":{"title":"Sequelize DataTypes: guide pratique","subtitle":"Les DataTypes sont au coeur de la bibliothèque Sequelize. Ceci est un guide pratique et complet pour compenser la documentation officielle clairsemée de Sequelize sur le sujet.","userDate":"10 May 2019","date":"2019-05-10T18:00:00.000Z","tags":["Sequelize","Node.js","Javascript"],"image":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAgADBP/EABYBAQEBAAAAAAAAAAAAAAAAAAEAAv/aAAwDAQACEAMQAAAB4EVlxhR//8QAFhABAQEAAAAAAAAAAAAAAAAAAAER/9oACAEBAAEFApGKitf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAVEAEBAAAAAAAAAAAAAAAAAAAQAf/aAAgBAQAGPwJr/8QAGxAAAgIDAQAAAAAAAAAAAAAAAAERIUFRYYH/2gAIAQEAAT8hS42SnnRbwW9FZjQ2P//aAAwDAQACAAMAAAAQqP8A/8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQMBAT8Qp//EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAECAQE/EIf/xAAdEAEAAwACAwEAAAAAAAAAAAABABEhMYFRYXHR/9oACAEBAAE/EANWvcVFIIaBtTy+hHS24OpjsUuH5+sY8z//2Q==","aspectRatio":1.7777777777777777,"src":"/static/09af639daa5f4b188077c5051da031c3/883ab/metal-typesetting.jpg","srcSet":"/static/09af639daa5f4b188077c5051da031c3/f8f18/metal-typesetting.jpg 930w,\n/static/09af639daa5f4b188077c5051da031c3/0e6ff/metal-typesetting.jpg 1860w,\n/static/09af639daa5f4b188077c5051da031c3/883ab/metal-typesetting.jpg 2000w","sizes":"(max-width: 2000px) 100vw, 2000px"}}},"author":{"id":"ludo","name":"Wyffels Ludovic","bio":"Développeur senior. Fullstack + DevOps","avatar":{"children":[{"__typename":"ImageSharp","fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAABMUlEQVQ4y2MwsXf5T03MMGogGBvbOYNpUwdXOIbJwdgwNQQNhCk0snX6r2thC8Y6QGxg7QCWA/FBcrgMxepCkAZrV6//EYmpYBydkvHfMzjiv5mj2//whJT/Nm7ecEMJGgjykp6V/f+AqLj/O/Ye+L8diA8dO/m/pbv/v72n3/+tu/f9D45N/K9naYcSFESFoRXQlSCX2rh7g/kgr1u5epIWhiAMCi/3wLD/fVNn/u+fNgtMT5g+6//kmXOB/Jn/PYLCwWrINnDijDlAPBvKJ8NAZC+DIgCkGYRBbJAYSV5GjpTte/b/PwiMkLj0nP8xqVn/Dxw9AY6kwOh40iIFlmzCgUkmKjnjvx0wdu08fMFskJi1mxfxyQY9YetAEzJyQic5YaNnPeTgIDnrjZaHJGMACtTMXoVAJ6sAAAAASUVORK5CYII=","width":400,"height":400,"src":"/static/5f2c129e42248a92c87b13b4293950cf/4e842/ghost.png","srcSet":"/static/5f2c129e42248a92c87b13b4293950cf/4e842/ghost.png 1x"}}]}}}},"relatedPosts":{"totalCount":5,"edges":[{"node":{"id":"fd0129ff-6bcb-5c81-a195-706bf1378cb8","timeToRead":4,"excerpt":"La spécification ES2015 ou ES6 a introduit la class en JavaScript. Des bibliothèques telles que React sont passées de React.createClass à la class MyComponent extends React.Component, c’est-à-dire qu’ils sont passés de l’utilisation de leur propre constructeur à l’utilisation d’un langage intégré pour transmettre l’intention du programmeur. Pour la couche de persistance d’une application Web Node.js, quelques bases de données me viennent à l’esprit, comme MongoDB (éventuellement associé à mongoose), ou une association de clés-valeurs comme Redis. Pour exécuter une base de données relationnelle avec une application Node, Sequelize , “Un ORM de dialecte multi-SQL facile à utiliser pour Node.js” est une bonne option. Il permet à l’application de fonctionner avec une instance MySQL ou PostgreSQL et offre un moyen simple de mapper la représentation des entités dans la base de données vers JavaScript et inversement. Les API v4 et inférieure de Sequelize pour les définitions de modèle se présentent comme suit: Pour ajouter des méthodes de classes et d’instance, vous devez écrire ce qui suit: Cela est nécessaire avant l’ES6 car il n’existait pas de notion d’héritage classique. Maintenant, nous avons les classes, pourquoi ne pas les exploiter? Pour les développeurs habitués à avoir des classes, les éléments suivants vous sembleront probablement familiers: Sequelize supporte réellement cela, mais la documentation manque un peu. L’un des seuls endroits où trouver une référence à la procédure à suivre est dans un numéro de GitHub: https://github.com/sequelize/sequelize/issues/6524. Voici un aide-mémoire sur ce que vous souhaitez faire et comment le réaliser à l’aide de la classe ES6 + héritage de Sequelize.Model:  Initialiser le modèle avec le ou les champs saisis Associez votre modèle à d’autres modèles Définition d’un nom de table personnalisé pour votre modèle Définition d’un nom de modèle personnalisé pour votre modèle (pour Sequelize) Les requêtes Méthodes d’instance Initialisez tous vos modèles  Initialiser le modèle avec le ou les champs saisis  Associez votre modèle à d’autres modèles  Définition d’un nom de table personnalisé pour votre modèle  Définition d’un nom de modèle personnalisé pour votre modèle (pour Sequelize)  Les requêtes  Méthodes d’instance  Initialisez tous vos modèles require() suivi de model.init() est une alternative à sequelize.import(path), il est un peu plus clair ce qui est importé et non importé et sous quel nom.","frontmatter":{"title":"Utilisation des classes ES6 pour les modèles Sequelize 4 ou 5","subtitle":"Sequelize supporte les classe ES6, mais la documentation manque un peu."},"fields":{"slug":"/node-sequelize-classes/"}}},{"node":{"id":"5e988c68-722d-551c-a1e7-bd423ed18bbd","timeToRead":3,"excerpt":"Les DataTypes sont au coeur de la bibliothèque Sequelize. Ceci est un guide pratique et complet pour compenser la documentation officielle clairsemée de Sequelize sur le sujet. Tout d’abord, DataTypes contient à la fois les types et les générateurs pour les valeurs par défaut: NOW , \u001dUUIDV1 et UUIDV4 sont des valeurs par défaut spéciales. Les endroits où vous êtes susceptible de rencontrer des DataTypes se trouvent dans la définition du champ de modèle et dans les définitions de migration. Notez que pour un modèle et un champ donnés, le type de données doit être identique dans le modèle et dans la migration. Table des matières: Types de texte Les valeurs par défaut Nombre Types primitifs fantaisie Date/heure Types de fantaisie Types fantaisie Postgres  Types de texte STRING Une chaîne de longueur variable. Longueur par défaut 255. Prend en charge BINARY Utilisation: une chaîne binaire de 100 longueurs DataTypes.STRING(100).BINARY CHAR Une chaîne de longueur fixe. Longueur par défaut 255. Prend en charge BINARY Utilisation: un caractère binaire de 100 longueurs DataTypes.CHAR(100).BINARY TEXT : une colonne de texte de longueur illimitée  Les valeurs par défaut NOW : une valeur par défaut de l’horodatage actuel UUIDV1 : Un identifiant universel unique par défaut généré conformément à la norme UUID v1 UUIDV4 : Un identifiant universel unique par défaut généré conformément à la norme UUID v2  Nombre Tous les éléments suivants prennent en charge ces propriétés: UNSIGNED, ZEROFILL. Par exemple: La même chose peut être faite en utilisant BIGINT.UNSIGNED, FLOAT.UNSIGNED,… INTEGER: Un entier de 32 bits. BIGINT: Un entier de 64 bits. FLOAT: nombre à virgule flottante (précision sur 4 octets). Accepte un ou deux arguments de précision REAL: nombre à virgule flottante (précision sur 4 octets). Accepte un ou deux arguments de précision DOUBLE: nombre à virgule flottante (précision sur 8 octets). Accepte un ou deux arguments de précision DECIMAL: nombre décimal. Accepte un ou deux arguments de précision  Types primitifs fantaisie BOOLEAN: colonne booléenne / tinyint qui est forcée de devenir un booléen JavaScript. UUID: Une colonne contenant un identifiant universel unique, la forme est validée, à utiliser avec les valeurs par défaut UUIDV1 ou UUIDV4  Date/heure TIME: une colonne de temps DATE: une colonne datetime DATEONLY: Une colonne de date seulement  Types fantaisie BLOB: Stockage binaire. Longueurs disponibles: tiny, medium, long. Par exemple: DataTypes.BLOG('tiny') VIRTUAL Une valeur virtuelle qui n’est pas stockée dans la base de données. Cela peut par exemple être utile si vous souhaitez fournir une valeur par défaut dans votre modèle, qui est renvoyée à l’utilisateur mais non stockée dans la base de données. Voir les docs ENUM Une énumération. DataTypes.ENUM('value', 'another value') Idéalement, devrait être utilisé avec les chaînes stockées dans les constantes  Types fantaisie Postgres HSTORE: une colonne clé/valeur JSON: une colonne de chaîne JSON. JSONB: une colonne de données JSON pré-traitée. RANGE: Pour Postgres 9.4+, les types de plage sont des types de données représentant une plage de valeurs d’un type d’élément (appelé sous-type de plage). ARRAY Un tableau de type, par exemple DataTypes.ARRAY(DataTypes.DECIMAL)","frontmatter":{"title":"Sequelize DataTypes: guide pratique","subtitle":"Les DataTypes sont au coeur de la bibliothèque Sequelize. Ceci est un guide pratique et complet pour compenser la documentation officielle clairsemée de Sequelize sur le sujet."},"fields":{"slug":"/node-sequelize-datatypes/"}}},{"node":{"id":"b731f027-ed03-5594-935a-73542795e5cd","timeToRead":1,"excerpt":"Introduction à l’ORM ORM ou Object Relation Mapping est un processus de mappage entre des objets et des systèmes de base de données relationnels. Un ORM agit comme une interface entre deux systèmes. Les ORM offrent aux développeurs des avantages de base, tels que la réduction du temps et des efforts et la concentration sur la logique métier. Le code est robuste au lieu de redondant. ORM aide à gérer les requêtes sur plusieurs tables de manière efficace. Enfin, un ORM (comme sequelize) est capable de se connecter à différentes bases de données (ce qui est pratique lors du passage d’une base de données à une autre). Démarrer avec Sequelize Débuter avec Sequelize Sequelize est un ORM basé sur des promesses pour Node.js. Sequelize est facile à apprendre et possède des dizaines de fonctionnalités intéressantes comme la synchronisation, l’association, la validation, etc. Il prend également en charge PostgreSQL, MySQL, MariaDB, SQLite et MSSQL. J’utilise actuellement PostgreSQL. Installation Sequelize est disponible via npm. Établissement d’une connexion Sequelize établit une connexion entre l’API / application restante et votre base de données SQL. Pour configurer la connexion de base entre les deux:","frontmatter":{"title":"Démarrer avec Sequelize","subtitle":"Les ORM offrent aux développeurs des avantages de base, tels que la réduction du temps et des efforts et la concentration sur la logique métier."},"fields":{"slug":"/node-sequelize-intro/"}}}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/node-sequelize-datatypes/","prev":{"excerpt":"La spécification ES2015 ou ES6 a introduit la class en JavaScript. Des bibliothèques telles que React sont passées de React.createClass à la class MyComponent extends React.Component, c’est-à-dire qu’ils sont passés de l’utilisation de leur propre constructeur à l’utilisation d’un langage intégré pour transmettre l’intention du programmeur. Pour la couche de persistance d’une application Web Node.js, quelques bases de données me viennent à l’esprit, comme MongoDB (éventuellement associé à mongoose), ou une association de clés-valeurs comme Redis. Pour exécuter une base de données relationnelle avec une application Node, Sequelize , “Un ORM de dialecte multi-SQL facile à utiliser pour Node.js” est une bonne option. Il permet à l’application de fonctionner avec une instance MySQL ou PostgreSQL et offre un moyen simple de mapper la représentation des entités dans la base de données vers JavaScript et inversement. Les API v4 et inférieure de Sequelize pour les définitions de modèle se présentent comme suit: Pour ajouter des méthodes de classes et d’instance, vous devez écrire ce qui suit: Cela est nécessaire avant l’ES6 car il n’existait pas de notion d’héritage classique. Maintenant, nous avons les classes, pourquoi ne pas les exploiter? Pour les développeurs habitués à avoir des classes, les éléments suivants vous sembleront probablement familiers: Sequelize supporte réellement cela, mais la documentation manque un peu. L’un des seuls endroits où trouver une référence à la procédure à suivre est dans un numéro de GitHub: https://github.com/sequelize/sequelize/issues/6524. Voici un aide-mémoire sur ce que vous souhaitez faire et comment le réaliser à l’aide de la classe ES6 + héritage de Sequelize.Model:  Initialiser le modèle avec le ou les champs saisis Associez votre modèle à d’autres modèles Définition d’un nom de table personnalisé pour votre modèle Définition d’un nom de modèle personnalisé pour votre modèle (pour Sequelize) Les requêtes Méthodes d’instance Initialisez tous vos modèles  Initialiser le modèle avec le ou les champs saisis  Associez votre modèle à d’autres modèles  Définition d’un nom de table personnalisé pour votre modèle  Définition d’un nom de modèle personnalisé pour votre modèle (pour Sequelize)  Les requêtes  Méthodes d’instance  Initialisez tous vos modèles require() suivi de model.init() est une alternative à sequelize.import(path), il est un peu plus clair ce qui est importé et non importé et sous quel nom.","timeToRead":4,"frontmatter":{"title":"Utilisation des classes ES6 pour les modèles Sequelize 4 ou 5","subtitle":"Sequelize supporte les classe ES6, mais la documentation manque un peu.","tags":["Sequelize","Node.js","Javascript"],"category":["Node.js"],"date":"2019-05-10T18:00:00.000Z","draft":false,"image":{"childImageSharp":{"fluid":{"aspectRatio":1.440922190201729,"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAwAE/8QAFQEBAQAAAAAAAAAAAAAAAAAAAQP/2gAMAwEAAhADEAAAAczZEjZ4If/EABcQAAMBAAAAAAAAAAAAAAAAAAABESD/2gAIAQEAAQUCRc//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAbEAACAgMBAAAAAAAAAAAAAAAAASExEWGRgf/aAAgBAQABPyFlvghOxC9szFvp/9oADAMBAAIAAwAAABD3P//EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAEDAQE/EKf/xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPxCI/8QAHhABAAICAQUAAAAAAAAAAAAAAQARMUEhgZGxwdH/2gAIAQEAAT8QM6NHdF0LzWJa5roJYEtwbZlS0dFPcHTyPs//2Q==","sizes":"(max-width: 2000px) 100vw, 2000px","src":"/static/4bd4c364aa3d236b8cdbcdcd88b5bbff/883ab/drawer.jpg","srcSet":"/static/4bd4c364aa3d236b8cdbcdcd88b5bbff/f8f18/drawer.jpg 930w,\n/static/4bd4c364aa3d236b8cdbcdcd88b5bbff/0e6ff/drawer.jpg 1860w,\n/static/4bd4c364aa3d236b8cdbcdcd88b5bbff/883ab/drawer.jpg 2000w"}}},"author":{"id":"ludo","bio":"Développeur senior. Fullstack + DevOps","avatar":{"children":[{"fixed":{"src":"/static/5f2c129e42248a92c87b13b4293950cf/4e842/ghost.png"}}]}}},"fields":{"layout":"post","slug":"/node-sequelize-classes/"}},"next":{"excerpt":"Cet article passe en revue certains modèles pouvant être utilisés pour tester les classes ES6. Les exemples utiliseront l’auto-mocking du module Jest mais devraient être portables à d’autres bibliothèques de mocking de module (par exemple Proxyquire) avec quelques modifications. Dans cet article, nous avons exploré comment définir des modèles Sequelize en utilisant des classes ES6. Un des avantages d’une telle approche est qu’elle permet des tests unitaires faciles, elle permet d’instancier le modèle sans le bagage de toute Sequelize (et/ou une base de données). Alternative avec Object.assign Nous allons tester le modèle suivant (qui est une classe ES6): Au niveau des modules, nous le voulons: mock/stub Sequelize (et la classe de base Model) importer le modèle Dans le test: Instantaner le modèle que nous avons défini (sans crash) Définissez quelques propriétés sur cette instance Exécuter certaines méthodes Affirmer sur le rendement  Alternative avec Object.assign Si nous définissons plus d’une propriété d’instance unique, l’utilisation de Object.assign peut être plus simple à gérer:","timeToRead":2,"frontmatter":{"title":"Mocking des classes ES6 dans les tests unitaires","subtitle":"Cet article passe en revue certains modèles pouvant être utilisés pour tester les classes ES6.","tags":["Sequelize","Node.js","Javascript"],"category":["Node.js"],"date":"2019-05-11T09:00:00.000Z","draft":false,"image":{"childImageSharp":{"fluid":{"aspectRatio":1.5037593984962405,"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAED/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAZUjJmr/xAAaEAACAgMAAAAAAAAAAAAAAAAAAQIQESFB/9oACAEBAAEFAsROMjsbr//EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAEDAQE/AYf/xAAWEQADAAAAAAAAAAAAAAAAAAABEBH/2gAIAQIBAT8BoX//xAAWEAADAAAAAAAAAAAAAAAAAAACIDL/2gAIAQEABj8CkW//xAAaEAACAwEBAAAAAAAAAAAAAAAAAREhMVGh/9oACAEBAAE/IVpgJCrobEekUovp/9oADAMBAAIAAwAAABDIH//EABURAQEAAAAAAAAAAAAAAAAAABAh/9oACAEDAQE/EIP/xAAWEQADAAAAAAAAAAAAAAAAAAAQETH/2gAIAQIBAT8QZB//xAAZEAEAAwEBAAAAAAAAAAAAAAABABEhoTH/2gAIAQEAAT8QpiZGNGdgQmmlT3Om9j1wyKmP/9k=","sizes":"(max-width: 2000px) 100vw, 2000px","src":"/static/4facbfac04767ff55d17ee1932aa8b00/883ab/books.jpg","srcSet":"/static/4facbfac04767ff55d17ee1932aa8b00/f8f18/books.jpg 930w,\n/static/4facbfac04767ff55d17ee1932aa8b00/0e6ff/books.jpg 1860w,\n/static/4facbfac04767ff55d17ee1932aa8b00/883ab/books.jpg 2000w"}}},"author":{"id":"ludo","bio":"Développeur senior. Fullstack + DevOps","avatar":{"children":[{"fixed":{"src":"/static/5f2c129e42248a92c87b13b4293950cf/4e842/ghost.png"}}]}}},"fields":{"layout":"post","slug":"/node-sequelize-mocking/"}},"primaryTag":"Sequelize","primaryCategory":"Node.js"}}}