<!DOCTYPE html><html lang="fr"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.5288cde64b59aff2f8d2.css">.authorCard-module--authorCardSection--3Xspq{display:flex}.authorCard-module--authorCardName--3HnMH{margin:8px 0 2px;padding:0;font-size:2rem}.authorCard-module--authorCardName--3HnMH a{color:#000;font-weight:700}.authorCard-module--authorCardName--3HnMH a:hover{text-decoration:none}.authorCard-module--authorCardContent--3jBBV p{margin:0;color:#647a83;line-height:1.3em}.siteNavLogo-module--container--2Eieh{flex-shrink:0;display:block;margin-right:24px;padding:11px 0;color:#fff;font-size:1.7rem;line-height:1em;font-weight:700;letter-spacing:-.5px}.siteNavLogo-module--container--2Eieh:hover{text-decoration:none}.siteNavLogo-module--container--2Eieh img{display:block;width:auto;height:21px}.footer-module--siteFooter--1ncU1{position:relative;padding:20px 4vw 60px;color:#fff;background:#000}.footer-module--siteFooter--1ncU1 .footer-module--content--3f5hY{display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center;color:hsla(0,0%,100%,.7);font-size:1.3rem}.footer-module--siteFooter--1ncU1 .footer-module--content--3f5hY a{color:hsla(0,0%,100%,.7)}.footer-module--siteFooter--1ncU1 .footer-module--content--3f5hY a:hover{color:#fff;text-decoration:none}@media (max-width:650px){.footer-module--siteFooter--1ncU1 .footer-module--content--3f5hY{flex-direction:column}}.footer-module--siteFooter--1ncU1 .footer-module--content--3f5hY nav{display:flex}.footer-module--siteFooter--1ncU1 .footer-module--content--3f5hY nav a{position:relative;margin-left:20px}.footer-module--siteFooter--1ncU1 .footer-module--content--3f5hY nav a:before{content:"";position:absolute;top:11px;left:-11px;display:block;width:2px;height:2px;background:#fff;border-radius:100%}.footer-module--siteFooter--1ncU1 .footer-module--content--3f5hY nav a:first-of-type:before{display:none}@media (max-width:650px){.footer-module--siteFooter--1ncU1 .footer-module--content--3f5hY nav a:first-of-type{margin-left:0}}.shared-module--outer--3ayIs{position:relative;padding:0 4vw}.shared-module--inner--35I1L{margin:0 auto;max-width:1040px;width:100%}.shared-module--SiteMain--1L3AH{z-index:100;flex-grow:1}.shared-module--SiteTitle--LzNSD{z-index:10;margin:0;padding:0;font-size:3.8rem;font-weight:700}.shared-module--SiteDescription--xZ-xT{z-index:10;margin:0;padding:5px 0;font-size:2.2rem;font-weight:300;letter-spacing:.5px;opacity:.8}.shared-module--PostFeed--yxeHl{position:relative;display:flex;flex-wrap:wrap;margin:0 -20px;padding:40px 0 0}@media (min-width:900px){.shared-module--PostFeedRaise--3lm-9{margin-top:-70px;padding-top:0}}.shared-module--SocialLink--Ya1gh{display:flex;justify-content:center;align-items:center;margin:0;padding:10px;color:#fff;opacity:.8}.shared-module--SocialLink--Ya1gh:hover{opacity:1}.shared-module--SocialLink--Ya1gh svg{height:1.8rem;fill:#fff}.shared-module--SiteHeader--11Q-_{position:relative;padding-top:12px;padding-bottom:12px;color:#fff;background:#15171a no-repeat 50%;background-size:cover}.shared-module--SiteHeaderContent--EPPk3{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:10vw 4vw;min-height:200px;max-height:450px;text-align:center}.shared-module--SiteHeaderStyles--2X95r{content:"";position:absolute;top:0;right:0;bottom:auto;left:0;z-index:10;display:block;height:80px;background:-webkit-gradient(linear,left top,left bottom,from(rgba(0,0,0,.1)),to(transparent));background:linear-gradient(rgba(0,0,0,.1),transparent)}.shared-module--SiteHeaderStyles--2X95r:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;z-index:10;display:block;background:rgba(0,0,0,.18)}.shared-module--SiteHeaderStyles--2X95r:after{content:"";position:absolute;top:0;right:0;bottom:auto;left:0;z-index:10;display:block;height:80px;background:-webkit-gradient(linear,left top,left bottom,from(rgba(0,0,0,.1)),to(transparent));background:linear-gradient(rgba(0,0,0,.1),transparent)}@media (max-width:700px){.shared-module--SiteHeaderStyles--2X95r{padding-right:0;padding-left:0}}.shared-module--AuthorProfileImage--3bfVw{display:block;background:#c5d2d9;border-radius:100%;-o-object-fit:cover;object-fit:cover;margin-right:15px;width:60px;height:60px}.sitenav-module--container--2f7Mf{position:relative;z-index:300;display:flex;justify-content:space-between;align-items:flex-start;overflow-y:hidden;height:40px;font-size:1.2rem}.sitenav-module--container--2f7Mf .sitenav-module--SiteNavLeft--37Wnn{display:flex;align-items:center;overflow-x:auto;overflow-y:hidden;margin-right:10px;padding-bottom:80px;letter-spacing:.4px;white-space:nowrap;-webkit-overflow-scrolling:touch;-ms-overflow-scrolling:touch}@media (max-width:700px){.sitenav-module--container--2f7Mf .sitenav-module--SiteNavLeft--37Wnn{margin-right:0;padding-left:4vw}}.sitenav-module--container--2f7Mf .sitenav-module--SiteNavRight--2MOoa{flex-shrink:0;display:flex;align-items:center;height:40px}@media (max-width:700px){.sitenav-module--container--2f7Mf .sitenav-module--SiteNavRight--2MOoa{display:none}}.sitenav-module--container--2f7Mf .sitenav-module--SiteNavRight--2MOoa .sitenav-module--SocialLinks--3bj4A{flex-shrink:0;display:flex;align-items:center}.sitenav-module--container--2f7Mf .sitenav-module--SiteNavRight--2MOoa .sitenav-module--SocialLinks--3bj4A a:last-of-type{padding-right:20px}.sitenav-module--container--2f7Mf .sitenav-module--SiteNavRight--2MOoa .sitenav-module--SubscribeButton--3gIQb{display:block;padding:4px 10px;border:1px solid #fff;color:#fff;font-size:1.2rem;line-height:1em;border-radius:10px;opacity:.8}.sitenav-module--container--2f7Mf .sitenav-module--SiteNavRight--2MOoa .sitenav-module--SubscribeButton--3gIQb :hover{text-decoration:none;opacity:1;cursor:pointer}@media (min-width:900px){.sitenav-module--HomeNavRaise--2C7hy{position:relative;top:-70px}}SiteNavStyles{position:relative;z-index:300;display:flex;justify-content:space-between;align-items:flex-start;overflow-y:hidden;height:40px;font-size:1.2rem}.sitenav-module--NavStyles--gmMAk{display:flex;margin:0 0 0 -12px;padding:0;list-style:none}.sitenav-module--NavStyles--gmMAk li{display:block;margin:0;padding:0;text-transform:uppercase}.sitenav-module--NavStyles--gmMAk li a{display:block;margin:0;padding:10px 12px;color:#fff;opacity:.8}.sitenav-module--NavStyles--gmMAk li a:hover{text-decoration:none;opacity:1}.postCard-module--container--3MBpY{flex:1 1 300px;display:flex;flex-direction:column;overflow:hidden;margin:0 20px 40px;min-height:300px;background:#fff 50%;background-size:cover;border-radius:5px;box-shadow:8px 14px 38px rgba(39,44,49,.06),1px 3px 8px rgba(39,44,49,.03);-webkit-transition:all .5s ease;transition:all .5s ease}.postCard-module--container--3MBpY:hover{box-shadow:8px 28px 50px rgba(39,44,49,.07),1px 6px 12px rgba(39,44,49,.04);-webkit-transition:all .4s ease;transition:all .4s ease;-webkit-transform:translate3D(0,-1px,0) scale(1.02);transform:translate3D(0,-1px,0) scale(1.02)}.postCard-module--PostCardImageLink--1-_rO{position:relative;display:block;overflow:hidden;border-radius:5px 5px 0 0}.postCard-module--PostCardImage--1ooSS{width:auto;height:200px;background:#d3d3d3 no-repeat 50%;background-size:cover}.postCard-module--PostCardContent--LjkYR{flex-grow:1;display:flex;flex-direction:column;justify-content:space-between}.postCard-module--PostCardContentLink--37umd{position:relative;flex-grow:1;display:block;padding:25px 25px 0;color:#15171a}.postCard-module--PostCardContentLink--37umd:hover{text-decoration:none}.postCard-module--PostCardTags--jyRjj{display:block;margin-bottom:4px;color:#647a83;font-size:1.2rem;line-height:1.15em;font-weight:500;letter-spacing:.5px;text-transform:uppercase}.postCard-module--PostCardTitle--1JrkM{margin-top:0}.postCard-module--PostCardExcerpt--3gUSF{font-family:Georgia,serif}.postCard-module--PostCardMeta--2EEJ7{display:flex;justify-content:space-between;align-items:flex-end;padding:0 25px 25px}.postCard-module--AuthorList--12tT0{display:flex;flex-wrap:wrap-reverse;margin:0;padding:0;list-style:none}.postCard-module--AuthorListItem--32xbX{position:relative;flex-shrink:0;margin:0;padding:0}.postCard-module--AuthorListItem--32xbX :first-of-type{z-index:10}.postCard-module--AuthorListItem--32xbX :nth-of-type(2){z-index:9}.postCard-module--AuthorListItem--32xbX :nth-of-type(3){z-index:8}.postCard-module--AuthorListItem--32xbX :nth-of-type(4){z-index:7}.postCard-module--AuthorListItem--32xbX :nth-of-type(5){z-index:6}.postCard-module--AuthorListItem--32xbX :nth-of-type(6){z-index:5}.postCard-module--AuthorListItem--32xbX :nth-of-type(7){z-index:4}.postCard-module--AuthorListItem--32xbX :nth-of-type(8){z-index:3}.postCard-module--AuthorListItem--32xbX :nth-of-type(9){z-index:2}.postCard-module--AuthorListItem--32xbX :nth-of-type(10){z-index:1}.postCard-module--AuthorListItem--32xbX:hover .postCard-module--AuthorNameTooltip--1xdhE{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}.postCard-module--AuthorNameTooltip--1xdhE{position:absolute;bottom:105%;z-index:999;display:block;padding:2px 8px;color:#fff;font-size:1.2rem;letter-spacing:.2px;white-space:nowrap;background:#15171a;border-radius:3px;box-shadow:0 12px 26px rgba(39,44,49,.08),1px 3px 8px rgba(39,44,49,.03);opacity:0;-webkit-transition:all .3s cubic-bezier(.4,.01,.165,.99);transition:all .3s cubic-bezier(.4,.01,.165,.99);-webkit-transform:translateY(6px);transform:translateY(6px);pointer-events:none}@media (max-width:650px){.postCard-module--AuthorNameTooltip--1xdhE{display:none}}.postCard-module--StaticAvatar--3PQRl{display:block;overflow:hidden;margin:0 -5px;width:34px;height:34px;border:2px solid #fff;border-radius:100%}.postCard-module--AuthorProfileImage--31jei{display:block;width:100%;height:100%;background:#c5d2d9;border-radius:100%;-o-object-fit:cover;object-fit:cover}.postCard-module--ReadingTime--3LVUu{flex-shrink:0;margin-left:20px;color:#647a83;font-size:1.2rem;line-height:33px;font-weight:500;letter-spacing:.5px;text-transform:uppercase}.PostFullContent{position:relative;margin:0 auto;padding:70px 100px 0;min-height:230px;font-family:Georgia,serif;font-size:2.2rem;line-height:1.6em;background:#fff}@media (max-width:1170px){.PostFullContent{padding:5vw 7vw 0}}@media (max-width:800px){.PostFullContent{font-size:1.9rem}}.PostFullContent:before{left:-5px;-webkit-transform:rotate(-5deg);transform:rotate(-5deg)}.PostFullContent:after,.PostFullContent:before{content:"";position:absolute;top:15px;z-index:-1;display:block;width:20px;height:200px;background:rgba(39,44,49,.15);-webkit-filter:blur(5px);filter:blur(5px)}.PostFullContent:after{right:-5px;-webkit-transform:rotate(5deg);transform:rotate(5deg)}.PostFullContent .footnotes,.PostFullContent .post-full-comments,.PostFullContent blockquote,.PostFullContent dl,.PostFullContent h1,.PostFullContent h2,.PostFullContent h3,.PostFullContent h4,.PostFullContent h5,.PostFullContent h6,.PostFullContent ol,.PostFullContent p,.PostFullContent pre,.PostFullContent ul{min-width:100%}.PostFullContent li{word-break:break-word}.PostFullContent li p{margin:0}.PostFullContent a{color:#000;word-break:break-word;box-shadow:inset 0 -1px 0 #0f7dba}.PostFullContent a:hover{color:#0f7dba;text-decoration:none}.PostFullContent em,.PostFullContent strong{color:#15171a}.PostFullContent small{display:inline-block;line-height:1.6em}.PostFullContent li:first-of-type{margin-top:0}.PostFullContent .gatsby-resp-image-link{box-shadow:none}.PostFullContent img,.PostFullContent video{display:block;margin:1.5em auto;max-width:1040px;height:auto}@media (max-width:1040px){.PostFullContent img,.PostFullContent video{width:100%}}.PostFullContent img[src$="#full"]{max-width:none;width:100vw}.PostFullContent img+br+small{display:block;margin-top:-3em;margin-bottom:1.5em;text-align:center}.PostFullContent iframe{margin:0 auto!important}.PostFullContent blockquote{margin:0 0 1.5em;padding:0 1.5em;border-left:3px solid #0f7dba}.PostFullContent blockquote p{margin:0 0 1em;color:inherit;font-size:inherit;line-height:inherit;font-style:italic}.PostFullContent blockquote p:last-child{margin-bottom:0}.PostFullContent code{padding:0 5px 2px;font-size:.8em;line-height:1em;font-weight:400!important;background:#e5eff5;border-radius:3px}.PostFullContent p code{word-break:break-all}.PostFullContent pre{overflow-x:auto;padding:20px;max-width:100%;border:1px solid #15171a;color:#e5eff5;font-size:1.4rem;line-height:1.5em;background:#15171a;border-radius:5px}.PostFullContent pre code{padding:0;font-size:inherit;line-height:inherit;background:transparent}.PostFullContent pre code :not(span){color:inherit}.PostFullContent .gatsby-resp-iframe-wrapper{margin:1.5em 0 3em}.PostFullContent hr{margin:4vw 0}.PostFullContent hr:after{content:"";position:absolute;top:-15px;left:50%;display:block;margin-left:-10px;width:1px;height:30px;background:#c5d2d9;box-shadow:0 0 0 5px #fff;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.PostFullContent h1,.PostFullContent h2,.PostFullContent h3,.PostFullContent h4,.PostFullContent h5,.PostFullContent h6{color:#15171a;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}.PostFullContent h1{margin:.5em 0 .2em;font-size:4.6rem;font-weight:700}@media (max-width:500px){.PostFullContent h1{font-size:2.8rem}}.PostFullContent h2{margin:.5em 0 .2em;font-size:3.6rem;font-weight:700}@media (max-width:500px){.PostFullContent h2{font-size:2.6rem}}.PostFullContent h3{margin:.5em 0 .2em;font-size:2.8rem;font-weight:700}@media (max-width:500px){.PostFullContent h3{font-size:2.2rem}}.PostFullContent h4{margin:.5em 0 .2em;font-size:2.8rem;font-weight:700}@media (max-width:500px){.PostFullContent h4{font-size:2.2rem}}.PostFullContent h5{display:block;margin:.5em 0;padding:1em 0 1.5em;border:0;color:#0f7dba;font-family:Georgia,serif;font-size:3.2rem;line-height:1.35em;text-align:center}@media (min-width:1180px){.PostFullContent h5{max-width:1060px}}@media (max-width:500px){.PostFullContent h5{padding:0 0 .5em;font-size:2.2rem}}.PostFullContent h6{margin:.5em 0 .2em;font-size:2.3rem;font-weight:700}@media (max-width:500px){.PostFullContent h6{font-size:2rem}}.PostFullContent table{display:inline-block;overflow-x:auto;margin:.5em 0 2.5em;max-width:100%;width:auto;border-spacing:0;border-collapse:collapse;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;font-size:1.6rem;white-space:nowrap;vertical-align:top;-webkit-overflow-scrolling:touch;background:radial-gradient(ellipse at left,rgba(0,0,0,.2) 0,transparent 75%) 0,radial-gradient(ellipse at right,rgba(0,0,0,.2) 0,transparent 75%) 100%;background-attachment:scroll,scroll;background-size:10px 100%,10px 100%;background-repeat:no-repeat}.PostFullContent table td:first-of-type{background-image:-webkit-gradient(linear,left top,right top,color-stop(50%,#fff),to(hsla(0,0%,100%,0)));background-image:linear-gradient(90deg,#fff 50%,hsla(0,0%,100%,0));background-size:20px 100%;background-repeat:no-repeat}.PostFullContent table td:last-child{background-image:-webkit-gradient(linear,right top,left top,color-stop(50%,#fff),to(hsla(0,0%,100%,0)));background-image:linear-gradient(270deg,#fff 50%,hsla(0,0%,100%,0));background-position:100% 0;background-size:20px 100%;background-repeat:no-repeat}.PostFullContent table th{color:#15171a;font-size:1.2rem;font-weight:700;letter-spacing:.2px;text-align:left;text-transform:uppercase;background-color:#e5eff5}.PostFullContent table td,.PostFullContent table th{padding:6px 12px;border:1px solid #e5eff5}@media (max-width:500px){.PostFullContent{padding:0}.PostFullContent :after,.PostFullContent :before{display:none}}.PostFullContent code[class*=language-],.PostFullContent pre[class*=language-]{background:none;font-family:Consolas,Menlo,Monaco,source-code-pro,Courier New,monospace;font-feature-settings:normal;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;margin-bottom:0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}.PostFullContent pre[class*=language-]{overflow:auto;padding:1.3125rem}.PostFullContent pre[class*=language-]::selection{background:#27292a}.PostFullContent pre[class*=language-]::selection,.PostFullContent pre[class*=language-] ::selection{text-shadow:none;background:hsla(0,0%,100%,.15)}.PostFullContent :not(pre)>code[class*=language-]{border-radius:.3em;background:var(--inlineCode-bg);color:var(--inlineCode-text);padding:.15em .2em .05em;white-space:normal}.PostFullContent .token.attr-name{color:#addb67;font-style:italic}.PostFullContent .token.comment{color:#809393}.PostFullContent .token.string,.PostFullContent .token.url{color:#addb67}.PostFullContent .token.variable{color:#d6deeb}.PostFullContent .token.number{color:#f78c6c}.PostFullContent .token.builtin,.PostFullContent .token.char,.PostFullContent .token.constant,.PostFullContent .token.function{color:#82aaff}.PostFullContent .token.punctuation{color:#c792ea}.PostFullContent .token.doctype,.PostFullContent .token.selector{color:#c792ea;font-style:italic}.PostFullContent .token.class-name{color:#ffcb8b}.PostFullContent .token.keyword,.PostFullContent .token.operator,.PostFullContent .token.tag{color:#ffa7c4}.PostFullContent .token.boolean{color:#ff5874}.PostFullContent .token.property{color:#80cbc4}.PostFullContent .token.namespace{color:#b2ccd6}.PostFullContent pre[data-line]{padding:1em 0 1em 3em;position:relative}.PostFullContent .gatsby-highlight-code-line{background-color:#022a4b;display:block;margin-right:-1.3125rem;margin-left:-1.3125rem;padding-right:1em;padding-left:1.25em;border-left:.25em solid #ffa7c4}.PostFullContent .gatsby-highlight{margin-bottom:1.75rem;margin-left:-1.3125rem;margin-right:-1.3125rem;border-radius:10px;background:#011627;-webkit-overflow-scrolling:touch;overflow:auto}@media (max-width:672px){.PostFullContent .gatsby-highlight{border-radius:0}}.PostFullContent .gatsby-highlight pre[class*=language-]{float:left;min-width:100%}.postFullFooter-module--container--2PA5n{display:flex;justify-content:space-between;align-items:center;margin:0 auto;padding:3vw 0 6vw;max-width:840px}.postFullFooterRight-module--container--1A7hv{flex-shrink:0;margin-left:20px}.postFullFooterRight-module--container--1A7hv .postFullFooterRight-module--authorCardButton--2Zo5V{display:block;padding:9px 16px;border:1px solid #647b84;color:#647a83;font-size:1.2rem;line-height:1;font-weight:500;border-radius:20px;-webkit-transition:all .2s ease;transition:all .2s ease}.postFullFooterRight-module--container--1A7hv .postFullFooterRight-module--authorCardButton--2Zo5V:hover{border-color:#0f7dba;color:#0f7dba;text-decoration:none}.wrapper-module--container--39cxo{display:flex;flex-direction:column;min-height:100vh}a,abbr,acronym,address,applet,article,aside,audio,big,blockquote,body,canvas,caption,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,ul,var,video{margin:0;padding:0;border:0;font:inherit;font-size:100%;vertical-align:baseline}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}img{max-width:100%}html{box-sizing:border-box;font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}*,:after,:before{box-sizing:inherit}a{background-color:transparent}a:active,a:hover{outline:0}b,strong{font-weight:700}dfn,em,i{font-style:italic}h1{margin:.67em 0;font-size:2em}small{font-size:80%}sub,sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}mark{background-color:#fdffb6}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{margin:0;color:inherit;font:inherit}button{overflow:visible;border:none}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{cursor:pointer;-webkit-appearance:button}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0}input{line-height:normal}input:focus{outline:none}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{box-sizing:content-box;-webkit-appearance:textfield}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}legend{padding:0;border:0}textarea{overflow:auto}table{border-spacing:0;border-collapse:collapse}td,th{padding:0}html{overflow-y:scroll;font-size:62.5%;-webkit-tap-highlight-color:rgba(0,0,0,0)}body,html{overflow-x:hidden}body{color:#2d373b;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;font-size:1.5rem;line-height:1.6em;font-weight:400;font-style:normal;letter-spacing:0;text-rendering:optimizeLegibility;background:#fff;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-moz-font-feature-settings:"liga" on}::selection{text-shadow:none;background:#6fc4f3}hr{position:relative;display:block;width:100%;margin:2.5em 0 3.5em;padding:0;height:1px;border:0;border-top:1px solid #e4eaed}audio,canvas,iframe,img,svg,video{vertical-align:middle}fieldset{margin:0;padding:0;border:0}textarea{resize:vertical}blockquote,dl,ol,p,ul{margin:0 0 1.5em}ol,ul{padding-left:1.3em;padding-right:1.5em}ol ol,ol ul,ul ol,ul ul{margin:.5em 0 1em}ul{list-style:disc}ol{list-style:decimal}ol,ul{max-width:100%}li{margin:.5em 0;padding-left:.3em;line-height:1.6em}dt{float:left;margin:0 20px 0 0;width:120px;color:#15171a;font-weight:500;text-align:right}dd{margin:0 0 5px;text-align:left}blockquote{margin:1.5em 0;padding:0 1.6em;border-left:.5em solid #e5eff5}blockquote p{margin:.8em 0;font-size:1.2em;font-weight:300}blockquote small{display:inline-block;margin:.8em 0 .8em 1.5em;font-size:.9em;opacity:.8}blockquote small:before{content:"\\2014 \\00A0"}blockquote cite{font-weight:700}blockquote cite a{font-weight:400}a{color:#0d6da2;text-decoration:none}a:hover{text-decoration:underline}h1,h2,h3,h4,h5,h6{margin-top:0;line-height:1.15;font-weight:700;text-rendering:optimizeLegibility}h1{margin:0 0 .5em;font-size:5rem;font-weight:700}@media (max-width:500px){h1{font-size:2.2rem}}h2{margin:1.5em 0 .5em;font-size:2rem}@media (max-width:500px){h2{font-size:1.8rem}}h3{margin:1.5em 0 .5em;font-size:1.8rem;font-weight:500}@media (max-width:500px){h3{font-size:1.7rem}}h4{margin:1.5em 0 .5em;font-size:1.6rem;font-weight:500}h5,h6{margin:1.5em 0 .5em;font-size:1.4rem;font-weight:500}body{background:#f4f8fb}.pagination-module--container--jH0P2{padding:0 4vw 4vh;background:#fff;text-align:center}.pagination-module--container--jH0P2 div{display:inline-block}.pagination-module--container--jH0P2 a{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell;background:#fff;color:#000;float:left;padding:8px 16px;text-decoration:none;-webkit-transition:background-color .3s;transition:background-color .3s;border:1px solid #ddd;box-shadow:8px 14px 38px rgba(39,44,49,.06),1px 3px 8px rgba(39,44,49,.03);border-radius:6px;margin:0 4px 5px;min-width:50px}.pagination-module--container--jH0P2 a.pagination-module--active--2gHKl{box-shadow:inset 3px 0 0 0 #141619}.pagination-module--container--jH0P2 a:hover:not(.pagination-module--active--2gHKl){background-color:#ddd}.pagination-module--container--jH0P2 a:hover{text-decoration:none}.pagination-module--container--jH0P2 .pagination-module--ellipsis--xvUoZ{padding:8px;min-width:40px;pointer-events:none;cursor:default;opacity:.6}@media (max-width:550px){.pagination-module--container--jH0P2 .pagination-module--ellipsis--xvUoZ{min-width:30px}}@media (max-width:400px){.pagination-module--container--jH0P2 .pagination-module--ellipsis--xvUoZ{display:none}}@media (max-width:550px){.pagination-module--container--jH0P2 .pagination-module--next--1rF_K,.pagination-module--container--jH0P2 .pagination-module--previous--WUxFk{display:none}}.readNextCard-module--container--J4I2n{position:relative;flex:1 1 300px;display:flex;flex-direction:column;overflow:hidden;margin:0 20px 40px;padding:25px;color:#fff;background:#15171a 50%;background-size:cover;border-radius:5px;box-shadow:8px 14px 38px rgba(39,44,49,.06),1px 3px 8px rgba(39,44,49,.03)}.readNextCard-module--container--J4I2n:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;display:block;background:linear-gradient(135deg,rgba(0,40,60,.8),rgba(0,20,40,.7));border-radius:5px;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.readNextCard-module--ReadNextCardHeader--3M6PZ{position:relative;z-index:50;padding-top:20px;text-align:center}.readNextCard-module--ReadNextCardHeaderSitetitle--1FkpC{display:block;font-size:1.3rem;line-height:1.3em;opacity:.8}.readNextCard-module--ReadNextCardHeaderTitle--3qnwx{margin:0;padding:0 20px;color:#fff;font-size:3rem;line-height:1.2em;letter-spacing:1px}.readNextCard-module--ReadNextCardHeaderTitle--3qnwx a{color:#fff;font-weight:300;text-decoration:none}.readNextCard-module--ReadNextCardHeaderTitle--3qnwx a:hover{text-decoration:none}.readNextCard-module--ReadNextDivider--1WD0f{position:relative;display:flex;justify-content:center;height:80px}.readNextCard-module--ReadNextDivider--1WD0f svg{width:40px;fill:transparent;stroke:#fff;stroke-width:.5px;stroke-opacity:.65}.readNextCard-module--ReadNextCardContent--phuA0{position:relative;z-index:50;flex-grow:1;display:flex;font-size:1.7rem}.readNextCard-module--ReadNextCardContent--phuA0 ul{display:flex;flex-direction:column;margin:0 auto;padding:0;text-align:center;list-style:none}.readNextCard-module--ReadNextCardContent--phuA0 li{margin:0;padding:0;font-size:1.6rem;line-height:1.25em;font-weight:200;letter-spacing:-.5px}.readNextCard-module--ReadNextCardContent--phuA0 li a{display:block;padding:20px 0;border-bottom:1px solid hsla(0,0%,100%,.3);color:#fff;font-weight:500;vertical-align:top;-webkit-transition:opacity .3s ease;transition:opacity .3s ease}.readNextCard-module--ReadNextCardContent--phuA0 li:first-of-type a{padding-top:10px}.readNextCard-module--ReadNextCardContent--phuA0 li a:hover{opacity:1}.readNextCard-module--ReadNextCardFooter--jt8zz{position:relative;margin:15px 0 3px;text-align:center}.readNextCard-module--ReadNextCardFooter--jt8zz a{color:#fff}#site-main{background:#fff;padding-bottom:4vw}.PostFull{position:relative;z-index:50}.NoImage .post-full-content{padding-top:0}.NoImage .post-full-content:after,.NoImage .post-full-content:before{display:none}.PostFullHeader{margin:0 auto;padding:6vw 3vw 3vw;max-width:1040px;text-align:center}@media (max-width:500px){.PostFullHeader{padding:14vw 3vw 10vw}}.PostFullMeta{display:flex;justify-content:center;align-items:center;color:#647a83;font-size:1.4rem;font-weight:600;text-transform:uppercase}@media (max-width:500px){.PostFullMeta{font-size:1.2rem;line-height:1.3em}}.PostFullMetaDate{color:#0f7dba}.PostFullTitle{margin:0;color:#15171a}@media (max-width:500px){.PostFullTitle{font-size:2.9rem}}.PostFullImage{margin:0 -10vw -165px;height:800px;background:#c5d2d9 50%;background-size:cover;border-radius:5px}@media (max-width:1170px){.PostFullImage{margin:0 -4vw -100px;height:600px;border-radius:0}}@media (max-width:800px){.PostFullImage{height:400px}}@media (max-width:500px){.PostFullImage{margin-bottom:4vw;height:350px}}.DateDivider{display:inline-block;margin:0 6px 1px}.ReadNextFeed{display:flex;flex-wrap:wrap;margin:0 -20px;padding:40px 0 0}.progress-read-module--container--Xf3HB{background:#e5eff5;height:5px;width:100vw;opacity:1%;position:fixed;top:0;z-index:200}.progress-read-module--container--Xf3HB .progress-read-module--bar--2CgAA{background:#0f7dba;height:100%}site-main{background:#fff;padding-bottom:4vw}._404-module--siteNavCenter--1xW_t{display:flex;justify-content:center;align-items:center;text-align:center}._404-module--siteNavCenter--1xW_t .site-nav-logo{margin-right:0}._404-module--errorTemplate--2Q6Vk{padding:7vw 4vw}._404-module--errorTemplate--2Q6Vk ._404-module--errorCode--Iss6n{margin:0;font-size:12vw;line-height:1em;letter-spacing:-5px;opacity:.3}._404-module--errorTemplate--2Q6Vk ._404-module--errorDescription--1CGfX{margin:0;color:#647a83;font-size:3rem;line-height:1.3em;font-weight:400}._404-module--errorTemplate--2Q6Vk ._404-module--errorLink--3fWWe{display:inline-block;margin-top:5px}</style><meta name="generator" content="Gatsby 2.19.28"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-b3b573358bfc66d89e1e95dbf8319c09.css"/><link rel="canonical" href="https://ludovicwyffels.dev/git-flow/" data-baseprotocol="https:" data-basehost="ludovicwyffels.dev"/><title data-react-helmet="true">GitFlow</title><link data-react-helmet="true" rel="icon" href="/static/favicon-36e47e74810a0d8c32a77f495c49cf8e.ico" type="image/x-icon"/><meta data-react-helmet="true" name="description" content="Pourquoi avoir une stratégie d’utilisation de Git ? Git est puissant mais il est généralement mal utilisé. Et un outil mal utilisé peut vite…"/><meta data-react-helmet="true" property="og:site_name" content="Code avec Ludo"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="GitFlow"/><meta data-react-helmet="true" property="og:description" content="Pourquoi avoir une stratégie d’utilisation de Git ? Git est puissant mais il est généralement mal utilisé. Et un outil mal utilisé peut vite…"/><meta data-react-helmet="true" property="og:url" content="https://ludovicwyffels.github.io/git-flow/"/><meta data-react-helmet="true" property="og:image" content="https://ludovicwyffels.github.io/static/6367e3250bf5dd6b3387bdab9a38b098/a41d1/lumberjack.jpg"/><meta data-react-helmet="true" property="article:published_time" content="2020-03-12T19:00:00.000Z"/><meta data-react-helmet="true" property="article:tag" content="Git"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:title" content="GitFlow"/><meta data-react-helmet="true" name="twitter:description" content="Pourquoi avoir une stratégie d’utilisation de Git ? Git est puissant mais il est généralement mal utilisé. Et un outil mal utilisé peut vite…"/><meta data-react-helmet="true" name="twitter:url" content="https://ludovicwyffels.github.io/git-flow/"/><meta data-react-helmet="true" name="twitter:image" content="https://ludovicwyffels.github.io/static/6367e3250bf5dd6b3387bdab9a38b098/a41d1/lumberjack.jpg"/><meta data-react-helmet="true" name="twitter:label1" content="Written by"/><meta data-react-helmet="true" name="twitter:data1" content="ludo"/><meta data-react-helmet="true" name="twitter:label2" content="Filed under"/><meta data-react-helmet="true" name="twitter:data2" content="Git"/><meta data-react-helmet="true" property="og:image:width" content="2000"/><meta data-react-helmet="true" property="og:image:height" content="1231"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><script>
  window.excludeGAPaths=[/^(?:\/preview\/(?:(?!(?:\/|^)\.).)*?)$/];
  function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='UA-138733938-1',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
  if(!(parseInt(navigator.doNotTrack) === 1 || parseInt(window.doNotTrack) === 1 || parseInt(navigator.msDoNotTrack) === 1 || navigator.doNotTrack === "yes")) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-138733938-1', 'auto', {"sampleRate":100,"siteSpeedSampleRate":10});
      ga('set', 'anonymizeIp', true);
      
      
      
      
      }</script><link as="script" rel="preload" href="/webpack-runtime-69f341a2c9ac0252ba5d.js"/><link as="script" rel="preload" href="/app-2811c33832a41d9a9804.js"/><link as="script" rel="preload" href="/styles-ace6d5b88bde5d7152a6.js"/><link as="script" rel="preload" href="/commons-155eaf7cdaa187e7e4cf.js"/><link as="script" rel="preload" href="/component---src-templates-post-tsx-e9b66a8460093a7b940c.js"/><link as="fetch" rel="preload" href="/page-data/git-flow/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="post-template"><style data-emotion-css="0"></style><div class="progress-read-module--container--Xf3HB" style="display:none"><div class="progress-read-module--bar--2CgAA" style="width:0%"></div></div><div class="wrapper-module--container--39cxo PostTemplate"><style data-emotion-css="7n4c3k">.css-7n4c3k{position:relative;padding:0 4vw;position:relative;padding-top:12px;padding-bottom:12px;color:#fff;background:#0a0b0c no-repeat center center;background-size:cover;}</style><header class="css-7n4c3k"><style data-emotion-css="s2cjas">.css-s2cjas{margin:0 auto;max-width:1040px;width:100%;}</style><div class="css-s2cjas"><nav class="false sitenav-module--container--2f7Mf"><div class="sitenav-module--SiteNavLeft--37Wnn"><a class="site-nav-logo siteNavLogo-module--container--2Eieh" href="/"><img src="/static/7d3993478cb88fc18c502e8e98013386/497c6/logo.png" alt="Code avec Ludo"/></a><ul class="sitenav-module--NavStyles--gmMAk" role="menu"><li role="menuitem"><a href="/">Home</a></li><li role="menuitem"><a href="/tags/node-js/">Node.js</a></li><li role="menuitem"><a href="/tags/dev-ops/">DevOps</a></li><li role="menuitem"><a href="/about">About</a></li></ul></div><div class="sitenav-module--SiteNavRight--2MOoa"><div class="sitenav-module--SocialLinks--3bj4A"><a class="shared-module--SocialLink--Ya1gh" href="https://github.com/ludovicwyffels" title="Github" target="_blank" rel="noopener noreferrer"><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Github</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a></div></div></nav></div></header><style data-emotion-css="9696is">.css-9696is{z-index:100;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;position:relative;padding:0 4vw;}</style><main id="site-main" class="site-main css-9696is"><style data-emotion-css="s2cjas">.css-s2cjas{margin:0 auto;max-width:1040px;width:100%;}</style><div class="css-s2cjas"><style data-emotion-css="1cj30xk">.css-1cj30xk{position:relative;z-index:50;}</style><article class="css-1cj30xk"><header class="PostFullHeader"><section class="PostFullMeta"><time dateTime="2020-03-12T19:00:00.000Z" class="PostFullMetaDate">12 March 2020</time><span class="DateDivider">/</span><a href="/tags/git/">Git</a><style data-emotion-css="bosr71">.css-bosr71{width:10px;}</style><div class="css-bosr71"></div></section><h1 class="PostFullTitle">GitFlow</h1></header><figure class="PostFullImage"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;height:100%"><div aria-hidden="true" style="width:100%;padding-bottom:61.550000000000004%"></div><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIEBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHLd3SQoD//xAAZEAACAwEAAAAAAAAAAAAAAAAAAgESIQP/2gAIAQEAAQUCVNnmSpGFmLMf/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGRABAAIDAAAAAAAAAAAAAAAAACExATJB/9oACAEBAAY/ApdQttlb/8QAHBABAAICAwEAAAAAAAAAAAAAAQARITFBYYGx/9oACAEBAAE/IaOHqJg+Io5YgtYrlm09iTvP/9oADAMBAAIAAwAAABDT7//EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAwEBPxCRj//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABwQAQEBAAIDAQAAAAAAAAAAAAERACFBMVFhgf/aAAgBAQABPxAQhQtQietJZHLenHejKfTMgmjscy8F4tZAB/u//9k=" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/6367e3250bf5dd6b3387bdab9a38b098/2f037/lumberjack.jpg 930w,
/static/6367e3250bf5dd6b3387bdab9a38b098/23f4e/lumberjack.jpg 1860w,
/static/6367e3250bf5dd6b3387bdab9a38b098/a41d1/lumberjack.jpg 2000w" sizes="(max-width: 2000px) 100vw, 2000px" /><img loading="lazy" sizes="(max-width: 2000px) 100vw, 2000px" srcset="/static/6367e3250bf5dd6b3387bdab9a38b098/2f037/lumberjack.jpg 930w,
/static/6367e3250bf5dd6b3387bdab9a38b098/23f4e/lumberjack.jpg 1860w,
/static/6367e3250bf5dd6b3387bdab9a38b098/a41d1/lumberjack.jpg 2000w" src="/static/6367e3250bf5dd6b3387bdab9a38b098/a41d1/lumberjack.jpg" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></figure><section class="post-full-content PostFullContent"><div><h2>Pourquoi avoir une stratégie d’utilisation de Git ?</h2>
<p>Git est puissant mais il est généralement mal utilisé. Et un outil mal utilisé peut vite devenir contre-productif.</p>
<p>Dans le cas de Git, cela peut se traduire par des conflits à chaque commit/merge ou presque, des pertes de données (même s’il faut vraiment en vouloir), etc…</p>
<h2>Comment fonctionne GitFlow ?</h2>
<p>GitFlow est un ensemble de règles simples qui se basent sur le fonctionnement par branche de Git.</p>
<p>Voici le principe de base :
Notre projet sera basé sur deux branches : <code>master</code> et <code>develop</code>. Ces deux branches <strong>sont strictement interdites</strong> en écriture aux développeurs.</p>
<p>La branche <code>master</code> est le miroir de notre production. Il est donc logique que l’on ne puisse y pousser nos modifications directement.</p>
<p>La branche <code>develop</code> centralise toutes les nouvelles fonctionnalités qui seront livrées dans la prochaine version. Ici il va falloir se forcer à ne pas y faire de modifications directement.</p>
<p>Trois autres types de branches vont ensuite nous permettre de travailler :</p>
<ul>
<li><code>feature</code></li>
<li><code>release</code></li>
<li><code>hot fix</code></li>
</ul>
<h3>Je développe des fonctionnalités</h3>
<p>Je vais donc développer sur une branche de type <code>feature</code>.</p>
<div class="gatsby-highlight" data-language="bash"><pre style="counter-reset:linenumber NaN" class="language-bash line-numbers"><code class="language-bash"><span class="token function">git</span> checkout -b feature/<span class="token operator">&lt;</span>name<span class="token operator">&gt;</span> develop</code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span></span></pre></div>
<p>Si je développe une nouvelle fonctionnalité, elle sera logiquement appliquée à la prochaine version : je crée donc ma branche à partir de la branche <code>develop</code>.</p>
<p>Je commence donc à travailler à partir du code mis à jour pour la nouvelle version.</p>
<div class="gatsby-highlight" data-language="bash"><pre style="counter-reset:linenumber NaN" class="language-bash line-numbers"><code class="language-bash"><span class="token function">git</span> checkout dev
<span class="token function">git</span> merge feature/<span class="token operator">&lt;</span>name<span class="token operator">&gt;</span> --no-ff
<span class="token function">git</span> branch -d feature/<span class="token operator">&lt;</span>name<span class="token operator">&gt;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span></span></pre></div>
<p>Lorsque j’ai fini mon travail, je rapatrie celui-ci sur la branche de développement et je supprime la branche <code>feature</code> qui est devenue obsolète.</p>
<h3>Je prépare une nouvelle version pour la mise en production</h3>
<p>Je vais donc travailler sur une branche de type release.</p>
<div class="gatsby-highlight" data-language="bash"><pre style="counter-reset:linenumber NaN" class="language-bash line-numbers"><code class="language-bash"><span class="token function">git</span> checkout -b release/<span class="token operator">&lt;</span>version<span class="token operator">&gt;</span> develop</code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span></span></pre></div>
<p>Je crée la branche à partir de la branche <code>develop</code>, ainsi je pourrai lancer mes tests et appliquer mes corrections pendant que mes collègues commencent déjà le développement de nouvelles fonctionnalités pour la version suivante.</p>
<div class="gatsby-highlight" data-language="bash"><pre style="counter-reset:linenumber NaN" class="language-bash line-numbers"><code class="language-bash"><span class="token function">git</span> checkout dev
<span class="token function">git</span> merge release/<span class="token operator">&lt;</span>version<span class="token operator">&gt;</span> --no-ff

<span class="token function">git</span> checkout master
<span class="token function">git</span> merge release/<span class="token operator">&lt;</span>version<span class="token operator">&gt;</span> --no-ff
<span class="token function">git</span> tag <span class="token operator">&lt;</span>version<span class="token operator">&gt;</span>

<span class="token function">git</span> branch -d release/<span class="token operator">&lt;</span>version<span class="token operator">&gt;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Lorsque tous mes tests sont passés avec succès et que ma nouvelle version est prête à être mise en production, je pousse tout sur la branche <code>master</code> et je n’oublie pas d’appliquer mes corrections à la branche de développement.</p>
<p>Je crée aussi un tag sur le dernier commit de la branche de production avec mon numéro de version afin de m’y retrouver plus tard.</p>
<p>Et enfin je supprime la branche <code>release</code> car maintenant elle ne sert plus à grand chose.</p>
<h3>Je corrige un bug en production</h3>
<p>Je vais donc travailler sur une branche de type <code>hotfix</code>.</p>
<div class="gatsby-highlight" data-language="bash"><pre style="counter-reset:linenumber NaN" class="language-bash line-numbers"><code class="language-bash"><span class="token function">git</span> checkout -b hotfix/<span class="token operator">&lt;</span>name<span class="token operator">&gt;</span> master</code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span></span></pre></div>
<p>Pour ce cas particulier je crée ma branche à partir du miroir de production car je ne veux pas que toutes les fonctionnalités de ma branche de développement se retrouvent en production lors d’une simple correction de bug.</p>
<div class="gatsby-highlight" data-language="bash"><pre style="counter-reset:linenumber NaN" class="language-bash line-numbers"><code class="language-bash"><span class="token function">git</span> checkout dev
<span class="token function">git</span> merge hotfix/<span class="token operator">&lt;</span>name<span class="token operator">&gt;</span> --no-ff

<span class="token function">git</span> checkout master
<span class="token function">git</span> merge hotfix/<span class="token operator">&lt;</span>name<span class="token operator">&gt;</span> --no-ff
<span class="token function">git</span> tag <span class="token operator">&lt;</span>version<span class="token operator">&gt;</span>

<span class="token function">git</span> branch -d hotfix/<span class="token operator">&lt;</span>name<span class="token operator">&gt;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Mon bug étant corrigé, je dois l’appliquer sur le dev et la prod. Une fois encore je versionne avec un tag sur la branche <code>master</code> et je supprime la branche <code>hotfix</code>.</p>
<h3>GitFlow, la surcouche</h3>
<p>Le concepteur de GitFlow a pensé à vous en codant une surcouche pour Git qui simplifie tout ça. </p>
<ul>
<li><a href="https://github.com/nvie/gitflow" target="_blank" rel="nofollow noopener noreferrer">Github</a></li>
<li><a href="https://github.com/nvie/gitflow/wiki/Installation" target="_blank" rel="nofollow noopener noreferrer">Installation</a></li>
<li><a href="https://danielkummer.github.io/git-flow-cheatsheet/index.html" target="_blank" rel="nofollow noopener noreferrer">Cheatsheet</a></li>
</ul>
<p>Elle vous fournit de nouvelles commandes haut niveau comme:</p>
<ul>
<li><code>git flow init</code>: pour initialiser Git et GitFlow dans un projet.</li>
<li><code>git flow feature start &lt;name&gt;</code> : pour démarrer le développement d’une nouvelle fonctionnalité.</li>
<li><code>git flow feature finish &lt;name&gt;</code> : pour terminer le développement d’une nouvelle fonctionnalité.</li>
<li><code>git flow release start &lt;version&gt;</code> : pour démarrer le développement d’une nouvelle release.</li>
<li><code>git flow release finish &lt;name&gt;</code> : pour terminer le développement d’une nouvelle release.</li>
<li><code>git flow hotfix start &lt;version&gt;</code> : pour démarrer le développement d’un nouveau hotfix.</li>
<li><code>git flow hotfix finish &lt;name&gt;</code> : pour terminer le développement d’un nouveau hotfix.</li>
</ul>
<p>GitFlow s’occupera pour vous de choisir les branches de départ, les branches de fin, de créer les tags et de supprimer les bonnes branches.</p>
<p>Bien-sûr, beaucoup d’autres commandes existent mais celles-ci sont à mes yeux les plus importantes.</p>
<p>Pour le reste, vous utiliserez les commandes Git habituelles.</p>
<hr/>
<h2>Je développe et maintiens un framework</h2>
<p>Le fonctionnement basique de GitFlow convient, comme nous l’avons vu, dans la plupart des cas. Mais prenons le cas d’une équipe de développement qui s’occupe d’un des derniers frameworks à la mode.</p>
<p>Cette équipe utilise GitFlow et trouve ça génial. Les versions se succèdent et on arrive à la troisième version.</p>
<p>Tous les nouveaux projets de développeurs tiers sont fait dans la dernière version mais il existe encore des projets dans les versions précédentes du framework.</p>
<p>Si une faille de sécurité est découverte, les développeurs tiers s’attendent à ce que l’équipe applique des corrections dans la version 3 mais aussi la version 2.7 du framework. Et c’est normal.</p>
<p>Cette équipe doit donc maintenir deux versions de leur projet en simultané. Notre problème vient du système de branche strict de GitFlow :</p>
<ul>
<li><code>feature</code> : de <code>develop</code> vers <code>develop</code></li>
<li><code>release</code> : de <code>develop</code> vers <code>develop</code> et <code>master</code></li>
<li><code>hotfix</code> : de <code>master</code> vers <code>develop</code> et <code>master</code></li>
</ul>
<p>Si les développeurs doivent faire un <code>hotfix</code> sur la version 2.7 du framework (correction de sécurité), ils ne peuvent pas créer la branche concernée à partir du master puisqu’ils sont déjà en version 3 à cet endroit.</p>
<p>Ils ne peuvent pas non plus réappliquer les corrections sur <code>master</code> et <code>develop</code> puisqu’en version 3 le code à pu changer du tout au tout et ne serait pas forcément compatible.</p>
<p>Et puis comment représenter ces deux versions simultanées dans l’index de notre projet ?</p>
<h3>La branche support</h3>
<p>Il y a une règle moins connue de ce workflow qui peut résoudre notre problème.</p>
<p>Il existe un quatrième type de branche dérivée de <code>master</code>et <code>develop</code>: la branche <code>support</code>.</p>
<p>C’est tout simple :</p>
<ul>
<li>La branche <code>support</code> se crée à partir de la branche <code>master</code> sous le format suivant <code>support/2.7.x</code>. Le point de départ doit être le dernier commit de la version 2.7 du projet et non le commit le plus récent de la branche <code>master</code></li>
<li>Lorsque vous avez une mise à jour de sécurité à faire sur la version 2.7 vous créez la branche <code>hotfix/2.7.1</code> depuis la branche <code>support/2.7.x</code> comme s’il s’agissait du master. C’est en fait le master de la version 2.7 maintenue.</li>
<li>Lorsque la correction est terminée vous faites un merge de votre <code>hotfix</code> sur la branche <code>support</code>.</li>
<li>Vous supprimez la branche de <code>hotfix</code> et vous taggez <code>v2.7.1</code> sur la branche <code>support/2.7.x</code></li>
</ul>
<p>Dans le projet on a donc :</p>
<ul>
<li><code>master</code> =&gt; en version 3.0</li>
<li><code>develop</code> =&gt; en cours de développement de la version 3.1</li>
<li><code>support/2.7.x</code> =&gt; en version 2.7</li>
<li><code>feature/...</code></li>
<li><code>release/...</code></li>
<li><code>hotfix/...</code></li>
</ul>
<hr/>
<h2>Git rebase, qu’est-ce que c’est ?</h2>
<p>Imaginez un arbre. Un arbre a des branches (normal). Imaginez que vous teniez un sécateur entre vos mains. D’un geste plein de prestance, vous coupez une branche juste à l’endroit ou elle se sépare du tronc. Aussitôt, vous la re-greffez sur ce même tronc, mais à un emplacement différent. Vous obtenez donc le même arbre, avec la même quantité totale de bois, mais vous avez simplement déplacé une branche.</p>
<p>Voilà, c’est tout simplement ça, git rebase. Sauf qu’au lieu de déplacer du bois, on déplace des listes de commits.</p>
<h2>Git rebase avec un dessin</h2>
<p>Ok, pour que ça soit plus clair, je vais vous faire un dessin. Je vais partir du cas classique ou, depuis ma branche de développement principale (<code>master</code>), j’ai créé une branche <code>discussion</code>, parce que je dois implémenter un système de discussion quelconque.</p>
<p>Voici à quoi peut ressembler l’historique en question, d’un point de vue schématique.</p>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset:linenumber NaN" class="language-text line-numbers"><code class="language-text">A---B---C---D ← master
     \
      E---F---G ← discussion</code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span></span></pre></div>
<p>Si je réalise une fusion classique au moyen de la commande <code>git merge</code>, j’obtiendrai le nouvel historique suivant :</p>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset:linenumber NaN" class="language-text line-numbers"><code class="language-text">A---B---C---D---H ← master
     \         /
      E---F---G ← discussion</code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span></span></pre></div>
<p>Une autre solution est de transplanter ma branche <code>discussion</code> sur la pointe de <code>master</code>. Je prends la branche et je la recolle plus loin. On obtient alors :</p>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset:linenumber NaN" class="language-text line-numbers"><code class="language-text">A---B---C---D ← master
             \
              E---F---G ← discussion</code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span></span></pre></div>
<p>Notez que rebaser <code>discussion</code> n’a strictement aucun effet sur <code>master</code>. En revanche, la fusion de <code>discussion</code> dans <code>master</code> est maintenant triviale (fast forward). On obtient enfin :</p>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset:linenumber NaN" class="language-text line-numbers"><code class="language-text">A---B---C---D---E---F---G ← master
                         \
                          discussion</code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span></span></pre></div>
<p>Avant de se demander à quoi ça sert, soyez certain de bien comprendre ce que ça fait. On prend une branche, et on la met autre part. Pas très compliqué, finalement, n’est-ce pas ?</p>
<h2>Bon, ok, mais à quoi ça sert ?</h2>
<p>C’est là ou le <code>rebase</code> est sous employé. Nous venons de voir un exemple d’utilisation trivial. Étudions quelques cas pratiques.</p>
<h3>Éviter les commits de fusion pour les branches triviales</h3>
<p>Quand on travaille avec Git, on a tendance à créer beaucoup de petites branches, ce qui est une bonne chose. Par contre, fusionner des branches créé des commits de fusion, comme dans notre exemple précédent.</p>
<p>Si vous créez <em>beaucoup</em> de petites branches, vous allez obtenir <em>beaucoup</em> de commits de fusion. Dans la mesure où ces commits n’apportent pas d’information utile, ils polluent votre historique.</p>
<p>En <em>rebasant</em> vos branches avant de les fusionner, vous obtiendrez un historique tout plat et bien plus agréable à parcourir. Prenons un exemple.</p>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset:linenumber NaN" class="language-text line-numbers"><code class="language-text">          F---G ← bug2
         /
A---B---E---H---I ← master
     \
      C---D ← bug1</code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>En utilisant un <code>rebase</code> avant chaque fusion, on obtient l’historique suivant :</p>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset:linenumber NaN" class="language-text line-numbers"><code class="language-text">A---B---E---H---I---C---D---F---G ← master</code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span></span></pre></div>
<p>Les commandes pour parvenir à ce résultat sont les suivantes, explications juste après.</p>
<ol>
<li><code>git rebase master bug1</code></li>
<li><code>git checkout master</code></li>
<li><code>git merge bug1</code></li>
<li><code>git branch -d bug1</code></li>
<li><code>git rebase master bug2</code></li>
<li><code>git checkout master</code></li>
<li><code>git merge bug2</code></li>
<li><code>git branch -d bug2</code></li>
</ol>
<p>Et le détail des commandes.</p>
<ol>
<li>Transplante <code>bug1</code> sur l’actuelle branche <code>master</code>. Si on est déjà en train de bosser sur bug1 on peut se contenter de taper <code>git rebase master</code></li>
<li>Switche sur <code>master</code></li>
<li>Fusionne <code>bug1</code> dans <code>master</code></li>
<li>Supprime la branche <code>bug1</code> devenue inutile</li>
<li>Transplante <code>bug2</code> sur la branche <code>master</code></li>
<li>Switche sur <code>master</code></li>
<li>Fusionne <code>bug2</code> dans <code>master</code></li>
<li>Supprime <code>bug2</code> devenue inutile.</li>
</ol>
<p>Et voilà un bel historique bien propre, exempt de commits de fusion inutiles.</p>
<p>Ça paraît laborieux mais avec l’habitude, ça se fait tout seul et c’est même plutôt amusant (je sais, un rien m’amuse).</p>
<h3>Fusionner les branches en série</h3>
<p>Prenons exactement le même exemple que précédemment, sauf que cette fois, nous ne fusionnons pas des petites branches triviales mais de vraies fonctionnalités.</p>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset:linenumber NaN" class="language-text line-numbers"><code class="language-text">          F---G ← newsletter
         /
A---B---E---H---I ← master
     \
      C---D ← password_reset</code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Un historique plat, c’est bien, mais on perd de l’information. Plus moyen de savoir en un coup d’œil que telle liste de commits a été réalisée sur une branche spécifique.</p>
<p>Pour pallier à ce problème, on va utiliser une option de merge : <code>--no-ff</code> (pour « no fast forward »).</p>
<p>D’abord, les commandes.</p>
<div class="gatsby-highlight" data-language="bash"><pre style="counter-reset:linenumber NaN" class="language-bash line-numbers"><code class="language-bash"><span class="token function">git</span> rebase master password_reset
<span class="token function">git</span> checkout master
<span class="token function">git</span> merge password_reset --no-ff
<span class="token function">git</span> branch -d password_reset
<span class="token function">git</span> rebase master newsletter
<span class="token function">git</span> checkout master
<span class="token function">git</span> merge newsletter --no-ff
<span class="token function">git</span> branch -d newsletter</code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>On obtient alors l’historique suivant, bien plus clair. De plus, les commits “J” et “K” afficheront un message “branch machin was merged into master”, ce qui fait que, même si les branches ont effectivement été supprimées, l’historique conserve une trace de leur existence.</p>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset:linenumber NaN" class="language-text line-numbers"><code class="language-text">A---B---E---H---I-------J-------K ← master
                 \     / \     /
                  C---D   F---G</code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span></span></pre></div>
<h3>Éviter les commits de fusion de <code>git pull</code></h3>
<p>Lorsque vous tapez git pull pour mettre à jour votre dépôt avec les derniers commits présents sur le serveur, Git va réaliser un merge pour fusionner vos modifications et celles que vous venez de récupérer.</p>
<p>Sur le serveur.</p>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset:linenumber NaN" class="language-text line-numbers"><code class="language-text">A---B---C---D---E ← master</code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span></span></pre></div>
<p>Sur votre machine.</p>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset:linenumber NaN" class="language-text line-numbers"><code class="language-text">          origin/master
         /
A---B---C---F ← master</code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span></span></pre></div>
<p>Après un <code>git pull</code>.</p>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset:linenumber NaN" class="language-text line-numbers"><code class="language-text">          D---E ← origin/mastel
         /     \
A---B---C---F---G ← master</code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span></span></pre></div>
<p>Vous pourrez alors envoyer votre travail sur le serveur avec un <code>git push</code>.</p>
<p>Imaginez maintenant dix personnes qui travaillent sur la même branche (c’est très mal) et qui pushent et pullent toutes les cinq minutes. Vous imaginez la tronche de l’historique ?</p>
<p>Pour éviter ce problème, on va utiliser l’option <code>git pull --rebase</code>, qui produira le résultat suivant.</p>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset:linenumber NaN" class="language-text line-numbers"><code class="language-text">                  origin/master
                 /
A---B---C---D---E---F ← master</code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span></span></pre></div>
<p>Et hop ! Encore une fois, un bel historique nickel. Merci Git !</p>
<h3>Réparer un mauvais historique</h3>
<p>Scénario : j’ai créé une branche <code>newsletter</code> pour travailler sur la fonctionnalité correspondante. J’ai également créé une branche <code>bug_urgent</code> pour corriger un bug qui doit être fixé urgemment, comme son nom l’indique.</p>
<p>Sauf que, au moment de fusionner ma branche <code>bug_urgent</code>, horreur ! malheur ! je m’aperçois que je n’ai pas créé ma branche au bon endroit. Mon historique ressemble à ça.</p>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset:linenumber NaN" class="language-text line-numbers"><code class="language-text">A---B---H---I---J ← master
     \
      C---D---G ← newsletter
           \
            E---F ← bug_urgent</code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Catastrophe ! Ma branche <code>newsletter</code> est un travail en cours, mais <code>bug_urgent</code> doit absolument être fusionnée dans master, le commercial a une démo dans 5 minutes. Comment faire ?!</p>
<p>Git rebase à la rescousse ! Nous allons simplement transplanter <code>bug_urgent</code> sur <code>master</code>, et le tour est joué.</p>
<div class="gatsby-highlight" data-language="bash"><pre style="counter-reset:linenumber NaN" class="language-bash line-numbers"><code class="language-bash"><span class="token function">git</span> rebase newsletter bug_urgent --onto master
<span class="token function">git</span> checkout master
<span class="token function">git</span> merge bug_urgent</code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span></span></pre></div>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset:linenumber NaN" class="language-text line-numbers"><code class="language-text">A---B---H---I---J---E---F ← master
     \
      C---D---G ← newsletter</code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span></span></pre></div>
<p>Vous noterez que l’appel de la commande <code>rebase</code> est ici un poil plus compliqué. Si nous nous étions contenté de la syntaxe habituelle <code>git rebase master</code>, nous aurions transplanté tous les commits de la branche <code>bug_urgent</code> en remontant jusqu’à <code>master</code>, c’est à dire les commits E et F, mais aussi C et D, ce qui n’est clairement pas le but.</p>
<p>La commande <code>git rebase newsletter bug_urgent --onto master</code> signifie “arrache la branche qui part de <code>newsletter</code> jusqu’à <code>bug_urgent</code>, et mets la sur <code>master</code>”, ou encore “transplante sur <code>master</code> tous les commits qui sont sur <code>bug_urgent:postlink:</code> mais pas sur <code>newsletter</code>“.</p>
<h3>Réparer un mauvais historique, bis</h3>
<p>Autre exemple d’historique généré un soir de bourre.</p>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset:linenumber NaN" class="language-text line-numbers"><code class="language-text">A---B---H---I ← master
     \
      C---D---G ← bug1
       \
        E---F ← bug2</code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Or, il se trouve que les branches bug1 et bug2 sont totalement indépendantes. L’une sera peut-être fusionnée avant l’autre, ou abandonnée, on ne sait pas. Nous allons donc réparer cette bévue prestement.</p>
<div class="gatsby-highlight" data-language="bash"><pre style="counter-reset:linenumber NaN" class="language-bash line-numbers"><code class="language-bash"><span class="token function">git</span> rebase bug1 bug2 --onto B</code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span></span></pre></div>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset:linenumber NaN" class="language-text line-numbers"><code class="language-text">      E---F ← bug2
     /
A---B---H---I ← production
     \
      C---D---G ← bug1</code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Et voilà ! Notez qu’on peut transplanter à n’importe quel endroit, pas forcément sur une branche (ce qui est normal, puisqu’une branche n’est rien d’autre qu’une étiquette pointant sur un commit).</p>
<h3>Faciliter l’intégration de branches</h3>
<p>Scénario : je travaille sur une fonctionnalité qui nécessite plusieurs semaines de dev. J’ai donc une branche qui va évoluer pendant un long moment avant d’être fusionnée.</p>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset:linenumber NaN" class="language-text line-numbers"><code class="language-text">A---B---H---I--- … ---J---E---F ← master
      \
       C---D---G--- … ---H---I ← newsletter</code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span></span></pre></div>
<p>Si les branches divergent suffisamment, il est probable que le moment de la fusion va être assez pénible, avec des conflits à résoudre en pagaille. Une mauvaise journée en perspective.</p>
<p>Sauf si, j’ai rebasé ma branche tous les matins en buvant mon café. Je corrige ainsi les conflits au fil de l’eau. Au bout de trois mois, voici mon historique :</p>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset:linenumber NaN" class="language-text line-numbers"><code class="language-text">A---B---H---I--- … ---J---E---F ← master
                               \
                                C---D---G--- … ---H---I ← newsletter</code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span></span></pre></div>
<p>J’ai beau avoir trois mois de dev dans les pattes, la fusion est triviale et ne prend pas plus d’un quart de seconde. Merci git rebase.</p>
<h2>Rebase interactif</h2>
<p>Allez, on va arrêter de rigoler et sortir la grosse artillerie. Parce que git rebase dispose d’une petite option sympathique : l’option interactive. Quand je lui passe cette option, l’éditeur s’ouvre et je peux éditer un fichier en précisant ce que je veux faire de chaque commit en moment de son application. Exemple.</p>
<p>Voici un exemple d’historique standard (les commits les plus récents en haut).</p>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset:linenumber NaN" class="language-text line-numbers"><code class="language-text">* 4baf2db - Write tests for discussion
* 0fadd04 - Implement discussion
* 8be3c7e - Write tests for newsletter
* bce2851 - Implement newsletter
* 6477e21 - …</code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Tout va bien dans le meilleur des mondes. Quand tout à coup ! on m’annonce qu’un audit va être réalisé pour vérifier si les employé(e)s respectent bien la politique qualité de l’entreprise. Cette politique stipule que je suis censé commiter les tests d’une feature avant de commiter le code correspondant.</p>
<p>Et mince ! adieu ma prime ! Git rebase interactif à la rescousse.</p>
<div class="gatsby-highlight" data-language="bash"><pre style="counter-reset:linenumber NaN" class="language-bash line-numbers"><code class="language-bash"><span class="token function">git</span> rebase -i HEAD~4</code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span></span></pre></div>
<p>Cette commande signifie “arrache les quatre derniers commits et transplante les au même endroit”. En théorie, c’est une opération nulle SAUF qu’on va le faire de manière interactive.</p>
<p>Immédiatement après avoir tapé la commande, l’éditeur s’ouvre et affiche quelque chose comme ça :</p>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset:linenumber NaN" class="language-text line-numbers"><code class="language-text">pick 4baf2db Write tests for discussion
pick 0fadd04 Implement discussion
pick 8be3c7e Write tests for newsletter
pick bce2851 Implement newsletter</code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span></span></pre></div>
<p>Les modifications que je vais réaliser dans ce fichier vont influer sur la manière dont mon rebase va se passer. En l’occurence, je vais effectuer cette simple modification.</p>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset:linenumber NaN" class="language-text line-numbers"><code class="language-text">pick 0fadd04 Implement discussion
pick 4baf2db Write tests for discussion
pick bce2851 Implement newsletter
pick 8be3c7e Write tests for newsletter</code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span></span></pre></div>
<p>J’ai simplement modifié l’ordre des lignes. J’enregistre et quitte l’éditeur. Et magie ! Mes commits ont été réappliqués dans l’ordre indiqué. À moi la prime ! Notez que de nombreuses possibilités s’offrent à moi. J’aurais pu découper un commit en plusieurs ou au contraire en rassembler plusieurs en un seul ; ignorer des commits ; récupérer des commits tels quels mais modifier le message ; etc.</p>
<h2>Pièges à éviter</h2>
<h3>WARNING ATTENTION ACHTUNG</h3>
<p>Si vous voulez vous essayer au git rebase, lisez bien attentivement les paragraphes qui suivent. À peu près aucune commande de l’environnement Git n’a un plus grand pouvoir de nuisance que <code>git rebase</code>.</p>
<p>Parce qu’un rebase réécrit votre historique, et que ce n’est pas toujours une opération triviale. Si vous foirez votre coup, vous avez les moyens de franchement flinguer votre historique — rien d’irrécupérable, mais quand même de quoi passer un mauvais moment.</p>
<h3>Git rebase ne déplace pas vraiment des commits</h3>
<p>Quand je vous ai dit que rebase déplaçait des commits, j’ai menti (c’était pour votre bien). Il est strictement impossible de modifier un commit existant, pour la pure et simple raison qu’un commit est indexé par le hash de son contenu.</p>
<p>Reprenons la métaphore de l’arbre, toujours avec ses branches. Scannez une branche et utilisez une imprimante 3d pour en effectuer une copie la plus fidèle possible. Collez cette copie quelque part sur le tronc. Utilisez une cape d’invisibilité pour masquer la branche d’origine. Voilà, en vrai, c’est ça git rebase.</p>
<p>Ce que fait <code>git rebase</code>, c’est qu’il copie tous les commits transplantés et les réapplique un par un à l’endroit indiqués. Mais il s’agit bel et bien de nouveaux commits, avec des identifiants différents, même si le contenu est le même.</p>
<p>Reprenons notre exemple de tout à l’heure.</p>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset:linenumber NaN" class="language-text line-numbers"><code class="language-text">A---B---C---D ← master
     \
      E---F---G ← discussion</code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span></span></pre></div>
<p>Si je rebase <code>discussion</code> sur <code>master</code>, ce qu’il se passe réellement ressemble plutôt à ça :</p>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset:linenumber NaN" class="language-text line-numbers"><code class="language-text">              E&#x27;---F&#x27;---G&#x27; ← discussion
             /
A---B---C---D ← master
     \
      E---F---G</code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Ainsi, les commits de l’ancienne branche <code>discussion</code> existent toujours, même s’ils sont invisibles car pointés par aucune branche. Les commits de la nouvelle branche <code>discussion</code> sont bels et biens différents.</p>
<h3>L’historique partagé jamais tu ne repasseras</h3>
<p><img src="https://cdn-images-1.medium.com/max/1600/1*MOJPqQhY-JokxSXhExq5dw.jpeg"/></p>
<p>Tant que vous rebasez vos petites branches en local, tout va bien. Mais <span style="color:red">attention</span>, si vous rebasez une branche qui se trouve déjà sur le serveur, c’est la catastrophe. Vous allez pourrir l’historique de tous vos coworkeurs, qui s’empresseront de vous couvrir de goudron et de plume avant d’essayer de vous vendre <span style="color:red">aux abattoirs d’un KFC</span>.</p>
<p>Sur le serveur.</p>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset:linenumber NaN" class="language-text line-numbers"><code class="language-text">A---B---C---D---E ← master
         \
          F---G---H ← feature</code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span></span></pre></div>
<p>Sur votre machine.</p>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset:linenumber NaN" class="language-text line-numbers"><code class="language-text">A---B---C---D---E ← master</code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span></span></pre></div>
<p>Vous rebasez les 4 derniers commits de master (comble de l’horreur).</p>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset:linenumber NaN" class="language-text line-numbers"><code class="language-text">A---B&#x27;---C&#x27;---D&#x27;---E&#x27; ← master</code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span></span></pre></div>
<p>Vous poushez. Git affiche un message d’erreur, mais vous utilisez l’option “force” pour pousSer quand même. Ni Dieu Ni Maître !</p>
<p>Sur le serveur.</p>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset:linenumber NaN" class="language-text line-numbers"><code class="language-text">  B&#x27;---C&#x27;---D&#x27;---E&#x27; ← master
 /
A---B---C---D---E
         \
          F---G---H ← feature</code><span aria-hidden="true" class="line-numbers-rows" style="white-space:normal;width:auto;left:0"><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Wat ?! Imaginez le résultat quand vos collègues essayeront de récupérer les données du serveur. Ça ne va pas être joli et très franchement, je vous souhaite bon courage.</p>
<p>Notez donc bien soigneusement cette règle d’or de l’utilisation de rebase :</p>
<blockquote>
<p>L’historique partagé jamais tu ne modifieras, sinon l’ire de ton équipe tu subiras.</p>
</blockquote>
<hr/>
<h2>Merge ou Rebase ?</h2>
<p>Le choix entre ces deux méthodes dépend du nombre de branches à synchroniser et du nombre de corrections traitant sur un même périmètre technique. En effet, suite à un merge de plusieurs branches, le graphe historique serait difficile à comprendre. Dans la mesure où les commits de fusion n’apportent pas d’information utile, ils polluent l’historique. Et si, par exemple, plusieurs corrections sont réalisées sur une même fonction, c’est pénible de rejouer tous les commits de rebase.</p>
<ul>
<li>Exemple 1 : Quand un <strong>travail local</strong> est considéré comme <strong>partant d’une base obsolète</strong>. Cela peut arriver plusieurs fois par jour, quand on essaie d’envoyer au remote nos commits locaux, pour découvrir que notre version de la branche distante trackée (par exemple origin/master) date : depuis notre dernière synchro avec le remote, quelqu’un a déjà envoyé des évolutions de notre branche au serveur, du coup notre propre travail part d’une base plus ancienne, et l’envoyer tel quel au serveur reviendrait à écraser le travail récent des copains. C’est pourquoi push nous enverrait promener. <strong>Un merge (git pull) n’est pas idéale, car elle ajoute du bruit</strong>, des remous, dans le graphe de l’historique, alors qu’en fait c’est juste un coup de pas de bol dans la séquence de travail sur cette branche. Dans un monde idéal, j’aurais fait mon boulot après les autres, sur une base à jour, et la branche serait restée bien linéaire. Dans ce cas, il est préférable d’utiliser une rebase (git pull –rebase).</li>
<li>Exemple 2 : La branche ref_branche représente un sprint ou une story en méthodologie agile, ou encore un ticket d’incident (issue ou bug) précis, identifié dans la gestion de tâches. Il est alors préférable d’utiliser la méthode merge.</li>
<li>Exemple 3 : La branche ref_branche est dédiée pour la correction des anomalies sur la production. Il faut alors utiliser la méthode merge car il est difficile de faire un rebase si plusieurs corrections sont réalisées sur un même périmètre.</li>
</ul></div></section><footer class="postFullFooter-module--container--2PA5n"><section class="authorCard-module--authorCardSection--3Xspq"><style data-emotion-css="2785xc">.css-2785xc{display:block;background:#e4eaed;border-radius:100%;object-fit:cover;margin-right:15px;width:60px;height:60px;}</style><img src="/static/5f2c129e42248a92c87b13b4293950cf/d786d/ghost.png" alt="ludo" class="css-2785xc"/><section class="authorCard-module--authorCardContent--3jBBV"><div class="authorCard-module--authorCardName--3HnMH"><a href="/author/ludo/">Ludovic Wyffels</a></div><p>Développeur senior. Fullstack + DevOps</p></section></section><div class="postFullFooterRight-module--container--1A7hv"><a class="postFullFooterRight-module--authorCardButton--2Zo5V" href="/author/ludo/">Read More</a></div></footer></article></div></main><style data-emotion-css="1x0l29j">.css-1x0l29j{position:relative;padding:0 4vw;}</style><aside class="read-next css-1x0l29j"><style data-emotion-css="s2cjas">.css-s2cjas{margin:0 auto;max-width:1040px;width:100%;}</style><div class="css-s2cjas"><div class="ReadNextFeed"><style data-emotion-css="82u30w">.css-82u30w{background-image:url(/static/9fb9647467dab072b9ebe36e9e52ae95/a41d1/blog-cover.jpg);}</style><article class="readNextCard-module--container--J4I2n css-82u30w el9ui1o0"><header class="readNextCard-module--ReadNextCardHeader--3M6PZ"><small class="readNextCard-module--ReadNextCardHeaderSitetitle--1FkpC">— <!-- -->Code avec Ludo<!-- --> —</small><h3 class="readNextCard-module--ReadNextCardHeaderTitle--3qnwx"><a href="/tags/git/">Git</a></h3></header><div class="readNextCard-module--ReadNextDivider--1WD0f"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Infinity</title><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"></path></svg></div><div class="readNextCard-module--ReadNextCardContent--phuA0"><ul><li><a href="/git-changeGitOfCommit/">Changer la date d&#x27;un commit</a></li><li><a aria-current="page" class="" href="/git-flow/">GitFlow</a></li><li><a href="/git-husky/">Git hooks avec Husky</a></li></ul></div><footer class="readNextCard-module--ReadNextCardFooter--jt8zz"><a href="/tags/git/">See all 6 posts<!-- --> →</a></footer></article><article class="postCard-module--container--3MBpY post-card "><a class="post-card-image-link postCard-module--PostCardImageLink--1-_rO" href="/angular-dynamic-environment/"><div class="post-card-image postCard-module--PostCardImage--1ooSS"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;height:100%"><div aria-hidden="true" style="width:100%;padding-bottom:66.640625%"></div><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAQFA//EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAGSyjpVIQD/xAAaEAEBAQADAQAAAAAAAAAAAAACAQMAERIh/9oACAEBAAEFAsR700BMKlkvVeifBPn/xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPwFX/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERIf/aAAgBAgEBPwHIRH//xAAbEAACAgMBAAAAAAAAAAAAAAAAARExAhASIv/aAAgBAQAGPwJJ0dYyoepR6ZZ//8QAGRABAQEBAQEAAAAAAAAAAAAAAQARMUEh/9oACAEBAAE/IQpM7+IwFOMhJie2P9Mlexf/2gAMAwEAAgADAAAAEMQP/8QAFREBAQAAAAAAAAAAAAAAAAAAACH/2gAIAQMBAT8QiH//xAAXEQADAQAAAAAAAAAAAAAAAAAAAREh/9oACAECAQE/EE6KaW2H/8QAGhABAQEAAwEAAAAAAAAAAAAAAREAITFBcf/aAAgBAQABPxB44qsZZqokmpY+XKXwX5l59YPJhhB4CazDXo3/2Q==" alt="Gestion des environnements Angular en livraison continue cover image" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/fc4a9d82e0465367f3d289f60d0b6834/2f037/bloom.jpg 930w,
/static/fc4a9d82e0465367f3d289f60d0b6834/ec6c5/bloom.jpg 1280w" sizes="(max-width: 1280px) 100vw, 1280px" /><img loading="lazy" sizes="(max-width: 1280px) 100vw, 1280px" srcset="/static/fc4a9d82e0465367f3d289f60d0b6834/2f037/bloom.jpg 930w,
/static/fc4a9d82e0465367f3d289f60d0b6834/ec6c5/bloom.jpg 1280w" src="/static/fc4a9d82e0465367f3d289f60d0b6834/ec6c5/bloom.jpg" alt="Gestion des environnements Angular en livraison continue cover image" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></div></a><div class="post-card-content postCard-module--PostCardContent--LjkYR"><a class="postCard-module--PostCardContentLink--37umd" href="/angular-dynamic-environment/"><header><span class="postCard-module--PostCardTags--jyRjj"><span>#<!-- -->Angular<!-- --> </span><span>#<!-- -->Typescript<!-- --> </span></span><h2 class="postCard-module--PostCardTitle--1JrkM">Gestion des environnements Angular en livraison continue</h2></header><section class="postCard-module--PostCardExcerpt--3gUSF"><p>Dans les applications métiers, nous rencontrons souvent une configuration de livraison continue comportant plusieurs stages. Chaque étape a…</p></section></a><footer class="postCard-module--PostCardMeta--2EEJ7"><ul class="postCard-module--AuthorList--12tT0"><li class="postCard-module--AuthorListItem--32xbX"><div class="postCard-module--AuthorNameTooltip--1xdhE">Ludovic Wyffels</div><a class="postCard-module--StaticAvatar--3PQRl" href="/author/ludo/"><img class="postCard-module--AuthorProfileImage--31jei" src="/static/5f2c129e42248a92c87b13b4293950cf/d786d/ghost.png" alt="ludo"/></a></li></ul><span class="postCard-module--ReadingTime--3LVUu">11<!-- --> min read</span></footer></div></article></div></div></aside><footer class="outer, footer-module--siteFooter--1ncU1"><div class="inner, footer-module--content--3f5hY"><section class="copyright"><a href="/">Code avec Ludo</a> © <!-- -->2020<!-- --> </section><nav><a href="/">Latest Posts</a><a href="https://github.com/ludovicwyffels" target="_blank" rel="noopener noreferrer">Github</a></nav></div></footer></div></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/git-flow/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-2811c33832a41d9a9804.js"],"component---src-templates-index-tsx":["/component---src-templates-index-tsx-7a1ea2f0d9cd47431c4b.js"],"component---src-templates-post-tsx":["/component---src-templates-post-tsx-e9b66a8460093a7b940c.js"],"component---src-templates-tags-tsx":["/component---src-templates-tags-tsx-6cbb76a171b572aa2e87.js"],"component---src-templates-category-tsx":["/component---src-templates-category-tsx-e8309e6a61290c6790dd.js"],"component---src-templates-author-tsx":["/component---src-templates-author-tsx-ee74d1e20160784cf6a0.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-bd80cb39514a8e1265f9.js"],"component---src-pages-about-tsx":["/component---src-pages-about-tsx-58d7ccefad5c9c1d57d3.js"]};/*]]>*/</script><script src="/component---src-templates-post-tsx-e9b66a8460093a7b940c.js" async=""></script><script src="/commons-155eaf7cdaa187e7e4cf.js" async=""></script><script src="/styles-ace6d5b88bde5d7152a6.js" async=""></script><script src="/app-2811c33832a41d9a9804.js" async=""></script><script src="/webpack-runtime-69f341a2c9ac0252ba5d.js" async=""></script></body></html>