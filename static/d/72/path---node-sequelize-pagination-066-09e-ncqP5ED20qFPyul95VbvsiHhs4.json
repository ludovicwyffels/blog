{"data":{"logo":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsSAAALEgHS3X78AAABFUlEQVQY023PvUrDUBTA8ZuCtoMoOLQ4dWhN14x2kEKXFkGoohQ/QBexOHRycAidKkgHHRq69APRoTjFJYODIA6+gSBYfYMmfYLE/5VT6NALP845NyeHc9UoCHZRQvonCLKKE4ZhAXYURTsYoE9dIy5iCzfUJnEdV+RF4iu6ikFH2EPxazzOcJmg4Rnn5C8ysIEOHqTe5/sT3qXOwYOtRr5/wLAqzpCTDXu4p2ETtyjgGJ/cX+se8jeU9fa4RBt5vWENpjzdkoGPcGg4RQsbOMEFmnBRRwVDHEK/yFXfvr/CoPjvZLKcdByDyzWGeajigzorGy0oOeRJiUtITe/pX1XzDk3buIMltSFR/zTtic3060X+8z8PsEUt8G3LVQAAAABJRU5ErkJggg==","width":400,"height":128,"src":"/static/2b5eaa0de166a8b5faebad4955c2200c/140ea/ghost-logo.png","srcSet":"/static/2b5eaa0de166a8b5faebad4955c2200c/140ea/ghost-logo.png 1x"}}},"markdownRemark":{"html":"<h1>Comment paginer des enregistrements dans MySQL avec Sequelize et Nodejs</h1>\n<p>Souvent, je me trouve aux prises avec Sequelize pour trouver une réponse directe à ma requête. Récemment, je travaillais sur une application full stack dans laquelle il était impératif de paginer les résultats depuis le backend (API REST) vers le client. Je me suis battu pour deux raisons. Tout d’abord, venant du context NoSQL, il est difficile de saisir les bases de données SQL. La deuxième raison étant que la documentation de Sequelize ne fournit pas une solution claire et directe à cette abstraction très basique. Beaucoup de gens supposent des choses dans le monde des bases de données SQL.</p>\n<p>Ainsi, dans cet article, nous allons parler d’un module de base de pagination utilisant Sequelize, MySQL et Node.js. J’utilise des tables et des enregistrements dans votre base de données MySQL. Pour configurer une nouvelle application et établir une connexion à une base de données, lisez mon post sur <code class=\"language-text\">Premiers pas avec Sequelize</code>.</p>\n<h2>Définir un modèle</h2>\n<p>Je saute directement sur la définition du modèle utilisateur:</p>\n<p>J’utilise une table contenant une centaine d’enregistrement d’utilisateur que nous voulons afficher sur une application Web, par exemple dans le panneau d’administration, et nous voulons afficher seulement 50 enregistrements à la fois.</p>\n<p>Dans le fichier <code class=\"language-text\">api/user.js</code>, je définis un endpoint <code class=\"language-text\">/:page</code> qui extraira le nombre de résultats nécessaires de la base de données.</p>\n<p><code class=\"language-text\">findAndCountAll</code> est le modèle de recherche dans plusieurs enregistrements de la base de données. Il retourne à la fois les données requises et le nombre d’éléments de cette table. La requête ci-dessus obtiendra 50 enregistrements d’utilisateur à la fois jusqu’à ce que la page suivante soit appelée pour extraire les 50 prochains enregistrements. <code class=\"language-text\">limit</code> et <code class=\"language-text\">offset</code> sont nécessaires dans les requêtes liées à la pagination dans lesquelles <code class=\"language-text\">limit</code> extrait le nombre de lignes en fonction de la requête, tandis que <code class=\"language-text\">offset</code> est utilisé pour ignorer le nombre</p>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"Comment paginer des enregistrements dans MySQL avec Sequelize et Nodejs"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Souvent, je me trouve aux prises avec Sequelize pour trouver une réponse directe à ma requête. Récemment, je travaillais sur une application full stack dans laquelle il était impératif de paginer les résultats depuis le backend (API REST) vers le client. Je me suis battu pour deux raisons. Tout d’abord, venant du context NoSQL, il est difficile de saisir les bases de données SQL. La deuxième raison étant que la documentation de Sequelize ne fournit pas une solution claire et directe à cette abstraction très basique. Beaucoup de gens supposent des choses dans le monde des bases de données SQL."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Ainsi, dans cet article, nous allons parler d’un module de base de pagination utilisant Sequelize, MySQL et Node.js. J’utilise des tables et des enregistrements dans votre base de données MySQL. Pour configurer une nouvelle application et établir une connexion à une base de données, lisez mon post sur "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Premiers pas avec Sequelize"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Définir un modèle"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Je saute directement sur la définition du modèle utilisateur:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"J’utilise une table contenant une centaine d’enregistrement d’utilisateur que nous voulons afficher sur une application Web, par exemple dans le panneau d’administration, et nous voulons afficher seulement 50 enregistrements à la fois."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Dans le fichier "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"api/user.js"}]},{"type":"text","value":", je définis un endpoint "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"/:page"}]},{"type":"text","value":" qui extraira le nombre de résultats nécessaires de la base de données."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"findAndCountAll"}]},{"type":"text","value":" est le modèle de recherche dans plusieurs enregistrements de la base de données. Il retourne à la fois les données requises et le nombre d’éléments de cette table. La requête ci-dessus obtiendra 50 enregistrements d’utilisateur à la fois jusqu’à ce que la page suivante soit appelée pour extraire les 50 prochains enregistrements. "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"limit"}]},{"type":"text","value":" et "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"offset"}]},{"type":"text","value":" sont nécessaires dans les requêtes liées à la pagination dans lesquelles "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"limit"}]},{"type":"text","value":" extrait le nombre de lignes en fonction de la requête, tandis que "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"offset"}]},{"type":"text","value":" est utilisé pour ignorer le nombre"}]}],"data":{"quirksMode":false}},"excerpt":"Comment paginer des enregistrements dans MySQL avec Sequelize et Nodejs Souvent, je me trouve aux prises avec Sequelize pour trouver une…","timeToRead":1,"frontmatter":{"title":"Comment paginer des enregistrements dans MySQL avec Sequelize et Nodejs","subtitle":"","userDate":"13 October 2018","date":"2018-10-13T08:00:00.000Z","tags":["Node","Sequelize","Javascript"],"twittertags":["Node","Sequelize","Javascript"],"image":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsSAAALEgHS3X78AAABkUlEQVQY02P4++fP//9/P/z603Xr84FXP/7///cPKEQcYPj979+KZz8sD72T2PtRYc+77IufH/z69//f33///kFU/P79G5MBZAIRw6TTz/hWPNTe+1Z2znmtFdeltr50mXXww9v3n758AyoBugPolr9/QY4Bsn/9/v3z589/YKOBJEP1pqsO006qte3k7DrI3bDdKW9yam7nvsPnzl+58/b9x5ev3j14/OLdh09fvnx79fb92Yu37t5/+vT5ayB69/4TQ8PWa66zz8g27xQrWycR3WVbOCO7fNKZi7eA+mcs3LxkzZ4V6/dt3H5k667js5dsW7p27/Y9J1dvOjh78db9Ry8yVGy8ath9KHzqPvHqTaZ5M4LT232iq+89fPb46ctb9568evP+2Jlrl67evf/w+YPHz1+8evfw8Ys7D54+ePTizbuPDPdff05eet55+qnwvh0RCXXByU3rtx4BexUK/vwBevkvmAnyKFwcyGb4B5L4t/3G67C+7V1TV7599xGs4c+vX7+hABS8SFwwgHABH7eNc8mToVIAAAAASUVORK5CYII=","aspectRatio":2.3949275362318843,"src":"/static/4e43f6130697f7922d02ffe3192ee148/5da84/sequelize.png","srcSet":"/static/4e43f6130697f7922d02ffe3192ee148/5da84/sequelize.png 661w","sizes":"(max-width: 661px) 100vw, 661px"}}},"author":{"id":"ludo","name":"Wyffels Ludovic","bio":"Développeur senior. Fullstack + DevOps","avatar":{"children":[{"__typename":"ImageSharp","fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAABMUlEQVQ4y2MwsXf5T03MMGogGBvbOYNpUwdXOIbJwdgwNQQNhCk0snX6r2thC8Y6QGxg7QCWA/FBcrgMxepCkAZrV6//EYmpYBydkvHfMzjiv5mj2//whJT/Nm7ecEMJGgjykp6V/f+AqLj/O/Ye+L8diA8dO/m/pbv/v72n3/+tu/f9D45N/K9naYcSFESFoRXQlSCX2rh7g/kgr1u5epIWhiAMCi/3wLD/fVNn/u+fNgtMT5g+6//kmXOB/Jn/PYLCwWrINnDijDlAPBvKJ8NAZC+DIgCkGYRBbJAYSV5GjpTte/b/PwiMkLj0nP8xqVn/Dxw9AY6kwOh40iIFlmzCgUkmKjnjvx0wdu08fMFskJi1mxfxyQY9YetAEzJyQic5YaNnPeTgIDnrjZaHJGMACtTMXoVAJ6sAAAAASUVORK5CYII=","width":400,"height":400,"src":"/static/5f2c129e42248a92c87b13b4293950cf/f6494/ghost.png","srcSet":"/static/5f2c129e42248a92c87b13b4293950cf/f6494/ghost.png 1x"}}]}}}},"relatedPosts":{"totalCount":8,"edges":[{"node":{"id":"4f266f72-8c48-54aa-b49a-5e2b81e960f8","timeToRead":1,"excerpt":"Introduction à l’ORM ORM ou Object Relation Mapping est un processus de mappage entre des objets et des systèmes de base de données…","frontmatter":{"title":"Démarrer avec Sequelize","subtitle":"Les ORM offrent aux développeurs des avantages de base, tels que la réduction du temps et des efforts et la concentration sur la logique métier."},"fields":{"slug":"/node-sequelize-intro/"}}},{"node":{"id":"5889fe1a-67d6-5bdc-aa39-eba80f9e69a4","timeToRead":3,"excerpt":"Comment utiliser la console JavaScript aller au-delà de console.log() L’un des moyens les plus simples de déboguer quoi que ce soit en…","frontmatter":{"title":"Comment utiliser la console JavaScript aller au-delà de console.log()","subtitle":"L'un des moyens les plus simples de déboguer quoi que ce soit en JavaScript consiste à `console.log` des éléments"},"fields":{"slug":"/js-console-log/"}}},{"node":{"id":"8a26f3da-bb49-55b6-8ff2-5ccf7ecc8968","timeToRead":1,"excerpt":"Comment paginer des enregistrements dans MySQL avec Sequelize et Nodejs Souvent, je me trouve aux prises avec Sequelize pour trouver une…","frontmatter":{"title":"Comment paginer des enregistrements dans MySQL avec Sequelize et Nodejs","subtitle":""},"fields":{"slug":"/node-sequelize-pagination/"}}}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/node-sequelize-pagination/","prev":{"excerpt":"Introduction à l’ORM ORM ou Object Relation Mapping est un processus de mappage entre des objets et des systèmes de base de données…","timeToRead":1,"frontmatter":{"title":"Démarrer avec Sequelize","subtitle":"Les ORM offrent aux développeurs des avantages de base, tels que la réduction du temps et des efforts et la concentration sur la logique métier.","tags":["Node","Sequelize","Javascript"],"date":"2018-10-12T08:00:00.000Z","draft":false,"image":{"childImageSharp":{"fluid":{"aspectRatio":2.3949275362318843,"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsSAAALEgHS3X78AAABkUlEQVQY02P4++fP//9/P/z603Xr84FXP/7///cPKEQcYPj979+KZz8sD72T2PtRYc+77IufH/z69//f33///kFU/P79G5MBZAIRw6TTz/hWPNTe+1Z2znmtFdeltr50mXXww9v3n758AyoBugPolr9/QY4Bsn/9/v3z589/YKOBJEP1pqsO006qte3k7DrI3bDdKW9yam7nvsPnzl+58/b9x5ev3j14/OLdh09fvnx79fb92Yu37t5/+vT5ayB69/4TQ8PWa66zz8g27xQrWycR3WVbOCO7fNKZi7eA+mcs3LxkzZ4V6/dt3H5k667js5dsW7p27/Y9J1dvOjh78db9Ry8yVGy8ath9KHzqPvHqTaZ5M4LT232iq+89fPb46ctb9568evP+2Jlrl67evf/w+YPHz1+8evfw8Ys7D54+ePTizbuPDPdff05eet55+qnwvh0RCXXByU3rtx4BexUK/vwBevkvmAnyKFwcyGb4B5L4t/3G67C+7V1TV7599xGs4c+vX7+hABS8SFwwgHABH7eNc8mToVIAAAAASUVORK5CYII=","sizes":"(max-width: 661px) 100vw, 661px","src":"/static/4e43f6130697f7922d02ffe3192ee148/5da84/sequelize.png","srcSet":"/static/4e43f6130697f7922d02ffe3192ee148/5da84/sequelize.png 661w"}}},"author":{"id":"ludo","bio":"Développeur senior. Fullstack + DevOps","avatar":{"children":[{"fixed":{"src":"/static/5f2c129e42248a92c87b13b4293950cf/f6494/ghost.png"}}]}}},"fields":{"layout":"post","slug":"/node-sequelize-intro/"}},"next":{"excerpt":"Docker Swarm vs Kubernetes J’ai installé Docker Swarm et Kubernetes sur deux machines virtuelles. J’ai trouvé que Docker Swarm est très…","timeToRead":16,"frontmatter":{"title":"Docker Swarm vs Kubernetes","subtitle":"J'ai trouvé que Docker Swarm est très facile à installer et à configurer, alors que Kubernetes est un peu plus difficile à installer mais reste simple à utiliser.","tags":["DevOps","Docker","Kubernetes","Best"],"date":"2018-11-01T08:00:00.000Z","draft":false,"image":{"childImageSharp":{"fluid":{"aspectRatio":1.7772511848341233,"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAQDBf/EABYBAQEBAAAAAAAAAAAAAAAAAAIAAf/aAAwDAQACEAMQAAAB6OtBGFa2/8QAGhABAAIDAQAAAAAAAAAAAAAAAQACAxESE//aAAgBAQABBQJyW7vkSe1iaNoIBU//xAAWEQEBAQAAAAAAAAAAAAAAAAAAEQH/2gAIAQMBAT8Bia//xAAZEQABBQAAAAAAAAAAAAAAAAAAAQIRElH/2gAIAQIBAT8BlCzcP//EABoQAAMBAAMAAAAAAAAAAAAAAAABESESMUH/2gAIAQEABj8CU6MU30k5FhGRKH//xAAbEAEAAgIDAAAAAAAAAAAAAAABABEhQTFRYf/aAAgBAQABPyHjwtkhQI2lwNVg2E1C5WkTplYQ8n//2gAMAwEAAgADAAAAEAjv/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQAhYf/aAAgBAwEBPxAQO3S//8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARIf/aAAgBAgEBPxDsOTD/xAAaEAEBAQADAQAAAAAAAAAAAAABEQAhMUFx/9oACAEBAAE/EEhJlEVOtxTFYSS051ExT5vZ7lQoemZMl9hTc8RsE3//2Q==","sizes":"(max-width: 750px) 100vw, 750px","src":"/static/6dc1a1b98e66073dbd7e7471a7fff24c/9f583/dockerswarm-vs-kubernetes.jpg","srcSet":"/static/6dc1a1b98e66073dbd7e7471a7fff24c/9f583/dockerswarm-vs-kubernetes.jpg 750w"}}},"author":{"id":"ludo","bio":"Développeur senior. Fullstack + DevOps","avatar":{"children":[{"fixed":{"src":"/static/5f2c129e42248a92c87b13b4293950cf/f6494/ghost.png"}}]}}},"fields":{"layout":"post","slug":"/dockerSwarm-vs-kubernetes/"}},"primaryTag":"Node"}}