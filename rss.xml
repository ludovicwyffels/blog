<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Software on the road]]></title><description><![CDATA[Software on the road]]></description><link>https://ludovicwyffels.dev</link><generator>RSS for Node</generator><lastBuildDate>Sun, 11 Aug 2019 17:22:51 GMT</lastBuildDate><item><title><![CDATA[Bien gÃ©rer ses textes de commit (partie 2)]]></title><description><![CDATA[Nous sommes tous passÃ©s par lÃ . Quâ€™il sâ€™agisse dâ€™un calendrier serrÃ©, de corrections constantes ou simplement de la crÃ©ation de messages avec notre propre modÃ¨le dÃ©fini; nous avons tous fait de mauvais messages de commit. Heureusement pour nous, la spÃ©cification Conventional Commits existe, et avec elle un ensemble dâ€™outils puissants pour nous aider. Application dâ€™une norme Pour faire respecter une norme Ã  chaque fois que nous nous faisons un commit, nous avons husky et commitling. Husky Ã©coute les git hooks, et nous lâ€™utiliserons pour dÃ©clencher le commitlint lorsque nous tapons un message de commit. Maintenant, installons les paquets : AprÃ¨s avoir installÃ© ces paquets, vous devez crÃ©er un fichier commitlint.config.js dans le mÃªme dossier que votre package.json : Et modifier votre package.json: Tout est prÃªt! Maintenant, vos messages seront linted. Nous les commitons avec commitizen Commitizen est un paquet qui facilite la crÃ©ation de messages de commit selon la spÃ©cification prÃ©cÃ©dente. Pour ce faire, vous devez lâ€™installer globalement et configurer votre projet. Maintenant, faites un changement, ajoutez-le et lancez git cz. Automatisation Nous avons ajoutÃ© des outils pour assurer et faciliter la validation des messages de commit selon les spÃ©cifications conventionnelles de commit. Non seulement nous avons reÃ§u des messages standard sur lâ€™ensemble du projet que les humains peuvent lire, mais aussi des machines. Oui, des machines. Le respect de ces normes a permis aux machines de comprendre le motif, et avec cela, de mettre Ã  jour automatiquement la version de nos paquets et de gÃ©nÃ©rer des changelogs. Version bumping et CHANGELOG Pour faire les deux actions, nous nâ€™avons besoin que dâ€™un seul paquet, standard-version. Ce paquet le fera: Analyser vos engagements depuis votre derniÃ¨re version (tag) Version bump votre paquet.json GÃ©nÃ©rer ou mettre Ã  jour un fichier CHANGELOG.md GÃ©nÃ©rer un message de livraison GÃ©nÃ©rer une nouvelle balise Utilisons-la donc : Mettez Ã  jour votre paquet.json : Et maintenant vous nâ€™avez plus quâ€™Ã  lancer npm run release. Alternativement, si vous souhaitez simplement gÃ©nÃ©rer un fichier changelog, je vous recommande le fichier conventionnel-changelog-cli. Quelle est la prochaine Ã©tape? AprÃ¨s avoir gagnÃ© en lisibilitÃ© et en automatisation des tÃ¢ches quotidiennes douloureuses, vous pouvez crÃ©er votre propre standard basÃ© sur les spÃ©cifications conventionnelles de commit. La famille dâ€™outils conventionnel-changelog vous permet et vous facilite la crÃ©ation de votre propre version si vous le souhaitez. Jâ€™espÃ¨re que ce message vous a aidÃ©. Sâ€™il y a quoi que ce soit, partagez de lâ€™information qui pourrait lâ€™amÃ©liorer et la rendre meilleure pour les autres!]]></description><link>https://ludovicwyffels.dev/git-manage-commit-text-part2/</link><guid isPermaLink="false">https://ludovicwyffels.dev/git-manage-commit-text-part2/</guid><pubDate>Sun, 11 Aug 2019 18:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Nous sommes tous passÃ©s par lÃ . Quâ€™il sâ€™agisse dâ€™un calendrier serrÃ©, de corrections constantes ou simplement de la crÃ©ation de messages avec notre propre modÃ¨le dÃ©fini; nous avons tous fait de mauvais messages de commit. Heureusement pour nous, la spÃ©cification Conventional Commits existe, et avec elle un ensemble dâ€™outils puissants pour nous aider.&lt;/p&gt;
&lt;h2&gt;Application dâ€™une norme&lt;/h2&gt;
&lt;p&gt;Pour faire respecter une norme Ã  chaque fois que nous nous faisons un commit, nous avons &lt;a href=&quot;https://github.com/typicode/husky&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;husky&lt;/a&gt; et &lt;a href=&quot;https://github.com/conventional-changelog/commitlint&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;commitling&lt;/a&gt;. Husky Ã©coute les git hooks, et nous lâ€™utiliserons pour dÃ©clencher le commitlint lorsque nous tapons un message de commit. Maintenant, installons les paquets :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; --save-dev husky @commitlint/cli @commitlint/config-conventional&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;AprÃ¨s avoir installÃ© ces paquets, vous devez crÃ©er un fichier &lt;strong&gt;commitlint.config.js&lt;/strong&gt; dans le mÃªme dossier que votre package.json :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;@commitlint/config-conventional&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Et modifier votre package.json:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-json line-numbers&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  ...&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;husky&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;hooks&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;commit-msg&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;commitlint -E HUSKY_GIT_PARAMS&quot;&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Tout est prÃªt! Maintenant, vos messages seront linted.&lt;/p&gt;
&lt;h2&gt;Nous les commitons avec commitizen&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/commitizen/cz-cli&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Commitizen&lt;/a&gt; est un paquet qui facilite la crÃ©ation de messages de commit selon la spÃ©cification prÃ©cÃ©dente. Pour ce faire, vous devez lâ€™installer globalement et configurer votre projet.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; --global commitizen

&lt;span class=&quot;token comment&quot;&gt;# Inside your project&lt;/span&gt;
commitizen init cz-conventional-changelog --save-dev --save-exact&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Maintenant, faites un changement, ajoutez-le et lancez &lt;code&gt;git cz&lt;/code&gt;.&lt;/p&gt;
&lt;hr&gt;
&lt;h2&gt;Automatisation&lt;/h2&gt;
&lt;p&gt;Nous avons ajoutÃ© des outils pour assurer et faciliter la validation des messages de commit selon les spÃ©cifications conventionnelles de commit. Non seulement nous avons reÃ§u des messages standard sur lâ€™ensemble du projet que les humains peuvent lire, mais aussi des machines. Oui, des machines. Le respect de ces normes a permis aux machines de comprendre le motif, et avec cela, de mettre Ã  jour automatiquement la version de nos paquets et de gÃ©nÃ©rer des changelogs.&lt;/p&gt;
&lt;h3&gt;Version bumping et CHANGELOG&lt;/h3&gt;
&lt;p&gt;Pour faire les deux actions, nous nâ€™avons besoin que dâ€™un seul paquet, &lt;code&gt;standard-version&lt;/code&gt;. Ce paquet le fera:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Analyser vos engagements depuis votre derniÃ¨re version (tag)&lt;/li&gt;
&lt;li&gt;Version bump votre paquet.json&lt;/li&gt;
&lt;li&gt;GÃ©nÃ©rer ou mettre Ã  jour un fichier CHANGELOG.md&lt;/li&gt;
&lt;li&gt;GÃ©nÃ©rer un message de livraison&lt;/li&gt;
&lt;li&gt;GÃ©nÃ©rer une nouvelle balise&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Utilisons-la donc :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; --save-dev standard-version&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Mettez Ã  jour votre paquet.json :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-json line-numbers&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  ...&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;scripts&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;release&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;standard-version&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Et maintenant vous nâ€™avez plus quâ€™Ã  lancer &lt;code&gt;npm run release&lt;/code&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Alternativement, si vous souhaitez simplement gÃ©nÃ©rer un fichier changelog, je vous recommande le fichier &lt;a href=&quot;https://github.com/conventional-changelog/conventional-changelog/tree/master/packages/conventional-changelog-cli&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;conventionnel-changelog-cli&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h2&gt;Quelle est la prochaine Ã©tape?&lt;/h2&gt;
&lt;p&gt;AprÃ¨s avoir gagnÃ© en lisibilitÃ© et en automatisation des tÃ¢ches quotidiennes douloureuses, vous pouvez crÃ©er votre propre standard basÃ© sur les spÃ©cifications conventionnelles de commit. La famille dâ€™outils conventionnel-changelog vous permet et vous facilite la crÃ©ation de votre propre version si vous le souhaitez.&lt;/p&gt;
&lt;p&gt;Jâ€™espÃ¨re que ce message vous a aidÃ©. Sâ€™il y a quoi que ce soit, partagez de lâ€™information qui pourrait lâ€™amÃ©liorer et la rendre meilleure pour les autres!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Bien gÃ©rer ses textes de commit (partie 1)]]></title><description><![CDATA[Que lâ€™on soit backend, frontend, il y a une chose qui nous rassemble, câ€™est notre gestionnaire de source et son utilisation. Dans cet article, je vais vous prÃ©senter le conventional-changelog qui vous permettra de produire un historique de super qualitÃ© ğŸ™Œ! Le problÃ¨me Combien dâ€™entre vous sont tombÃ©s sur des projets avec un historique qui ressemble Ã  cela: ğŸ¤• Comment sâ€™y retrouver? Comment exploiter un historique qui ne vous donne quasiment jamais dâ€™information. La solution, câ€™est dâ€™utiliser le Conventional-Changelog (oui, on dirait une pub de tÃ©lÃ©-achat ğŸ˜). Quâ€™est-ce que câ€™est le conventional-changelog? Câ€™est bien de vous vendre une solution, mais il faudrait peut-Ãªtre expliquer ce que câ€™estâ€¦ en vrai. Le Conventional-Changelog est une maniÃ¨re dâ€™Ã©crire ses commits dans les projets. Il existe plusieurs â€œflavoursâ€, je vais vous dÃ©tailler la version Angular. Le format est le suivant: Si ce format est bien appliquÃ©, cela peut donner ce type de texte de commit : Câ€™est un peu plus agrÃ©able Ã  lire non ? Je vais vous dÃ©crire les diffÃ©rentes parties de cette convention et comment bien les utiliser. Type Le type permet de reprÃ©senter de maniÃ¨re succincte le type dâ€™action que vous avez fait sur le projet : feat: Ajout dâ€™une fonctionnalitÃ© fix: Correction perf: AmÃ©lioration des performances docs: Ajout de documentation style: Linting du code refactor: Modification du code, mutualisation et autres modifs afin dâ€™amÃ©liorer le projet test: Ajout de tests unitaires, intÃ©gration, end-to-end chore: TÃ¢che mÃ©nagÃ¨re, comme mettre Ã  jour les dÃ©pendances, reconfigurer la CIâ€¦ On ne peut mettre quâ€™un seul type par commit, donc finis les commits qui contiennent une feature et un fix en mÃªme tempsâ€¦ Scope Ici, pas de liste imposÃ©e, juste le titre de lâ€™Ã©lÃ©ment sur lequel une modification a Ã©tÃ© faite. Nous avons tendance Ã  dÃ©finir clairement les scopes du projet Ã  lâ€™avance afin que tout le monde commit avec les mÃªmes scopes. Pour exemple, sur une application orientÃ©e â€œe-commerceâ€, on pourrait avoir les scopes suivants : homepage search my-account product-details order admin Parfois, ce scope peut Ãªtre omisâ€¦ car il nâ€™y en a pas forcÃ©ment ou vous avez touchÃ© Ã  lâ€™application de maniÃ¨re globale. Dans ce cas, laissez vide ğŸ˜… Et par contre, comme pour le type, il ne peut y avoir quâ€™un seul scope. Donc si vous pensez avoir deux scopesâ€¦ faites deux commit diffÃ©rents Subject Le sujet doit contenir une description courte du changement effectuÃ© dans le commit. Quelques conseils pour formater le message : Utiliser lâ€™impÃ©ratif Utiliser le prÃ©sent Pas de 1er lettre en majuscule Pas de point . Ã  la fin du sujet Body Le body est la partie â€œprincipaleâ€ du commit. Jâ€™ai tendance Ã  dire quâ€™elle doit contenir le â€œPourquoiâ€ du commit. Si vous avez fait une modification structurante ou si la mÃ©thode dâ€™implÃ©mentation est particuliÃ¨re, Ã©crivez-le dans le body ! Câ€™est un point de vue qui est personnel, mais je pense que le body est le meilleur endroit pour accueillir un commentaireâ€¦ car un message de commit ne se dÃ©synchronise jamais du code. Footer Cette derniÃ¨re partie permet de placer les rÃ©fÃ©rences vers toutes les issues, User stories & co. On sâ€™en sert gÃ©nÃ©ralement pour lier (Linked to) ou clÃ´turer (Closes) les issues directement depuis git. Autre Ã©lÃ©ment qui peut Ãªtre ajoutÃ© dans ce footer est la notion de Breaking Change. Il suffit dâ€™ajouter BREAKING CHANGE: suivi du dÃ©tail de ce fameux breaking change. Je suis obligÃ© dâ€™Ã©crire tout cela Ã  chaque fois? Non, rassurez-vous, vous nâ€™Ãªtes pas obligÃ©â€¦ mÃªme sâ€™il est bien de mettre un max dâ€™information dans le message de commit. La convention veut que seule la 1Ã¨re ligne soit obligatoire. Donc, libre Ã  vous, de ne pas mettre de body et de footer Conclusion Avec cette convention, vous prendrez plaisir Ã  fouiller dans lâ€™historique de votre projet, trouver la source dâ€™une modification et surtout savoir â€œPourquoi cela a Ã©tÃ© fait comme cela !â€ Et quand lâ€™on regarde, la diffÃ©rence entre lâ€™ancienne version : et la nouvelle (certes, sur des projets diffÃ©rents): Cela est quand mÃªme bien plus clair ! RÃ©fÃ©rence Git Commit Message Conventions]]></description><link>https://ludovicwyffels.dev/git-manage-commit-text-part1/</link><guid isPermaLink="false">https://ludovicwyffels.dev/git-manage-commit-text-part1/</guid><pubDate>Sun, 11 Aug 2019 08:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Que lâ€™on soit backend, frontend, il y a une chose qui nous rassemble, câ€™est notre gestionnaire de source et son utilisation.&lt;/p&gt;
&lt;p&gt;Dans cet article, je vais vous prÃ©senter le conventional-changelog qui vous permettra de produire un historique de super qualitÃ© ğŸ™Œ!&lt;/p&gt;
&lt;h2&gt;Le problÃ¨me&lt;/h2&gt;
&lt;p&gt;Combien dâ€™entre vous sont tombÃ©s sur des projets avec un historique qui ressemble Ã  cela: ğŸ¤•&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;e60930a9 (HEAD -&amp;gt; develop, origin/develop) Modification front
49ff1d07 Fix an error
59a4d13e Add log
44e2f204 Update conf
03d00e2e Types
10d42648 Lots of things...
bab7be76 General linting
a62f7880 No comment
26f99ee0 ...
31409e82 Add test
815485dd Issue #782&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Comment sâ€™y retrouver? Comment exploiter un historique qui ne vous donne quasiment jamais dâ€™information.&lt;/p&gt;
&lt;p&gt;La solution, câ€™est dâ€™utiliser le Conventional-Changelog (oui, on dirait une pub de tÃ©lÃ©-achat ğŸ˜).&lt;/p&gt;
&lt;h2&gt;Quâ€™est-ce que câ€™est le conventional-changelog?&lt;/h2&gt;
&lt;p&gt;Câ€™est bien de vous vendre une solution, mais il faudrait peut-Ãªtre expliquer ce que câ€™estâ€¦ en vrai.&lt;/p&gt;
&lt;p&gt;Le Conventional-Changelog est une maniÃ¨re dâ€™Ã©crire ses commits dans les projets. Il existe plusieurs â€œflavoursâ€, je vais vous dÃ©tailler la version Angular.&lt;/p&gt;
&lt;p&gt;Le format est le suivant:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;txt&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-txt line-numbers&quot;&gt;&lt;code class=&quot;language-txt&quot;&gt;&amp;lt;type&amp;gt;(&amp;lt;scope&amp;gt;): &amp;lt;subject&amp;gt;

&amp;lt;body&amp;gt;

&amp;lt;footer&amp;gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Si ce format est bien appliquÃ©, cela peut donner ce type de texte de commit :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;txt&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-txt line-numbers&quot;&gt;&lt;code class=&quot;language-txt&quot;&gt;feat(users): add user management page

In order to add users into the system, a management page has been added. The route and services are integrated into the UserModule. A mock has been added due to back-end limitation.

Closes #456 and PRJ-345&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Câ€™est un peu plus agrÃ©able Ã  lire non ?&lt;/p&gt;
&lt;p&gt;Je vais vous dÃ©crire les diffÃ©rentes parties de cette convention et comment bien les utiliser.&lt;/p&gt;
&lt;h2&gt;Type&lt;/h2&gt;
&lt;p&gt;Le type permet de reprÃ©senter de maniÃ¨re succincte le &lt;strong&gt;type&lt;/strong&gt; dâ€™action que vous avez fait sur le projet :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;feat&lt;/code&gt;: Ajout dâ€™une fonctionnalitÃ©&lt;/li&gt;
&lt;li&gt;&lt;code&gt;fix&lt;/code&gt;: Correction&lt;/li&gt;
&lt;li&gt;&lt;code&gt;perf&lt;/code&gt;: AmÃ©lioration des performances&lt;/li&gt;
&lt;li&gt;&lt;code&gt;docs&lt;/code&gt;: Ajout de documentation&lt;/li&gt;
&lt;li&gt;&lt;code&gt;style&lt;/code&gt;: Linting du code&lt;/li&gt;
&lt;li&gt;&lt;code&gt;refactor&lt;/code&gt;: Modification du code, mutualisation et autres modifs afin dâ€™amÃ©liorer le projet&lt;/li&gt;
&lt;li&gt;&lt;code&gt;test&lt;/code&gt;: Ajout de tests unitaires, intÃ©gration, end-to-end&lt;/li&gt;
&lt;li&gt;&lt;code&gt;chore&lt;/code&gt;: TÃ¢che &lt;em&gt;mÃ©nagÃ¨re&lt;/em&gt;, comme mettre Ã  jour les dÃ©pendances, reconfigurer la CIâ€¦&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;On ne peut mettre quâ€™un seul type par commit, donc finis les commits qui contiennent une feature et un fix en mÃªme tempsâ€¦&lt;/p&gt;
&lt;h2&gt;Scope&lt;/h2&gt;
&lt;p&gt;Ici, pas de liste imposÃ©e, juste le titre de lâ€™Ã©lÃ©ment sur lequel une modification a Ã©tÃ© faite. Nous avons tendance Ã  dÃ©finir clairement les scopes du projet Ã  lâ€™avance afin que tout le monde commit avec les mÃªmes scopes.&lt;/p&gt;
&lt;p&gt;Pour exemple, sur une application orientÃ©e â€œe-commerceâ€, on pourrait avoir les scopes suivants :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;homepage&lt;/li&gt;
&lt;li&gt;search&lt;/li&gt;
&lt;li&gt;my-account&lt;/li&gt;
&lt;li&gt;product-details&lt;/li&gt;
&lt;li&gt;order&lt;/li&gt;
&lt;li&gt;admin&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Parfois, ce scope peut Ãªtre omisâ€¦ car il nâ€™y en a pas forcÃ©ment ou vous avez touchÃ© Ã  lâ€™application de maniÃ¨re globale. Dans ce cas, laissez vide ğŸ˜…&lt;/p&gt;
&lt;p&gt;Et par contre, comme pour le type, il ne peut y avoir quâ€™un seul scope. Donc si vous pensez avoir deux scopesâ€¦ faites deux commit diffÃ©rents&lt;/p&gt;
&lt;h2&gt;Subject&lt;/h2&gt;
&lt;p&gt;Le sujet doit contenir une description courte du changement effectuÃ© dans le commit.&lt;/p&gt;
&lt;p&gt;Quelques conseils pour formater le message :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Utiliser lâ€™impÃ©ratif&lt;/li&gt;
&lt;li&gt;Utiliser le prÃ©sent&lt;/li&gt;
&lt;li&gt;Pas de 1er lettre en majuscule&lt;/li&gt;
&lt;li&gt;Pas de point &lt;code&gt;.&lt;/code&gt; Ã  la fin du sujet&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Body&lt;/h2&gt;
&lt;p&gt;Le body est la partie â€œprincipaleâ€ du commit. Jâ€™ai tendance Ã  dire quâ€™elle doit contenir le â€œPourquoiâ€ du commit.&lt;/p&gt;
&lt;p&gt;Si vous avez fait une modification structurante ou si la mÃ©thode dâ€™implÃ©mentation est particuliÃ¨re, Ã©crivez-le dans le body !&lt;/p&gt;
&lt;p&gt;Câ€™est un point de vue qui est personnel, mais je pense que le body est le meilleur endroit pour accueillir un commentaireâ€¦ car un message de commit ne se dÃ©synchronise jamais du code.&lt;/p&gt;
&lt;h2&gt;Footer&lt;/h2&gt;
&lt;p&gt;Cette derniÃ¨re partie permet de placer les rÃ©fÃ©rences vers toutes les issues, User stories &amp;#x26; co. On sâ€™en sert gÃ©nÃ©ralement pour lier (&lt;code&gt;Linked to&lt;/code&gt;) ou clÃ´turer (&lt;code&gt;Closes&lt;/code&gt;) les issues directement depuis git.&lt;/p&gt;
&lt;p&gt;Autre Ã©lÃ©ment qui peut Ãªtre ajoutÃ© dans ce footer est la notion de Breaking Change. Il suffit dâ€™ajouter &lt;code&gt;BREAKING CHANGE:&lt;/code&gt; suivi du dÃ©tail de ce fameux breaking change.&lt;/p&gt;
&lt;h2&gt;Je suis obligÃ© dâ€™Ã©crire tout cela Ã  chaque fois?&lt;/h2&gt;
&lt;p&gt;Non, rassurez-vous, vous nâ€™Ãªtes pas obligÃ©â€¦ mÃªme sâ€™il est bien de mettre un max dâ€™information dans le message de commit.&lt;/p&gt;
&lt;p&gt;La convention veut que seule la 1Ã¨re ligne soit obligatoire. Donc, libre Ã  vous, de ne pas mettre de body et de footer&lt;/p&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Avec cette convention, vous prendrez plaisir Ã  fouiller dans lâ€™historique de votre projet, trouver la source dâ€™une modification et surtout savoir â€œPourquoi cela a Ã©tÃ© fait comme cela !â€&lt;/p&gt;
&lt;p&gt;Et quand lâ€™on regarde, la diffÃ©rence entre lâ€™ancienne version :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;e60930a9 (HEAD -&amp;gt; develop, origin/develop) Front modification
49ff1d07 Error correction
59a4d13e Add log
44e2f204 Update config
03d00e2e Fix typos&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;et la nouvelle (certes, sur des projets diffÃ©rents):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;b1365d1fa (HEAD -&amp;gt; master, origin/master, origin/HEAD) refactor(ivy): remove directiveRefresh instruction (#22745)
4ac606b41 docs(compiler): fix spelling errors (#22704)
51027d73c fix(ivy): Update rollup rule to prevent inlining symbols in debug. (#22747)
48636f3e8 chore(aio): compute stability and deprecate `@stable` tag (#22674)
bd9d4df73 refactor(ivy): remove inputsPropertyName (#22716)&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Cela est quand mÃªme bien plus clair !&lt;/p&gt;
&lt;h2&gt;RÃ©fÃ©rence&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://git.wiki.kernel.org/index.php/CommitMessageConventions&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Git Commit Message Conventions&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Automatisez les mises Ã  jour des dÃ©pendances]]></title><description><![CDATA[Une application Node raisonnablement grande aura des centaines de dÃ©pendances. Les garder tous Ã  jour est une chose quâ€™un dÃ©veloppeur doit rÃ©aliser Ã  un moment ou Ã  un autre. Soit vous ignorez les mises Ã  jour des dÃ©pendances jusquâ€™Ã  ce que vous soyez coincÃ© avec un trÃ¨s ancien ensemble de dÃ©pendances qui entravent votre progression avec les vulnÃ©rabilitÃ©s de sÃ©curitÃ© ou vous passez votre prÃ©cieux temps de dÃ©veloppement dâ€™application Ã  tester manuellement les mises Ã  jour sur une cadence raisonnable. Voyons comment automatiser ce processus dans un environnement dâ€™entreprise en supposant que vous ayez un environnement CI/CD et un repo GitHub privÃ©. IngrÃ©dients Tests unitaires solides pour votre code. Points bonus si vous avez des tests de e2e et des tests snapshot pour les composants de lâ€™interface utilisateur. next-update Un paquet npm qui teste si vos dÃ©pendances peuvent Ãªtre mises Ã  jour sans casser les tests. hub CLI Il sâ€™agit dâ€™une application en ligne de commande de Git â€œHubâ€ qui peut interagir avec votre GitHub repo. hub est exactement similaire Ã  git CLI et constitue un remplacement immÃ©diat, mais dispose des fonctionnalitÃ©s supplÃ©mentaires pour interagir avec GitHub. Pratique pour ouvrir une Pull Request aprÃ¨s lâ€™opÃ©ration de mise Ã  jour. Recette npm install next-update --save-dev
Installez next-update en tant que dev-dependency. Configurez un script npm dep:update dans votre section de scripts du fichier package.json npm run dep:update
ExÃ©cutez le script. next-update ira de lâ€™avant et trouvera tous les nouveaux paquets. Les met Ã  jour en sÃ©quence et conserve la mise Ã  jour si vos tests rÃ©ussissent. TÃ©lÃ©chargez et installez le hub cli Configurez hub Demander au bot dâ€™ouvrir une Pull Request Raccordez ce script dans votre environnement CI/CD pour quâ€™il sâ€™exÃ©cute quotidiennement]]></description><link>https://ludovicwyffels.dev/node-automate-dependency-updates/</link><guid isPermaLink="false">https://ludovicwyffels.dev/node-automate-dependency-updates/</guid><pubDate>Sat, 10 Aug 2019 14:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Une application Node raisonnablement grande aura des centaines de dÃ©pendances. Les garder tous Ã  jour est une chose quâ€™un dÃ©veloppeur doit rÃ©aliser Ã  un moment ou Ã  un autre. Soit vous ignorez les mises Ã  jour des dÃ©pendances jusquâ€™Ã  ce que vous soyez coincÃ© avec un trÃ¨s ancien ensemble de dÃ©pendances qui entravent votre progression avec les vulnÃ©rabilitÃ©s de sÃ©curitÃ© ou vous passez votre prÃ©cieux temps de dÃ©veloppement dâ€™application Ã  tester manuellement les mises Ã  jour sur une cadence raisonnable.&lt;/p&gt;
&lt;p&gt;Voyons comment automatiser ce processus dans un environnement dâ€™entreprise en supposant que vous ayez un environnement CI/CD et un repo GitHub privÃ©.&lt;/p&gt;
&lt;h2&gt;IngrÃ©dients&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Tests unitaires solides pour votre code. Points bonus si vous avez des tests de e2e et des tests snapshot pour les composants de lâ€™interface utilisateur.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;next-update&lt;/code&gt; &lt;em&gt;Un paquet npm qui teste si vos dÃ©pendances peuvent Ãªtre mises Ã  jour sans casser les tests&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;hub&lt;/code&gt; CLI Il sâ€™agit dâ€™une application en ligne de commande de Git â€œHubâ€ qui peut interagir avec votre GitHub repo. &lt;code&gt;hub&lt;/code&gt; est exactement similaire Ã  &lt;code&gt;git&lt;/code&gt; CLI et constitue un remplacement immÃ©diat, mais dispose des fonctionnalitÃ©s supplÃ©mentaires pour interagir avec GitHub. Pratique pour ouvrir une Pull Request aprÃ¨s lâ€™opÃ©ration de mise Ã  jour.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Recette&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;npm install next-update --save-dev&lt;/code&gt;
Installez next-update en tant que dev-dependency.&lt;/li&gt;
&lt;li&gt;Configurez un script npm &lt;code&gt;dep:update&lt;/code&gt; dans votre section de scripts du fichier &lt;code&gt;package.json&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-json line-numbers&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// package.json&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;a-sample-node-project&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;0.0.1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;description&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;A sample node project&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;scripts&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;jest&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;start&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;node app.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;dep:update&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;next-update&quot;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Configure an npm script&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;devDependencies&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;next-update&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;^3.6.0&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;dependencies&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;npm run dep:update&lt;/code&gt;
ExÃ©cutez le script. &lt;code&gt;next-update&lt;/code&gt; ira de lâ€™avant et trouvera tous les nouveaux paquets. Les met Ã  jour en sÃ©quence et conserve la mise Ã  jour si vos tests rÃ©ussissent.&lt;/li&gt;
&lt;li&gt;TÃ©lÃ©chargez et installez le &lt;code&gt;hub&lt;/code&gt; cli&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# download-hub.sh&lt;/span&gt;
&lt;span class=&quot;token assign-left variable&quot;&gt;HUB_CLI&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;/opt/hub-linux/bin/hub

&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; -f &lt;span class=&quot;token variable&quot;&gt;$HUB_CLI&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;then&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;wget&lt;/span&gt; https://github.com/github/hub/releases/download/v2.12.2/hub-linux-amd64-2.12.2.tgz
  &lt;span class=&quot;token function&quot;&gt;tar&lt;/span&gt; zxvf hub-linux-amd64-2.12.2.tgz
  &lt;span class=&quot;token function&quot;&gt;rm&lt;/span&gt; -rf hub-linux-amd64-2.12.2.tgz /opt/hub-linux
  &lt;span class=&quot;token function&quot;&gt;mv&lt;/span&gt; hub-linux-amd64-2.12.2 /opt/hub-linux
&lt;span class=&quot;token keyword&quot;&gt;fi&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Configurez hub&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; config --global --replace-all hub.host github.yourdomain.com
&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; config --global --replace-all hub.protocol &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Demander au bot dâ€™ouvrir une Pull Request&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;$HUB_CLI&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt; package.json package-lock.json
&lt;span class=&quot;token variable&quot;&gt;$HUB_CLI&lt;/span&gt; commit -m &lt;span class=&quot;token string&quot;&gt;&quot;[BOT] Automated dependency update&quot;&lt;/span&gt;
&lt;span class=&quot;token variable&quot;&gt;$HUB_CLI&lt;/span&gt; pull-request &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  --push &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  -m &lt;span class=&quot;token string&quot;&gt;&quot;Pull Request Subject&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  -m &lt;span class=&quot;token string&quot;&gt;&quot;Pull Request Description&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  --no-edit &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  --reviewer user-id1,user-id2&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Raccordez ce script dans votre environnement CI/CD pour quâ€™il sâ€™exÃ©cute quotidiennement&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Prise en main de PM2, le gestionnaire de processus Node.js]]></title><description><![CDATA[Utilisations de PM2 PM2 a beaucoup dâ€™utilisations, jetons un coup dâ€™oeil Ã  quelques-unes dâ€™entre elles: RedÃ©marrage aprÃ¨s un crash: PM2 nous permet de maintenir les processus en cours dâ€™exÃ©cution Suivi et gestion des processus Ã  distance: un portail web vous permet de garder un oeil sur les precessus distants et de les gÃ©rer. Il ne se contente pas dâ€™exÃ©cuter des applications Node: PM2 nâ€™est pas limitÃ© aux seuls processus Node.js, câ€™est vrai, vous pouvez mÃªme lâ€™utiliser pour garder votre serveur Minecraft en ligne. PM2 peut mÃ©moriser tous vos processus et les redÃ©marrer aprÃ¨s un redÃ©marrage du systÃ¨me. Et bien plus encore. Pour commencer La premiÃ¨re chose que nous devons faire est dâ€™installer PM2 globalement sur votre machine : Commandes de base Venons-en aux principe de base de son utilisation. Pour dÃ©marrer un processus sous PM2, il suffit de lancer pm2 start <app>. App Ã©tant le nom du fihier que vous exÃ©cutez. PM2 produira quelque chose comme ceci Faites attention Ã  ce quâ€™il dis sous id. Si vous oubliez, lancez pm2 list. Si vous voulez ajouter un nom au processus lorsque vous le lancez, vous pouvez utiliser le paramÃ¨tre --name (pm2 start app.js --name my-api). Votre application fonctionne maintenant sous PM2, si elle plante, PM2 la redÃ©marrera. RedÃ©marrage en cas de modification de fichier Une autre fonctionnalitÃ© impressionnante que PM2 a est de redÃ©marrer quand un fichier dans le rÃ©pertoire de travail change. Pour que PM2 regarde notre rÃ©pertoire et redÃ©mmarre les changements de fichier, incluez --watch lorsque vous dÃ©marrez votre application. Persistance jusquâ€™au redÃ©marrage PM2 nous permet Ã©galement de dÃ©marrer nos processus lorsque notre serveur (re)dÃ©marre. Commencez tout ce que vous voulez avoir en cours dâ€™exÃ©cution tout le temps Ã  travers pm2 start et puis exÃ©cutez pm2 save. Maintenant, quand notre systÃ¨me redÃ©marre, PM2 dÃ©marrera tous les processus que nous avions en cours dâ€™exÃ©cution lorsque nous avons lancÃ© pm2 save. PM2 fait beaucoup de choses, je vais vous laisser dÃ©couvrir le reste par vous mÃªme dâ€™autres fonctions Le mode cluster Commandes Description pm2 start app.js -i 0 DÃ©marre un maximum de processus avec LB en fonction des CPU disponibles. Listen Commandes Description pm2 list Afficher lâ€™Ã©tat de tous les processus pm2 jlist Impression de la liste des processus en JSON brut pm2 prettylist Impression de la liste des processus en JSON embelli pm2 describe 0 Afficher toutes les informations concernant un spÃ©cifique pm2 monit Surveiller tous les processus Logs Commandes Description pm2 logs [--raw] Afficher tous les journaux de processus en streaming pm2 flush Vider tous les fichiers logs pm2 reloadLogs Recharger tous les logs Actions Commandes Description pm2 stop all ArrÃªter tous les processus pm2 restart all RedÃ©marrer tous les processus pm2 reload all Rechargement des temps dâ€™arrÃªt 0s (pour les applications NETWORKED) pm2 stop 0 ArrÃªt dâ€™un id de processus spÃ©cifique pm2 restart 0 RedÃ©marrer un id de processus spÃ©cifique pm2 delete 0 Supprimer le processus de la liste pm2 delete all Supprimer tous les processus de la liste PM2 fait beaucoup de choses, dont la plupart sortent du cadre de cette brÃ¨ve introduction. A lâ€™avenir, nous pourrions couvrir le mode cluster de PM2, la gestion des processus Ã  distance et plus encore. Merci de votre lecture !]]></description><link>https://ludovicwyffels.dev/node-pm2/</link><guid isPermaLink="false">https://ludovicwyffels.dev/node-pm2/</guid><pubDate>Thu, 01 Aug 2019 21:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;Utilisations de PM2&lt;/h2&gt;
&lt;p&gt;PM2 a beaucoup dâ€™utilisations, jetons un coup dâ€™oeil Ã  quelques-unes dâ€™entre elles:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;RedÃ©marrage aprÃ¨s un crash: PM2 nous permet de maintenir les processus en cours dâ€™exÃ©cution&lt;/li&gt;
&lt;li&gt;Suivi et gestion des processus Ã  distance: un portail web vous permet de garder un oeil sur les precessus distants et de les gÃ©rer.&lt;/li&gt;
&lt;li&gt;Il ne se contente pas dâ€™exÃ©cuter des applications Node: PM2 nâ€™est pas limitÃ© aux seuls processus Node.js, câ€™est vrai, vous pouvez mÃªme lâ€™utiliser pour garder votre serveur Minecraft en ligne.&lt;/li&gt;
&lt;li&gt;PM2 peut mÃ©moriser tous vos processus et les redÃ©marrer aprÃ¨s un redÃ©marrage du systÃ¨me.&lt;/li&gt;
&lt;li&gt;Et bien plus encore.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Pour commencer&lt;/h2&gt;
&lt;p&gt;La premiÃ¨re chose que nous devons faire est dâ€™installer PM2 globalement sur votre machine :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sh&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sh line-numbers&quot;&gt;&lt;code class=&quot;language-sh&quot;&gt;npm i -g pm2&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Commandes de base&lt;/h2&gt;
&lt;p&gt;Venons-en aux principe de base de son utilisation. Pour dÃ©marrer un processus sous PM2, il suffit de lancer &lt;code&gt;pm2 start &amp;#x3C;app&gt;&lt;/code&gt;. &lt;em&gt;App&lt;/em&gt; Ã©tant le nom du fihier que vous exÃ©cutez. PM2 produira quelque chose comme ceci&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;[PM2] Starting /Users/ludovicwyffels/myApp/app.js in fork_mode (1 instance)
[PM2] Done.

â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Name â”‚ id â”‚ mode â”‚ status â”‚ restart â”‚ cpu â”‚ memory    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ app  â”‚ 0  â”‚ fork â”‚ online â”‚ 0       â”‚ 0%  â”‚ 35.1 MB   â”‚
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Faites attention Ã  ce quâ€™il dis sous &lt;code&gt;id&lt;/code&gt;. Si vous oubliez, lancez &lt;code&gt;pm2 list&lt;/code&gt;. Si vous voulez ajouter un nom au processus lorsque vous le lancez, vous pouvez utiliser le paramÃ¨tre &lt;code&gt;--name&lt;/code&gt; (&lt;code&gt;pm2 start app.js --name my-api&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;Votre application fonctionne maintenant sous PM2, si elle plante, PM2 la redÃ©marrera.&lt;/p&gt;
&lt;h2&gt;RedÃ©marrage en cas de modification de fichier&lt;/h2&gt;
&lt;p&gt;Une autre fonctionnalitÃ© impressionnante que PM2 a est de redÃ©marrer quand un fichier dans le rÃ©pertoire de travail change. Pour que PM2 regarde notre rÃ©pertoire et redÃ©mmarre les changements de fichier, incluez &lt;code&gt;--watch&lt;/code&gt; lorsque vous dÃ©marrez votre application.&lt;/p&gt;
&lt;h2&gt;Persistance jusquâ€™au redÃ©marrage&lt;/h2&gt;
&lt;p&gt;PM2 nous permet Ã©galement de dÃ©marrer nos processus lorsque notre serveur (re)dÃ©marre. Commencez tout ce que vous voulez avoir en cours dâ€™exÃ©cution tout le temps Ã  travers &lt;code&gt;pm2 start&lt;/code&gt; et puis exÃ©cutez &lt;code&gt;pm2 save&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Maintenant, quand notre systÃ¨me redÃ©marre, PM2 dÃ©marrera tous les processus que nous avions en cours dâ€™exÃ©cution lorsque nous avons lancÃ© &lt;code&gt;pm2 save&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;PM2 fait beaucoup de choses, je vais vous laisser dÃ©couvrir le reste par vous mÃªme dâ€™autres fonctions&lt;/p&gt;
&lt;h3&gt;Le mode cluster&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Commandes&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;pm2 start app.js -i 0&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;DÃ©marre un maximum de processus avec LB en fonction des CPU disponibles.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3&gt;Listen&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Commandes&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;pm2 list&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Afficher lâ€™Ã©tat de tous les processus&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;pm2 jlist&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Impression de la liste des processus en JSON brut&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;pm2 prettylist&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Impression de la liste des processus en JSON embelli&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;pm2 describe 0&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Afficher toutes les informations concernant&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;pm2 monit&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Surveiller tous les processus&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3&gt;Logs&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Commandes&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;pm2 logs [--raw]&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Afficher tous les journaux de processus en streaming&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;pm2 flush&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Vider tous les fichiers logs&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;pm2 reloadLogs&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Recharger tous les logs&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3&gt;Actions&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Commandes&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;pm2 stop all&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;ArrÃªter tous les processus&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;pm2 restart all&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;RedÃ©marrer tous les processus&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;pm2 reload all&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Rechargement des temps dâ€™arrÃªt 0s (pour les applications NETWORKED)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;pm2 stop 0&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;ArrÃªt dâ€™un id de processus spÃ©cifique&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;pm2 restart 0&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;RedÃ©marrer un id de processus spÃ©cifique&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;pm2 delete 0&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Supprimer le processus de la liste&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;pm2 delete all&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Supprimer tous les processus de la liste&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;PM2 fait beaucoup de choses, dont la plupart sortent du cadre de cette brÃ¨ve introduction. A lâ€™avenir, nous pourrions couvrir le mode cluster de PM2, la gestion des processus Ã  distance et plus encore. Merci de votre lecture !&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Loopback 4 - Configuration de la base de donnÃ©es]]></title><description><![CDATA[Introduction Presque toutes les applications Web ont besoin de conserver des donnÃ©es sous une forme ou une autre. LoopBack a toujours abstrait le moteur de base de donnÃ©es de lâ€™application en nous fournissant plusieurs connecteurs Ã  utiliser, tels que : MySQL, Postgres et In-memory. LoopBack 4 utilise les mÃªmes bibliothÃ¨ques sous-jacentes que LoopBack 3 pour passer la configuration aux moteurs. Cependant, les structures du projet sont lÃ©gÃ¨rement diffÃ©rentes, comme indiquÃ© ci-dessous. Configuration de LoopBack 3 Dans LoopBack 3, vous dÃ©finiriez un ensemble dâ€™objets JSON Ã  lâ€™intÃ©rieur dâ€™un fichier datasources.json stockÃ© dans le dossier serveur, ce qui permettrait Ã  lâ€™application de rÃ©cupÃ©rer la configuration. Le fichier ressemblerait Ã  ceci : Ce fichier dÃ©finit une nouvelle source de donnÃ©es appelÃ©e â€œdbâ€, qui est configurÃ©e pour utiliser le connecteur de base de donnÃ©es en mÃ©moire. Dans la plupart des applications, câ€™est une excellente source de donnÃ©es par dÃ©faut pour les modÃ¨les, car elle Ã©limine le besoin de configurer un serveur de base de donnÃ©es lors du premier dÃ©marrage avec un prototype. Vous pouvez simplement configurer les modÃ¨les pour utiliser la source de donnÃ©es â€œdbâ€ et continuer avec le code. Le fichier model-config.json, dans le mÃªme dossier, relierait un modÃ¨le Ã  une source de donnÃ©es et ressemblerait Ã  ceci : Une fois que vous avez la base de votre application en place et en cours dâ€™exÃ©cution par rapport Ã  la configuration de la base de donnÃ©es en mÃ©moire, vous pouvez vous concentrer sur la configuration dâ€™un serveur de base de donnÃ©es, tel que MySQL ou Postgres, installer le bon connecteur et simplement modifier la configuration datasources.json comme suit : Câ€™est excellent pour le dÃ©veloppement local. Mais, lorsque vous travaillez au sein dâ€™une Ã©quipe plus importante ou avec plusieurs environnements, un seul fichier de configuration JSON ne va pas le couper. LoopBack 3 a rÃ©solu la configuration spÃ©cifique Ã  lâ€™environnement en nous permettant de crÃ©er des fichiers de sources de donnÃ©es spÃ©cifiques Ã  lâ€™environnement. Le nom du fichier de source de donnÃ©es spÃ©cifique Ã  lâ€™environnement devait Ãªtre dans une certaine structure : datasources.<environment>.js. Un projet avec 3 environnements aurait les fichiers suivants : datasources.json (une configuration de serveur de base de donnÃ©es locale) datasources.test.js (une configuration de serveur de base de donnÃ©es de test) datasources.production.js (une configuration de serveur de base de donnÃ©es de production) La version JavaScript du fichier de configuration nous a donnÃ© une flexibilitÃ© supplÃ©mentaire, car nous avons pu dÃ©terminer la configuration Ã  lâ€™aide de code. Le fichier de configuration le plus courant utilise les variables dâ€™environnement systÃ¨me. Un exemple de fichier de configuration dâ€™une source de donnÃ©es de production serait le suivant : Câ€™est gÃ©nial, car cela Ã©limine le besoin de stocker les rÃ©fÃ©rences de production dans notre code. Nous pourrions livrer ces fichiers de configuration et configurer la configuration sur le serveur, en toute sÃ©curitÃ©. Par dÃ©faut, le framework utiliserait la variable dâ€™environnement systÃ¨me NODE_ENV pour choisir le fichier source Ã  utiliser. Un serveur de production aurait les variables dâ€™environnement suivantes : NODE_ENV=production DB_HOST=aws-rds-mysql-host.example.com DB_PORT=3306 DB_USER=super-secret-user DB_PASSWORD=super-secret-password DBDATABASE=appdatabase Configuration LoopBack 4 LoopBack 4 ne lit plus automatiquement les fichiers de configuration des sources de donnÃ©es. Au lieu de cela, le framework nous laisse dÃ©cider comment nous voulons configurer notre application. Pour lâ€™instant, il ne semble pas quâ€™il existe de meilleures pratiques documentÃ©es pour la mise en place dâ€™un tel systÃ¨me. Une approche est suggÃ©rÃ©e ci-dessous. DÃ©pendance Injection Avant de nous plonger dans la configuration de la base de donnÃ©es, nous devons comprendre lâ€™un des concepts clÃ©s de LoopBack 4 : Injection de dÃ©pendance. Essentiellement, lâ€™application peut enregistrer des valeurs sur une liste de clÃ©s uniques. Ces valeurs peuvent contenir des variables normales ou des dÃ©finitions de classes, que lâ€™application peut ensuite utiliser pour gÃ©rer la crÃ©ation de ces objets pour nous, en reprenant les dÃ©pendances requises. Par exemple, on peut enregistrer une valeur,â€˜barâ€™ sur une clÃ© â€˜fooâ€™. Maintenant lâ€™application sait que la clÃ© â€˜fooâ€™, contient la valeur â€˜barâ€™. Nous pouvons demander cette valeur Ã  partir de lâ€™application nâ€™importe oÃ¹ dans notre code. Ã€ titre dâ€™exemple : En plus de lier une valeur Ã  une clÃ©, nous pouvons lier une classe Ã  une clÃ© et laisser lâ€™application calculer rÃ©cursivement ses dÃ©pendances lors de lâ€™instanciation de lâ€™objet sur demande. Quand nous demandons une instance de la classe Foo, comme suit: Le conteneur dâ€™application verra que la classe Foo dÃ©pend de la valeur de la barre. Il le recherchera dans le conteneur de dÃ©pendances, le trouvera (sâ€™il est liÃ©) et lâ€™injectera ensuite dans la classe. Dâ€™oÃ¹ lâ€™injection de dÃ©pendance. CrÃ©er un nouveau projet On peut utiliser la CLI pour crÃ©er un nouveau projet en appelant la commande suivante : LoopBack 4 ajoute un dossier datasources au projet. Initialement, on supposerait que ce dossier est configurÃ© pour Ãªtre lu de la mÃªme maniÃ¨re que les fichiers JSON des sources de donnÃ©es LoopBack 3. Cependant, câ€™est juste le dossier par dÃ©faut utilisÃ© par le CLI pour y dÃ©poser les nouveaux fichiers. Ajout dâ€™une source de donnÃ©es Ã  lâ€™aide de lâ€™interface CLI Utilisez le CLI pour crÃ©er une nouvelle source de donnÃ©es en exÃ©cutant la commande suivante : La premiÃ¨re chose que vous remarquerez est que le fichier db.datasource.json est exactement le mÃªme que le fichier LoopBack 3 datasources.json. Dans lâ€™assistant CLI, jâ€™ai choisi le connecteur en mÃ©moire, qui est lâ€™un des nombreux connecteurs disponibles dans LoopBack 3 et LoopBack 4. Le nouvel ajout Ã  la famille de fichiers de source de donnÃ©es LoopBack est le fichier datasource.ts. La classe Ã©tend un type juggler.DataSource, qui est le mÃªme type que celui utilisÃ© dans LoopBack 3 (sauf que câ€™est la version de dÃ©finition TypeScript). Il nÃ©cessite la mÃªme structure de configuration JSON que LoopBack 3. Dans cette version, nous devons passer la configuration Ã  la super mÃ©thode du constructeur. Le fichier importe la configuration par dÃ©faut du fichier db.datasource.json et lâ€™inclut comme valeur par dÃ©faut dans le paramÃ¨tre dsConfig du constructeur. Cela signifie que nous nâ€™aurons jamais besoin de passer quoi que ce soit dans le constructeur de la classe DbDataSource lors de lâ€™instanciation dâ€™une instance de lâ€™objet, Ã  moins de lâ€™Ã©craserâ€¦ peut-Ãªtre pour un environnement diffÃ©rent (nous y reviendrons). Lâ€™autre dÃ©corateur dâ€™injection peu familier permet au framework dâ€™injecter la valeur du paramÃ¨tre depuis le conteneur dâ€™injection de dÃ©pendance (sâ€™il est liÃ©). Dans cette optique, il existe de nombreuses faÃ§ons dâ€™instancier cette nouvelle classe DataSource : Nous avons maintenant une instance de notre dbDataSource. Mais, comment lâ€™utilise-t-on rÃ©ellement ? Comment notre nouvelle application connaÃ®t-elle notre source de donnÃ©es ? De la mÃªme maniÃ¨re que nous pouvons enregistrer (ou lier) des valeurs (ou classes) contre les applications Dependency Container, nous pouvons lier lâ€™instance de la source de donnÃ©es Ã  une clÃ© du conteneur. Dans notre fichier application.ts, nous pouvons utiliser la fonction de liaison des applications dans le constructeur pour lier notre instance Ã  lâ€™application : En outre, LoopBack 4 a une fonction spÃ©ciale appelÃ©e source de donnÃ©es : Il existe une derniÃ¨re mÃ©thode pour lier notre source de donnÃ©es Ã  lâ€™application: Lâ€™extrait de code ci-dessus lie dâ€™abord la configuration Ã  la clÃ© de dÃ©pendance â€™
datasources.config.db. Cette clÃ© de dÃ©pendance est rÃ©fÃ©rencÃ©e dans le constructeur de la classe DbDataSource via le dÃ©corateur inject. En liant la clÃ© datasources.db Ã  la dÃ©finition de classe â€œDbDataSourceâ€, le conteneur de dÃ©pendances va rechercher toutes ses dÃ©pendances et les instancier pour nous. Maintenant que le conteneur de dÃ©pendances de lâ€™application connaÃ®t notre source de donnÃ©es, nous pouvons la lier Ã  un rÃ©fÃ©rentiel et un modÃ¨le. Note : vous devez dâ€™abord gÃ©nÃ©rer un modÃ¨le avant de gÃ©nÃ©rer un rÃ©fÃ©rentiel. Pour ce faire, utilisez la commande modÃ¨le lb4 : AprÃ¨s avoir crÃ©Ã© un modÃ¨le, relions-le Ã  un nouveau rÃ©fÃ©rentiel. Utilisez la commande lb4 repository : Une fois que vous avez utilisÃ© le modÃ¨le lb4 et la commande lb4 repository, vous devriez vous retrouver avec un rÃ©fÃ©rentiel liÃ© Ã  un modÃ¨le qui injecte la classe DbDataSource : Notez que le constructeur PersonRepository utilise Ã  nouveau le dÃ©corateur inject mais cette fois-ci il fait rÃ©fÃ©rence Ã  la clÃ© datasources.db que nous avons dÃ©finie prÃ©cÃ©demment. Le rÃ©fÃ©rentiel est responsable de la connexion du modÃ¨le Ã  la source de donnÃ©es et fournit les fonctions CRUD (Create, Read, Update and Delete), grÃ¢ce Ã  la classe DefaultCrudRepository dont nous hÃ©ritons. De la mÃªme maniÃ¨re que nous avons liÃ© la source de donnÃ©es Ã  lâ€™application, nous devons lier le rÃ©fÃ©rentiel Ã  lâ€™application : Une fois enregistrÃ©, nous pouvons utiliser la commande contrÃ´leur lb4 pour crÃ©er un nouveau contrÃ´leur REST pour nous, qui utilise notre nouveau modÃ¨le de configuration, source de donnÃ©es et rÃ©fÃ©rentiel : Vous pouvez enregistrer le contrÃ´leur contre lâ€™application de la mÃªme maniÃ¨re que nous avons la source de donnÃ©es et le rÃ©fÃ©rentiel. En plus dâ€™utiliser les fonctions de rÃ©fÃ©rentiel et de contrÃ´leur pour lier nos classes Ã  notre application, LoopBack les lie automatiquement pour nous. Ceci peut Ãªtre configurÃ© dans le constructeur de classe dâ€™application : Ceci indique Ã  notre application de regarder Ã  lâ€™intÃ©rieur du dossier Contollers pour tous nos contrÃ´leurs et appelle automatiquement this.controller pour nous. Vous pouvez Ã©galement configurer la valeur du rÃ©fÃ©rentiel bootOptions pour faire de mÃªme avec les rÃ©fÃ©rentiels. Nous nâ€™analyserons pas ici lâ€™ensemble du fichier du contrÃ´leur pour gagner de la place. Les sections importantes seront soulignÃ©es : Le dÃ©corateur du rÃ©fÃ©rentiel sâ€™enroule autour du dÃ©corateur dâ€™injection. Câ€™est la mÃªme chose que de faire ce qui suit : Nous pouvons maintenant utiliser le rÃ©fÃ©rentiel pour accÃ©der Ã  nos donnÃ©es de modÃ¨le dans notre source de donnÃ©es configurÃ©e. Conclusion Cet article compare les diffÃ©rences entre la configuration dâ€™une source de donnÃ©es de base de donnÃ©es et une application LoopBack 3 et LoopBack 4. En plus de comprendre comment configurer une source de donnÃ©es, nous avons examinÃ© comment configurer la configuration en fonction de divers environnements en permettant aux donnÃ©es de configuration dâ€™Ãªtre dÃ©finies par les variables dâ€™environnement systÃ¨me, auxquelles nous accÃ©dons par process.env.ENV_VARIABLE.]]></description><link>https://ludovicwyffels.dev/node-loopback-database/</link><guid isPermaLink="false">https://ludovicwyffels.dev/node-loopback-database/</guid><pubDate>Sat, 29 Jun 2019 21:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;Introduction&lt;/h2&gt;
&lt;p&gt;Presque toutes les applications Web ont besoin de conserver des donnÃ©es sous une forme ou une autre. LoopBack a toujours abstrait le moteur de base de donnÃ©es de lâ€™application en nous fournissant plusieurs connecteurs Ã  utiliser, tels que : MySQL, Postgres et In-memory. LoopBack 4 utilise les mÃªmes bibliothÃ¨ques sous-jacentes que LoopBack 3 pour passer la configuration aux moteurs. Cependant, les structures du projet sont lÃ©gÃ¨rement diffÃ©rentes, comme indiquÃ© ci-dessous.&lt;/p&gt;
&lt;h2&gt;Configuration de LoopBack 3&lt;/h2&gt;
&lt;p&gt;Dans LoopBack 3, vous dÃ©finiriez un ensemble dâ€™objets JSON Ã  lâ€™intÃ©rieur dâ€™un fichier &lt;code&gt;datasources.json&lt;/code&gt; stockÃ© dans le dossier serveur, ce qui permettrait Ã  lâ€™application de rÃ©cupÃ©rer la configuration. Le fichier ressemblerait Ã  ceci :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-json line-numbers&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;db&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;db&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;connector&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;memory&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ce fichier dÃ©finit une nouvelle source de donnÃ©es appelÃ©e â€œdbâ€, qui est configurÃ©e pour utiliser le connecteur de base de donnÃ©es en mÃ©moire. Dans la plupart des applications, câ€™est une excellente source de donnÃ©es par dÃ©faut pour les modÃ¨les, car elle Ã©limine le besoin de configurer un serveur de base de donnÃ©es lors du premier dÃ©marrage avec un prototype. Vous pouvez simplement configurer les modÃ¨les pour utiliser la source de donnÃ©es â€œdbâ€ et continuer avec le code.&lt;/p&gt;
&lt;p&gt;Le fichier &lt;code&gt;model-config.json&lt;/code&gt;, dans le mÃªme dossier, relierait un modÃ¨le Ã  une source de donnÃ©es et ressemblerait Ã  ceci :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-json line-numbers&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;_meta&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;sources&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&quot;loopback/common/models&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&quot;loopback/server/models&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&quot;../common/models&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&quot;./models&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;mixins&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&quot;loopback/common/mixins&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&quot;loopback/server/mixins&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&quot;../common/mixins&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&quot;./mixins&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;Person&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;dataSource&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;db&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;public&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  ...
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Une fois que vous avez la base de votre application en place et en cours dâ€™exÃ©cution par rapport Ã  la configuration de la base de donnÃ©es en mÃ©moire, vous pouvez vous concentrer sur la configuration dâ€™un serveur de base de donnÃ©es, tel que MySQL ou Postgres, installer le bon connecteur et simplement modifier la configuration &lt;code&gt;datasources.json&lt;/code&gt; comme suit :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-json line-numbers&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;db&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;db&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;connector&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;mysql&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;hostname&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;port&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3306&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;user&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;root&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;password&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;root&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;database&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;app_database&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Câ€™est excellent pour le dÃ©veloppement local. Mais, lorsque vous travaillez au sein dâ€™une Ã©quipe plus importante ou avec plusieurs environnements, un seul fichier de configuration JSON ne va pas le couper. LoopBack 3 a rÃ©solu la configuration spÃ©cifique Ã  lâ€™environnement en nous permettant de crÃ©er des fichiers de sources de donnÃ©es spÃ©cifiques Ã  lâ€™environnement. Le nom du fichier de source de donnÃ©es spÃ©cifique Ã  lâ€™environnement devait Ãªtre dans une certaine structure : &lt;code&gt;datasources.&amp;#x3C;environment&gt;.js&lt;/code&gt;. Un projet avec 3 environnements aurait les fichiers suivants :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;datasources.json (une configuration de serveur de base de donnÃ©es locale)&lt;/li&gt;
&lt;li&gt;datasources.test.js (une configuration de serveur de base de donnÃ©es de test)&lt;/li&gt;
&lt;li&gt;datasources.production.js (une configuration de serveur de base de donnÃ©es de production)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;La version JavaScript du fichier de configuration nous a donnÃ© une flexibilitÃ© supplÃ©mentaire, car nous avons pu dÃ©terminer la configuration Ã  lâ€™aide de code. Le fichier de configuration le plus courant utilise les variables dâ€™environnement systÃ¨me. Un exemple de fichier de configuration dâ€™une source de donnÃ©es de production serait le suivant :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  db&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;db&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    connector&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;mysql&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    hostname&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DB_HOST&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    port&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DB_PORT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    user&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DB_USER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    password&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DB_PASSWORD&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    database&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DB_DATABASE&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Câ€™est gÃ©nial, car cela Ã©limine le besoin de stocker les rÃ©fÃ©rences de production dans notre code. Nous pourrions livrer ces fichiers de configuration et configurer la configuration sur le serveur, en toute sÃ©curitÃ©.&lt;/p&gt;
&lt;p&gt;Par dÃ©faut, le framework utiliserait la variable dâ€™environnement systÃ¨me NODE_ENV pour choisir le fichier source Ã  utiliser. Un serveur de production aurait les variables dâ€™environnement suivantes :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;NODE_ENV=production&lt;/li&gt;
&lt;li&gt;DB_HOST=aws-rds-mysql-host.example.com&lt;/li&gt;
&lt;li&gt;DB_PORT=3306&lt;/li&gt;
&lt;li&gt;DB_USER=super-secret-user&lt;/li&gt;
&lt;li&gt;DB_PASSWORD=super-secret-password&lt;/li&gt;
&lt;li&gt;DB&lt;em&gt;DATABASE=app&lt;/em&gt;database&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Configuration LoopBack 4&lt;/h2&gt;
&lt;p&gt;LoopBack 4 ne lit plus automatiquement les fichiers de configuration des sources de donnÃ©es. Au lieu de cela, le framework nous laisse dÃ©cider comment nous voulons configurer notre application. Pour lâ€™instant, il ne semble pas quâ€™il existe de meilleures pratiques documentÃ©es pour la mise en place dâ€™un tel systÃ¨me. Une approche est suggÃ©rÃ©e ci-dessous.&lt;/p&gt;
&lt;h3&gt;DÃ©pendance Injection&lt;/h3&gt;
&lt;p&gt;Avant de nous plonger dans la configuration de la base de donnÃ©es, nous devons comprendre lâ€™un des concepts clÃ©s de LoopBack 4 : &lt;a href=&quot;https://loopback.io/doc/en/lb4/Dependency-injection.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Injection de dÃ©pendance&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Essentiellement, lâ€™application peut enregistrer des valeurs sur une liste de clÃ©s uniques. Ces valeurs peuvent contenir des variables normales ou des dÃ©finitions de classes, que lâ€™application peut ensuite utiliser pour gÃ©rer la crÃ©ation de ces objets pour nous, en reprenant les dÃ©pendances requises.&lt;/p&gt;
&lt;p&gt;Par exemple, on peut enregistrer une valeur,â€˜barâ€™ sur une clÃ© â€˜fooâ€™.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;foo&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;bar&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Maintenant lâ€™application sait que la clÃ© â€˜fooâ€™, contient la valeur â€˜barâ€™. Nous pouvons demander cette valeur Ã  partir de lâ€™application nâ€™importe oÃ¹ dans notre code. Ã€ titre dâ€™exemple :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;@&lt;span class=&quot;token function&quot;&gt;inject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;foo&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; foo&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;En plus de lier une valeur Ã  une clÃ©, nous pouvons lier une classe Ã  une clÃ© et laisser lâ€™application calculer rÃ©cursivement ses dÃ©pendances lors de lâ€™instanciation de lâ€™objet sur demande.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Foo&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;@&lt;span class=&quot;token function&quot;&gt;inject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;bar&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; bar&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;someMethod&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;bar&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;bar&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Bar&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;foo&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toClass&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Foo&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Quand nous demandons une instance de la classe Foo, comme suit:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;@&lt;span class=&quot;token function&quot;&gt;inject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;foo&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; foo&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Foo&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Le conteneur dâ€™application verra que la classe Foo dÃ©pend de la valeur de la barre. Il le recherchera dans le conteneur de dÃ©pendances, le trouvera (sâ€™il est liÃ©) et lâ€™injectera ensuite dans la classe. Dâ€™oÃ¹ lâ€™&lt;strong&gt;injection de dÃ©pendance&lt;/strong&gt;.&lt;/p&gt;
&lt;h2&gt;CrÃ©er un nouveau projet&lt;/h2&gt;
&lt;p&gt;On peut utiliser la CLI pour crÃ©er un nouveau projet en appelant la commande suivante :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;lb4 app&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;? Project name: my-api
? Project description: My API
? Project root directory: my-api
? Application class name: MyApiApplication
? Select features to enable in the project Enable tslint, Enable prettier, Enable mocha, Enable loopbackBuild, Enable vscode, Enable repositories, Enable services&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; ./my-api&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;LoopBack 4 ajoute un dossier datasources au projet.&lt;/p&gt;
&lt;p&gt;Initialement, on supposerait que ce dossier est configurÃ© pour Ãªtre lu de la mÃªme maniÃ¨re que les fichiers JSON des sources de donnÃ©es LoopBack 3. Cependant, câ€™est juste le dossier par dÃ©faut utilisÃ© par le CLI pour y dÃ©poser les nouveaux fichiers.&lt;/p&gt;
&lt;h2&gt;Ajout dâ€™une source de donnÃ©es Ã  lâ€™aide de lâ€™interface CLI&lt;/h2&gt;
&lt;p&gt;Utilisez le CLI pour crÃ©er une nouvelle source de donnÃ©es en exÃ©cutant la commande suivante :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;lb4 datasource&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;? Datasource name: db
? Select the connector for db: In-memory db (supported by StrongLoop)
? window.localStorage key to use for persistence (browser only):
? Full path to file for persistence (server only):
create src/datasources/db.datasource.json
create src/datasources/db.datasource.ts
update src/datasources/index.ts
Datasource db was created in src/datasources/&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;La premiÃ¨re chose que vous remarquerez est que le fichier db.datasource.json est exactement le mÃªme que le fichier LoopBack 3 datasources.json. Dans lâ€™assistant CLI, jâ€™ai choisi le connecteur en mÃ©moire, qui est lâ€™un des nombreux connecteurs disponibles dans LoopBack 3 et LoopBack 4.&lt;/p&gt;
&lt;p&gt;Le nouvel ajout Ã  la famille de fichiers de source de donnÃ©es LoopBack est le fichier &lt;code&gt;datasource.ts&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;inject&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;@loopback/core&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;juggler&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;@loopback/repository&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; config &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./db.datasource.json&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DbDataSource&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;juggler&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;DataSource&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; dataSourceName &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;db&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    @&lt;span class=&quot;token function&quot;&gt;inject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;datasources.config.db&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;optional&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    dsConfig&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; object &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; config&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;dsConfig&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;La classe Ã©tend un type &lt;code&gt;juggler.DataSource&lt;/code&gt;, qui est le mÃªme type que celui utilisÃ© dans LoopBack 3 (sauf que câ€™est la version de dÃ©finition TypeScript). Il nÃ©cessite la mÃªme structure de configuration JSON que LoopBack 3. Dans cette version, nous devons passer la configuration Ã  la super mÃ©thode du constructeur.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; config &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./db.datasource.json&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  @&lt;span class=&quot;token function&quot;&gt;inject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;datasources.config.db&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;optional&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  dsConfig&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; object &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; config
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Le fichier importe la configuration par dÃ©faut du fichier &lt;code&gt;db.datasource.json&lt;/code&gt; et lâ€™inclut comme valeur par dÃ©faut dans le paramÃ¨tre &lt;code&gt;dsConfig&lt;/code&gt; du constructeur. Cela signifie que nous nâ€™aurons jamais besoin de passer quoi que ce soit dans le constructeur de la classe DbDataSource lors de lâ€™instanciation dâ€™une instance de lâ€™objet, Ã  moins de lâ€™Ã©craserâ€¦ peut-Ãªtre pour un environnement diffÃ©rent (nous y reviendrons).&lt;/p&gt;
&lt;p&gt;Lâ€™autre dÃ©corateur dâ€™injection peu familier permet au framework dâ€™injecter la valeur du paramÃ¨tre depuis le conteneur dâ€™injection de dÃ©pendance (sâ€™il est liÃ©).&lt;/p&gt;
&lt;p&gt;Dans cette optique, il existe de nombreuses faÃ§ons dâ€™instancier cette nouvelle classe DataSource :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// 1. With the default configuration from db.datasource.json&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; dbDataSource &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DbDataSource&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 2. Overwriting the default configuration&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; dbDataSource &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DbDataSource&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;db&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  connector&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;mysql&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  hostname&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DB_HOST&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  port&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DB_PORT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  user&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DB_USER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  password&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DB_PASSWORD&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  database&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DB_DATABASE&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nous avons maintenant une instance de notre dbDataSource. Mais, comment lâ€™utilise-t-on rÃ©ellement ? Comment notre nouvelle application connaÃ®t-elle notre source de donnÃ©es ?&lt;/p&gt;
&lt;p&gt;De la mÃªme maniÃ¨re que nous pouvons enregistrer (ou lier) des valeurs (ou classes) contre les applications Dependency Container, nous pouvons lier lâ€™instance de la source de donnÃ©es Ã  une clÃ© du conteneur.&lt;/p&gt;
&lt;p&gt;Dans notre fichier &lt;code&gt;application.ts&lt;/code&gt;, nous pouvons utiliser la fonction de liaison des applications dans le constructeur pour lier notre instance Ã  lâ€™application :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;datasources.db&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DbDataSource&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;En outre, LoopBack 4 a une fonction spÃ©ciale appelÃ©e source de donnÃ©es :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;dataSource&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DbDataSource&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Il existe une derniÃ¨re mÃ©thode pour lier notre source de donnÃ©es Ã  lâ€™application:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;datasources.config.db&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;db&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  connector&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;mysql&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  hostname&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DB_HOST&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  port&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DB_PORT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  user&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DB_USER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  password&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DB_PASSWORD&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  database&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DB_DATABASE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;datasources.db&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toClass&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;DbDataSource&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lâ€™extrait de code ci-dessus lie dâ€™abord la configuration Ã  la clÃ© de dÃ©pendance â€™
&lt;code&gt;datasources.config.db&lt;/code&gt;. Cette clÃ© de dÃ©pendance est rÃ©fÃ©rencÃ©e dans le constructeur de la classe DbDataSource via le dÃ©corateur inject. En liant la clÃ© &lt;code&gt;datasources.db&lt;/code&gt; Ã  la dÃ©finition de classe â€œDbDataSourceâ€, le conteneur de dÃ©pendances va rechercher toutes ses dÃ©pendances et les instancier pour nous.&lt;/p&gt;
&lt;p&gt;Maintenant que le conteneur de dÃ©pendances de lâ€™application connaÃ®t notre source de donnÃ©es, nous pouvons la lier Ã  un rÃ©fÃ©rentiel et un modÃ¨le.&lt;/p&gt;
&lt;p&gt;Note : vous devez dâ€™abord gÃ©nÃ©rer un modÃ¨le avant de gÃ©nÃ©rer un rÃ©fÃ©rentiel. Pour ce faire, utilisez la commande modÃ¨le lb4 :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;lb4 model&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;? Model class name: Person
? Please select the model base class Entity
Let&amp;#39;s add a property to Person
Enter an empty property name when done
? Enter the property name: id
? Property type: number
? Is id the ID property? Yes
? Is it required?: Yes
? Default value [leave blank for none]:
Let&amp;#39;s add another property to Person
Enter an empty property name when done
? Enter the property name:
create src/models/person.model.ts
update src/models/index.ts
Model Person was created in src/models/&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;AprÃ¨s avoir crÃ©Ã© un modÃ¨le, relions-le Ã  un nouveau rÃ©fÃ©rentiel. Utilisez la commande lb4 repository :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;lb4 repository&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;? Please select the datasource DbDatasource
? Select the model(s) you want to generate a repository Person
? Please enter the name of the ID property for Person: id
create src/repositories/person.repository.ts
update src/repositories/index.ts
Repository Person was created in src/repositories/&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Une fois que vous avez utilisÃ© le modÃ¨le lb4 et la commande lb4 repository, vous devriez vous retrouver avec un rÃ©fÃ©rentiel liÃ© Ã  un modÃ¨le qui injecte la classe DbDataSource :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PersonRepository&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DefaultCrudRepository&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;
  Person&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Person&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id
&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  
  &lt;span class=&quot;token keyword&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    @&lt;span class=&quot;token function&quot;&gt;inject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;datasources.db&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; dataSource&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; DbDataSource&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Person&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; dataSource&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Notez que le constructeur PersonRepository utilise Ã  nouveau le dÃ©corateur inject mais cette fois-ci il fait rÃ©fÃ©rence Ã  la clÃ© &lt;code&gt;datasources.db&lt;/code&gt; que nous avons dÃ©finie prÃ©cÃ©demment. Le rÃ©fÃ©rentiel est responsable de la connexion du modÃ¨le Ã  la source de donnÃ©es et fournit les fonctions CRUD (Create, Read, Update and Delete), grÃ¢ce Ã  la classe &lt;code&gt;DefaultCrudRepository&lt;/code&gt; dont nous hÃ©ritons.&lt;/p&gt;
&lt;p&gt;De la mÃªme maniÃ¨re que nous avons liÃ© la source de donnÃ©es Ã  lâ€™application, nous devons lier le rÃ©fÃ©rentiel Ã  lâ€™application :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;repository&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;PersonRepository&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Une fois enregistrÃ©, nous pouvons utiliser la commande contrÃ´leur lb4 pour crÃ©er un nouveau contrÃ´leur REST pour nous, qui utilise notre nouveau modÃ¨le de configuration, source de donnÃ©es et rÃ©fÃ©rentiel :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;lb4 controller&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;? Controller class name: People
? What kind of controller would you like to generate? REST Controller with CRUD functions
? What is the name of the model to use with this CRUD repository? Person
? What is the name of your CRUD repository? PersonRepository
? What is the type of your ID? number
? What is the base HTTP path name of the CRUD operations? /people
create src/controllers/people.controller.ts
update src/controllers/index.ts
Controller People was created in src/controllers/&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Vous pouvez enregistrer le contrÃ´leur contre lâ€™application de la mÃªme maniÃ¨re que nous avons la source de donnÃ©es et le rÃ©fÃ©rentiel. En plus dâ€™utiliser les fonctions de rÃ©fÃ©rentiel et de contrÃ´leur pour lier nos classes Ã  notre application, LoopBack les lie automatiquement pour nous. Ceci peut Ãªtre configurÃ© dans le constructeur de classe dâ€™application :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;bootOptions &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  controllers&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// Customize ControllerBooter Conventions here&lt;/span&gt;
    dirs&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;controllers&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    extensions&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;.controller.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    nested&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ceci indique Ã  notre application de regarder Ã  lâ€™intÃ©rieur du dossier Contollers pour tous nos contrÃ´leurs et appelle automatiquement this.controller pour nous. Vous pouvez Ã©galement configurer la valeur du rÃ©fÃ©rentiel bootOptions pour faire de mÃªme avec les rÃ©fÃ©rentiels.&lt;/p&gt;
&lt;p&gt;Nous nâ€™analyserons pas ici lâ€™ensemble du fichier du contrÃ´leur pour gagner de la place. Les sections importantes seront soulignÃ©es :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token parameter&quot;&gt;@&lt;span class=&quot;token function&quot;&gt;repository&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;PersonRepository&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; personRepository &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; PersonRepository&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Le dÃ©corateur du rÃ©fÃ©rentiel sâ€™enroule autour du dÃ©corateur dâ€™injection. Câ€™est la mÃªme chose que de faire ce qui suit :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  @&lt;span class=&quot;token function&quot;&gt;inject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;repositories.PersonRepository&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; personRepository &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; PersonRepository&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nous pouvons maintenant utiliser le rÃ©fÃ©rentiel pour accÃ©der Ã  nos donnÃ©es de modÃ¨le dans notre source de donnÃ©es configurÃ©e.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;@&lt;span class=&quot;token function&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/people&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  responses&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&apos;200&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      description&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Person model instance&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      content&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;application/json&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;x-ts-type&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Person&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;@&lt;span class=&quot;token function&quot;&gt;requestBody&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; person&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Person&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Person&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;personRepository&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;person&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Cet article compare les diffÃ©rences entre la configuration dâ€™une source de donnÃ©es de base de donnÃ©es et une application LoopBack 3 et LoopBack 4. En plus de comprendre comment configurer une source de donnÃ©es, nous avons examinÃ© comment configurer la configuration en fonction de divers environnements en permettant aux donnÃ©es de configuration dâ€™Ãªtre dÃ©finies par les variables dâ€™environnement systÃ¨me, auxquelles nous accÃ©dons par &lt;code&gt;process.env.ENV_VARIABLE&lt;/code&gt;.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Premiers pas avec LoopBack 4]]></title><description><![CDATA[LoopBack 4 est un framework dâ€™API open-source pour Node.js. La derniÃ¨re version a adoptÃ© les derniÃ¨res fonctionnalitÃ©s de ES2016/2017/2018, supporte TypeScript et intÃ¨gre de nouveaux standards tels que OpenAPI Spec et GraphQL, parmi dâ€™autres. Cet article a pour but de guider les dÃ©butants Ã  travers la documentation et dâ€™expliquer les points cruciaux nÃ©cessaires pour commencer Ã  construire un projet dâ€™API LoopBack 4 maintenable. Installation Assurez-vous dâ€™avoir Node.js version 8+ installÃ© sur votre machine. Le monorepo LoopBack inclut un package CLI, qui nous aidera dans lâ€™Ã©chafaudage de notre application LoopBack 4. Pour lâ€™installer, exÃ©cutez la commande suivante sur votre terminal : CrÃ©er un nouveau projet Une fois que lâ€™outil LoopBack 4 CLI a Ã©tÃ© installÃ© en global sur notre machine locale, nous pouvons Ã©chafauder notre application en utilisant la commande suivante : Le terminal prÃ©sentera les demandes dâ€™entrÃ©e suivantes, que jâ€™ai remplies ci-dessous et qui formeront la base de notre exemple dâ€™API pour lâ€™avenir. AprÃ¨s avoir parcouru lâ€™assistant CLI ci-dessus, il crÃ©era un tas de rÃ©pertoires et de fichiers boilerplate ainsi que lancera npm install Ã  notre place. Nous pouvons alors naviguer dans notre rÃ©pertoire nouvellement crÃ©Ã© et dÃ©marrer lâ€™application. Si tout sâ€™est bien dÃ©roulÃ©, vous devriez voir le rÃ©sultat suivant : Le projet expose un simple endpoint GET /ping. Ce qui nâ€™est pas clair dans la sortie du terminal, ou dans la documentation de dÃ©marrage, câ€™est que lâ€™application LoopBack 4 expose Ã©galement un endpoint qui rendra la documentation OpenAPI Spec. Pour y accÃ©der, il vous suffit dâ€™ouvrir votre navigateur et dâ€™aller Ã  lâ€™url suivante : http://localhost:3000/swagger-ui. LoopBack 4 OpenAPI Cette fonctionnalitÃ© permet aux dÃ©veloppeurs dâ€™API de documenter facilement leurs services Web au fur et Ã  mesure que le code est Ã©crit et de tester les endpoints dâ€™une maniÃ¨re conviviale. Exploration de lâ€™expression standard Le LoopBack CLI crÃ©e beaucoup de fichiers et de dossiers pour nous. RÃ©duisons le bruit et concentrons-nous sur les Ã©lÃ©ments dont nous avons besoin pour mettre en place et faire fonctionner un nouveau endpoint. LoopBack 4 Structure du projet Un fichier ping.controller.ts initial est crÃ©Ã© pour nous. Câ€™est la convention de nommage par dÃ©faut que lâ€™application LoopBack applique par configuration, qui peut Ãªtre modifiÃ©e dans le fichier application.ts et qui sera explorÃ©e dans de futurs articles. AprÃ¨s avoir ouvert le fichier ping.controller.ts, nous pouvons voir que le code utilise des dÃ©corateurs TypeScript pour fournir des mÃ©tadonnÃ©es HTTP Ã  la fonction ping() TypeScript dans la classe PingController. Ce dÃ©corateur permet Ã  lâ€™application LoopBack de savoir que toute requÃªte HTTP GET doit invoquer la fonction ping(). La fonction ping() renvoie un objet JSON simple. Lâ€™application LoopBack sâ€™occupe de la sÃ©rialisation automatique des donnÃ©es de rÃ©ponse, qui est dans ce cas JSON. CrÃ©ation dâ€™un nouveau Endpoint
Un nouveau point final peut Ãªtre crÃ©Ã© en Ã©crivant une nouvelle fonction dÃ©corÃ©e sur le PingController dans le fichier ping.controller.ts en se rÃ©fÃ©rant Ã  la fonction ping() existante. LoopBack nous permet Ã©galement de crÃ©er facilement de nouveaux contrÃ´leurs en utilisant le CLI : Afin dâ€™utiliser le contrÃ´leur REST avec lâ€™option de fonctions CRUD, nous devons dâ€™abord avoir un rÃ©fÃ©rentiel que nous examinerons dans les prochains articles. Si nous exÃ©cutons notre serveur avec npm, dÃ©marrez et rafraÃ®chissez notre navigateur OpenAPI, remarquez quâ€™il nâ€™y a pas encore de mention dâ€™un PaymentController. Câ€™est parce que nous nâ€™avons pas encore mappÃ© de fonctions aux chemins HTTP pour lâ€™application LoopBack Ã  documenter en utilisant les spÃ©cifications OpenAPI. Une fonction appelÃ©e paye accepte un seul paramÃ¨tre paiement de type any et retourne un Object. Nous utilisons deux dÃ©corateurs : Ce qui dit Ã  LoopBack de mapper la fonction pay() Ã  une mÃ©thode HTTP POST sur les requÃªtes entrantes /payments et qui indique Ã  LoopBack de mapper le corps de requÃªte HTTP POST au paramÃ¨tre de paiement de la fonction pay(). LoopBack analysera automatiquement le corps de requÃªte HTTP JSON en fonction du type requis, ce qui est le cas dans ce cas. En rÃ©exÃ©cutant le serveur (npm start) et en rafraÃ®chissant le navigateur OpenAPI Spec, le PaymentController sera prÃ©sent avec un endpoint POST /payments. PaymentController - POST /payments Le navigateur OpenAPI Spec affiche les paramÃ¨tres disponibles que nous pouvons utiliser pour interagir avec lâ€™API, qui est juste un corps de requÃªte HTTP pour le moment. Nous pouvons tester ce endpoint en appuyant sur le bouton â€œTry it outâ€ en haut Ã  droite. Test POST /payments La valeur dâ€™exemple a Ã©tÃ© initialisÃ©e avec un objet JSON vide. Ce nâ€™est pas trÃ¨s utile, car cela ne communique pas les valeurs attendues par le endpoint. GrÃ¢ce Ã  des normes REST simples, nous pouvons Ã©tablir que nous pouvons probablement utiliser ce endpoint pour effectuer un paiement, mais quelles sont les propriÃ©tÃ©s exactes que nous pouvons transmettre ici? Valeur? Devise? Montant? ParamÃ¨tres du document Ã  lâ€™aide des dÃ©finitions de modÃ¨le Dans LoopBack 3.x, tout Ã©tait pilotÃ© par un modÃ¨le, qui Ã©tait un simple fichier de configuration JSON dÃ©crivant les propriÃ©tÃ©s du modÃ¨le et leurs types. Les fichiers de dÃ©finition de modÃ¨le permettaient Ã©galement aux dÃ©veloppeurs de spÃ©cifier si le modÃ¨le Ã©tait persistant ou non et de mapper les propriÃ©tÃ©s JSON sur des colonnes spÃ©cifiques aux bases de donnÃ©es (si nÃ©cessaire). Le fichier permettait Ã©galement de configurer des validations, des relations, des acls (Access Control Lists) et des mÃ©thodes Ã  distance. LoopBack 4 a pour but de dÃ©coupler beaucoup de ces Ã©lÃ©ments afin de permettre une plus grande flexibilitÃ©. Nous pouvons toutefois rÃ©utiliser une grande partie de la structure syntaxique des mÃ©tadonnÃ©es dans LoopBack 4, en consÃ©quence. Nous utilisons la classe Model ci-dessus pour dÃ©clarer que la classe PaymentRequest nâ€™est pas persistante, car elle nâ€™est pas conforme Ã  lâ€™interface Persistable (qui se trouve dans le paquet LoopBack Repository). La classe Entity, utilisÃ©e dans les articles ultÃ©rieurs, implÃ©mente lâ€™interface Persistable et inclut une fonction qui est utilisÃ©e pour dÃ©finir quelle propriÃ©tÃ© dÃ©termine son caractÃ¨re unique, câ€™est-Ã -dire quâ€™elle a un identifiant unique et peut Ãªtre stockÃ©e/persistÃ©e dans une source de donnÃ©es (Data Source). La classe PaymentRequest est utilisÃ©e pour modÃ©liser les donnÃ©es de notre module POST /payments HTTP Request. Le dÃ©corateur @model() peut Ãªtre utilisÃ© pour inclure des mÃ©tadonnÃ©es supplÃ©mentaires pour le modÃ¨le. Dans ce cas, il est juste utilisÃ© pour faire savoir Ã  LoopBack quâ€™il sâ€™agit dâ€™un modÃ¨le et quâ€™il doit Ãªtre utilisÃ© pour rendre la documentation dans la spÃ©cification OpenAPI. Le dÃ©corateur @property est utilisÃ© pour fournir des mÃ©tadonnÃ©es supplÃ©mentaires aux propriÃ©tÃ©s individuelles de notre modÃ¨le. Ces mÃ©tadonnÃ©es permettent dâ€™afficher les propriÃ©tÃ©s dans les fichiers de dÃ©finition de modÃ¨le LoopBack 3 et leur but principal est de permettre aux spÃ©cifications OpenAPI de documenter facilement les propriÃ©tÃ©s ainsi que les propriÃ©tÃ©s de mapper aux noms de colonnes spÃ©cifiques Ã  la base de donnÃ©es. Nous pouvons utiliser cette classe de modÃ¨le comme type de paramÃ¨tre dans la fonction PaymentController#pay : Avec une classe TypeScript spÃ©cifique utilisÃ©e comme type de paramÃ¨tre, LoopBack peut maintenant fournir des dÃ©tails supplÃ©mentaires Ã  la spÃ©cification OpenAPI et notre navigateur rend maintenant ce qui suit (aprÃ¨s avoir redÃ©marrÃ© le serveur et actualisÃ© la page): POST /payments Documentation Request Body Nos dÃ©veloppeurs frontaux peuvent maintenant facilement lire la documentation interactive et commencer Ã  intÃ©grer leurs applications avec un minimum dâ€™effort. Lâ€™exÃ©cution de cette opÃ©ration aprÃ¨s avoir appuyÃ© sur le bouton â€œTry it outâ€ et modifiÃ© certains des paramÃ¨tres permet dâ€™obtenir un code de rÃ©ponse HTTP 200 avec le corps de rÃ©ponse JSON suivant: 200 Success Nous avons changÃ© la propriÃ©tÃ© de statut Ã  â€œsuccÃ¨sâ€ dans la fonction pay() plus tÃ´t, ce qui est vu dans la sortie JSON ci-dessus. Conclusion Cet article a introduit LoopBack 4 en Ã©chafaudant une API de paiement simple par lâ€™intermÃ©diaire du CLI. Nous avons examinÃ© Ã  quel point il est facile de documenter et de tester les endpoints de lâ€™API Ã  lâ€™aide des spÃ©cifications OpenAPI intÃ©grÃ©es en utilisant les contrÃ´leurs LoopBack 4 et les fonctions TypeScript dÃ©corÃ©es. Enfin, nous avons explorÃ© lâ€™Ã©volution des fichiers de dÃ©finition de modÃ¨le LoopBack 2/3 en dÃ©tail. LoopBack 4 est toujours en cours de dÃ©veloppement, avec de nombreuses nouvelles fonctionnalitÃ©s construites par lâ€™impressionnante communautÃ© open-source. Dans les articles suivants, nous les explorerons tous plus en dÃ©tail au fur et Ã  mesure que nous construirons notre API de paiement simple.]]></description><link>https://ludovicwyffels.dev/node-loopback/</link><guid isPermaLink="false">https://ludovicwyffels.dev/node-loopback/</guid><pubDate>Sat, 29 Jun 2019 08:00:00 GMT</pubDate><content:encoded>&lt;p&gt;LoopBack 4 est un framework dâ€™API open-source pour Node.js. La derniÃ¨re version a adoptÃ© les derniÃ¨res fonctionnalitÃ©s de ES2016/2017/2018, supporte TypeScript et intÃ¨gre de nouveaux standards tels que OpenAPI Spec et GraphQL, parmi dâ€™autres.&lt;/p&gt;
&lt;p&gt;Cet article a pour but de guider les dÃ©butants Ã  travers la documentation et dâ€™expliquer les points cruciaux nÃ©cessaires pour commencer Ã  construire un projet dâ€™API LoopBack 4 maintenable.&lt;/p&gt;
&lt;h2&gt;Installation&lt;/h2&gt;
&lt;p&gt;Assurez-vous dâ€™avoir Node.js version 8+ installÃ© sur votre machine. Le monorepo LoopBack inclut un package CLI, qui nous aidera dans lâ€™Ã©chafaudage de notre application LoopBack 4. Pour lâ€™installer, exÃ©cutez la commande suivante sur votre terminal :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; -g @loopback/cli&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;CrÃ©er un nouveau projet&lt;/h2&gt;
&lt;p&gt;Une fois que lâ€™outil LoopBack 4 CLI a Ã©tÃ© installÃ© en global sur notre machine locale, nous pouvons Ã©chafauder notre application en utilisant la commande suivante :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;lb4 app&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Le terminal prÃ©sentera les demandes dâ€™entrÃ©e suivantes, que jâ€™ai remplies ci-dessous et qui formeront la base de notre exemple dâ€™API pour lâ€™avenir.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;? Project name: (projects) payment-api
? Project description: (projects) A simple Payment API
? Project root directory: (payment-api)
? Application class name: (PaymentApiApplication)
? Select project build settings: (Press &amp;lt;space&amp;gt; to select, &amp;lt;a&amp;gt; to toggle all, &amp;lt;i&amp;gt; to invert selection) ... Press enter for default selection&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;AprÃ¨s avoir parcouru lâ€™assistant CLI ci-dessus, il crÃ©era un tas de rÃ©pertoires et de fichiers boilerplate ainsi que lancera &lt;code&gt;npm install&lt;/code&gt; Ã  notre place. Nous pouvons alors naviguer dans notre rÃ©pertoire nouvellement crÃ©Ã© et dÃ©marrer lâ€™application.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; payment-api
&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; start&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Si tout sâ€™est bien dÃ©roulÃ©, vous devriez voir le rÃ©sultat suivant :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Server is running at http://127.0.0.1:3000
Try http://127.0.0.1:3000/ping&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Le projet expose un simple endpoint &lt;strong&gt;GET&lt;/strong&gt; &lt;em&gt;/ping&lt;/em&gt;. Ce qui nâ€™est pas clair dans la sortie du terminal, ou dans la documentation de dÃ©marrage, câ€™est que lâ€™application LoopBack 4 expose Ã©galement un endpoint qui rendra la documentation OpenAPI Spec. Pour y accÃ©der, il vous suffit dâ€™ouvrir votre navigateur et dâ€™aller Ã  lâ€™url suivante : &lt;a href=&quot;http://localhost:3000/swagger-ui&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;http://localhost:3000/swagger-ui&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;&quot; alt=&quot;LoopBack 4 OpenAPI&quot;&gt;&lt;/p&gt;
&lt;p&gt;Cette fonctionnalitÃ© permet aux dÃ©veloppeurs dâ€™API de documenter facilement leurs services Web au fur et Ã  mesure que le code est Ã©crit et de tester les endpoints dâ€™une maniÃ¨re conviviale.&lt;/p&gt;
&lt;h2&gt;Exploration de lâ€™expression standard&lt;/h2&gt;
&lt;p&gt;Le LoopBack CLI crÃ©e beaucoup de fichiers et de dossiers pour nous. RÃ©duisons le bruit et concentrons-nous sur les Ã©lÃ©ments dont nous avons besoin pour mettre en place et faire fonctionner un nouveau endpoint.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;&quot; alt=&quot;LoopBack 4 Structure du projet&quot;&gt;&lt;/p&gt;
&lt;p&gt;Un fichier &lt;strong&gt;ping.controller.ts&lt;/strong&gt; initial est crÃ©Ã© pour nous. Câ€™est la convention de nommage par dÃ©faut que lâ€™application LoopBack applique par configuration, qui peut Ãªtre modifiÃ©e dans le fichier &lt;strong&gt;application.ts&lt;/strong&gt; et qui sera explorÃ©e dans de futurs articles.&lt;/p&gt;
&lt;p&gt;AprÃ¨s avoir ouvert le fichier &lt;strong&gt;ping.controller.ts&lt;/strong&gt;, nous pouvons voir que le code utilise des dÃ©corateurs TypeScript pour fournir des mÃ©tadonnÃ©es HTTP Ã  la fonction ping() TypeScript dans la classe PingController.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;@&lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/ping&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ce dÃ©corateur permet Ã  lâ€™application LoopBack de savoir que toute requÃªte HTTP GET doit invoquer la fonction &lt;code&gt;ping()&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  greeting&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Hello from LoopBack&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  date&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  url&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;url&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  headers&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;headers&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;La fonction &lt;code&gt;ping()&lt;/code&gt; renvoie un objet JSON simple. Lâ€™application LoopBack sâ€™occupe de la sÃ©rialisation automatique des donnÃ©es de rÃ©ponse, qui est dans ce cas JSON.&lt;/p&gt;
&lt;p&gt;CrÃ©ation dâ€™un nouveau Endpoint
Un nouveau point final peut Ãªtre crÃ©Ã© en Ã©crivant une nouvelle fonction dÃ©corÃ©e sur le PingController dans le fichier ping.controller.ts en se rÃ©fÃ©rant Ã  la fonction ping() existante. LoopBack nous permet Ã©galement de crÃ©er facilement de nouveaux contrÃ´leurs en utilisant le CLI :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;txt&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-txt line-numbers&quot;&gt;&lt;code class=&quot;language-txt&quot;&gt;lb4 controller
? Controller class name: Payment
? What kind of controller would you like to generate? (Use arrow keys)
&amp;gt; Empty Controller
  REST Controller with CRUD functions&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Afin dâ€™utiliser le contrÃ´leur REST avec lâ€™option de fonctions CRUD, nous devons dâ€™abord avoir un &lt;strong&gt;rÃ©fÃ©rentiel&lt;/strong&gt; que nous examinerons dans les prochains articles.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PaymentController&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Si nous exÃ©cutons notre serveur avec npm, dÃ©marrez et rafraÃ®chissez notre navigateur OpenAPI, remarquez quâ€™il nâ€™y a pas encore de mention dâ€™un PaymentController. Câ€™est parce que nous nâ€™avons pas encore mappÃ© de fonctions aux chemins HTTP pour lâ€™application LoopBack Ã  documenter en utilisant les spÃ©cifications OpenAPI.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;@&lt;span class=&quot;token function&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/payments&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;pay&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;@&lt;span class=&quot;token function&quot;&gt;requestBody&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; payment&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Object &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  payment&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;status &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;success&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; payment&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Une fonction appelÃ©e paye accepte un seul paramÃ¨tre paiement de type &lt;code&gt;any&lt;/code&gt; et retourne un &lt;code&gt;Object&lt;/code&gt;. Nous utilisons deux dÃ©corateurs :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;@&lt;span class=&quot;token function&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/payments&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ce qui dit Ã  LoopBack de mapper la fonction &lt;code&gt;pay()&lt;/code&gt; Ã  une mÃ©thode HTTP POST sur les requÃªtes entrantes &lt;code&gt;/payments&lt;/code&gt; et&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;@&lt;span class=&quot;token function&quot;&gt;requestBody&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;qui indique Ã  LoopBack de mapper le corps de requÃªte HTTP POST au paramÃ¨tre de paiement de la fonction &lt;code&gt;pay()&lt;/code&gt;. LoopBack analysera automatiquement le corps de requÃªte HTTP JSON en fonction du type requis, ce qui est le cas dans ce cas.&lt;/p&gt;
&lt;p&gt;En rÃ©exÃ©cutant le serveur (&lt;code&gt;npm start&lt;/code&gt;) et en rafraÃ®chissant le navigateur OpenAPI Spec, le &lt;em&gt;PaymentController&lt;/em&gt; sera prÃ©sent avec un endpoint POST /payments.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;&quot; alt=&quot;PaymentController - POST /payments&quot;&gt;&lt;/p&gt;
&lt;p&gt;Le navigateur OpenAPI Spec affiche les paramÃ¨tres disponibles que nous pouvons utiliser pour interagir avec lâ€™API, qui est juste un corps de requÃªte HTTP pour le moment. Nous pouvons tester ce endpoint en appuyant sur le bouton â€œTry it outâ€ en haut Ã  droite.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;&quot; alt=&quot;Test POST /payments&quot;&gt;&lt;/p&gt;
&lt;p&gt;La &lt;em&gt;valeur dâ€™exemple&lt;/em&gt; a Ã©tÃ© initialisÃ©e avec un objet JSON vide. Ce nâ€™est pas trÃ¨s utile, car cela ne communique pas les valeurs attendues par le endpoint. GrÃ¢ce Ã  des normes REST simples, nous pouvons Ã©tablir que nous pouvons probablement utiliser ce endpoint pour effectuer un paiement, mais quelles sont les propriÃ©tÃ©s exactes que nous pouvons transmettre ici? Valeur? Devise? Montant?&lt;/p&gt;
&lt;h2&gt;ParamÃ¨tres du document Ã  lâ€™aide des dÃ©finitions de modÃ¨le&lt;/h2&gt;
&lt;p&gt;Dans LoopBack 3.x, tout Ã©tait pilotÃ© par un modÃ¨le, qui Ã©tait un simple fichier de configuration JSON dÃ©crivant les propriÃ©tÃ©s du modÃ¨le et leurs types.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-json line-numbers&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Payment&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;base&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;PersistedModel&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;options&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;validateUpsert&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;mysql&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;table&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;payment&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;properties&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;paymentId&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;string&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;required&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;defaultFn&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;uuid&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;mysql&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;columnName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;payment_id&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;amount&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;number&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;required&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;mysql&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;columnName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;amount&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;createdOn&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;date&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;defaultFn&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;now&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;mysql&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;columnName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;created_on&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;updatedOn&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;date&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;mysql&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;columnName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;updated_on&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;validations&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;relations&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;acls&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;methods&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Les fichiers de dÃ©finition de modÃ¨le permettaient Ã©galement aux dÃ©veloppeurs de spÃ©cifier si le modÃ¨le Ã©tait persistant ou non et de mapper les propriÃ©tÃ©s JSON sur des colonnes spÃ©cifiques aux bases de donnÃ©es (si nÃ©cessaire). Le fichier permettait Ã©galement de configurer des validations, des relations, des acls (Access Control Lists) et des mÃ©thodes Ã  distance.&lt;/p&gt;
&lt;p&gt;LoopBack 4 a pour but de dÃ©coupler beaucoup de ces Ã©lÃ©ments afin de permettre une plus grande flexibilitÃ©. Nous pouvons toutefois rÃ©utiliser une grande partie de la structure syntaxique des mÃ©tadonnÃ©es dans LoopBack 4, en consÃ©quence.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; property&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; model&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Model &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;@loopback/repository&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
@&lt;span class=&quot;token function&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PaymentRequest&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Model&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  @&lt;span class=&quot;token function&quot;&gt;property&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;number&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    required&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  amount&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  @&lt;span class=&quot;token function&quot;&gt;property&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;string&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    required&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  status&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nous utilisons la classe &lt;code&gt;Model&lt;/code&gt; ci-dessus pour dÃ©clarer que la classe &lt;code&gt;PaymentRequest&lt;/code&gt; nâ€™est pas persistante, car elle nâ€™est pas conforme Ã  lâ€™interface &lt;code&gt;Persistable&lt;/code&gt; (qui se trouve dans le paquet LoopBack Repository). La classe &lt;code&gt;Entity&lt;/code&gt;, utilisÃ©e dans les articles ultÃ©rieurs, implÃ©mente lâ€™interface &lt;code&gt;Persistable&lt;/code&gt; et inclut une fonction qui est utilisÃ©e pour dÃ©finir quelle propriÃ©tÃ© dÃ©termine son caractÃ¨re unique, câ€™est-Ã -dire quâ€™elle a un identifiant unique et peut Ãªtre stockÃ©e/persistÃ©e dans une source de donnÃ©es (Data Source).&lt;/p&gt;
&lt;p&gt;La classe &lt;code&gt;PaymentRequest&lt;/code&gt; est utilisÃ©e pour modÃ©liser les donnÃ©es de notre module POST /payments HTTP Request.&lt;/p&gt;
&lt;p&gt;Le dÃ©corateur &lt;code&gt;@model()&lt;/code&gt; peut Ãªtre utilisÃ© pour inclure des mÃ©tadonnÃ©es supplÃ©mentaires pour le modÃ¨le. Dans ce cas, il est juste utilisÃ© pour faire savoir Ã  LoopBack quâ€™il sâ€™agit dâ€™un modÃ¨le et quâ€™il doit Ãªtre utilisÃ© pour rendre la documentation dans la spÃ©cification OpenAPI.&lt;/p&gt;
&lt;p&gt;Le dÃ©corateur &lt;code&gt;@property&lt;/code&gt; est utilisÃ© pour fournir des mÃ©tadonnÃ©es supplÃ©mentaires aux propriÃ©tÃ©s individuelles de notre modÃ¨le. Ces mÃ©tadonnÃ©es permettent dâ€™afficher les propriÃ©tÃ©s dans les fichiers de dÃ©finition de modÃ¨le LoopBack 3 et leur but principal est de permettre aux spÃ©cifications OpenAPI de documenter facilement les propriÃ©tÃ©s ainsi que les propriÃ©tÃ©s de mapper aux noms de colonnes spÃ©cifiques Ã  la base de donnÃ©es.&lt;/p&gt;
&lt;p&gt;Nous pouvons utiliser cette classe de modÃ¨le comme type de paramÃ¨tre dans la fonction &lt;em&gt;PaymentController#pay&lt;/em&gt; :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;@&lt;span class=&quot;token function&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/payments&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;pay&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;@&lt;span class=&quot;token function&quot;&gt;requestBody&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; payment&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; PaymentRequest&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Object &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  payment&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;status &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;success&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; payment&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Avec une classe TypeScript spÃ©cifique utilisÃ©e comme type de paramÃ¨tre, LoopBack peut maintenant fournir des dÃ©tails supplÃ©mentaires Ã  la spÃ©cification OpenAPI et notre navigateur rend maintenant ce qui suit (aprÃ¨s avoir redÃ©marrÃ© le serveur et actualisÃ© la page):&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;&quot; alt=&quot;POST /payments Documentation Request Body&quot;&gt;&lt;/p&gt;
&lt;p&gt;Nos dÃ©veloppeurs frontaux peuvent maintenant facilement lire la documentation interactive et commencer Ã  intÃ©grer leurs applications avec un minimum dâ€™effort.&lt;/p&gt;
&lt;p&gt;Lâ€™exÃ©cution de cette opÃ©ration aprÃ¨s avoir appuyÃ© sur le bouton â€œTry it outâ€ et modifiÃ© certains des paramÃ¨tres permet dâ€™obtenir un code de rÃ©ponse HTTP 200 avec le corps de rÃ©ponse JSON suivant:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;&quot; alt=&quot;200 Success&quot;&gt;&lt;/p&gt;
&lt;p&gt;Nous avons changÃ© la propriÃ©tÃ© de statut Ã  â€œsuccÃ¨sâ€ dans la fonction pay() plus tÃ´t, ce qui est vu dans la sortie JSON ci-dessus.&lt;/p&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Cet article a introduit LoopBack 4 en Ã©chafaudant une API de paiement simple par lâ€™intermÃ©diaire du CLI. Nous avons examinÃ© Ã  quel point il est facile de documenter et de tester les endpoints de lâ€™API Ã  lâ€™aide des spÃ©cifications OpenAPI intÃ©grÃ©es en utilisant les contrÃ´leurs LoopBack 4 et les fonctions TypeScript dÃ©corÃ©es. Enfin, nous avons explorÃ© lâ€™Ã©volution des fichiers de dÃ©finition de modÃ¨le LoopBack 2/3 en dÃ©tail.&lt;/p&gt;
&lt;p&gt;LoopBack 4 est toujours en cours de dÃ©veloppement, avec de nombreuses nouvelles fonctionnalitÃ©s construites par lâ€™impressionnante communautÃ© open-source. Dans les articles suivants, nous les explorerons tous plus en dÃ©tail au fur et Ã  mesure que nous construirons notre API de paiement simple.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Vim est vulnÃ©rable - Mise Ã  jour de Vim sur macOS]]></title><description><![CDATA[Si vous travaillez dans le terminal, vous utilisez probablement Vim frÃ©quemment. Beaucoup de gens ont une relation dâ€™amour/haine avec Vim, mais personnellement câ€™est mon Ã©diteur de ligne de commande prÃ©fÃ©rÃ©, surtout quand je suis sur une machine Linux, et je lâ€™utilise aussi frÃ©quemment sur mon Mac, aussi. RÃ©cemment, une vulnÃ©rabilitÃ© a Ã©tÃ© identifiÃ©e Ã  Vim. La vulnÃ©rabilitÃ© concerne lâ€™utilisation malveillante de la fonction modelines de Vim. Cette vulnÃ©rabilitÃ© affecte toutes les versions de Vim antÃ©rieures Ã  la version 8.1.1365, ce qui signifie quâ€™elle affecte aussi votre Mac, si vous utilisez la version fournie avec macOS 10.14.5, qui est 8.0.1283. Au moment dâ€™Ã©crire ces lignes, la version que nous installons est la 8.1.1573, ce qui permettra de corriger la vulnÃ©rabilitÃ©. Nous allons discuter comment mettre Ã  jour Vim Ã  la derniÃ¨re version pour Ã©viter ce problÃ¨me et aussi couvrir briÃ¨vement ce que signifie cette vulnÃ©rabilitÃ©. Parlons dâ€™abord des mauvaises choses. Que sont les modelines et pourquoi devrais-je mâ€™en soucier? Sans vous ennuyer avec les dÃ©tails prÃ©cis, nous pouvons dire que les modelines sont un moyent de configurer les prÃ©rÃ©glages dans Vim en ajoutant des commandes en haut des fichier qui dÃ©finissent ces prÃ©rÃ©glages lors de lâ€™exÃ©cution du fichier. Alors quâ€™est-ce que cela signifie? En termes de vulnÃ©rabilitÃ©, cela signifie que bien que les modelines aient des cas dâ€™utilisation lÃ©gitimes, si vous avez une version vulnÃ©rable de Vim, il est possible dâ€™abuser de cette fonctionnalitÃ© et dâ€™Ã©chapper Ã  la sandbox dâ€™exÃ©cution de Vim, ce qui permet dâ€™exÃ©cuter du code arbitraire de maniÃ¨re non sÃ©curisÃ©e. Comment fonctionne cette vulnÃ©rabilitÃ©? Imaginez un scÃ©nario dans lequel un acteur malveillant a chargÃ© un script contenant des modelines dans GitHub et a rÃ©ussi Ã  valider le fichier dans un rÃ©fÃ©rentiel que vous utilisez. Lâ€™attaquant a ajoutÃ© quelques lignes de commandes modeline en haut dâ€™un script censÃ© Ãªtre un script Bash standard. Vous dÃ©cidez dâ€™ouvrir le fichier dans Vim pour lire le code avant de lâ€™exÃ©cuter (toujours une bonne idÃ©eâ€¦ en gÃ©nÃ©ral). Câ€™est tout ce dont nous avons besoin; le code malveillant sâ€™exÃ©cute car tout ce que Vim doit faire est de lire le fichier et les modelines sont exÃ©cutÃ©es, câ€™est ainsi que les modelines sont supposÃ©es fonctionner. Malheureusement pour vous, votre version de Vim est obsolÃ¨te et vous avez Ã©tÃ© infectÃ© car ce code malveillant peut maintenant Ãªtre exÃ©cutÃ© en dehors de Vim. Ou peut-Ãªtre pas, parce que vous avez lu cet article en premier, puis vous avez mis Ã  jour Vim. Liste de prÃ©-installation Il convient de discuter de certaines mises en garde avant de poursuivre. Chaque fois que vous apportez des modifications Ã  macOS en utilisant un terminal, et en particulier en exÃ©cutant des commandes utilisant sudo, vous devez faire attention car il est facile de casser des choses. PremiÃ¨rement, nous ne pouvons pas supprimer la version de Vim installÃ©e avec macOS. Au lieu de cela, nous allons installer la derniÃ¨re version et nous assurer que câ€™est celle utilisÃ©e lorsque vous accÃ©dez au terminal. La raison pour laquelle nous ne pouvons pas supprimer la version de Vim fournie avec macOS est due Ã  la configuration des autorisations dans macOS. Apple a configurÃ© en toute sÃ©curitÃ© les autorisations de sorte que lâ€™utilisateur ne puisse plus modifier (ni mÃªme casser les composants) du systÃ¨me principal, y compris Vim. De plus, nous ne souhaitons pas vraiment supprimer les logiciels de base afin de ne pas causer de conflits. Nous apportons un changement qui peut facilement Ãªtre annulÃ© si quelque chose se passait mal ou devait Ãªtre changÃ© Ã  lâ€™avenir. DeuxiÃ¨mement, nous allons exÃ©cuter quelques commandes en utilisant sudo. Cela signifie que vous allez exÃ©cuter ces commandes comme si vous Ã©tiez lâ€™utilisateur root. Cela pourrait poser problÃ¨me si vous ne lisez pas et ne suivez pas les instructions Ã  la lettre. Cela signifie Ã©galement que vous devez avoir un accÃ¨s administrateur dans macOS et que vous devrez fournir votre mot de passe lors de lâ€™exÃ©cution de la commande. Tu as Ã©tÃ© prÃ©venu. Mais ne vous inquiÃ©tez pas, ce que nous faisons est assez simple, et utiliser sudo nâ€™est pas mauvais, câ€™est juste que vous voulez vous rappeler quâ€™un grand pouvoir implique de grandes responsabilitÃ©s, et que sudo a dÃ©finitivement un grand pouvoir. Un grand pouvoir implique de grandes responsabilitÃ©s. Oncle Ben Cela dit, passons Ã  autre chose et commenÃ§ons Ã  mettre Ã  jour Vim. Compiler Vim sur macOS Pour commencer, ouvrons lâ€™application Terminal. Vous pouvez rechercher cela en utilisant Spotlight (Cmd + Space) ou ouvrir votre dossier Applications, cliquez sur Utilitaires, puis sur Terminal. Tout dâ€™abord, nous devons rÃ©cupÃ©rer la derniÃ¨re version de Vim dans le dÃ©pÃ´t officiel GitHub, puis nous allons changer de rÃ©pertoire dans le rÃ©pertoire vim qui vient dâ€™Ãªtre crÃ©Ã©. Nous venons de tÃ©lÃ©charger le code source de Vim, ce qui signifie que nous devrons le compiler avant de pouvoir lâ€™installer. Pour ce faire, tapez simplement make dans le mÃªme rÃ©pertoire. Vous allez voir un mur de texte en cours de crÃ©ation lors de la compilation de lâ€™application. Cela prendra probablement quelques minutes, en fonction de la vitesse de votre Mac. Une fois terminÃ©, vous serez renvoyÃ© Ã  lâ€™invite de commande. Installer le dernier Vim sur macOS Maintenant que nous avons compilÃ© Vim, il est temps de terminer lâ€™installation. Pour exÃ©cuter la commande dâ€™installation, vous devrez utiliser sudo. Câ€™est une considÃ©ration importante car cela signifie que nous installons dans un rÃ©pertoire systÃ¨me et, comme je lâ€™ai mentionnÃ© ci-dessus, nous souhaitons faire attention, veillez Ã  exÃ©cuter correctement la commande suivante. ExÃ©cutez ce qui suit dans le mÃªme dossier vim que nous utilisions. Votre mot de passe vous sera demandÃ©, indiquez-le et la commande sera exÃ©cutÃ©e. Encore une fois, vous verrez un mur de texte semblable Ã  celui que vous avez vu lors de la compilation de Vim. Une fois ce processus terminÃ©, Vim sera installÃ© et vous reviendrez Ã  lâ€™invite de commande, mais nous ne lâ€™avons pas encore terminÃ©e. Comme je lâ€™ai mentionnÃ© plus tÃ´t, nous installons une installation supplÃ©mentaire de Vim. Nous voulons Ãªtre certains que lorsque nous exÃ©cutons vim Ã  partir du terminal, nous obtenons vraiment la bonne version. Lisez la suite pour voir comment configurer ceci correctement. Configurer le bon Vim Lorsque nous avons installÃ© Vim, lâ€™application binaire exÃ©cutable a Ã©tÃ© placÃ©e dans /usr/local/bin/vim. Toutefois, lâ€™installation initiale de MacOS se trouve toujours dans /usr/bin/vim. Cela ne posera aucun problÃ¨me lorsque nous utiliserons vim depuis le terminal, mais cela posera des problÃ¨mes si nous exÃ©cutons vi, ce qui est trÃ¨s courant pour les utilisateurs de longue date de Vim, car Vi est lâ€™application sur laquelle Vim est basÃ©. Sur macOS, la commande vi est un lien symbolique vers /usr/bin/vim et cela nâ€™a pas changÃ© aprÃ¨s notre installation. Vous remarquerez que la version affichÃ©e sur lâ€™Ã©cran dâ€™accueil de Vim est diffÃ©rente si vous exÃ©cutez vim vs. vi. Cela pourrait causer des problÃ¨mes plus tard. Voyons ce qui se passe. Que se passe t-il ici? Le problÃ¨me est notre PATH - il sait toujours que le lien symbolique vi existe et lit le rÃ©pertoire /usr/bin lorsque notre profil est chargÃ©. Cependant, par dÃ©faut, /usr/local/bin est lu en premier, puis /usr/bin, ce qui signifie que nous devons simplement fournir un lien symbolique vers le chemin de lâ€™application que nous voulons exÃ©cuter lorsque nous exÃ©cutons vi. Faisons-le maintenant. CrÃ©ez un lien symbolique Ã  lâ€™aide de la commande suivante, puis redÃ©marrez votre terminal. Câ€™est tout! Une fois que vous aurez redÃ©marrÃ© votre terminal, que vous utilisiez Vi ou Vim, vous obtiendrez la mÃªme installation mise Ã  jour de Vim. Conclusion Jâ€™espÃ¨re que cela a Ã©tÃ© une expÃ©rience Ã©ducative, mais simple, mettant Ã  jour lâ€™Ã©diteur de texte en ligne de commande prÃ©fÃ©rÃ© de tout le monde. Merci dâ€™avoir lu!]]></description><link>https://ludovicwyffels.dev/vim-modelines-vulnerable/</link><guid isPermaLink="false">https://ludovicwyffels.dev/vim-modelines-vulnerable/</guid><pubDate>Sun, 23 Jun 2019 19:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Si vous travaillez dans le terminal, vous utilisez probablement Vim frÃ©quemment. Beaucoup de gens ont une relation dâ€™amour/haine avec Vim, mais personnellement câ€™est mon Ã©diteur de ligne de commande prÃ©fÃ©rÃ©, surtout quand je suis sur une machine Linux, et je lâ€™utilise aussi frÃ©quemment sur mon Mac, aussi.&lt;/p&gt;
&lt;p&gt;RÃ©cemment, une &lt;a href=&quot;https://nvd.nist.gov/vuln/detail/CVE-2019-12735&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;vulnÃ©rabilitÃ©&lt;/a&gt; a Ã©tÃ© &lt;a href=&quot;https://github.com/numirias/security/blob/master/doc/2019-06-04_ace-vim-neovim.md&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;identifiÃ©e&lt;/a&gt; Ã  Vim. La vulnÃ©rabilitÃ© concerne lâ€™utilisation malveillante de la fonction &lt;code&gt;modelines&lt;/code&gt; de Vim.&lt;/p&gt;
&lt;p&gt;Cette vulnÃ©rabilitÃ© affecte toutes les versions de Vim antÃ©rieures Ã  la version 8.1.1365, ce qui signifie quâ€™elle affecte aussi votre Mac, si vous utilisez la version fournie avec macOS 10.14.5, qui est 8.0.1283. Au moment dâ€™Ã©crire ces lignes, la version que nous installons est la 8.1.1573, ce qui permettra de corriger la vulnÃ©rabilitÃ©.&lt;/p&gt;
&lt;p&gt;Nous allons discuter comment mettre Ã  jour Vim Ã  la derniÃ¨re version pour Ã©viter ce problÃ¨me et aussi couvrir briÃ¨vement ce que signifie cette vulnÃ©rabilitÃ©.&lt;/p&gt;
&lt;p&gt;Parlons dâ€™abord des mauvaises choses.&lt;/p&gt;
&lt;h2&gt;Que sont les &lt;em&gt;modelines&lt;/em&gt; et pourquoi devrais-je mâ€™en soucier?&lt;/h2&gt;
&lt;p&gt;Sans vous ennuyer avec les dÃ©tails prÃ©cis, nous pouvons dire que les &lt;em&gt;modelines&lt;/em&gt; sont un moyent de configurer les prÃ©rÃ©glages dans Vim en ajoutant des commandes en haut des fichier qui dÃ©finissent ces prÃ©rÃ©glages lors de lâ€™exÃ©cution du fichier.&lt;/p&gt;
&lt;p&gt;Alors quâ€™est-ce que cela signifie?&lt;/p&gt;
&lt;p&gt;En termes de vulnÃ©rabilitÃ©, cela signifie que bien que les &lt;em&gt;modelines&lt;/em&gt; aient des cas dâ€™utilisation lÃ©gitimes, si vous avez une version vulnÃ©rable de Vim, il est possible dâ€™abuser de cette fonctionnalitÃ© et dâ€™Ã©chapper Ã  la sandbox dâ€™exÃ©cution de Vim, ce qui permet dâ€™exÃ©cuter du code arbitraire de maniÃ¨re non sÃ©curisÃ©e.&lt;/p&gt;
&lt;h2&gt;Comment fonctionne cette vulnÃ©rabilitÃ©?&lt;/h2&gt;
&lt;p&gt;Imaginez un scÃ©nario dans lequel un acteur malveillant a chargÃ© un script contenant des &lt;em&gt;modelines&lt;/em&gt; dans GitHub et a rÃ©ussi Ã  valider le fichier dans un rÃ©fÃ©rentiel que vous utilisez. Lâ€™attaquant a ajoutÃ© quelques lignes de commandes &lt;em&gt;modeline&lt;/em&gt; en haut dâ€™un script censÃ© Ãªtre un script Bash standard. Vous dÃ©cidez dâ€™ouvrir le fichier dans Vim pour lire le code avant de lâ€™exÃ©cuter (toujours une bonne idÃ©eâ€¦ en gÃ©nÃ©ral).&lt;/p&gt;
&lt;p&gt;Câ€™est tout ce dont nous avons besoin; le code malveillant sâ€™exÃ©cute car tout ce que Vim doit faire est de lire le fichier et les &lt;em&gt;modelines&lt;/em&gt; sont exÃ©cutÃ©es, câ€™est ainsi que les &lt;em&gt;modelines&lt;/em&gt; sont supposÃ©es fonctionner. Malheureusement pour vous, votre version de Vim est obsolÃ¨te et vous avez Ã©tÃ© infectÃ© car ce code malveillant peut maintenant Ãªtre exÃ©cutÃ© en dehors de Vim.&lt;/p&gt;
&lt;p&gt;Ou peut-Ãªtre pas, parce que vous avez lu cet article en premier, puis vous avez mis Ã  jour Vim.&lt;/p&gt;
&lt;h2&gt;Liste de prÃ©-installation&lt;/h2&gt;
&lt;p&gt;Il convient de discuter de certaines mises en garde avant de poursuivre. Chaque fois que vous apportez des modifications Ã  macOS en utilisant un terminal, et en particulier en exÃ©cutant des commandes utilisant &lt;code&gt;sudo&lt;/code&gt;, vous devez faire &lt;strong&gt;attention car il est facile de casser des choses&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;PremiÃ¨rement&lt;/strong&gt;, nous ne pouvons pas supprimer la version de Vim installÃ©e avec macOS. Au lieu de cela, nous allons installer la derniÃ¨re version et nous assurer que câ€™est celle utilisÃ©e lorsque vous accÃ©dez au terminal.&lt;/p&gt;
&lt;p&gt;La raison pour laquelle nous ne pouvons pas supprimer la version de Vim fournie avec macOS est due Ã  la configuration des autorisations dans macOS. Apple a configurÃ© en toute sÃ©curitÃ© les autorisations de sorte que lâ€™utilisateur ne puisse plus modifier (ni mÃªme casser les composants) du systÃ¨me principal, y compris Vim.&lt;/p&gt;
&lt;p&gt;De plus, nous ne souhaitons pas vraiment supprimer les logiciels de base afin de ne pas causer de conflits. Nous apportons un changement qui peut facilement Ãªtre annulÃ© si quelque chose se passait mal ou devait Ãªtre changÃ© Ã  lâ€™avenir.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;DeuxiÃ¨mement&lt;/strong&gt;, nous allons exÃ©cuter quelques commandes en utilisant &lt;em&gt;sudo&lt;/em&gt;. Cela signifie que vous allez exÃ©cuter ces commandes comme si vous Ã©tiez lâ€™utilisateur &lt;em&gt;root&lt;/em&gt;. Cela pourrait poser problÃ¨me &lt;em&gt;si vous ne lisez pas et ne suivez pas les instructions Ã  la lettre&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Cela signifie Ã©galement que vous devez avoir un accÃ¨s administrateur dans macOS et que vous devrez fournir votre mot de passe lors de lâ€™exÃ©cution de la commande.&lt;/p&gt;
&lt;p&gt;Tu as Ã©tÃ© prÃ©venu.&lt;/p&gt;
&lt;p&gt;Mais ne vous inquiÃ©tez pas, ce que nous faisons est assez simple, et utiliser &lt;code&gt;sudo&lt;/code&gt; nâ€™est pas mauvais, câ€™est juste que vous voulez vous rappeler quâ€™un grand pouvoir implique de grandes responsabilitÃ©s, et que &lt;code&gt;sudo&lt;/code&gt; a dÃ©finitivement un grand pouvoir.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Un grand pouvoir implique de grandes responsabilitÃ©s.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Oncle Ben&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Cela dit, passons Ã  autre chose et commenÃ§ons Ã  mettre Ã  jour Vim.&lt;/p&gt;
&lt;h2&gt;Compiler Vim sur macOS&lt;/h2&gt;
&lt;p&gt;Pour commencer, ouvrons lâ€™application Terminal. Vous pouvez rechercher cela en utilisant Spotlight (Cmd + Space) ou ouvrir votre dossier Applications, cliquez sur Utilitaires, puis sur Terminal.&lt;/p&gt;
&lt;p&gt;Tout dâ€™abord, nous devons rÃ©cupÃ©rer la derniÃ¨re version de Vim dans le dÃ©pÃ´t officiel GitHub, puis nous allons changer de rÃ©pertoire dans le rÃ©pertoire &lt;code&gt;vim&lt;/code&gt; qui vient dâ€™Ãªtre crÃ©Ã©.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; clone https://github.com/vim/vim.git
&lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;vim&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nous venons de tÃ©lÃ©charger le code source de Vim, ce qui signifie que nous devrons le compiler avant de pouvoir lâ€™installer. Pour ce faire, tapez simplement &lt;code&gt;make&lt;/code&gt; dans le mÃªme rÃ©pertoire.&lt;/p&gt;
&lt;p&gt;Vous allez voir un mur de texte en cours de crÃ©ation lors de la compilation de lâ€™application. Cela prendra probablement quelques minutes, en fonction de la vitesse de votre Mac. Une fois terminÃ©, vous serez renvoyÃ© Ã  lâ€™invite de commande.&lt;/p&gt;
&lt;h2&gt;Installer le dernier Vim sur macOS&lt;/h2&gt;
&lt;p&gt;Maintenant que nous avons compilÃ© Vim, il est temps de terminer lâ€™installation. Pour exÃ©cuter la commande dâ€™installation, vous devrez utiliser &lt;code&gt;sudo&lt;/code&gt;. Câ€™est une considÃ©ration importante car cela signifie que nous installons dans un rÃ©pertoire systÃ¨me et, comme je lâ€™ai mentionnÃ© ci-dessus, nous souhaitons faire attention, veillez Ã  exÃ©cuter correctement la commande suivante.&lt;/p&gt;
&lt;p&gt;ExÃ©cutez ce qui suit dans le mÃªme dossier vim que nous utilisions. Votre mot de passe vous sera demandÃ©, indiquez-le et la commande sera exÃ©cutÃ©e.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;make&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Encore une fois, vous verrez un mur de texte semblable Ã  celui que vous avez vu lors de la compilation de Vim. Une fois ce processus terminÃ©, Vim sera installÃ© et vous reviendrez Ã  lâ€™invite de commande, mais &lt;strong&gt;nous ne lâ€™avons pas encore terminÃ©e&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Comme je lâ€™ai mentionnÃ© plus tÃ´t, nous installons une installation supplÃ©mentaire de Vim. Nous voulons Ãªtre certains que lorsque nous exÃ©cutons &lt;code&gt;vim&lt;/code&gt; Ã  partir du terminal, nous obtenons vraiment la bonne version.&lt;/p&gt;
&lt;p&gt;Lisez la suite pour voir comment configurer ceci correctement.&lt;/p&gt;
&lt;h2&gt;Configurer le bon Vim&lt;/h2&gt;
&lt;p&gt;Lorsque nous avons installÃ© Vim, lâ€™application binaire exÃ©cutable a Ã©tÃ© placÃ©e dans &lt;code&gt;/usr/local/bin/vim&lt;/code&gt;. Toutefois, lâ€™installation initiale de MacOS se trouve toujours dans &lt;code&gt;/usr/bin/vim&lt;/code&gt;. Cela ne posera aucun problÃ¨me lorsque nous utiliserons &lt;code&gt;vim&lt;/code&gt; depuis le terminal, mais cela posera des problÃ¨mes si nous exÃ©cutons &lt;code&gt;vi&lt;/code&gt;, ce qui est trÃ¨s courant pour les utilisateurs de longue date de Vim, car Vi est lâ€™application sur laquelle Vim est basÃ©.&lt;/p&gt;
&lt;p&gt;Sur macOS, la commande &lt;code&gt;vi&lt;/code&gt; est un lien symbolique vers &lt;code&gt;/usr/bin/vim&lt;/code&gt; et cela nâ€™a pas changÃ© aprÃ¨s notre installation. Vous remarquerez que la version affichÃ©e sur lâ€™Ã©cran dâ€™accueil de Vim est diffÃ©rente si vous exÃ©cutez &lt;code&gt;vim&lt;/code&gt; vs. &lt;code&gt;vi&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Cela pourrait causer des problÃ¨mes plus tard. Voyons ce qui se passe.&lt;/p&gt;
&lt;p&gt;Que se passe t-il ici? Le problÃ¨me est notre &lt;code&gt;PATH&lt;/code&gt; - il sait toujours que le lien symbolique vi existe et lit le rÃ©pertoire &lt;code&gt;/usr/bin&lt;/code&gt; lorsque notre profil est chargÃ©. Cependant, par dÃ©faut, &lt;code&gt;/usr/local/bin&lt;/code&gt; est lu en premier, puis &lt;code&gt;/usr/bin&lt;/code&gt;, ce qui signifie que nous devons simplement fournir un lien symbolique vers le chemin de lâ€™application que nous voulons exÃ©cuter lorsque nous exÃ©cutons &lt;code&gt;vi&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Faisons-le maintenant. CrÃ©ez un lien symbolique Ã  lâ€™aide de la commande suivante, puis redÃ©marrez votre terminal.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ln&lt;/span&gt; -s /usr/local/bin/vim /usr/local/bin/vi&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Câ€™est tout! Une fois que vous aurez redÃ©marrÃ© votre terminal, que vous utilisiez Vi ou Vim, vous obtiendrez la mÃªme installation mise Ã  jour de Vim.&lt;/p&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Jâ€™espÃ¨re que cela a Ã©tÃ© une expÃ©rience Ã©ducative, mais simple, mettant Ã  jour lâ€™Ã©diteur de texte en ligne de commande prÃ©fÃ©rÃ© de tout le monde.&lt;/p&gt;
&lt;p&gt;Merci dâ€™avoir lu!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[StratÃ©gie de dÃ©ploiement de Kubernetes]]></title><description><![CDATA[Dans Kubernetes, il existe plusieurs faÃ§ons de publier une application. Il est donc nÃ©cessaire de choisir la bonne stratÃ©gie pour rendre votre infrastructure fiable lors de la mise Ã  jour dâ€™une application. Le choix de la procÃ©dure de dÃ©ploiement appropriÃ©e dÃ©pend des besoins. Nous avons Ã©numÃ©rÃ© ci-dessous certaines des stratÃ©gies possibles Ã  adopter: Recreate RollingUpdate Blue/Green Canary A/B testing Vous pouvez expÃ©rimenter chacune de ces stratÃ©gies avec Minikube, les manifestes et les Ã©tapes Ã  suivre sont expliquÃ©s dans ce github Examinons chaque stratÃ©gie et voyons quel type dâ€™application vous conviendrez le mieux.  Recreate - idÃ©al pour lâ€™environnement de dÃ©veloppement Un dÃ©ploiement dÃ©fini avec une stratÃ©gie de type recreate mettra fin Ã  toutes les instances en cours dâ€™exÃ©cution, puis les recrÃ©era avec la version la plus rÃ©cente.  Vous trouverez un exemple complet et les Ã©tapes de dÃ©ploiement Ã  lâ€™adresse https://github.com/ludovicwyffels/k8s-deployment-demo/tree/master/recreate Avantage Ã‰tat dâ€™application entiÃ¨rement renouvelÃ© InconvÃ©nients Temps dâ€™arrÃªt qui dÃ©pend Ã  la fois de la durÃ©e dâ€™arrÃªt et du dÃ©marrage de lâ€™application  RollingUpdate - dÃ©ploiement lent Ce dÃ©ploiement met Ã  jour les pods de faÃ§on progressive. Un ReplicaSet secondaire est crÃ©Ã© avec la nouvelle version de lâ€™application, puis le nombre de rÃ©pliques de lâ€™ancienne version est rÃ©duit et la nouvelle version est augmentÃ©e jusquâ€™Ã  ce que le nombre correct de rÃ©pliques soit atteint.  Vous trouverez un exemple complet et les Ã©tapes de dÃ©ploiement Ã  lâ€™adresse https://github.com/ludovicwyffels/k8s-deployment-demo/tree/master/ramped Lors de la configuration avec la mise Ã  lâ€™ Ã©chelle automatique du pod horizontal, il peut Ãªtre pratique dâ€™utiliser une valeur en pourcentage au lieu dâ€™un nombre pour maxSurge et maxUnavailable . maxSurge permet dâ€™indiquez combien de Pod il peut crÃ©er en plus du nombre de rÃ©pliqua actuellement configurer maxUnavailable permet dâ€™indiquer combien de Pod peuvent Ãªtre â€œnon disponibleâ€ pendant la mise Ã  jour, toujours en fonction du nombre de rÃ©pliqua configurÃ© Si vous dÃ©clenchez un dÃ©ploiement alors quâ€™un dÃ©ploiement existant est en cours, le dÃ©ploiement mettra le dÃ©ploiement en pause et passera Ã  une nouvelle version en remplaÃ§ant le dÃ©ploiement. Avantages la version est lentement publiÃ©e sur toutes les instances pratique pour les applications avec Ã©tat pouvant gÃ©rer le rÃ©Ã©quilibrage des donnÃ©es InconvÃ©nients le dÃ©ploiement/la restauration peut prendre du temps la prise en charge de plusieurs API est difficile aucun contrÃ´le sur le trafic  Blue/Green - mieux Ã©viter les problÃ¨mes de versioning de lâ€™API Un dÃ©ploiement blue/green diffÃ¨re dâ€™un dÃ©ploiement parce que la version â€œgreenâ€ de lâ€™application est dÃ©ployÃ©e en parallÃ¨le de la version â€œblueâ€. AprÃ¨s avoir vÃ©rifiÃ© que la nouvelle version rÃ©ponde aux exigences, nous mettons Ã  jour lâ€™objet Kubernetes Service qui joue le rÃ´le dâ€™Ã©quilibreur de charge pour envoyer du trafic vers la nouvelle version en remplaÃ§ant lâ€™Ã©tiquette de version dans le champ selector  Vous trouverez un exemple complet et les Ã©tapes de dÃ©ploiement Ã  lâ€™adresse https://github.com/ludovicwyffels/k8s-deployment-demo/tree/master/blue-green Avantages dÃ©ploiement instantanÃ© Ã©viter le problÃ¨me de versioning, changer lâ€™Ã©tat du cluster en une fois InconvÃ©nients nÃ©cessite le double des ressources le bon test de toute la plate-forme doit Ãªtre effectuÃ© avant la mise en production la gestion des applications avec Ã©tat peut Ãªtre difficile  Canary - laissez le consommateur faire le test Le dÃ©ploiement Canary consiste Ã  router un sous-ensemble dâ€™utilisateurs vers une nouvelle fonctionnalitÃ©. Dans Kubernetes, un dÃ©ploiement canary peut Ãªtre effectuÃ© en utilisant deux dÃ©ploiements avec des Ã©tiquettes de pods communes. Une rÃ©plique de la nouvelle version est publiÃ©e Ã  cÃ´tÃ© de lâ€™ancienne version. Ensuite, aprÃ¨s un certain temps et si aucune erreur nâ€™est dÃ©tectÃ©e, augmentez le nombre de rÃ©pliques de la nouvelle version et supprimez lâ€™ancien dÃ©ploiement. Lâ€™utilisation de cette technique ReplicaSet nÃ©cessite de faire tourner autant de pod que nÃ©cessaire pour obtenir le bon pourcentage de trafic. Cela dit, si vous voulez envoyer 1% du trafic vers la version B, vous devez avoir un pod fonctionnant avec la version B et 99 pods fonctionnant avec la version A. Cela peut Ãªtre assez peu pratique Ã  gÃ©rer donc si vous recherchez une meilleure rÃ©partition du trafic, regarder les Ã©quilibreurs de charge tels que HAProxy ou les mailles de service comme Linkerd, qui offrent un meilleur contrÃ´le du trafic.  Dans lâ€™exemple suivant, nous utilisons deux ReplicaSets cÃ´te Ã  cÃ´te, la version A avec trois rÃ©pliques (75% du trafic), la version B avec un rÃ©pliqua (25% du trafic). Manifeste de dÃ©ploiement tronquÃ© version A: Manifeste de dÃ©ploiement tronquÃ© version B, notez que ous ne dÃ©marrons quâ€™un seul rÃ©pliqua de lâ€™application: Vous trouverez un exemple complet et les Ã©tapes de dÃ©ploiement Ã  lâ€™adresse https://github.com/ludovicwyffels/k8s-deployment-demo/tree/master/canary Avantages version publiÃ©e pour un sous-ensemble dâ€™utilisateurs pratique pour la surveillance du taux dâ€™erreur et des performances rollback rapide InconvÃ©nients dÃ©ploiement lent la rÃ©partition du trafic ajustÃ©e peut Ãªtre coÃ»teuse (99% A / 1% B = 99 pod A, 1 pod B) La procÃ©dure utilisÃ©e ci-dessus est native de Kubernetes, nous ajustons le nombre de rÃ©pliques gÃ©rÃ©es par un ReplicaSet pour distribuer le trafic entre les versions. Si vous nâ€™Ãªtes pas sÃ»r de lâ€™impact que la sortie dâ€™une nouvelle fonctionnalitÃ© pourrait avoir sur la stabilitÃ© de la plate-forme, une stratÃ©gie de sortie canari est suggÃ©rÃ©e.  A/B testing - idÃ©al pour testes les fonctionnalitÃ©s sur un sous-ensemble dâ€™utilisateurs Le test A/B est en fait une technique permettant de prendre des dÃ©cisions dâ€™affaires basÃ©es sur des statistiques, plutÃ´t quâ€™une stratÃ©gie de dÃ©ploiement. Cependant, il est apparentÃ© et peut Ãªtre mis en oeuvre Ã  lâ€™aide dâ€™un dÃ©ploiement canari, câ€™est pourquoi nous en parlerons briÃ¨vement ici. En plus de rÃ©partir le trafic entre les versions en fonction du poids, vous pouvez cibler prÃ©cisÃ©ment un groupe donnÃ© dâ€™utilisateurs en fonction de quelques paramÃ¨tres (cookie, user agent, etc.). Cette technique est largement utilisÃ©e pour tester la conversion dâ€™une fonctionnalitÃ© donnÃ©e et ne dÃ©ployer que la version qui convient le plus. Istio, comme les autres maillages de service, fournis un moyen plus fin de subdiviser les instances de service avec un routage dynamique des requÃªtes basÃ© sur des poids et/ou des en-tÃªtes HTTP.  Vous trouverez ci-dessous un exemple dâ€™installation de rÃ¨gles Ã  lâ€™aide dâ€™Istio. Vous trouverez un exemple complet et les Ã©tapes de dÃ©ploiement Ã  lâ€™adresse https://github.com/ludovicwyffels/k8s-deployment-demo/tree/master/ab-testing Dâ€™autres outils comme Linkerd, Traefik, NGINX, HAProxy, vous permettent Ã©galement de le faire. Avantages nÃ©cessite un Ã©quilibreur de charge intelligent plusieurs versions en parallÃ¨le un contrÃ´le total sur la rÃ©partition du trafic InconvÃ©nients les erreurs difficiles Ã  dÃ©panner pour une session donnÃ©e, le traÃ§age distribuÃ© deviennent obligatoires pas simple, vous devez configurer des outils supplÃ©mentaires  En rÃ©sumÃ© Il y a diffÃ©rentes faÃ§ons de dÃ©ployer une application, lors de la mise en production dans un environnement de dÃ©veloppement/staging, un dÃ©ploiement big bang ou progressif est gÃ©nÃ©ralement un bon choix. Lorsquâ€™il sâ€™agit de production, un dÃ©ploiement progressif ou en blue/green est gÃ©nÃ©ralement un bon choix, mais un test appropriÃ© de la nouvelle plate-forme est nÃ©cessaire. Si vous nâ€™Ãªtes pas sÃ»r de la stabilitÃ© de la plate-forme et de lâ€™impact que pourrait avoir la sortie dâ€™une nouvelle version de logiciel, alors une version canari devrait Ãªtre la bonne solution. Ce faisant, vous laissez le consommateur tester lâ€™application et son intÃ©gration Ã  la plate-forme. Enfin, si votre entreprise a besoin de tester une nouvelle fonctionnalitÃ© parmi un groupe spÃ©cifique dâ€™utilisateurs, par exemple, tous les utilisateurs accÃ©dant Ã  lâ€™application Ã  lâ€™aide dâ€™un tÃ©lÃ©phone mobile sont envoyÃ©s Ã  la version A, tous les utilisateurs accÃ©dant via un ordinateur passent Ã  la version B. Vous pouvez alors utiliser la technique de test A/B qui en utilisant un rÃ©seau de services Kubernetes ou une configuration serveur personnalisÃ©e vous permet de dÃ©terminer oÃ¹ un utilisateur doit Ãªtre dirigÃ© en fonction de certains paramÃ¨tres.]]></description><link>https://ludovicwyffels.dev/k8s-deployement-strategies/</link><guid isPermaLink="false">https://ludovicwyffels.dev/k8s-deployement-strategies/</guid><pubDate>Sat, 25 May 2019 08:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Dans Kubernetes, il existe plusieurs faÃ§ons de publier une application. Il est donc nÃ©cessaire de choisir la bonne stratÃ©gie pour rendre votre infrastructure fiable lors de la mise Ã  jour dâ€™une application.&lt;/p&gt;
&lt;p&gt;Le choix de la procÃ©dure de dÃ©ploiement appropriÃ©e dÃ©pend des besoins. Nous avons Ã©numÃ©rÃ© ci-dessous certaines des stratÃ©gies possibles Ã  adopter:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#recreate&quot;&gt;Recreate&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#rollingupdate&quot;&gt;RollingUpdate&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#bluegreen&quot;&gt;Blue/Green&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#canary&quot;&gt;Canary&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#abtesting&quot;&gt;A/B testing&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Vous pouvez expÃ©rimenter chacune de ces stratÃ©gies avec Minikube, les manifestes et les Ã©tapes Ã  suivre sont expliquÃ©s dans ce &lt;a href=&quot;https://github.com/ludovicwyffels/k8s-deployment-demo&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;github&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Examinons chaque stratÃ©gie et voyons quel type dâ€™application vous conviendrez le mieux.&lt;/p&gt;
&lt;p&gt;&lt;a name=&quot;recreate&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Recreate - idÃ©al pour lâ€™environnement de dÃ©veloppement&lt;/h2&gt;
&lt;p&gt;Un dÃ©ploiement dÃ©fini avec une stratÃ©gie de type &lt;strong&gt;recreate&lt;/strong&gt; mettra fin Ã  toutes les instances en cours dâ€™exÃ©cution, puis les recrÃ©era avec la version la plus rÃ©cente.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f27c880058cf7fa455879ae4b9ba03ab/a1b30/recreate.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 33.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsTAAALEwEAmpwYAAABF0lEQVQY01WRPU8CQRCG+Yla+D80FvaWJhZaWNlAggmBqMWduUI99aIGEBqjNBoUbYhcDtmF/ZrZdfc+kJtsJps3+8ybd7ZiikJEBWiMNiulFAKAKZcEgejESorZBk1PVpuWRK1Nduyg2sHHjffjbk5xkhBiy19rjy4drEFxEiPMH3syarspboBigsQK2N3FeND7TVkDnAiaMMar/b33+NXBs+HD88km58l5APVT+0ZZddJvvJztco2No88omGTw9/X+W3hMhd4JNrpfYepsXUgixey+K6LO0pkvSMI5Cb3x4Cl11gbEgtEppfN/5yIztnxZa+WZs5C21Q+Ht34ps1Ry21/vjK5yuNhwRi63nYva4MqmS3/xB4u5hgWcC5SXAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/f27c880058cf7fa455879ae4b9ba03ab/8ffb1/recreate.webp 293w,
/static/f27c880058cf7fa455879ae4b9ba03ab/17bf8/recreate.webp 585w,
/static/f27c880058cf7fa455879ae4b9ba03ab/e2c1c/recreate.webp 1170w,
/static/f27c880058cf7fa455879ae4b9ba03ab/b3c81/recreate.webp 1200w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/f27c880058cf7fa455879ae4b9ba03ab/f93ee/recreate.png 293w,
/static/f27c880058cf7fa455879ae4b9ba03ab/8c0a8/recreate.png 585w,
/static/f27c880058cf7fa455879ae4b9ba03ab/e1668/recreate.png 1170w,
/static/f27c880058cf7fa455879ae4b9ba03ab/a1b30/recreate.png 1200w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/f27c880058cf7fa455879ae4b9ba03ab/e1668/recreate.png&quot;
          alt=&quot;recreate&quot;
          title=&quot;recreate&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yml&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-yml line-numbers&quot;&gt;&lt;code class=&quot;language-yml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;replicas&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;strategy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Recreate&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;Vous trouverez un exemple complet et les Ã©tapes de dÃ©ploiement Ã  lâ€™adresse &lt;a href=&quot;https://github.com/ludovicwyffels/k8s-deployment-demo/tree/master/recreate&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://github.com/ludovicwyffels/k8s-deployment-demo/tree/master/recreate&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Avantage&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ã‰tat dâ€™application entiÃ¨rement renouvelÃ©&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;InconvÃ©nients&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Temps dâ€™arrÃªt qui dÃ©pend Ã  la fois de la durÃ©e dâ€™arrÃªt et du dÃ©marrage de lâ€™application&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a name=&quot;rollingupdate&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;RollingUpdate - dÃ©ploiement lent&lt;/h2&gt;
&lt;p&gt;Ce dÃ©ploiement met Ã  jour les pods de faÃ§on progressive. Un &lt;strong&gt;ReplicaSet&lt;/strong&gt; secondaire est crÃ©Ã© avec la nouvelle version de lâ€™application, puis le nombre de rÃ©pliques de lâ€™ancienne version est rÃ©duit et la nouvelle version est augmentÃ©e jusquâ€™Ã  ce que le nombre correct de rÃ©pliques soit atteint.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1d809290f395c4681a3991173760108e/a1b30/ramped.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 62.583333333333336%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB5klEQVQoz5VS227TQBD1X/KA4I1voK0AiXcKFaoUJNSHigS1EhJRK0MrJ6Q0oTEBp0raNEoapS4Rwc3VTROv9zK7jO1eHN4YeY93d+aMZs6spgKTUgopIUQBgChV3AKHkEooBfEADSDwbm7LD7pa21BGXq2sqcFIhJQbrlLry+fZz5eJlNrJqcQ7vICQLID1a0XT+Vn1981pqTzc3Zt4REb1IAKdXXYqBcNu1Ce5b9Pij36hRKKkGqdeO71w5VRBMsEmhLgA3m21CN5Fs/VxgfkzLJh4I/usoSS9Jt+Eyfke77bBAvnceFTqfME98X2BXYfdRmQJgJ8KEQVR83IFqZPlV/WLQ3RwIRgTcfJ/2V1mLRLl2HJPrPFhYdhqeF+/y9ksrrYEwc1c//TItQrj0+OJlR9FKTQZjmo79UvfcDbf4DxGL97CYMjjnQsh1lfaOX3wftXOpP+kVs+uyZwSe2tx6jSDKJA9x3HdQVw30mu2t5YE9TGeUdrrdm9Lx0fCye+aeaKXz839xqdqq0wJj/SIYoR/NbatbC1d71b26nr+KHPQzkReDdXF/+viYqL0bMm4f9DZwSPj7B+JHu/eS1ZePs0+TFaXnxgPYnOWQBnlApePNOxwbux4APAZwXtELjhlfuT5CyyL0zs2zLkzAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/1d809290f395c4681a3991173760108e/8ffb1/ramped.webp 293w,
/static/1d809290f395c4681a3991173760108e/17bf8/ramped.webp 585w,
/static/1d809290f395c4681a3991173760108e/e2c1c/ramped.webp 1170w,
/static/1d809290f395c4681a3991173760108e/b3c81/ramped.webp 1200w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/1d809290f395c4681a3991173760108e/f93ee/ramped.png 293w,
/static/1d809290f395c4681a3991173760108e/8c0a8/ramped.png 585w,
/static/1d809290f395c4681a3991173760108e/e1668/ramped.png 1170w,
/static/1d809290f395c4681a3991173760108e/a1b30/ramped.png 1200w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/1d809290f395c4681a3991173760108e/e1668/ramped.png&quot;
          alt=&quot;ramped&quot;
          title=&quot;ramped&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yml&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-yml line-numbers&quot;&gt;&lt;code class=&quot;language-yml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;replicas&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;strategy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; RollingUpdate
    &lt;span class=&quot;token key atrule&quot;&gt;rollingUpdate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;maxSurge&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2        &lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;# how many pods we can add at a time&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;maxUnavailable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0  &lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;# maxUnavailable define how many pods can be unavailable during the rolling update&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;Vous trouverez un exemple complet et les Ã©tapes de dÃ©ploiement Ã  lâ€™adresse &lt;a href=&quot;https://github.com/ludovicwyffels/k8s-deployment-demo/tree/master/ramped&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://github.com/ludovicwyffels/k8s-deployment-demo/tree/master/ramped&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Lors de la configuration avec la mise Ã  lâ€™ Ã©chelle automatique du pod horizontal, il peut Ãªtre pratique dâ€™utiliser une valeur en pourcentage au lieu dâ€™un nombre pour maxSurge et maxUnavailable .&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;maxSurge&lt;/code&gt; permet dâ€™indiquez combien de Pod il peut crÃ©er en plus du nombre de rÃ©pliqua actuellement configurer&lt;/li&gt;
&lt;li&gt;&lt;code&gt;maxUnavailable&lt;/code&gt; permet dâ€™indiquer combien de Pod peuvent Ãªtre â€œnon disponibleâ€ pendant la mise Ã  jour, toujours en fonction du nombre de rÃ©pliqua configurÃ©&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Si vous dÃ©clenchez un dÃ©ploiement alors quâ€™un dÃ©ploiement existant est en cours, le dÃ©ploiement mettra le dÃ©ploiement en pause et passera Ã  une nouvelle version en remplaÃ§ant le dÃ©ploiement.&lt;/p&gt;
&lt;p&gt;Avantages&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;la version est lentement publiÃ©e sur toutes les instances&lt;/li&gt;
&lt;li&gt;pratique pour les applications avec Ã©tat pouvant gÃ©rer le rÃ©Ã©quilibrage des donnÃ©es&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;InconvÃ©nients&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;le dÃ©ploiement/la restauration peut prendre du temps&lt;/li&gt;
&lt;li&gt;la prise en charge de plusieurs API est difficile&lt;/li&gt;
&lt;li&gt;aucun contrÃ´le sur le trafic&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a name=&quot;bluegreen&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Blue/Green - mieux Ã©viter les problÃ¨mes de versioning de lâ€™API&lt;/h2&gt;
&lt;p&gt;Un dÃ©ploiement blue/green diffÃ¨re dâ€™un dÃ©ploiement parce que la version â€œgreenâ€ de lâ€™application est dÃ©ployÃ©e en parallÃ¨le de la version â€œblueâ€. AprÃ¨s avoir vÃ©rifiÃ© que la nouvelle version rÃ©ponde aux exigences, nous mettons Ã  jour lâ€™objet Kubernetes Service qui joue le rÃ´le dâ€™Ã©quilibreur de charge pour envoyer du trafic vers la nouvelle version en remplaÃ§ant lâ€™Ã©tiquette de version dans le champ &lt;code&gt;selector&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/403f058c1985c38bd1357cea1f175a03/a1b30/bluegreen.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 62.583333333333336%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB90lEQVQoz41Sz08TQRTeP9GbJz15NyEmIpGLN6KisSoaNGgsAkJSwawtNLXt0thtSNtsKW5coF1/bApsEd1u98fMvBlndqUsnHyZ+TLvzXwz731vJCaMUkoohQgJAEfKEsbdKHjxgAQgtpc+0BWZvVxk+U324AXr/yIR55TMWOoVy5XY87TAmTc8ABGZALJ3quphvRWUPzu1en+jNPB8Gj/IEULX+dnKFe32Vy9XshXVKqmD+FIJh17n/bjT04Aif3i8v6cPXXuULgfv0NjLjOPQFWvHsUyTAf5Hjs4AwiJPAtTzfMQdQthZyoy7U+Xrq/rcXWVssfn0nnIjSaYIEYyBDwDKMUGOLgB420xVutl32kzFzC5rz87I542y/zYpqos027ilQ60Bxj4oKrjDpNoUCFaLtrF9slU53t3+vaXYp2oLpAuraFmmswtELoT3Z9GFVvEqXj/sFOX+fKq7kbHSj7txglxt31ybcA8M0RWEj6weDsKk2v6R0VmbIGEg1q5/8MMaVcZfxr61U/0iN76pZf2jouVz2oqPvFGfSTA4MeuFdkbvaXkt86mRreyuR9pQCajI8FH11pPa7TvFa0vt1Fj2Uu/P9xE51vDm+uW0Nj1ZuDrfmp7MX0moTSFEISZ8Bgjz6Z/729HP5kFeOUdMcIiCeOcvi/zJygjaGccAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/403f058c1985c38bd1357cea1f175a03/8ffb1/bluegreen.webp 293w,
/static/403f058c1985c38bd1357cea1f175a03/17bf8/bluegreen.webp 585w,
/static/403f058c1985c38bd1357cea1f175a03/e2c1c/bluegreen.webp 1170w,
/static/403f058c1985c38bd1357cea1f175a03/b3c81/bluegreen.webp 1200w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/403f058c1985c38bd1357cea1f175a03/f93ee/bluegreen.png 293w,
/static/403f058c1985c38bd1357cea1f175a03/8c0a8/bluegreen.png 585w,
/static/403f058c1985c38bd1357cea1f175a03/e1668/bluegreen.png 1170w,
/static/403f058c1985c38bd1357cea1f175a03/a1b30/bluegreen.png 1200w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/403f058c1985c38bd1357cea1f175a03/e1668/bluegreen.png&quot;
          alt=&quot;bluegreen&quot;
          title=&quot;bluegreen&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yml&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-yml line-numbers&quot;&gt;&lt;code class=&quot;language-yml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v1
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Service
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
 &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; my&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;app
 &lt;span class=&quot;token key atrule&quot;&gt;labels&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
   &lt;span class=&quot;token key atrule&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; my&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;app
&lt;span class=&quot;token key atrule&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
 &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; NodePort
 &lt;span class=&quot;token key atrule&quot;&gt;ports&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; http
   &lt;span class=&quot;token key atrule&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8080&lt;/span&gt;
   &lt;span class=&quot;token key atrule&quot;&gt;targetPort&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8080&lt;/span&gt;
 
 &lt;span class=&quot;token comment&quot;&gt;# Note here that we match both the app and the version.&lt;/span&gt;
 &lt;span class=&quot;token comment&quot;&gt;# When switching traffic, we update the label â€œversionâ€ with&lt;/span&gt;
 &lt;span class=&quot;token comment&quot;&gt;# the appropriate value, ie: v2.0.0&lt;/span&gt;
 &lt;span class=&quot;token key atrule&quot;&gt;selector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
   &lt;span class=&quot;token key atrule&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; my&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;app
   &lt;span class=&quot;token key atrule&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v1.0.0&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;Vous trouverez un exemple complet et les Ã©tapes de dÃ©ploiement Ã  lâ€™adresse &lt;a href=&quot;https://github.com/ludovicwyffels/k8s-deployment-demo/tree/master/blue-green&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://github.com/ludovicwyffels/k8s-deployment-demo/tree/master/blue-green&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Avantages&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;dÃ©ploiement instantanÃ©&lt;/li&gt;
&lt;li&gt;Ã©viter le problÃ¨me de versioning, changer lâ€™Ã©tat du cluster en une fois&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;InconvÃ©nients&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;nÃ©cessite le double des ressources&lt;/li&gt;
&lt;li&gt;le bon test de toute la plate-forme doit Ãªtre effectuÃ© avant la mise en production&lt;/li&gt;
&lt;li&gt;la gestion des applications avec Ã©tat peut Ãªtre difficile&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a name=&quot;canary&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Canary - laissez le consommateur faire le test&lt;/h2&gt;
&lt;p&gt;Le dÃ©ploiement &lt;strong&gt;Canary&lt;/strong&gt; consiste Ã  router un sous-ensemble dâ€™utilisateurs vers une nouvelle fonctionnalitÃ©. Dans Kubernetes, un dÃ©ploiement canary peut Ãªtre effectuÃ© en utilisant deux dÃ©ploiements avec des Ã©tiquettes de pods communes. Une rÃ©plique de la nouvelle version est publiÃ©e Ã  cÃ´tÃ© de lâ€™ancienne version. Ensuite, aprÃ¨s un certain temps et si aucune erreur nâ€™est dÃ©tectÃ©e, augmentez le nombre de rÃ©pliques de la nouvelle version et supprimez lâ€™ancien dÃ©ploiement.&lt;/p&gt;
&lt;p&gt;Lâ€™utilisation de cette technique &lt;strong&gt;ReplicaSet&lt;/strong&gt; nÃ©cessite de faire tourner autant de pod que nÃ©cessaire pour obtenir le bon pourcentage de trafic. Cela dit, si vous voulez envoyer 1% du trafic vers la version B, vous devez avoir un pod fonctionnant avec la version B et 99 pods fonctionnant avec la version A. Cela peut Ãªtre assez peu pratique Ã  gÃ©rer donc si vous recherchez une meilleure rÃ©partition du trafic, regarder les Ã©quilibreurs de charge tels que &lt;a href=&quot;http://www.haproxy.org/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;HAProxy&lt;/a&gt; ou les mailles de service comme &lt;a href=&quot;https://linkerd.io/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Linkerd&lt;/a&gt;, qui offrent un meilleur contrÃ´le du trafic.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/eb6ae0806d639a4d47f11a6eb498ddde/a1b30/canary.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 84.83333333333333%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAAsTAAALEwEAmpwYAAACY0lEQVQ4y41S32/SUBTu3+iD2YvPPvtifJjxZQ8mmvhgXGY0M8a5aTaQOMbvFRgYEMavwRjQMrAyNpCfbWlvb++99bZFVjZNvGlvbr+e73znnu8whnMRQjdFJfIM04/lX+YrShhCvMCYW1y0uw+3PTQCE+LEDQC0p69QpW7mtRFmkRYBcXSeAeokkYGJ72ROtqLUQWsslEVZcfmwcHGDbEcMW7Uvq7I8DMawNzInE2IW2S+4ePa1pOI3HxF3flPZWR7ws5qfNZbKtnZZnr3dQXwb/Y1MEWwKZoo4dUycZMPSRwgFo6R79Q9lUw5TjrnowdFpM1ZHcC25ctI7sqrCS2QabF2S6Dqmj518Dhr2GYcb7u5UsMiI3Fa2Kjf+E2TsLuk6OoiQemucAycLh6iAN4xr/LQIKxqGFEVYp0V8Lq2XhOQxrM+VRUne2jOKzUlESeI/OgAo73dR8Wwa09Iq0mxQA3A99Tj1IxzW8kw/u81HN0TVeLdt5M6GB90ApY7K+1zkpQrx5hbJFsf+qzDVnZz6a75nsma8SD741vJ5OlFG7fO9dn44lTx+UmkOvd0QJWsjodfOTRXpE1spcS3/ZRQYGI473Xp6MlE+5J8XOkfun4eM1Ub913i8sWlkykPvZRAhuwu6OJOexFaiDXfgIgWIZnsmS/Iaez/e9LiFKGPPD9BBrMFyI/5Qyi4cNr3h9rhBNa4UAJ7fGWow0nBxg9MgyDK2hypUH4XuxJtfk6CCMFoMx8PAXbbuSmtVBakLk1ZD90LVnQSuXPuMEB0NNIWS00w6VTSXCGVyPasU1Ck4geJvNkiziLji4QYAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/eb6ae0806d639a4d47f11a6eb498ddde/8ffb1/canary.webp 293w,
/static/eb6ae0806d639a4d47f11a6eb498ddde/17bf8/canary.webp 585w,
/static/eb6ae0806d639a4d47f11a6eb498ddde/e2c1c/canary.webp 1170w,
/static/eb6ae0806d639a4d47f11a6eb498ddde/b3c81/canary.webp 1200w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/eb6ae0806d639a4d47f11a6eb498ddde/f93ee/canary.png 293w,
/static/eb6ae0806d639a4d47f11a6eb498ddde/8c0a8/canary.png 585w,
/static/eb6ae0806d639a4d47f11a6eb498ddde/e1668/canary.png 1170w,
/static/eb6ae0806d639a4d47f11a6eb498ddde/a1b30/canary.png 1200w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/eb6ae0806d639a4d47f11a6eb498ddde/e1668/canary.png&quot;
          alt=&quot;canary&quot;
          title=&quot;canary&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Dans lâ€™exemple suivant, nous utilisons deux ReplicaSets cÃ´te Ã  cÃ´te, la version A avec trois rÃ©pliques (75% du trafic), la version B avec un rÃ©pliqua (25% du trafic).&lt;/p&gt;
&lt;p&gt;Manifeste de dÃ©ploiement tronquÃ© version A:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yml&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-yml line-numbers&quot;&gt;&lt;code class=&quot;language-yml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;replicas&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Manifeste de dÃ©ploiement tronquÃ© version B, notez que ous ne dÃ©marrons quâ€™un seul rÃ©pliqua de lâ€™application:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yml&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-yml line-numbers&quot;&gt;&lt;code class=&quot;language-yml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;replicas&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;Vous trouverez un exemple complet et les Ã©tapes de dÃ©ploiement Ã  lâ€™adresse &lt;a href=&quot;https://github.com/ludovicwyffels/k8s-deployment-demo/tree/master/canary&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://github.com/ludovicwyffels/k8s-deployment-demo/tree/master/canary&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Avantages&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;version publiÃ©e pour un sous-ensemble dâ€™utilisateurs&lt;/li&gt;
&lt;li&gt;pratique pour la surveillance du taux dâ€™erreur et des performances&lt;/li&gt;
&lt;li&gt;rollback rapide&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;InconvÃ©nients&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;dÃ©ploiement lent&lt;/li&gt;
&lt;li&gt;la rÃ©partition du trafic ajustÃ©e peut Ãªtre coÃ»teuse (99% A / 1% B = 99 pod A, 1 pod B)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;La procÃ©dure utilisÃ©e ci-dessus est native de Kubernetes, nous ajustons le nombre de rÃ©pliques gÃ©rÃ©es par un ReplicaSet pour distribuer le trafic entre les versions.&lt;/p&gt;
&lt;p&gt;Si vous nâ€™Ãªtes pas sÃ»r de lâ€™impact que la sortie dâ€™une nouvelle fonctionnalitÃ© pourrait avoir sur la stabilitÃ© de la plate-forme, une stratÃ©gie de sortie canari est suggÃ©rÃ©e.&lt;/p&gt;
&lt;p&gt;&lt;a name=&quot;abtesting&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;A/B testing - idÃ©al pour testes les fonctionnalitÃ©s sur un sous-ensemble dâ€™utilisateurs&lt;/h2&gt;
&lt;p&gt;Le test A/B est en fait une technique permettant de prendre des dÃ©cisions dâ€™affaires basÃ©es sur des statistiques, plutÃ´t quâ€™une stratÃ©gie de dÃ©ploiement. Cependant, il est apparentÃ© et peut Ãªtre mis en oeuvre Ã  lâ€™aide dâ€™un dÃ©ploiement canari, câ€™est pourquoi nous en parlerons briÃ¨vement ici.&lt;/p&gt;
&lt;p&gt;En plus de rÃ©partir le trafic entre les versions en fonction du poids, vous pouvez cibler prÃ©cisÃ©ment un groupe donnÃ© dâ€™utilisateurs en fonction de quelques paramÃ¨tres (cookie, user agent, etc.). Cette technique est largement utilisÃ©e pour tester la conversion dâ€™une fonctionnalitÃ© donnÃ©e et ne dÃ©ployer que la version qui convient le plus.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://istio.io/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Istio&lt;/a&gt;, comme les autres maillages de service, fournis un moyen plus fin de subdiviser les instances de service avec un routage dynamique des requÃªtes basÃ© sur des poids et/ou des en-tÃªtes HTTP.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/159c113c9cbb5b8dadfdfd540f888ee9/a1b30/abtesting.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 41.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABUElEQVQY041Qy07CQBTtz7n0W9z7E27cQYgJgcQYiDERcWciD6HQUgoIWoQU28qk0gJtp495OEMBXXqTmdx7cs65Z0agaZE4U4jrImEdxnts6wUXWaLN2UwIYYfzlFGQyVHJHXajV8G3BqZ4E4SwXEnkAeNhxllrz1b/YeOjQhnrBjdDmCzFomONJ7OkfEdFoDbtnuAZ6qJ1zcSlSiKpXMyoztuT0btn4nxpL8YYmy95YKiTGSrd0vZSadiycIydLcaNzi42+Y19mSPTQ2zK8UgeeVd52jLlOugKHOevJGMNWwCnFAaxCyFcU4DtQoYkCTKNz83aWQC303d67mtnOzxs5h6IZSPpt+wswjg4q54oVo31MITtduv7y23qj+fVU8npS+HkKKYJwuj40Qe/+erdj7x00hf6VPtwfcdwZna4AvFKoP8rFiqKIggh/rPgBx1Yu9spDOmqAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/159c113c9cbb5b8dadfdfd540f888ee9/8ffb1/abtesting.webp 293w,
/static/159c113c9cbb5b8dadfdfd540f888ee9/17bf8/abtesting.webp 585w,
/static/159c113c9cbb5b8dadfdfd540f888ee9/e2c1c/abtesting.webp 1170w,
/static/159c113c9cbb5b8dadfdfd540f888ee9/b3c81/abtesting.webp 1200w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/159c113c9cbb5b8dadfdfd540f888ee9/f93ee/abtesting.png 293w,
/static/159c113c9cbb5b8dadfdfd540f888ee9/8c0a8/abtesting.png 585w,
/static/159c113c9cbb5b8dadfdfd540f888ee9/e1668/abtesting.png 1170w,
/static/159c113c9cbb5b8dadfdfd540f888ee9/a1b30/abtesting.png 1200w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/159c113c9cbb5b8dadfdfd540f888ee9/e1668/abtesting.png&quot;
          alt=&quot;abtesting&quot;
          title=&quot;abtesting&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Vous trouverez ci-dessous un exemple dâ€™installation de rÃ¨gles Ã  lâ€™aide dâ€™Istio.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yml&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-yml line-numbers&quot;&gt;&lt;code class=&quot;language-yml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;route&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;tags&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  version&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v1.0.0
  weight&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;90&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;tags&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  version&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v2.0.0
  weight&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Vous trouverez un exemple complet et les Ã©tapes de dÃ©ploiement Ã  lâ€™adresse &lt;a href=&quot;https://github.com/ludovicwyffels/k8s-deployment-demo/tree/master/ab-testing&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://github.com/ludovicwyffels/k8s-deployment-demo/tree/master/ab-testing&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Dâ€™autres outils comme &lt;a href=&quot;https://linkerd.io/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Linkerd&lt;/a&gt;, &lt;a href=&quot;https://traefik.io/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Traefik&lt;/a&gt;, &lt;a href=&quot;https://www.nginx.com/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;NGINX&lt;/a&gt;, &lt;a href=&quot;http://www.haproxy.org/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;HAProxy&lt;/a&gt;, vous permettent Ã©galement de le faire.&lt;/p&gt;
&lt;p&gt;Avantages&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;nÃ©cessite un Ã©quilibreur de charge intelligent&lt;/li&gt;
&lt;li&gt;plusieurs versions en parallÃ¨le&lt;/li&gt;
&lt;li&gt;un contrÃ´le total sur la rÃ©partition du trafic&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;InconvÃ©nients&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;les erreurs difficiles Ã  dÃ©panner pour une session donnÃ©e, le traÃ§age distribuÃ© deviennent obligatoires&lt;/li&gt;
&lt;li&gt;pas simple, vous devez configurer des outils supplÃ©mentaires&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a name=&quot;summary&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;En rÃ©sumÃ©&lt;/h3&gt;
&lt;p&gt;Il y a diffÃ©rentes faÃ§ons de dÃ©ployer une application, lors de la mise en production dans un &lt;strong&gt;environnement de dÃ©veloppement/staging&lt;/strong&gt;, un dÃ©ploiement &lt;a href=&quot;#bigbang&quot;&gt;big bang&lt;/a&gt; ou &lt;a href=&quot;#rolling&quot;&gt;progressif&lt;/a&gt; est gÃ©nÃ©ralement un bon choix. Lorsquâ€™il sâ€™agit de &lt;strong&gt;production&lt;/strong&gt;, un dÃ©ploiement &lt;a href=&quot;#rolling&quot;&gt;progressif&lt;/a&gt; ou en &lt;a href=&quot;#bluegreen&quot;&gt;blue/green&lt;/a&gt; est gÃ©nÃ©ralement un bon choix, mais un test appropriÃ© de la nouvelle plate-forme est nÃ©cessaire. Si vous nâ€™Ãªtes pas sÃ»r de la stabilitÃ© de la plate-forme et de lâ€™impact que pourrait avoir la sortie dâ€™une nouvelle version de logiciel, alors une version &lt;a href=&quot;#canary&quot;&gt;canari&lt;/a&gt; devrait Ãªtre la bonne solution. Ce faisant, vous laissez le consommateur tester lâ€™application et son intÃ©gration Ã  la plate-forme. Enfin, si votre entreprise a besoin de tester une nouvelle fonctionnalitÃ© parmi un groupe spÃ©cifique dâ€™utilisateurs, par exemple, tous les utilisateurs accÃ©dant Ã  lâ€™application Ã  lâ€™aide dâ€™un tÃ©lÃ©phone mobile sont envoyÃ©s Ã  la version A, tous les utilisateurs accÃ©dant via un ordinateur passent Ã  la version B. Vous pouvez alors utiliser la technique de &lt;a href=&quot;#abtesting&quot;&gt;test A/B&lt;/a&gt; qui en utilisant un rÃ©seau de services Kubernetes ou une configuration serveur personnalisÃ©e vous permet de dÃ©terminer oÃ¹ un utilisateur doit Ãªtre dirigÃ© en fonction de certains paramÃ¨tres.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Configuration locale de Kubernetes avec minikube sur MacOS X]]></title><description><![CDATA[Minikube est un outil idÃ©al pour configuer localement Kubernetes afin de tester et dâ€™expÃ©rimenter vos dÃ©ploiements. Dans ce guide, je vais essayer de vous aider Ã  le mettre en marche sur votre machine locale, Ã  donner quelques conseils sur oÃ¹ et comment effectuer certaines tÃ¢ches et Ã  le rendre aussi capable (je suppose quand vous utilisez k8s que vous veulent apprendre et utiliser Helm, etcd, istio, etc.). Installation de minikube Minikube fonctionne avec une machine virtuelle. Pour cela, on peut utiliser diverses options en fonction de vos prÃ©fÃ©rences et de votre systÃ¨me dâ€™exploitation. Ma prÃ©fÃ©rence dans ce cas est Orable VirtualBox. Vous pouvez utiliser brew pour tout installer: Dans ce cas, vous pourriez obtenir une erreur dâ€™installation peu concluante liÃ©e Ã  lâ€™installation de virtualbox, en particulier sur Mojave et problablement par la suite. Quoi quâ€™il en soit, il sâ€™agit problablement dâ€™une nouvelle fonctionnalitÃ© de sÃ©curitÃ© dans MacOs X qui vous gÃªne. Allez dans PrÃ©fÃ©rences SystÃ¨me> SÃ©curitÃ© et confidentialitÃ© et sur lâ€™Ã©cran GÃ©nÃ©ral, vous verrez un (ou quelques) messages concernant certains logiciels nÃ©cessitant une approbation pour Ãªtre installÃ©s. Vous devez examiner attentivement la liste sâ€™il en existe plusieurs et autoriser lâ€™installation du logiciel dont vous avez besoin - dans ce cas, le logiciel Oracle. Cela fait, vous pourrez relancer la commande ci-dessus et vous devrez alors Ãªtre prÃªt pour les Ã©tapes suivantes. ExÃ©cuter et accÃ©der au cluster Afin dâ€™utiliser de maniÃ¨re optimale les ressources de votre ordinateur local, je suggÃ©rerais de lâ€™arrÃªter quand vous nâ€™en avez plus besoinâ€¦ Avec VirtualBox au centre, il utilisera la batterie de votre ordinateur portable assez rapidement. Recommencer plus tard vous ramÃ¨nera lÃ  oÃ¹ vous lâ€™avez laissÃ©: Le tableau de bord Kubernetes est Ã©galement disponible (lorsque minikube est en cours dâ€™exÃ©cution): Je vais supposer que vous avez kubectl installÃ© localement et que vous lâ€™utilisez dÃ©jÃ  pour certains clusters distants, vous disposez donc de plusieurs contextes. Dans ce cas, vous devez rÃ©pertorier les contextes et passer Ã  minikube. Vous vous trouvez maintenant dans le contexte de votre cluster k8 local qui sâ€™exÃ©cute sur minikube et vous pouvez effectuer toutes les opÃ©rations k8 quâ€™il contient. Ingress Pour exÃ©cuter vos dÃ©ploiements comportant un ingress, vous aurez besoin dâ€™un add-on dâ€™entrÃ©e: Assurez-vous que vous configurez lâ€™ingress en fonction de vos hÃ´tes locaux. Cela signifie fondamentalement que tout ce que vous dÃ©finissez comme hÃ´te dans vos rÃ¨gles dâ€™ingress doit Ãªtre configurÃ© dans votre fichier /etc/hosts OÃ¹ [minikube ip] devrait Ãªtre remplacÃ© par lâ€™ip actuel de minikube. Il fonctionne Ã©galement avec plusieurs hÃ´tes locaux sÃ©parÃ©s par des espaces aprÃ¨s lâ€™adresse ip de minikube. Voici un raccourci pour le faire en bash Docker registry La rÃ©alitÃ© de lâ€™utilisation rÃ©elle du registre de conteneurs dans lâ€™environnement local est rude. Je vais donc vous fournir une option simple, rapide et simpliste qui facilite le dÃ©ploiement de votre travail local sur vos k8s locaux, mais vous prive de lâ€™expÃ©rience trÃ¨s importante du registre de conteneurs. Registre de conteneurs local Obtenez le contexte de votre docker local pour pointer vers le context minikube:  Dans le contexte minikube, pour dÃ©marrer le registre docker local Donc, vous avez maintenant un registre local dans lequel pousser des choses (tant que votre docker est dans le contexte minikube) Vous pouvez maintenant faire: A ce stade, vous pouvez utiliser localhost:5000/<your_tag>: comme image dans votre dÃ©ploiement et câ€™est tout. Utilisation du rÃ©fÃ©rentiel de conteneur distant Pour utiliser localement le rÃ©fÃ©rentiel de conteneur distant, vous devez fournir un moyen dâ€™authentification, qui se base sur les secrets de Kubernetes. Pour la gestion des secrets locaux pour ECR, GCR and Docker registry, je recommande dâ€™utiliser lâ€™addon minikube appelÃ© registry-creds. Je ne le considÃ¨re pas suffisamment sÃ»r pour Ãªtre utilisÃ© ailleurs que dans lâ€™environnement local. Helm Helm est un gestionnaire de paquets pour k8s et est souvent utilisÃ© pour la gestion de la configuration dâ€™un dÃ©ploiement Ã  lâ€™autre. Compte tenu de la grande popularitÃ© de lâ€™outil et de son adoption croissante, je voudrais terminer ce guide par une note sur lâ€™ajout de helm Ã  votre environnement Kubernetes local. Câ€™est assez facile Ã  ce stade, il suffit de mettre en place minikube et: Helm utilise un backend appelÃ© Tiller. Câ€™est ce qui est installÃ©/dÃ©ployÃ© lors de lâ€™exÃ©cution de helm init. Une lecture prÃ©cieuse: https://helm.sh/docs/using_helm/ Maintenant, vous disposez dâ€™un environnement Kubernetes local complet capable dâ€™accepter tous vos dÃ©ploiements de test avant de dÃ©cider de les placer dans le cloud.]]></description><link>https://ludovicwyffels.dev/k8s-minikube/</link><guid isPermaLink="false">https://ludovicwyffels.dev/k8s-minikube/</guid><pubDate>Thu, 23 May 2019 08:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://kubernetes.io/docs/setup/minikube/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Minikube&lt;/a&gt; est un outil idÃ©al pour configuer localement &lt;a href=&quot;https://kubernetes.io/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Kubernetes&lt;/a&gt; afin de tester et dâ€™expÃ©rimenter vos dÃ©ploiements.&lt;/p&gt;
&lt;p&gt;Dans ce guide, je vais essayer de vous aider Ã  le mettre en marche sur votre machine locale, Ã  donner quelques conseils sur oÃ¹ et comment effectuer certaines tÃ¢ches et Ã  le rendre aussi capable (je suppose quand vous utilisez k8s que vous veulent apprendre et utiliser Helm, etcd, istio, etc.).&lt;/p&gt;
&lt;h1&gt;Installation de minikube&lt;/h1&gt;
&lt;p&gt;Minikube fonctionne avec une machine virtuelle. Pour cela, on peut utiliser diverses options en fonction de vos prÃ©fÃ©rences et de votre systÃ¨me dâ€™exploitation. Ma prÃ©fÃ©rence dans ce cas est Orable &lt;a href=&quot;https://www.virtualbox.org/wiki/Downloads&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;VirtualBox&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Vous pouvez utiliser &lt;strong&gt;brew&lt;/strong&gt; pour tout installer:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;brew cask &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; virtualbox minikube&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Dans ce cas, vous pourriez obtenir une erreur dâ€™installation peu concluante liÃ©e Ã  lâ€™installation de virtualbox, en particulier sur Mojave et problablement par la suite.&lt;/p&gt;
&lt;p&gt;Quoi quâ€™il en soit, il sâ€™agit problablement dâ€™une nouvelle fonctionnalitÃ© de sÃ©curitÃ© dans MacOs X qui vous gÃªne.&lt;/p&gt;
&lt;p&gt;Allez dans &lt;strong&gt;PrÃ©fÃ©rences SystÃ¨me&gt; SÃ©curitÃ© et confidentialitÃ©&lt;/strong&gt; et sur lâ€™Ã©cran &lt;strong&gt;GÃ©nÃ©ral&lt;/strong&gt;, vous verrez un (ou quelques) messages concernant certains logiciels nÃ©cessitant une approbation pour Ãªtre installÃ©s. Vous devez examiner attentivement la liste sâ€™il en existe plusieurs et autoriser lâ€™installation du logiciel dont vous avez besoin - dans ce cas, le logiciel &lt;strong&gt;Oracle&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Cela fait, vous pourrez relancer la commande ci-dessus et vous devrez alors Ãªtre prÃªt pour les Ã©tapes suivantes.&lt;/p&gt;
&lt;h1&gt;ExÃ©cuter et accÃ©der au cluster&lt;/h1&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;minikube start&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Afin dâ€™utiliser de maniÃ¨re optimale les ressources de votre ordinateur local, je suggÃ©rerais de lâ€™arrÃªter quand vous nâ€™en avez plus besoinâ€¦ Avec VirtualBox au centre, il utilisera la batterie de votre ordinateur portable assez rapidement. Recommencer plus tard vous ramÃ¨nera lÃ  oÃ¹ vous lâ€™avez laissÃ©:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;minikube stop&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Le tableau de bord Kubernetes est Ã©galement disponible (lorsque minikube est en cours dâ€™exÃ©cution):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;minikube dashboard&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Je vais supposer que vous avez kubectl installÃ© localement et que vous lâ€™utilisez dÃ©jÃ  pour certains clusters distants, vous disposez donc de plusieurs contextes. Dans ce cas, vous devez rÃ©pertorier les contextes et passer Ã  minikube.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;kubectl config get-contexts
kubectl config use-context minikube&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Vous vous trouvez maintenant dans le contexte de votre cluster k8 local qui sâ€™exÃ©cute sur minikube et vous pouvez effectuer toutes les opÃ©rations k8 quâ€™il contient.&lt;/p&gt;
&lt;h1&gt;Ingress&lt;/h1&gt;
&lt;p&gt;Pour exÃ©cuter vos dÃ©ploiements comportant un ingress, vous aurez besoin dâ€™un add-on dâ€™entrÃ©e:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;minikube addons &lt;span class=&quot;token builtin class-name&quot;&gt;enable&lt;/span&gt; ingress&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Assurez-vous que vous configurez lâ€™ingress en fonction de vos hÃ´tes locaux. Cela signifie fondamentalement que tout ce que vous dÃ©finissez comme hÃ´te dans vos rÃ¨gles dâ€™ingress doit Ãªtre configurÃ© dans votre fichier /etc/hosts&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;[minikube ip] your.host&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;OÃ¹ &lt;code&gt;[minikube ip]&lt;/code&gt; devrait Ãªtre remplacÃ© par lâ€™ip actuel de minikube. Il fonctionne Ã©galement avec plusieurs hÃ´tes locaux sÃ©parÃ©s par des espaces aprÃ¨s lâ€™adresse ip de minikube.&lt;/p&gt;
&lt;p&gt;Voici un raccourci pour le faire en bash&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;$(&lt;/span&gt;minikube &lt;span class=&quot;token function&quot;&gt;ip&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;)&lt;/span&gt;&lt;/span&gt; local.host&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;tee&lt;/span&gt; -a /etc/hosts&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h1&gt;Docker registry&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;La rÃ©alitÃ© de lâ€™utilisation rÃ©elle du registre de conteneurs dans lâ€™environnement local est rude. Je vais donc vous fournir une option simple, rapide et simpliste qui facilite le dÃ©ploiement de votre travail local sur vos k8s locaux, mais vous prive de lâ€™expÃ©rience trÃ¨s importante du registre de conteneurs.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Registre de conteneurs local&lt;/h2&gt;
&lt;p&gt;Obtenez le contexte de votre docker local pour pointer vers le context minikube: &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;eval&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;$(&lt;/span&gt;minikube docker-env&lt;span class=&quot;token variable&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Dans le contexte minikube, pour dÃ©marrer le registre docker local&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;docker run -d -p &lt;span class=&quot;token number&quot;&gt;5000&lt;/span&gt;:5000 --restart&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;always --name registry registry:2&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Donc, vous avez maintenant un registre local dans lequel pousser des choses (tant que votre docker est dans le contexte minikube)&lt;/p&gt;
&lt;p&gt;Vous pouvez maintenant faire:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;docker build &lt;span class=&quot;token builtin class-name&quot;&gt;.&lt;/span&gt; -t &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;your_tag&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
docker tag &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;your_tag&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; localhost:5000/&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;your_tag&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;:&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;version&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;A ce stade, vous pouvez utiliser &lt;code&gt;localhost:5000/&amp;#x3C;your_tag&gt;&lt;/code&gt;: comme image dans votre dÃ©ploiement et câ€™est tout.&lt;/p&gt;
&lt;h2&gt;Utilisation du rÃ©fÃ©rentiel de conteneur distant&lt;/h2&gt;
&lt;p&gt;Pour utiliser localement le rÃ©fÃ©rentiel de conteneur distant, vous devez fournir un moyen dâ€™authentification, qui se base sur les &lt;a href=&quot;https://kubernetes.io/docs/concepts/configuration/secret/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;secrets&lt;/a&gt; de Kubernetes.&lt;/p&gt;
&lt;p&gt;Pour la gestion des secrets locaux pour ECR, GCR and Docker registry, je recommande dâ€™utiliser lâ€™addon minikube appelÃ© &lt;a href=&quot;https://github.com/upmc-enterprises/registry-creds&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;registry-creds&lt;/a&gt;. Je ne le considÃ¨re pas suffisamment sÃ»r pour Ãªtre utilisÃ© ailleurs que dans lâ€™environnement local.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;minikube addons configure registry-creds
minikube addons &lt;span class=&quot;token builtin class-name&quot;&gt;enable&lt;/span&gt; registry-creds&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h1&gt;Helm&lt;/h1&gt;
&lt;p&gt;Helm est un gestionnaire de paquets pour k8s et est souvent utilisÃ© pour la gestion de la configuration dâ€™un dÃ©ploiement Ã  lâ€™autre. Compte tenu de la grande popularitÃ© de lâ€™outil et de son adoption croissante, je voudrais terminer ce guide par une note sur lâ€™ajout de helm Ã  votre environnement Kubernetes local.&lt;/p&gt;
&lt;p&gt;Câ€™est assez facile Ã  ce stade, il suffit de mettre en place minikube et:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;brew &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; kubernetes-helm
helm init&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;Helm utilise un backend appelÃ© &lt;strong&gt;Tiller&lt;/strong&gt;. Câ€™est ce qui est installÃ©/dÃ©ployÃ© lors de lâ€™exÃ©cution de &lt;code&gt;helm init&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Une lecture prÃ©cieuse: &lt;a href=&quot;https://helm.sh/docs/using_helm/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://helm.sh/docs/using_helm/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Maintenant, vous disposez dâ€™un environnement Kubernetes local complet capable dâ€™accepter tous vos dÃ©ploiements de test avant de dÃ©cider de les placer dans le cloud.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Bash - VÃ©rifier les variables d'environnement sont dÃ©finies ou s'il existe des fichiers/rÃ©fÃ©rences]]></title><description><![CDATA[La configuration, le CI et les flux de dÃ©ploiement reprÃ©sente un peu lâ€™ancien script bash. MalgrÃ© mon profond intÃ©rÃªt pour les subtilitÃ©s de Bash (/sarcasme), jâ€™ai continuÃ© Ã  chercher des solution aux mÃªmes situations sur  Google et StackOverflow. Pour Ã©viter dâ€™avoir Ã  le refaire moi-mÃªme et pour votre plaisir de lecture, les voici. Pour Ãªtre dangereux en termes dâ€™installation, de CI et de flux de dÃ©ploiement, nous rencontrerons ce qui suit: azerty azerty VÃ©rifier si un fichier existe VÃ©rifier si un lien symbolique existe VÃ©rifier si une variable dâ€™environnement est dÃ©finie Basculer une variable dâ€™environnement Demander Ã  lâ€™utilisateur Un dernier conseil, sâ€™il sâ€™agit de plusieurs lignes, essayez dâ€™utiliser quelque chose comme JavaScript ou Python pour Ã©crire votre script. Injecter .env dans votre session/environnement Nous avons des fichiers .env, Docker Compose traite cela avec une utilisation habituelle, mais disons que nous voulons que quelque chose tourne en dehors de Docker (et sans utiliser quelque chose comme dotenv). Voici lâ€™extrait de code pour un shell UNIX]]></description><link>https://ludovicwyffels.dev/bash-justeAssezPourEtreDangereux/</link><guid isPermaLink="false">https://ludovicwyffels.dev/bash-justeAssezPourEtreDangereux/</guid><pubDate>Tue, 21 May 2019 22:00:00 GMT</pubDate><content:encoded>&lt;p&gt;La configuration, le CI et les flux de dÃ©ploiement reprÃ©sente un peu lâ€™ancien script bash.&lt;/p&gt;
&lt;p&gt;MalgrÃ© mon profond intÃ©rÃªt pour les subtilitÃ©s de Bash (&lt;em&gt;/sarcasme&lt;/em&gt;), jâ€™ai continuÃ© Ã  chercher des solution aux mÃªmes situations sur  Google et StackOverflow.&lt;/p&gt;
&lt;p&gt;Pour Ã©viter dâ€™avoir Ã  le refaire moi-mÃªme et pour votre plaisir de lecture, les voici.&lt;/p&gt;
&lt;p&gt;Pour Ãªtre dangereux en termes dâ€™installation, de CI et de flux de dÃ©ploiement, nous rencontrerons ce qui suit:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;azerty&lt;/li&gt;
&lt;li&gt;azerty&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;VÃ©rifier si un fichier existe&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; -f ./pdfgen/pdfgen &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;then&lt;/span&gt;
    &lt;span class=&quot;token builtin class-name&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Building pdfgen binary&quot;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; run --prefix pdfgen build:linux
&lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt;
    &lt;span class=&quot;token builtin class-name&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Pdfgen binary already exists, skipping build&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;fi&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;VÃ©rifier si un lien symbolique existe&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; -L /usr/local/bin/heroku &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;then&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;wget&lt;/span&gt; https://cli-assets.heroku.com/branches/stable/heroku-linux-amd64.tar.gz
    &lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;mkdir&lt;/span&gt; -p /usr/local/lib /usr/local/bin
    &lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;tar&lt;/span&gt; -xvzf heroku-linux-amd64.tar.gz -C /usr/local/lib
    &lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ln&lt;/span&gt; -s /usr/local/lib/heroku/bin/heroku /usr/local/bin/heroku
&lt;span class=&quot;token keyword&quot;&gt;fi&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;VÃ©rifier si une variable dâ€™environnement est dÃ©finie&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# long&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; -z &lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token variable&quot;&gt;${CIRCLE_BRANCH}&lt;/span&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;then&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; run redis-cli flushall
&lt;span class=&quot;token keyword&quot;&gt;fi&lt;/span&gt;
 
&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; run &lt;span class=&quot;token function&quot;&gt;sync&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;# one-liner&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;-z &lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token variable&quot;&gt;${CIRCLE_BRANCH}&lt;/span&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; run redis-cli flushall&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; run &lt;span class=&quot;token function&quot;&gt;sync&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Basculer une variable dâ€™environnement&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$CIRCLE_BRANCH&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;develop&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token builtin class-name&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token assign-left variable&quot;&gt;ENVIRONMENT&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;dev&quot;&lt;/span&gt;
        &lt;span class=&quot;token builtin class-name&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token assign-left variable&quot;&gt;HEROKU_APP&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;dev-app
        &lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;staging&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token builtin class-name&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token assign-left variable&quot;&gt;ENVIRONMENT&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;staging&quot;&lt;/span&gt;
        &lt;span class=&quot;token builtin class-name&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token assign-left variable&quot;&gt;HEROKU_APP&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;staging-app
        &lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;production&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token builtin class-name&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token assign-left variable&quot;&gt;ENVIRONMENT&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;production&quot;&lt;/span&gt;
        &lt;span class=&quot;token builtin class-name&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token assign-left variable&quot;&gt;HEROKU_APP&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;production-app
        &lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;esac&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Demander Ã  lâ€™utilisateur&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;read&lt;/span&gt; -p &lt;span class=&quot;token string&quot;&gt;&quot;Are you sure you want to merge &apos;develop&apos; into &apos;staging&apos;? (y/N)&quot;&lt;/span&gt; -n &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; -r
&lt;span class=&quot;token builtin class-name&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;# we like having a new line&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token environment constant&quot;&gt;$REPLY&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;~ ^&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Yy&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;$ &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;then&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; merge develop --ff-only
  &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; push
&lt;span class=&quot;token keyword&quot;&gt;fi&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Un dernier conseil, sâ€™il sâ€™agit de plusieurs lignes, essayez dâ€™utiliser quelque chose comme JavaScript ou Python pour Ã©crire votre script.&lt;/p&gt;
&lt;h2&gt;Injecter .env dans votre session/environnement&lt;/h2&gt;
&lt;p&gt;Nous avons des fichiers &lt;code&gt;.env&lt;/code&gt;, Docker Compose traite cela avec une utilisation habituelle, mais disons que nous voulons que quelque chose tourne en dehors de Docker (et sans utiliser quelque chose comme &lt;a href=&quot;https://github.com/motdotla/dotenv&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;dotenv&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Voici lâ€™extrait de code pour un shell UNIX&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;cat&lt;/span&gt; .env &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;xargs&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Mocking des classes ES6 dans les tests unitaires]]></title><description><![CDATA[Cet article passe en revue certains modÃ¨les pouvant Ãªtre utilisÃ©s pour tester les classes ES6. Les exemples utiliseront lâ€™auto-mocking du module Jest mais devraient Ãªtre portables Ã  dâ€™autres bibliothÃ¨ques de mocking de module (par exemple Proxyquire) avec quelques modifications. Dans cet article, nous avons explorÃ© comment dÃ©finir des modÃ¨les Sequelize en utilisant des classes ES6. Un des avantages dâ€™une telle approche est quâ€™elle permet des tests unitaires faciles, elle permet dâ€™instancier le modÃ¨le sans le bagage de toute Sequelize (et/ou une base de donnÃ©es). Alternative avec Object.assign Nous allons tester le modÃ¨le suivant (qui est une classe ES6): Au niveau des modules, nous le voulons: mock/stub Sequelize (et la classe de base Model) importer le modÃ¨le Dans le test: Instantaner le modÃ¨le que nous avons dÃ©fini (sans crash) DÃ©finissez quelques propriÃ©tÃ©s sur cette instance ExÃ©cuter certaines mÃ©thodes Affirmer sur le rendement  Alternative avec Object.assign Si nous dÃ©finissons plus dâ€™une propriÃ©tÃ© dâ€™instance unique, lâ€™utilisation de Object.assign peut Ãªtre plus simple Ã  gÃ©rer:]]></description><link>https://ludovicwyffels.dev/node-sequelize-mocking/</link><guid isPermaLink="false">https://ludovicwyffels.dev/node-sequelize-mocking/</guid><pubDate>Sat, 11 May 2019 09:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Cet article passe en revue certains modÃ¨les pouvant Ãªtre utilisÃ©s pour tester les classes ES6.&lt;/p&gt;
&lt;p&gt;Les exemples utiliseront lâ€™auto-mocking du module Jest mais devraient Ãªtre portables Ã  dâ€™autres bibliothÃ¨ques de mocking de module (par exemple Proxyquire) avec quelques modifications.&lt;/p&gt;
&lt;p&gt;Dans &lt;a href=&quot;/node-sequelize-classes&quot;&gt;cet article&lt;/a&gt;, nous avons explorÃ© comment dÃ©finir des modÃ¨les Sequelize en utilisant des classes ES6. Un des avantages dâ€™une telle approche est quâ€™elle permet des tests unitaires faciles, elle permet dâ€™instancier le modÃ¨le sans le bagage de toute Sequelize (et/ou une base de donnÃ©es).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#alternative-object-assign&quot;&gt;Alternative avec &lt;code&gt;Object.assign&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Nous allons tester le modÃ¨le suivant (qui est une classe ES6):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Model &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;sequelize&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MyModel&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Model&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;init
      &lt;span class=&quot;token comment&quot;&gt;// Config, see &quot;Using ES6 classes for Sequelize 4 models&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;isAvailable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;Array&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isArray&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;meetings&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;meetings should be eager-loaded&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;meetings&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; startDate&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; endDate &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; startDate &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; date &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; endDate &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; date&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Au niveau des modules, nous le voulons:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;mock/stub Sequelize (et la classe de base &lt;code&gt;Model&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;importer le modÃ¨le&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Dans le test:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Instantaner le modÃ¨le que nous avons dÃ©fini (sans crash)&lt;/li&gt;
&lt;li&gt;DÃ©finissez quelques propriÃ©tÃ©s sur cette instance&lt;/li&gt;
&lt;li&gt;ExÃ©cuter certaines mÃ©thodes&lt;/li&gt;
&lt;li&gt;Affirmer sur le rendement&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;jest&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;mock&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;sequelize&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Model &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./model&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;It should not throw when passed a model containing an empty list of meetings&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; model &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Model&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  model&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;meetings &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;model&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isAvailable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Date&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;not&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toThrow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a name=&quot;alternative-object-assign&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Alternative avec &lt;code&gt;Object.assign&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;Si nous dÃ©finissons plus dâ€™une propriÃ©tÃ© dâ€™instance unique, lâ€™utilisation de Object.assign peut Ãªtre plus simple Ã  gÃ©rer:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;jest&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;mock&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;sequelize&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Model &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./model&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;It should not throw when passed a model containing an empty list of meetings&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; model &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Model&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      meetings&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;model&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isAvailable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Date&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;not&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toThrow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Utilisation des classes ES6 pour les modÃ¨les Sequelize 4 ou 5]]></title><description><![CDATA[La spÃ©cification ES2015 ou ES6 a introduit la class en JavaScript. Des bibliothÃ¨ques telles que React sont passÃ©es de React.createClass Ã  la class MyComponent extends React.Component, câ€™est-Ã -dire quâ€™ils sont passÃ©s de lâ€™utilisation de leur propre constructeur Ã  lâ€™utilisation dâ€™un langage intÃ©grÃ© pour transmettre lâ€™intention du programmeur. Pour la couche de persistance dâ€™une application Web Node.js, quelques bases de donnÃ©es me viennent Ã  lâ€™esprit, comme MongoDB (Ã©ventuellement associÃ© Ã  mongoose), ou une association de clÃ©s-valeurs comme Redis. Pour exÃ©cuter une base de donnÃ©es relationnelle avec une application Node, Sequelize , â€œUn ORM de dialecte multi-SQL facile Ã  utiliser pour Node.jsâ€ est une bonne option. Il permet Ã  lâ€™application de fonctionner avec une instance MySQL ou PostgreSQL et offre un moyen simple de mapper la reprÃ©sentation des entitÃ©s dans la base de donnÃ©es vers JavaScript et inversement. Les API v4 et infÃ©rieure de Sequelize pour les dÃ©finitions de modÃ¨le se prÃ©sentent comme suit: Pour ajouter des mÃ©thodes de classes et dâ€™instance, vous devez Ã©crire ce qui suit: Cela est nÃ©cessaire avant lâ€™ES6 car il nâ€™existait pas de notion dâ€™hÃ©ritage classique. Maintenant, nous avons les classes, pourquoi ne pas les exploiter? Pour les dÃ©veloppeurs habituÃ©s Ã  avoir des classes, les Ã©lÃ©ments suivants vous sembleront probablement familiers: Sequelize supporte rÃ©ellement cela, mais la documentation manque un peu. Lâ€™un des seuls endroits oÃ¹ trouver une rÃ©fÃ©rence Ã  la procÃ©dure Ã  suivre est dans un numÃ©ro de GitHub: https://github.com/sequelize/sequelize/issues/6524. Voici un aide-mÃ©moire sur ce que vous souhaitez faire et comment le rÃ©aliser Ã  lâ€™aide de la classe ES6 + hÃ©ritage de Sequelize.Model:  Initialiser le modÃ¨le avec le ou les champs saisis Associez votre modÃ¨le Ã  dâ€™autres modÃ¨les DÃ©finition dâ€™un nom de table personnalisÃ© pour votre modÃ¨le DÃ©finition dâ€™un nom de modÃ¨le personnalisÃ© pour votre modÃ¨le (pour Sequelize) Les requÃªtes MÃ©thodes dâ€™instance Initialisez tous vos modÃ¨les  Initialiser le modÃ¨le avec le ou les champs saisis  Associez votre modÃ¨le Ã  dâ€™autres modÃ¨les  DÃ©finition dâ€™un nom de table personnalisÃ© pour votre modÃ¨le  DÃ©finition dâ€™un nom de modÃ¨le personnalisÃ© pour votre modÃ¨le (pour Sequelize)  Les requÃªtes  MÃ©thodes dâ€™instance  Initialisez tous vos modÃ¨les require() suivi de model.init() est une alternative Ã  sequelize.import(path), il est un peu plus clair ce qui est importÃ© et non importÃ© et sous quel nom.]]></description><link>https://ludovicwyffels.dev/node-sequelize-classes/</link><guid isPermaLink="false">https://ludovicwyffels.dev/node-sequelize-classes/</guid><pubDate>Fri, 10 May 2019 18:00:00 GMT</pubDate><content:encoded>&lt;p&gt;La spÃ©cification ES2015 ou ES6 a introduit la &lt;code&gt;class&lt;/code&gt; en JavaScript. Des bibliothÃ¨ques telles que React sont passÃ©es de &lt;code&gt;React.createClass&lt;/code&gt; Ã  la &lt;code&gt;class MyComponent extends React.Component&lt;/code&gt;, câ€™est-Ã -dire quâ€™ils sont passÃ©s de lâ€™utilisation de leur propre constructeur Ã  lâ€™utilisation dâ€™un langage intÃ©grÃ© pour transmettre lâ€™intention du programmeur.&lt;/p&gt;
&lt;p&gt;Pour la couche de persistance dâ€™une application Web Node.js, quelques bases de donnÃ©es me viennent Ã  lâ€™esprit, comme &lt;a href=&quot;https://www.mongodb.com/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;MongoDB&lt;/a&gt; (Ã©ventuellement associÃ© Ã  &lt;a href=&quot;https://mongoosejs.com/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;mongoose&lt;/a&gt;), ou une association de clÃ©s-valeurs comme &lt;a href=&quot;https://redis.io/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Redis&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Pour exÃ©cuter une base de donnÃ©es relationnelle avec une application Node, &lt;a href=&quot;http://docs.sequelizejs.com/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Sequelize&lt;/a&gt; , â€œUn ORM de dialecte multi-SQL facile Ã  utiliser pour Node.jsâ€ est une bonne option. Il permet Ã  lâ€™application de fonctionner avec une instance MySQL ou PostgreSQL et offre un moyen simple de mapper la reprÃ©sentation des entitÃ©s dans la base de donnÃ©es vers JavaScript et inversement.&lt;/p&gt;
&lt;p&gt;Les API v4 et infÃ©rieure de Sequelize pour les dÃ©finitions de modÃ¨le se prÃ©sentent comme suit:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; MyModel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; sequelize&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;MyModel&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// fields and methods&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Pour ajouter des mÃ©thodes de classes et dâ€™instance, vous devez Ã©crire ce qui suit:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Class Method&lt;/span&gt;
MyModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;associate&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Instance Method&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;MyModel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;someMethod&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Cela est nÃ©cessaire avant lâ€™ES6 car il nâ€™existait pas de notion dâ€™hÃ©ritage classique. Maintenant, nous avons les classes, pourquoi ne pas les exploiter? Pour les dÃ©veloppeurs habituÃ©s Ã  avoir des classes, les Ã©lÃ©ments suivants vous sembleront probablement familiers:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MyModel&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Sequelize&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Model&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;associate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;someMethod&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Sequelize supporte rÃ©ellement cela, mais la documentation manque un peu. Lâ€™un des seuls endroits oÃ¹ trouver une rÃ©fÃ©rence Ã  la procÃ©dure Ã  suivre est dans un numÃ©ro de GitHub: &lt;a href=&quot;https://github.com/sequelize/sequelize/issues/6524&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://github.com/sequelize/sequelize/issues/6524&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Voici un aide-mÃ©moire sur ce que vous souhaitez faire et comment le rÃ©aliser Ã  lâ€™aide de la classe ES6 + hÃ©ritage de &lt;code&gt;Sequelize.Model&lt;/code&gt;:&lt;/p&gt;
&lt;p&gt;&lt;a name=&quot;toc&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#typed-fields&quot;&gt;Initialiser le modÃ¨le avec le ou les champs saisis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#associations&quot;&gt;Associez votre modÃ¨le Ã  dâ€™autres modÃ¨les&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#customer-table-name&quot;&gt;DÃ©finition dâ€™un nom de table personnalisÃ© pour votre modÃ¨le&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#custom-model-name&quot;&gt;DÃ©finition dâ€™un nom de modÃ¨le personnalisÃ© pour votre modÃ¨le (pour Sequelize)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#queries&quot;&gt;Les requÃªtes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#instance-methods&quot;&gt;MÃ©thodes dâ€™instance&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#initialize-all&quot;&gt;Initialisez tous vos modÃ¨les&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a name=&quot;typed-fields&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Initialiser le modÃ¨le avec le ou les champs saisis&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Sequelize &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;sequelize&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MyModel&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Sequelize&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Model&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;sequelize&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; DataTypes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        myField&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; DataTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;STRING&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; sequelize &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a name=&quot;associations&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Associez votre modÃ¨le Ã  dâ€™autres modÃ¨les&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Sequelize &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;sequelize&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MyModel&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Sequelize&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Model&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;associate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;myAssociation &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;belongsTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;models&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;OtherModel&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// or&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;myAssociation &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; models&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;MyModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;belongsTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;models&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;OtherModel&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a name=&quot;customer-table-name&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;DÃ©finition dâ€™un nom de table personnalisÃ© pour votre modÃ¨le&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Sequelize &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;sequelize&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MyModel&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Sequelize&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Model&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;sequelize&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; DataTypes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// field definitions&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        tableName&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;myModels&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        sequelize&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a name=&quot;custom-model-name&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;DÃ©finition dâ€™un nom de modÃ¨le personnalisÃ© pour votre modÃ¨le (pour Sequelize)&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Sequelize &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;sequelize&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MyModel&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Sequelize&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Model&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;sequelize&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; DataTypes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// field definitions&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        modelName&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;myModel&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        sequelize&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a name=&quot;queries&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Les requÃªtes&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Sequelize &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;sequelize&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MyModel&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Sequelize&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Model&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;where&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;findOne&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      where&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      attributes&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;id&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      order&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;createdAt&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;DESC&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a name=&quot;instance-methods&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;MÃ©thodes dâ€™instance&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Sequelize &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;sequelize&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MyModel&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Sequelize&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Model&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;getFullName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;firstName&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;lastName&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a name=&quot;initialize-all&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Initialisez tous vos modÃ¨les&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;require()&lt;/code&gt; suivi de &lt;code&gt;model.init()&lt;/code&gt; est une alternative Ã  &lt;code&gt;sequelize.import(path)&lt;/code&gt;, il est un peu plus clair ce qui est importÃ© et non importÃ© et sous quel nom.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Sequelize &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;sequelize&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; sequelize &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Sequelize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// pass your sequelize config here&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; FirstModel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./first-model&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; SecondModel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./second-model&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; ThirdModel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./third-model&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; models &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  First&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; FirstModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sequelize&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Sequelize&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  Second&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; SecondModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sequelize&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Sequelize&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  Third&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ThirdModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sequelize&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Sequelize&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Run `.associate` if it exists,&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ie create relationships in the ORM&lt;/span&gt;
Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;models&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;model&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; model&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;associate &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;function&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;model&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; model&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;associate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;models&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; db &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;models&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  sequelize&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; db&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Sequelize DataTypes: guide pratique]]></title><description><![CDATA[Les DataTypes sont au coeur de la bibliothÃ¨que Sequelize. Ceci est un guide pratique et complet pour compenser la documentation officielle clairsemÃ©e de Sequelize sur le sujet. Tout dâ€™abord, DataTypes contient Ã  la fois les types et les gÃ©nÃ©rateurs pour les valeurs par dÃ©faut: NOW , UUIDV1 et UUIDV4 sont des valeurs par dÃ©faut spÃ©ciales. Les endroits oÃ¹ vous Ãªtes susceptible de rencontrer des DataTypes se trouvent dans la dÃ©finition du champ de modÃ¨le et dans les dÃ©finitions de migration. Notez que pour un modÃ¨le et un champ donnÃ©s, le type de donnÃ©es doit Ãªtre identique dans le modÃ¨le et dans la migration. Table des matiÃ¨res: Types de texte Les valeurs par dÃ©faut Nombre Types primitifs fantaisie Date/heure Types de fantaisie Types fantaisie Postgres  Types de texte STRING Une chaÃ®ne de longueur variable. Longueur par dÃ©faut 255. Prend en charge BINARY Utilisation: une chaÃ®ne binaire de 100 longueurs DataTypes.STRING(100).BINARY CHAR Une chaÃ®ne de longueur fixe. Longueur par dÃ©faut 255. Prend en charge BINARY Utilisation: un caractÃ¨re binaire de 100 longueurs DataTypes.CHAR(100).BINARY TEXT : une colonne de texte de longueur illimitÃ©e  Les valeurs par dÃ©faut NOW : une valeur par dÃ©faut de lâ€™horodatage actuel UUIDV1 : Un identifiant universel unique par dÃ©faut gÃ©nÃ©rÃ© conformÃ©ment Ã  la norme UUID v1 UUIDV4 : Un identifiant universel unique par dÃ©faut gÃ©nÃ©rÃ© conformÃ©ment Ã  la norme UUID v2  Nombre Tous les Ã©lÃ©ments suivants prennent en charge ces propriÃ©tÃ©s: UNSIGNED, ZEROFILL. Par exemple: La mÃªme chose peut Ãªtre faite en utilisant BIGINT.UNSIGNED, FLOAT.UNSIGNED,â€¦ INTEGER: Un entier de 32 bits. BIGINT: Un entier de 64 bits. FLOAT: nombre Ã  virgule flottante (prÃ©cision sur 4 octets). Accepte un ou deux arguments de prÃ©cision REAL: nombre Ã  virgule flottante (prÃ©cision sur 4 octets). Accepte un ou deux arguments de prÃ©cision DOUBLE: nombre Ã  virgule flottante (prÃ©cision sur 8 octets). Accepte un ou deux arguments de prÃ©cision DECIMAL: nombre dÃ©cimal. Accepte un ou deux arguments de prÃ©cision  Types primitifs fantaisie BOOLEAN: colonne boolÃ©enne / tinyint qui est forcÃ©e de devenir un boolÃ©en JavaScript. UUID: Une colonne contenant un identifiant universel unique, la forme est validÃ©e, Ã  utiliser avec les valeurs par dÃ©faut UUIDV1 ou UUIDV4  Date/heure TIME: une colonne de temps DATE: une colonne datetime DATEONLY: Une colonne de date seulement  Types fantaisie BLOB: Stockage binaire. Longueurs disponibles: tiny, medium, long. Par exemple: DataTypes.BLOG('tiny') VIRTUAL Une valeur virtuelle qui nâ€™est pas stockÃ©e dans la base de donnÃ©es. Cela peut par exemple Ãªtre utile si vous souhaitez fournir une valeur par dÃ©faut dans votre modÃ¨le, qui est renvoyÃ©e Ã  lâ€™utilisateur mais non stockÃ©e dans la base de donnÃ©es. Voir les docs ENUM Une Ã©numÃ©ration. DataTypes.ENUM('value', 'another value') IdÃ©alement, devrait Ãªtre utilisÃ© avec les chaÃ®nes stockÃ©es dans les constantes  Types fantaisie Postgres HSTORE: une colonne clÃ©/valeur JSON: une colonne de chaÃ®ne JSON. JSONB: une colonne de donnÃ©es JSON prÃ©-traitÃ©e. RANGE: Pour Postgres 9.4+, les types de plage sont des types de donnÃ©es reprÃ©sentant une plage de valeurs dâ€™un type dâ€™Ã©lÃ©ment (appelÃ© sous-type de plage). ARRAY Un tableau de type, par exemple DataTypes.ARRAY(DataTypes.DECIMAL)]]></description><link>https://ludovicwyffels.dev/node-sequelize-datatypes/</link><guid isPermaLink="false">https://ludovicwyffels.dev/node-sequelize-datatypes/</guid><pubDate>Fri, 10 May 2019 18:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Les DataTypes sont au coeur de la bibliothÃ¨que Sequelize. Ceci est un guide pratique et complet pour compenser la documentation officielle clairsemÃ©e de Sequelize sur le sujet.&lt;/p&gt;
&lt;p&gt;Tout dâ€™abord, DataTypes contient Ã  la fois les types et les gÃ©nÃ©rateurs pour les valeurs par dÃ©faut: &lt;code&gt;NOW&lt;/code&gt; , &lt;code&gt;UUIDV1&lt;/code&gt; et &lt;code&gt;UUIDV4&lt;/code&gt; sont des valeurs par dÃ©faut spÃ©ciales.&lt;/p&gt;
&lt;p&gt;Les endroits oÃ¹ vous Ãªtes susceptible de rencontrer des DataTypes se trouvent dans la dÃ©finition du champ de modÃ¨le et dans les dÃ©finitions de migration. Notez que pour un modÃ¨le et un champ donnÃ©s, le type de donnÃ©es doit Ãªtre identique dans le modÃ¨le et dans la migration.&lt;/p&gt;
&lt;p&gt;Table des matiÃ¨res:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#text-types&quot;&gt;Types de texte&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#default-values&quot;&gt;Les valeurs par dÃ©faut&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#number&quot;&gt;Nombre&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#fancy-primitive-types&quot;&gt;Types primitifs fantaisie&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#date-time&quot;&gt;Date/heure&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#fancy-types&quot;&gt;Types de fantaisie&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#postgres-fancy-types&quot;&gt;Types fantaisie Postgres&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;&lt;a name=&quot;text-types&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Types de texte&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;STRING&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Une chaÃ®ne de longueur variable.&lt;/li&gt;
&lt;li&gt;Longueur par dÃ©faut 255.&lt;/li&gt;
&lt;li&gt;Prend en charge &lt;code&gt;BINARY&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Utilisation: une chaÃ®ne binaire de 100 longueurs &lt;code&gt;DataTypes.STRING(100).BINARY&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;CHAR&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Une chaÃ®ne de longueur fixe.&lt;/li&gt;
&lt;li&gt;Longueur par dÃ©faut 255.&lt;/li&gt;
&lt;li&gt;Prend en charge &lt;code&gt;BINARY&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Utilisation: un caractÃ¨re binaire de 100 longueurs &lt;code&gt;DataTypes.CHAR(100).BINARY&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;TEXT&lt;/code&gt; : une colonne de texte de longueur illimitÃ©e&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a name=&quot;default-values&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Les valeurs par dÃ©faut&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;NOW&lt;/code&gt; : une valeur par dÃ©faut de lâ€™horodatage actuel&lt;/li&gt;
&lt;li&gt;&lt;code&gt;UUIDV1&lt;/code&gt; : Un identifiant universel unique par dÃ©faut gÃ©nÃ©rÃ© conformÃ©ment Ã  la norme UUID v1&lt;/li&gt;
&lt;li&gt;&lt;code&gt;UUIDV4&lt;/code&gt; : Un identifiant universel unique par dÃ©faut gÃ©nÃ©rÃ© conformÃ©ment Ã  la norme UUID v2&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a name=&quot;number&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Nombre&lt;/h2&gt;
&lt;p&gt;Tous les Ã©lÃ©ments suivants prennent en charge ces propriÃ©tÃ©s: &lt;code&gt;UNSIGNED&lt;/code&gt;, &lt;code&gt;ZEROFILL&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Par exemple:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;DataTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;INTEGER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;UNSIGNED&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;ZEROFILL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// or&lt;/span&gt;
DataTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;INTEGER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;ZEROFILL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;UNSIGNED&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;La mÃªme chose peut Ãªtre faite en utilisant &lt;code&gt;BIGINT.UNSIGNED&lt;/code&gt;, &lt;code&gt;FLOAT.UNSIGNED&lt;/code&gt;,â€¦&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;INTEGER&lt;/code&gt;: Un entier de 32 bits.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;BIGINT&lt;/code&gt;: Un entier de 64 bits.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;FLOAT&lt;/code&gt;: nombre Ã  virgule flottante (prÃ©cision sur 4 octets). Accepte un ou deux arguments de prÃ©cision&lt;/li&gt;
&lt;li&gt;&lt;code&gt;REAL&lt;/code&gt;: nombre Ã  virgule flottante (prÃ©cision sur 4 octets). Accepte un ou deux arguments de prÃ©cision&lt;/li&gt;
&lt;li&gt;&lt;code&gt;DOUBLE&lt;/code&gt;: nombre Ã  virgule flottante (prÃ©cision sur 8 octets). Accepte un ou deux arguments de prÃ©cision&lt;/li&gt;
&lt;li&gt;&lt;code&gt;DECIMAL&lt;/code&gt;: nombre dÃ©cimal. Accepte un ou deux arguments de prÃ©cision&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a name=&quot;fancy-primitive-types&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Types primitifs fantaisie&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;BOOLEAN&lt;/code&gt;: colonne boolÃ©enne / tinyint qui est forcÃ©e de devenir un boolÃ©en JavaScript.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;UUID&lt;/code&gt;: Une colonne contenant un identifiant universel unique, la forme est validÃ©e, Ã  utiliser avec les valeurs par dÃ©faut &lt;code&gt;UUIDV1&lt;/code&gt; ou &lt;code&gt;UUIDV4&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a name=&quot;date-time&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Date/heure&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;TIME&lt;/code&gt;: une colonne de temps&lt;/li&gt;
&lt;li&gt;&lt;code&gt;DATE&lt;/code&gt;: une colonne datetime&lt;/li&gt;
&lt;li&gt;&lt;code&gt;DATEONLY&lt;/code&gt;: Une colonne de date seulement&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a name=&quot;fancy-types&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Types fantaisie&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;BLOB&lt;/code&gt;: Stockage binaire. Longueurs disponibles: &lt;code&gt;tiny&lt;/code&gt;, &lt;code&gt;medium&lt;/code&gt;, &lt;code&gt;long&lt;/code&gt;. Par exemple: &lt;code&gt;DataTypes.BLOG(&apos;tiny&apos;)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;VIRTUAL&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Une valeur virtuelle qui nâ€™est pas stockÃ©e dans la base de donnÃ©es. Cela peut par exemple Ãªtre utile si vous souhaitez fournir une valeur par dÃ©faut dans votre modÃ¨le, qui est renvoyÃ©e Ã  lâ€™utilisateur mais non stockÃ©e dans la base de donnÃ©es.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://sequelize.readthedocs.io/en/2.0/api/datatypes/#virtual&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Voir les docs&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;ENUM&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Une Ã©numÃ©ration.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;DataTypes.ENUM(&apos;value&apos;, &apos;another value&apos;)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;IdÃ©alement, devrait Ãªtre utilisÃ© avec les chaÃ®nes stockÃ©es dans les constantes&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;FIRST_ENUM_VALUE&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;FIRST_ENUM_VALUE&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;OTHER_ENUM_VALUE&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;OTHER_ENUM_VALUE&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// In migration or model definition&lt;/span&gt;
DataTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;ENUM&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;FIRST_ENUM_VALUE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;OTHER_ENUM_VALUE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a name=&quot;postgres-fancy-types&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Types fantaisie Postgres&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;HSTORE&lt;/code&gt;: une colonne clÃ©/valeur&lt;/li&gt;
&lt;li&gt;&lt;code&gt;JSON&lt;/code&gt;: une colonne de chaÃ®ne JSON.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;JSONB&lt;/code&gt;: une colonne de donnÃ©es JSON prÃ©-traitÃ©e.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;RANGE&lt;/code&gt;: Pour Postgres 9.4+, les types de plage sont des types de donnÃ©es reprÃ©sentant une plage de valeurs dâ€™un type dâ€™Ã©lÃ©ment (appelÃ© sous-type de plage).&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;ARRAY&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Un tableau de &lt;code&gt;type&lt;/code&gt;, par exemple &lt;code&gt;DataTypes.ARRAY(DataTypes.DECIMAL)&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Changer la date d'un commit]]></title><description><![CDATA[Une des choses les plus grandes et les pires avec git est que vous pouvez rÃ©Ã©crire lâ€™histoire. Voici une faÃ§on sournoise dâ€™abuser de cela, je ne peux pas penser Ã  une raison lÃ©gitime de le faire. Comme pour tout, merci StackOverflow pour toutes les options que je peux choisir parmi Fixe la date du dernier commit Ã  la date du jour Fixer la date du dernier commit Ã  une date arbitraire DÃ©finir la date dâ€™une validation arbitraire sur une date arbitraire ou courante Rebaser avant ledit engagement et arrÃªter pour modification: git rebase <commit-hash>^ -i Remplace pick par e (edit) sur la ligne avec ce commit (le premier) Quittez lâ€™Ã©diteur (ESC suivi de :wq dans VIM) Non plus: GIT_COMMITTER_DATE="$(date)" git commit --amend --no-edit --date "$(date)" GIT_COMMITTER_DATE="Mon 20 Aug 2018 20:19:19 BST" git commit --amend --no-edit --date "Mon 20 Aug 2018 20:19:19 BST" Voir ici pour plus dâ€™informations sur le rebase et lâ€™Ã©dition dans git: Fractionner un commit git existant. AprÃ¨s lâ€™une de ces 3 options, vous voudrez exÃ©cuter:]]></description><link>https://ludovicwyffels.dev/git-changeGitOfCommit/</link><guid isPermaLink="false">https://ludovicwyffels.dev/git-changeGitOfCommit/</guid><pubDate>Wed, 08 May 2019 09:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Une des choses les plus grandes et les pires avec git est que vous pouvez rÃ©Ã©crire lâ€™histoire. Voici une faÃ§on sournoise dâ€™abuser de cela, je ne peux pas penser Ã  une raison lÃ©gitime de le faire.&lt;/p&gt;
&lt;p&gt;Comme pour tout, merci StackOverflow pour toutes les options que je peux choisir parmi&lt;/p&gt;
&lt;h2&gt;Fixe la date du dernier commit Ã  la date du jour&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token assign-left variable&quot;&gt;GIT_COMMITTER_DATE&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&quot;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; commit --amend --no-edit --date &lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&quot;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Fixer la date du dernier commit Ã  une date arbitraire&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token assign-left variable&quot;&gt;GIT_COMMITTER_DATE&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;2019-05-07T21:07:52&quot;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; commit --amend --no-edit --date &lt;span class=&quot;token string&quot;&gt;&quot;2019-05-07T21:07:52&quot;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token assign-left variable&quot;&gt;GIT_COMMITTER_DATE&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Mon 20 Aug 2018 20:19:19 BST&quot;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; commit --amend --no-edit --date &lt;span class=&quot;token string&quot;&gt;&quot;Mon 20 Aug 2018 20:19:19 BST&quot;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;DÃ©finir la date dâ€™une validation arbitraire sur une date arbitraire ou courante&lt;/h2&gt;
&lt;p&gt;Rebaser avant ledit engagement et arrÃªter pour modification:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;git rebase &amp;#x3C;commit-hash&gt;^ -i&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Remplace &lt;code&gt;pick&lt;/code&gt; par &lt;code&gt;e&lt;/code&gt; (edit) sur la ligne avec ce commit (le premier)&lt;/li&gt;
&lt;li&gt;Quittez lâ€™Ã©diteur (ESC suivi de &lt;code&gt;:wq&lt;/code&gt; dans VIM)&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Non plus:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;GIT_COMMITTER_DATE=&quot;$(date)&quot; git commit --amend --no-edit --date &quot;$(date)&quot;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;GIT_COMMITTER_DATE=&quot;Mon 20 Aug 2018 20:19:19 BST&quot; git commit --amend --no-edit --date &quot;Mon 20 Aug 2018 20:19:19 BST&quot;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Voir ici pour plus dâ€™informations sur le rebase et lâ€™Ã©dition dans git: &lt;a href=&quot;/git-splitExistingCommit/&quot;&gt;Fractionner un commit git existant&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;AprÃ¨s lâ€™une de ces 3 options, vous voudrez exÃ©cuter:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;git&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-git line-numbers&quot;&gt;&lt;code class=&quot;language-git&quot;&gt;git rebase --continue&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Fractionner un commit existant]]></title><description><![CDATA[Lâ€™une des principales diffÃ©rences entre git et les autres systÃ¨mes de contrÃ´le de version est quâ€™il permet Ã  lâ€™utilisateur de rÃ©Ã©crire lâ€™historique. Pour ce faire, le moyen principal consiste Ã  utiliser git rebase, gÃ©nÃ©ralement suivi dâ€™un git push --force pour Ã©craser lâ€™historique du serveur (remote) avec lâ€™historique local. Voici comment diviser les commits existants Ã  lâ€™aide de rebase, reset et commit. Supposons que vous ayez deux fichiers Ã©ditÃ©s dans un commit (A et B) et que vous souhaitiez importer les modifications dâ€™un de ces fichiers (A) dans votre branche actuelle, mais pas celles de lâ€™autre (B). Utiliser git cherry-pick <commit-hash> nâ€™est pas une option, car cela impliquerait les modifications pour A et B. La solution consiste Ã  scinder le commit en 2 et Ã  ne sÃ©lectionner que le nouveau commit contenant les modifications pour A. Pour faire Ã§a: lancez git rebase -i <commit-hash>~ (notez le -) ou git rebase -i <hash-of-previous-commit> recherchez le commit que vous voulez scinder dans lâ€™Ã©cran dâ€™Ã©dition du rebase, changez le pick en e (edit) sauvegardez et quittez (ESC suivi de :wq pour fermer VIM) git reset HEAD~ pour rÃ©initialiser les modifications planifiÃ©es (stash) git add [files-to-add] tous les fichiers que nous voulons ajouter au premier commit (ici, ce serait git add A) git commit normalement, avec un message, etc. ExÃ©cutez autant de fois que vous le souhaitez: git add [other-files-to-add] git commit git rebase -- continue dâ€™indiquer que la division est terminÃ©e et continue la refonte Enfin, nous pouvons git cherry-pick <new-commit-hash> pour intÃ©grer les modifications dans notre branche.]]></description><link>https://ludovicwyffels.dev/git-splitExistingCommit/</link><guid isPermaLink="false">https://ludovicwyffels.dev/git-splitExistingCommit/</guid><pubDate>Wed, 08 May 2019 08:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Lâ€™une des principales diffÃ©rences entre &lt;code&gt;git&lt;/code&gt; et les autres systÃ¨mes de contrÃ´le de version est quâ€™il permet Ã  lâ€™utilisateur de rÃ©Ã©crire lâ€™historique. Pour ce faire, le moyen principal consiste Ã  utiliser &lt;code&gt;git rebase&lt;/code&gt;, gÃ©nÃ©ralement suivi dâ€™un &lt;code&gt;git push --force&lt;/code&gt; pour Ã©craser lâ€™historique du serveur (remote) avec lâ€™historique local.&lt;/p&gt;
&lt;p&gt;Voici comment diviser les commits existants Ã  lâ€™aide de &lt;code&gt;rebase&lt;/code&gt;, &lt;code&gt;reset&lt;/code&gt; et &lt;code&gt;commit&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Supposons que vous ayez deux fichiers Ã©ditÃ©s dans un commit (A et B) et que vous souhaitiez importer les modifications dâ€™un de ces fichiers (A) dans votre branche actuelle, mais pas celles de lâ€™autre (B).&lt;/p&gt;
&lt;p&gt;Utiliser &lt;code&gt;git cherry-pick &amp;#x3C;commit-hash&gt;&lt;/code&gt; nâ€™est pas une option, car cela impliquerait les modifications pour A et B.&lt;/p&gt;
&lt;p&gt;La solution consiste Ã  scinder le commit en 2 et Ã  ne sÃ©lectionner que le nouveau commit contenant les modifications pour A.&lt;/p&gt;
&lt;p&gt;Pour faire Ã§a:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;lancez &lt;code&gt;git rebase -i &amp;#x3C;commit-hash&gt;~&lt;/code&gt; (notez le &lt;code&gt;-&lt;/code&gt;) ou &lt;code&gt;git rebase -i &amp;#x3C;hash-of-previous-commit&gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;recherchez le commit que vous voulez scinder dans lâ€™Ã©cran dâ€™Ã©dition du rebase, changez le &lt;code&gt;pick&lt;/code&gt; en &lt;code&gt;e&lt;/code&gt; (&lt;strong&gt;edit&lt;/strong&gt;)&lt;/li&gt;
&lt;li&gt;sauvegardez et quittez (&lt;code&gt;ESC&lt;/code&gt; suivi de &lt;code&gt;:wq&lt;/code&gt; pour fermer VIM)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;git reset HEAD~&lt;/code&gt; pour rÃ©initialiser les modifications planifiÃ©es (&lt;code&gt;stash&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;git add [files-to-add]&lt;/code&gt; tous les fichiers que nous voulons ajouter au premier commit (ici, ce serait &lt;code&gt;git add A&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;git commit&lt;/code&gt; normalement, avec un message, etc.&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ExÃ©cutez autant de fois que vous le souhaitez:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;git add [other-files-to-add]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;git commit&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;git rebase -- continue&lt;/code&gt; dâ€™indiquer que la division est terminÃ©e et continue la refonte&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Enfin, nous pouvons &lt;code&gt;git cherry-pick &amp;#x3C;new-commit-hash&gt;&lt;/code&gt; pour intÃ©grer les modifications dans notre branche.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Changer d'environnement Node.js]]></title><description><![CDATA[Si vous travaillez sur plus dâ€™un projet Ã  la fois, travaillez beaucoup en open source ou si vous dÃ©cidez de revenir Ã  un projet que vous avez rÃ©alisÃ© il y a un an, il y a de fortes chances pour que vous deviez changer de version de Node.js. Il se peut que quelques dÃ©pendances ne fonctionnent que sur une version de Node.js spÃ©cifique. Vous pouvez utiliser nvm pour changer vos versions de node.js en une seconde. Installation Si vous nâ€™avez pas dÃ©jÃ  installÃ© NVM. TÃ©lÃ©chargez et installez la derniÃ¨re version de NVM VÃ©rifiez votre version de nvm avec Installer un nouvelle version Pour tÃ©lÃ©charger et installer une nouvelle version de Node.js, exÃ©cutez Remplacez 12.0 par le numÃ©ro de version dons vous avez besoin. Lister les versions Pour vÃ©rifier quelles version de Node.js sont installÃ©es sur votre systÃ¨me, exÃ©cutez Ceci listera toutes les versions que vous avez installÃ©es. Utiliser une version installÃ© Pour passer Ã  nâ€™importe quelle version de node.js , vous devez exÃ©cuter DÃ©sinstaller une version Si vous ne voulez pas de version particuliÃ¨re de Node.js, vous devez exÃ©cuter Alias Vous pouvez dÃ©finir la version par dÃ©faut de Node.js en dÃ©finissant un alias. Mettre Ã  jour NPM NVM ne vous permet pas de mettre Ã  jour uniquement npm, mais uniquement une version node + npm. Mais il existe un moyen trÃ¨s simple de le faire: Migration des packages global vers une autre version de node Si vous souhaitez installer une nouvelle version de Node.js et migrer les packages npm Ã  partir dâ€™une version prÃ©cÃ©dente: Cela utilisera dâ€™abord â€œnvm version nodeâ€ pour identifier la version actuelle Ã  partir de laquelle vous faites migrer les packages. Il rÃ©sout ensuite la nouvelle version Ã  installer Ã  partir du serveur distant et lâ€™installe. Enfin, il exÃ©cute â€œnvminstall-packagesâ€ pour rÃ©installer les packages npm de votre version prÃ©cÃ©dente de Node vers la nouvelle. Vous pouvez Ã©galement installer et migrer des packages npm Ã  partir de versions spÃ©cifiques de Node, comme suit: Automatiser le changement de version Pour automatiser le changement de versio de Node.js, il existe un package npm qui sâ€™appelle AVN qui le permet Maintenant quand vous faites cd dans un rÃ©pertoire avec un fichier .node-version, avn dÃ©tectera automatiquement le changement et utilisera votre gestionnaire de version installÃ© pour passer Ã  cette version de node. Que contient votre fichier .node-version? Un numÃ©ro de version semver correspondant Ã  la version de Node.js que votre projet utilise.]]></description><link>https://ludovicwyffels.dev/node-nvm/</link><guid isPermaLink="false">https://ludovicwyffels.dev/node-nvm/</guid><pubDate>Tue, 07 May 2019 14:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Si vous travaillez sur plus dâ€™un projet Ã  la fois, travaillez beaucoup en open source ou si vous dÃ©cidez de revenir Ã  un projet que vous avez rÃ©alisÃ© il y a un an, il y a de fortes chances pour que vous deviez changer de version de Node.js. Il se peut que quelques dÃ©pendances ne fonctionnent que sur une version de Node.js spÃ©cifique. Vous pouvez utiliser nvm pour changer vos versions de node.js en une seconde.&lt;/p&gt;
&lt;h2&gt;Installation&lt;/h2&gt;
&lt;p&gt;Si vous nâ€™avez pas dÃ©jÃ  installÃ© &lt;a href=&quot;https://github.com/nvm-sh/nvm&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;NVM&lt;/a&gt;. TÃ©lÃ©chargez et installez la derniÃ¨re version de NVM&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.34.0/install.sh &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;bash&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;VÃ©rifiez votre version de nvm avec&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;nvm --version&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Installer un nouvelle version&lt;/h2&gt;
&lt;p&gt;Pour tÃ©lÃ©charger et installer une nouvelle version de Node.js, exÃ©cutez&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;nvm &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;12.0&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Remplacez 12.0 par le numÃ©ro de version dons vous avez besoin.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# Install the latest LTS (Long-Term Support)&lt;/span&gt;
nvm &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; --lts

&lt;span class=&quot;token comment&quot;&gt;# Install v4.9.1 = argon&lt;/span&gt;
nvm &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; --lts&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;argon
nvm &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;# Install v6.17.1 = boron&lt;/span&gt;
nvm &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; --lts&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;boron
nvm &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;# Install v8.16.0 = carbon&lt;/span&gt;
nvm &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; --lts&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;carbon
nvm &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;# Install v10.16.0 = dubnium&lt;/span&gt;
nvm &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; --lts&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;dubnium
nvm &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;


&lt;span class=&quot;token comment&quot;&gt;# Install the latest version of node&lt;/span&gt;
nvm &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; node&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Lister les versions&lt;/h2&gt;
&lt;p&gt;Pour vÃ©rifier quelles version de Node.js sont installÃ©es sur votre systÃ¨me, exÃ©cutez&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;nvm &lt;span class=&quot;token function&quot;&gt;ls&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;.&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ceci listera toutes les versions que vous avez installÃ©es.&lt;/p&gt;
&lt;h2&gt;Utiliser une version installÃ©&lt;/h2&gt;
&lt;p&gt;Pour passer Ã  nâ€™importe quelle version de node.js , vous devez exÃ©cuter&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;nvm use v12.0.0&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;DÃ©sinstaller une version&lt;/h2&gt;
&lt;p&gt;Si vous ne voulez pas de version particuliÃ¨re de Node.js, vous devez exÃ©cuter&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;nvm uninstall &lt;span class=&quot;token number&quot;&gt;12.0&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Alias&lt;/h2&gt;
&lt;p&gt;Vous pouvez dÃ©finir la version par dÃ©faut de Node.js en dÃ©finissant un alias.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;nvm &lt;span class=&quot;token builtin class-name&quot;&gt;alias&lt;/span&gt; default &lt;span class=&quot;token number&quot;&gt;10.15&lt;/span&gt;.3&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Mettre Ã  jour NPM&lt;/h2&gt;
&lt;p&gt;NVM ne vous permet pas de mettre Ã  jour uniquement npm, mais uniquement une version node + npm. Mais il existe un moyen trÃ¨s simple de le faire:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;nvm install-latest-npm&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Migration des packages global vers une autre version de node&lt;/h2&gt;
&lt;p&gt;Si vous souhaitez installer une nouvelle version de Node.js et migrer les packages npm Ã  partir dâ€™une version prÃ©cÃ©dente:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;nvm &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; node --reinstall-packages-from&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;node&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Cela utilisera dâ€™abord â€œnvm version nodeâ€ pour identifier la version actuelle Ã  partir de laquelle vous faites migrer les packages. Il rÃ©sout ensuite la nouvelle version Ã  installer Ã  partir du serveur distant et lâ€™installe. Enfin, il exÃ©cute â€œnvminstall-packagesâ€ pour rÃ©installer les packages npm de votre version prÃ©cÃ©dente de Node vers la nouvelle.&lt;/p&gt;
&lt;p&gt;Vous pouvez Ã©galement installer et migrer des packages npm Ã  partir de versions spÃ©cifiques de Node, comme suit:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;nvm &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt; --reinstall-packages-from&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Automatiser le changement de version&lt;/h2&gt;
&lt;p&gt;Pour automatiser le changement de versio de Node.js, il existe un package npm qui sâ€™appelle &lt;a href=&quot;https://github.com/wbyoung/avn&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;AVN&lt;/a&gt; qui le permet&lt;/p&gt;
&lt;p&gt;Maintenant quand vous faites &lt;code&gt;cd&lt;/code&gt; dans un rÃ©pertoire avec un fichier &lt;code&gt;.node-version&lt;/code&gt;, avn dÃ©tectera automatiquement le changement et utilisera votre gestionnaire de version installÃ© pour passer Ã  cette version de node. Que contient votre fichier &lt;code&gt;.node-version&lt;/code&gt;? Un numÃ©ro de version &lt;a href=&quot;https://semver.org/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;semver&lt;/a&gt; correspondant Ã  la version de Node.js que votre projet utilise.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[3 faÃ§ons de communiquer entre les composants Angular]]></title><description><![CDATA[Bien que le titre de cet article soit un peu trompeur, car nous ne souhaitons pas vraiment communiquer directement entre les composants. Nos composants doivent Ãªtre isolÃ©s et encapsulÃ©s. Jâ€™ai choisi ce titre parce que je pense que les dÃ©veloppeurs aux prises avec ce problÃ¨me le googleront de cette faÃ§on. Comment communiquer entre les composants? Câ€™est le sujet sur lequel jâ€™ai vu beaucoup de nouveaux dÃ©veloppeurs angular lutter pour communiquer entre les composants. Je vais vous montrer les trois approches les plus courantes, avec des exemples qui correspondent Ã  diffÃ©rents cas dâ€™utilisation. Il y a aussi le â€œmoyen de reduxâ€ que je pourrais couvrir dans un autre article Ã  lâ€™avenir.   Imaginez le cas dâ€™utilisation de la barre latÃ©rale dans votre application. La barre latÃ©rale est ouverte ou fermÃ©e. Vous avez le composant side-bar et ensuite vous avez un composant (ou plusieurs composants) qui peuvent lâ€™ouvrir / le fermer ou demander son Ã©tat. Je dÃ©crirai trois maniÃ¨res de mettre en oeuvre ce comportement Passer la rÃ©fÃ©rence dâ€™un composant Ã  un autre Communication par le composant parent Communication Ã  travers le service  1. Passer la rÃ©fÃ©rence dâ€™un composant Ã  un autre Cette solution doit Ãªtre utilisÃ©e lorsque les composants ont une dÃ©pendance entre eux. Par exemple, dropdown et dropdown toggle. Ils ne peuvent gÃ©nÃ©ralement pas exister lâ€™un sans lâ€™autre.  Demo Nous allons crÃ©er le composant side-bar-toggle qui aura le composant side-bar en entrÃ©e et en cliquant sur le bouton bascule nous ouvrirons / fermerons le composant side-bar. Voici le code pertinent:  app.component.html side-bar-toggle.component.ts side-bar.component.ts 2. Communication par le composant parent Peut Ãªtre utilisÃ© lorsquâ€™il est facile de contrÃ´ler lâ€™Ã©tat partagÃ© entre des composants via leur composant parent et que vous ne souhaitez pas crÃ©er de nouveau service ou crÃ©er du code standard, Ã  cause dâ€™une variable.  Demo La mise en oeuvre de cette approche est presque la mÃªme que la prÃ©cÃ©dente, mais le composant side-bar-toggle ne reÃ§oit pas de composant side-bar. Au lieu de cela, le composant parent contient la propriÃ©tÃ© sideBarIsOpened qui est transmise au composant side-bar. app.component.html app.component.ts side-bar-toggle.component.ts side-bar.component.ts 3. Communication Ã  travers le service Enfin, cette option est utile et doit Ãªtre utilisÃ©e lorsque vous avez un composant contrÃ´lÃ© ou que son Ã©tat est demandÃ© Ã  plusieurs instances.   Nous avons maintenant plusieurs emplacements dans lâ€™application qui devront accÃ©der Ã  notre composant sibe-bar. Voyons comment nous le faisons. Nous allons maintenant crÃ©er side-bar.service.ts donc nous aurons: side-bar.service.ts side-bar.component.ts side-bar.component.html  Les services de la barre latÃ©rale auront une mÃ©thode et un Ã©vÃ©nement Ã  changer pour que chaque composant qui injectera ce service puisse Ãªtre averti de lâ€™ouverture ou de la bascule dâ€™un panneau. Dans cet exemple, aucun composant latÃ©ral ni composant latÃ©ral ne comporte de paramÃ¨tres dâ€™entrÃ©e, car ils communiquent via le service. Maintenant le code:  app.component.html side-bar-toggle.component.ts side-bar.component.ts side-bar.service.ts]]></description><link>https://ludovicwyffels.dev/angular-3way-communication/</link><guid isPermaLink="false">https://ludovicwyffels.dev/angular-3way-communication/</guid><pubDate>Tue, 07 May 2019 08:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Bien que le titre de cet article soit un peu trompeur, car nous ne souhaitons pas vraiment communiquer directement entre les composants. Nos composants doivent Ãªtre isolÃ©s et encapsulÃ©s. Jâ€™ai choisi ce titre parce que je pense que les dÃ©veloppeurs aux prises avec ce problÃ¨me le googleront de cette faÃ§on.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Comment communiquer entre les composants?&lt;/strong&gt; Câ€™est le sujet sur lequel jâ€™ai vu beaucoup de nouveaux dÃ©veloppeurs angular lutter pour communiquer entre les composants. Je vais vous montrer les trois approches les plus courantes, avec des exemples qui correspondent Ã  diffÃ©rents cas dâ€™utilisation.&lt;/p&gt;
&lt;p&gt;Il y a aussi le â€œmoyen de reduxâ€ que je pourrais couvrir dans un autre article Ã  lâ€™avenir. &lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 450px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2e8ce8fad9da85cf8aa8818b8e2adc5e/13283/angular-communication-component.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 88.88888888888889%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAACXBIWXMAAAsSAAALEgHS3X78AAACEUlEQVQ4y4VTa4vaUBDNj+8KzUexC4JU1EaNTzYvk/iOUoXVbI2gX2QXu4ivruCrukbdnuRuhFbXHsIwN3fOnLlz71AejycajQaDwVAoFIlEGIaB/cYwt7dfXC7Xp5sb+jPt9/u/2kBYLBYLh8P44/P5KKzvbHAc53a7E4kEx92lUqlMRv7uoNlsNhoN2FqtJopiOp3udDo8z1PIJwgCPPDhQBa54/E4suVyuXw+XygUiAVkWUZ2lmU1TUO9lNfrBTOZTCIfx/GKomSzWVVRESdKIs8LkJIkKWN/2EUiBCCvpSyJwsuvl5/Pz0+Pj8Ph6M3B8XgkzuFw2L5a2O12xG63W/zs9/tUqVQioev1SlVklKDIMuTK5XJGEiHFsrFqRavX6z+Ahwe04P6+MZ1OUTmFIEI2zZ2u62gJGtPUdcNoGa1Wu92uVquDwQBlQNM0TUv8dQcKiO9klPH2AVarFXT+OQgs+kdVKpXT+nAG/JzP55PJ5JxcLBb/Il/Ecrm8SAaRwrk/IpNokMfj8TkZvbim/H8yuarr5NFodLlsNA0e7uB4BhK0WCyGwyGc/X5Puojg96u6onxq2MWyLWVVVcllrvHEHMD/bWOz2cxms5b9WgzD6Ha7sPB7vR6IVCAQQMPJ6OQcnHw8T2tCREwID5vBoMoyBgM1W2TMFwo4DR02QMAG3kDZgeaALLGFw9I0/QePsZ1byS8cEQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/2e8ce8fad9da85cf8aa8818b8e2adc5e/8ffb1/angular-communication-component.webp 293w,
/static/2e8ce8fad9da85cf8aa8818b8e2adc5e/2809e/angular-communication-component.webp 450w&quot;
          sizes=&quot;(max-width: 450px) 100vw, 450px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/2e8ce8fad9da85cf8aa8818b8e2adc5e/f93ee/angular-communication-component.png 293w,
/static/2e8ce8fad9da85cf8aa8818b8e2adc5e/13283/angular-communication-component.png 450w&quot;
          sizes=&quot;(max-width: 450px) 100vw, 450px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/2e8ce8fad9da85cf8aa8818b8e2adc5e/13283/angular-communication-component.png&quot;
          alt=&quot;angular communication component&quot;
          title=&quot;angular communication component&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Imaginez le cas dâ€™utilisation de la barre latÃ©rale dans votre application. La barre latÃ©rale est ouverte ou fermÃ©e. Vous avez le composant side-bar et ensuite vous avez un composant (ou plusieurs composants) qui peuvent lâ€™ouvrir / le fermer ou demander son Ã©tat.&lt;/p&gt;
&lt;h2&gt;Je dÃ©crirai trois maniÃ¨res de mettre en oeuvre ce comportement&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Passer la rÃ©fÃ©rence dâ€™un composant Ã  un autre&lt;/li&gt;
&lt;li&gt;Communication par le composant parent&lt;/li&gt;
&lt;li&gt;Communication Ã  travers le service &lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;1. Passer la rÃ©fÃ©rence dâ€™un composant Ã  un autre&lt;/h2&gt;
&lt;p&gt;Cette solution doit Ãªtre utilisÃ©e lorsque les composants ont une dÃ©pendance entre eux. Par exemple, dropdown et dropdown toggle. Ils ne peuvent gÃ©nÃ©ralement pas exister lâ€™un sans lâ€™autre. &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://stackblitz.com/edit/angular-communication-1-chjsqo&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Demo&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Nous allons crÃ©er le composant &lt;code&gt;side-bar-toggle&lt;/code&gt; qui aura le composant &lt;code&gt;side-bar&lt;/code&gt; en entrÃ©e et en cliquant sur le bouton bascule nous ouvrirons / fermerons le composant &lt;code&gt;side-bar&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Voici le code pertinent: &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-html line-numbers&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;app-side-bar-toggle&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;[sideBar]&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;sideBar&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;app-side-bar-toggle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;app-side-bar&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;#sideBar&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;app-side-bar&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;app.component.html&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;@&lt;span class=&quot;token function&quot;&gt;Component&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  selector&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;app-side-bar-toggle&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  templateUrl&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./side-bar-toggle.component.html&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  styleUrls&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./side-bar-toggle.component.css&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SideBarToggleComponent&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  @&lt;span class=&quot;token function&quot;&gt;Input&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; sideBar&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; SideBarComponent&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  @&lt;span class=&quot;token function&quot;&gt;HostListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;click&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;sideBar&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toggle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;side-bar-toggle.component.ts&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;@&lt;span class=&quot;token function&quot;&gt;Component&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  selector&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;app-side-bar&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  templateUrl&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./side-bar.component.html&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  styleUrls&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./side-bar.component.css&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SideBarComponent&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  @&lt;span class=&quot;token function&quot;&gt;HostBinding&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;class.is-open&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  isOpen &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;toggle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isOpen &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isOpen&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;side-bar.component.ts&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h2&gt;2. Communication par le composant parent&lt;/h2&gt;
&lt;p&gt;Peut Ãªtre utilisÃ© lorsquâ€™il est facile de contrÃ´ler lâ€™Ã©tat partagÃ© entre des composants via leur composant parent et que vous ne souhaitez pas crÃ©er de nouveau service ou crÃ©er du code standard, Ã  cause dâ€™une variable. &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://stackblitz.com/edit/angular-communication-2-7oahtg&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Demo&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;La mise en oeuvre de cette approche est presque la mÃªme que la prÃ©cÃ©dente, mais le composant &lt;code&gt;side-bar-toggle&lt;/code&gt; ne reÃ§oit pas de composant &lt;code&gt;side-bar&lt;/code&gt;. Au lieu de cela, le composant parent contient la propriÃ©tÃ© &lt;code&gt;sideBarIsOpened&lt;/code&gt; qui est transmise au composant &lt;code&gt;side-bar&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-html line-numbers&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;app-side-bar-toggle&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;(toggle)&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;toggleSideBar()&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;app-side-bar-toggle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;app-side-bar&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;[isOpen]&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;sideBarIsOpened&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;app-side-bar&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;app.component.html&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;@&lt;span class=&quot;token function&quot;&gt;Component&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  selector&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;my-app&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  templateUrl&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./app.component.html&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  styleUrls&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./app.component.css&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AppComponent&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  sideBarIsOpened &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;toggleSideBar&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;shouldOpen&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;boolean&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;sideBarIsOpened &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;sideBarIsOpened&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;app.component.ts&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;@&lt;span class=&quot;token function&quot;&gt;Component&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  selector&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;app-side-bar-toggle&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  templateUrl&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./side-bar-toggle.component.html&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  styleUrls&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./side-bar-toggle.component.css&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SideBarToggleComponent&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  @&lt;span class=&quot;token function&quot;&gt;Output&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; toggle&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; EventEmitter&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;EventEmitter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  @&lt;span class=&quot;token function&quot;&gt;HostListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;click&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;toggle&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;emit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;side-bar-toggle.component.ts&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;@&lt;span class=&quot;token function&quot;&gt;Component&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  selector&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;app-side-bar&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  templateUrl&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./side-bar.component.html&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  styleUrls&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./side-bar.component.css&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SideBarComponent&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  @&lt;span class=&quot;token function&quot;&gt;HostBinding&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;class.is-open&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; @&lt;span class=&quot;token function&quot;&gt;Input&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  isOpen &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;side-bar.component.ts&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h2&gt;3. Communication Ã  travers le service&lt;/h2&gt;
&lt;p&gt;Enfin, cette option est utile et doit Ãªtre utilisÃ©e lorsque vous avez un composant contrÃ´lÃ© ou que son Ã©tat est demandÃ© Ã  plusieurs instances. &lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 450px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/bfe98952691679cd400bca2daa253bd3/13283/angular-communication-service.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 104%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAIAAADJt1n/AAAACXBIWXMAAAsSAAALEgHS3X78AAACgUlEQVQ4y41UV28aQRC+/82rw4PzBlhClFCPZlMjEMHkgWqK4egGTBMIHbYhdBxEcb7bTQgiFs530mp2d76ZndtvlpHJZBaLRa/XG41Gs9nMsixGI8teXcnEYvHFp4vLy88ajeYLAdxsNht8tFqtUqlkDAaDx+P5SiCRSOx2O6ZOpzMQCCQJUqlULpfLZrMYE4mE1+t1u921Wg0jo1AoPG63y+VyOByYI6rVarXZrt0ezy1BkOA7gc/nQ2acNBwO46QM5hzHpdPp+/t7hIcNI5lIIOcdAQwyS1IfLsdRf/AZnKperxcKhYaAx0qlUqvVR6PRD4LZbIaVQj5fLpebzWbjsVEulXHm6XSKKhgEWC6X89l8tVrN5/PJZALjjWC/32MsFIvdbvf19eeCALTFYol1JGei0Sh1OsaeYLfbwc7n84PB4BDrYKAQJhKJUKfjjWMbx+N5/r/IJ/lp5nfJwrFjsdh5cqlUepecyWQ+JheLxXPk7XZ7+EnHoEHPkfG3KflfUDIk0O/36fQ4KAQjkHu9HgTQbndw+51OB1rAB6kMh8MzmX+Tv/n9UqlUrVKjUSBs1mhEtygUSrTBZrPBlbRaLUgNsoOEEBHKg5yEq4J6Id14PBa/i6eoejkO9VCdQ7xwooLH3VADQC0gCpkHPP/88vL0/NTtdXl+8PYR/ookFAr1el30BMquVqvtVgvtgVapVB5wzhPNnYoEmYPBW1TLsiadTntzc22zWvEk6PUGbK/XaxRJm2w8Hk//AL0kZPb7/VAvaoMrad1EktgUKAxCQAKM2MJKhgCywyIjl8vxRKlUKrwhjiPgJcKjgZ9vMpmwpdPp1GrhOvDyKAlEItEv/6YygEP5amgAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/bfe98952691679cd400bca2daa253bd3/8ffb1/angular-communication-service.webp 293w,
/static/bfe98952691679cd400bca2daa253bd3/2809e/angular-communication-service.webp 450w&quot;
          sizes=&quot;(max-width: 450px) 100vw, 450px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/bfe98952691679cd400bca2daa253bd3/f93ee/angular-communication-service.png 293w,
/static/bfe98952691679cd400bca2daa253bd3/13283/angular-communication-service.png 450w&quot;
          sizes=&quot;(max-width: 450px) 100vw, 450px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/bfe98952691679cd400bca2daa253bd3/13283/angular-communication-service.png&quot;
          alt=&quot;angular communication service&quot;
          title=&quot;angular communication service&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Nous avons maintenant plusieurs emplacements dans lâ€™application qui devront accÃ©der Ã  notre composant &lt;code&gt;sibe-bar&lt;/code&gt;. Voyons comment nous le faisons.&lt;/p&gt;
&lt;p&gt;Nous allons maintenant crÃ©er &lt;code&gt;side-bar.service.ts&lt;/code&gt; donc nous aurons:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;side-bar.service.ts&lt;/li&gt;
&lt;li&gt;side-bar.component.ts&lt;/li&gt;
&lt;li&gt;side-bar.component.html &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Les services de la barre latÃ©rale auront une mÃ©thode et un Ã©vÃ©nement Ã  changer pour que chaque composant qui injectera ce service puisse Ãªtre averti de lâ€™ouverture ou de la bascule dâ€™un panneau.&lt;/p&gt;
&lt;p&gt;Dans cet exemple, aucun composant latÃ©ral ni composant latÃ©ral ne comporte de paramÃ¨tres dâ€™entrÃ©e, car ils communiquent via le service.&lt;/p&gt;
&lt;p&gt;Maintenant le code: &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-html line-numbers&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;app-side-bar-toggle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;app-side-bar-toggle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;app-side-bar&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;app-side-bar&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;app.component.html&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;@&lt;span class=&quot;token function&quot;&gt;Component&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  selector&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;app-side-bar-toggle&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  templateUrl&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./side-bar-toggle.component.html&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  styleUrls&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./side-bar-toggle.component.css&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SideBarToggleComponent&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; sideBarService&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; SideBarService&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  @&lt;span class=&quot;token function&quot;&gt;HostListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;click&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;sideBarService&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toggle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;side-bar-toggle.component.ts&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;@&lt;span class=&quot;token function&quot;&gt;Component&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  selector&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;app-side-bar&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  templateUrl&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./side-bar.component.html&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  styleUrls&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./side-bar.component.css&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SideBarComponent&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  @&lt;span class=&quot;token function&quot;&gt;HostBinding&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;class.is-open&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  isOpen &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; sideBarService&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; SideBarService&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;ngOnInit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;sideBarService&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;change&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;subscribe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;isOpen&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isOpen &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; isOpen&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;side-bar.component.ts&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;@&lt;span class=&quot;token function&quot;&gt;Injectable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SideBarService&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  isOpen &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  @&lt;span class=&quot;token function&quot;&gt;Output&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; change&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; EventEmitter&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;boolean&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;EventEmitter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;toggle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isOpen &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isOpen&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;change&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;emit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isOpen&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;side-bar.service.ts&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[Comment Gatsby Ã©volue avec votre expertise]]></title><description><![CDATA[De nombreux utilisateurs de Gatsby ne sont pas des professionnels de React ou nâ€™Ã©taient pas des professionnels de React lorsquâ€™ils ont commencÃ© Ã  utiliser Gatsby. Certains ont dÃ©jÃ  utilisÃ© dâ€™autres frameworks. Certains connaissaient JavaScript. Dâ€™autres encore sont peut-Ãªtre entiÃ¨rement nouveaux dans la programmation! Dans tous les cas de figure, cette personne possÃ©dant une expÃ©rience et une expertise disparates Ã©tait capable dâ€™utiliser, dâ€™apprÃ©cier et dâ€™aimer utiliser Gatsby. Je suis moi-mÃªme mÃªme un exemple de cette idÃ©e dâ€™Ã©chelle gÃ©nÃ©rale. Jâ€™ai commencÃ© ma carriÃ¨re en tant que dÃ©veloppeur iOS et Node.js depuis plusieurs annÃ©es. Au fur et Ã  mesure que mes compÃ©tences se sont Ã©largies, elles se sont amÃ©liorÃ©es et Ã©tendues en ajoutant Angular, React, Gatsby Ã  ma chaÃ®ne dâ€™outils de prÃ©dilection. Dans cet article, je souhaite expliquer comment Gatsby mâ€™a amenÃ© Ã  apprendre React et comment votre projet Gatsby peut Ã©voluer en prenant en exemple mon site personnel et mon expÃ©rience. Gatsby sâ€™adapte parfaitement Ã  lâ€™utilisation de React de base aux modÃ¨les React complexes, du Markdown de base au CMS â€œheadlessâ€ - Gatsby adapte votre expertise et votre portÃ©e. Les dÃ©buts Lorsque jâ€™ai dÃ©couvert Gatsby pour la premiÃ¨re fois il y a un peu moins de deux ans, React Ã©tait dÃ©jÃ  trÃ¨s populaire. Jâ€™ai dÃ©cidÃ© de lâ€™apprendre pour mâ€™investir davantage dans le dÃ©veloppement front-end moderne. Auparavant, je travaillais sur des sites Web AngularJS, Angular. Bouge rapidement et cassez des choses AprÃ¨s avoir lancÃ© mon site en Vue avec Vuepress, jâ€™ai continuÃ© Ã  apprendre React et Gatsby. Comme cela ne vous limite pas Ã  la faÃ§on dont vous pouvez utiliser React. Jâ€™ai traitÃ© mon site web comme une expÃ©rience. Jâ€™ai expÃ©rimentÃ© de nouvelles techniques en React juste pour voir comment elles fonctionnaient. Gatsby a aussi beaucoup Ã  apprendre: GraphQL, gatsby-images, pour nâ€™en nommer que quelques-uns. Lâ€™Ã©cosystÃ¨me de plug-ins riche de Gatsby mâ€™a permis dâ€™essayer facilement dâ€™autres packages. Jâ€™ai essayÃ© diffÃ©rentes approches de style, diffÃ©rentes sources de donnÃ©es, etc. La plupart des plug-ins fonctionnent sans configuration manuelle: installez le paquet, mettez-le dans votre configuration et voyez-le fonctionner - gÃ©nial! Au cours des derniers mois qui ont suivi, jâ€™ai vraiment progressÃ© rapidement et jâ€™ai brisÃ© des choses, mais jâ€™ai beaucoup appris au cours du processus. Le point important ici est que: Gatsby nâ€™a jamais Ã©tÃ© le goulet dâ€™Ã©tranglement ni la raison pour laquelle je ne pouvais pas essayer quelque chose. Les motivations pour en savoir plus Jâ€™ai expliquÃ© Ã  quel point lâ€™expÃ©rience dâ€™apprentissage que jâ€™avais vÃ©cue avec Gatsby Ã©tait bonne. Mais maintenant, je veux vous dire que retirer les choses difficiles (au dÃ©but) peut aussi Ãªtre une raison pour en apprendre plus. Pourquoi? Vous obtenez une introduction douce Ã  des sujets tels que GraphQL. Certaines restrictions peuvent Ãªtre gÃªnantes dans certains cas extrÃªmes, mais au dÃ©but, il est bon de nâ€™avoir quâ€™une seule faÃ§on de faire les choses. Cela signifie que vous nâ€™avez pas besoin de bien comprendre tous les mÃ©canismes pour avoir un site rapide ou GraphQL pour lâ€™interrogation des donnÃ©es - mais vous avez certainement une idÃ©e de la faÃ§on dont cela pourrait fonctionner Ã  la fin. AprÃ¨s avoir utilisÃ© Gatsby, beaucoup de gens disent: â€œWaouh, GraphQL pour lâ€™interrogation de donnÃ©es est tellement gÃ©nial, je ne veux pas le manquer!â€ Et je dirais que ces personnes vont certainement essayer dâ€™intÃ©grer GraphQL dans leurs autres projets par la suite.  Le diagramme de Venn tente de montrer comment lâ€™exemple ci-dessus peut Ã©galement Ãªtre appliquÃ© Ã  dâ€™autres technologies/outils utilisÃ©es par Gatsby. En plus de GraphQL, jâ€™ai choisi React, CMS headless et les performances gÃ©nÃ©rales du site Web. Vous pouvez essayer diffÃ©rents frameworks / composants React, apprendre Ã  configurer votre propre serveur GraphQL ou amÃ©liorer les performances de votre site Web. CMS headless est un autre domaine trÃ¨s intÃ©ressant Ã  explorer. Et câ€™est ce que jâ€™ai fait. Jâ€™ai utilisÃ© Next.js avec Apollo et dâ€™autres bibliothÃ¨ques gÃ©niales, Prisma pour configurer mon propre serveur GraphQL et optimisÃ© les performances de mon site Web (optimisation des polices, par exemple). RÃ©sultat: Mes projets Gatsby peuvent bÃ©nÃ©ficier des connaissances acquises! DerniÃ¨res pensÃ©es Les applications monolithiques du CMS sont en train dâ€™Ãªtre remplacÃ©es par des systÃ¨mes de contenu spÃ©cialisÃ©s, comme Sam Bhagwat lâ€™avait dÃ©jÃ  Ã©crit dans sa sÃ©rie â€œDelivering Modern Website Experiences: The Journey to a Content Meshâ€. Gatsby embrasse cette modularitÃ© avec son vaste Ã©cosystÃ¨me de plug-ins et la possibilitÃ© dâ€™apporter vos propres donnÃ©es depuis nâ€™importe oÃ¹. Câ€™est cette modularitÃ© qui permet non seulement aux professionnels dâ€™utiliser leurs services, techniques et pratiques avancÃ©s prÃ©fÃ©rÃ©s, mais Ã©galement aux dÃ©butants de se familiariser avec les Ã©cosystÃ¨mes et les normes React et GraphQL. Gatsby est une plate-forme incroyable pour acquÃ©rir une comprÃ©hension et une expertise dans les deux domaines. Commencez petit et dÃ©veloppez votre expertise et votre comprÃ©hension avec Gatsby. En outre, câ€™est Ã©galement une excellente plate-forme pour apprendre dâ€™autres technologies et voir les optimisations de performances Web en direct. Sans Ãªtre empÃªtrÃ© dans une complexitÃ© de bas niveau, vous pouvez construire votre stack (pile) et vos connaissances sur une base solide et performante, ce qui rend Gatsby parfait pour votre passe-partout (boilerplate) React.]]></description><link>https://ludovicwyffels.dev/gatsby-expertise/</link><guid isPermaLink="false">https://ludovicwyffels.dev/gatsby-expertise/</guid><pubDate>Sun, 05 May 2019 22:00:00 GMT</pubDate><content:encoded>&lt;p&gt;De nombreux utilisateurs de Gatsby ne sont pas des professionnels de React ou nâ€™Ã©taient pas des professionnels de React lorsquâ€™ils ont commencÃ© Ã  utiliser Gatsby. Certains ont dÃ©jÃ  utilisÃ© dâ€™autres frameworks. Certains connaissaient JavaScript. Dâ€™autres encore sont peut-Ãªtre entiÃ¨rement nouveaux dans la programmation!&lt;/p&gt;
&lt;p&gt;Dans tous les cas de figure, cette personne possÃ©dant une expÃ©rience et une expertise disparates Ã©tait capable dâ€™utiliser, dâ€™apprÃ©cier et dâ€™aimer utiliser Gatsby.&lt;/p&gt;
&lt;p&gt;Je suis moi-mÃªme mÃªme un exemple de cette idÃ©e dâ€™Ã©chelle gÃ©nÃ©rale. Jâ€™ai commencÃ© ma carriÃ¨re en tant que dÃ©veloppeur iOS et Node.js depuis plusieurs annÃ©es. Au fur et Ã  mesure que mes compÃ©tences se sont Ã©largies, elles se sont amÃ©liorÃ©es et Ã©tendues en ajoutant Angular, React, Gatsby Ã  ma chaÃ®ne dâ€™outils de prÃ©dilection.&lt;/p&gt;
&lt;p&gt;Dans cet article, je souhaite expliquer comment Gatsby mâ€™a amenÃ© Ã  apprendre React et comment votre projet Gatsby peut Ã©voluer en prenant en exemple mon site personnel et mon expÃ©rience. Gatsby sâ€™adapte parfaitement Ã  lâ€™utilisation de React de base aux modÃ¨les React complexes, du Markdown de base au CMS â€œheadlessâ€ - Gatsby adapte votre expertise et votre portÃ©e.&lt;/p&gt;
&lt;h2&gt;Les dÃ©buts&lt;/h2&gt;
&lt;p&gt;Lorsque jâ€™ai dÃ©couvert Gatsby pour la premiÃ¨re fois il y a un peu moins de deux ans, React Ã©tait dÃ©jÃ  trÃ¨s populaire. Jâ€™ai dÃ©cidÃ© de lâ€™apprendre pour mâ€™investir davantage dans le dÃ©veloppement front-end moderne. Auparavant, je travaillais sur des sites Web AngularJS, Angular.&lt;/p&gt;
&lt;h2&gt;Bouge rapidement et cassez des choses&lt;/h2&gt;
&lt;p&gt;AprÃ¨s avoir lancÃ© mon site en Vue avec Vuepress, jâ€™ai continuÃ© Ã  apprendre React et Gatsby. Comme cela ne vous limite pas Ã  la faÃ§on dont vous pouvez utiliser React. Jâ€™ai traitÃ© mon site web comme une expÃ©rience. Jâ€™ai expÃ©rimentÃ© de nouvelles techniques en React juste pour voir comment elles fonctionnaient. Gatsby a aussi beaucoup Ã  apprendre: GraphQL, gatsby-images, pour nâ€™en nommer que quelques-uns.&lt;/p&gt;
&lt;p&gt;Lâ€™Ã©cosystÃ¨me de plug-ins riche de Gatsby mâ€™a permis dâ€™essayer facilement dâ€™autres packages. Jâ€™ai essayÃ© diffÃ©rentes approches de style, diffÃ©rentes sources de donnÃ©es, etc. La plupart des plug-ins fonctionnent sans configuration manuelle: installez le paquet, mettez-le dans votre configuration et voyez-le fonctionner - gÃ©nial!&lt;/p&gt;
&lt;p&gt;Au cours des derniers mois qui ont suivi, jâ€™ai vraiment progressÃ© rapidement et jâ€™ai brisÃ© des choses, mais jâ€™ai beaucoup appris au cours du processus. Le point important ici est que: Gatsby nâ€™a jamais Ã©tÃ© le goulet dâ€™Ã©tranglement ni la raison pour laquelle je ne pouvais pas essayer quelque chose.&lt;/p&gt;
&lt;h2&gt;Les motivations pour en savoir plus&lt;/h2&gt;
&lt;p&gt;Jâ€™ai expliquÃ© Ã  quel point lâ€™expÃ©rience dâ€™apprentissage que jâ€™avais vÃ©cue avec Gatsby Ã©tait bonne. Mais maintenant, je veux vous dire que retirer les choses difficiles (au dÃ©but) peut aussi Ãªtre une raison pour en apprendre plus.&lt;/p&gt;
&lt;p&gt;Pourquoi? Vous obtenez une introduction douce Ã  des sujets tels que GraphQL. Certaines restrictions peuvent Ãªtre gÃªnantes dans certains cas extrÃªmes, mais au dÃ©but, il est bon de nâ€™avoir quâ€™une seule faÃ§on de faire les choses. Cela signifie que vous nâ€™avez pas besoin de bien comprendre tous les mÃ©canismes pour avoir un site rapide ou GraphQL pour lâ€™interrogation des donnÃ©es - mais vous avez certainement une idÃ©e de la faÃ§on dont cela pourrait fonctionner Ã  la fin.&lt;/p&gt;
&lt;p&gt;AprÃ¨s avoir utilisÃ© Gatsby, beaucoup de gens disent: â€œWaouh, GraphQL pour lâ€™interrogation de donnÃ©es est tellement gÃ©nial, je ne veux pas le manquer!â€ Et je dirais que ces personnes vont certainement essayer dâ€™intÃ©grer GraphQL dans leurs autres projets par la suite.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9140fb73e84257bf363b3adaaf856403/2c525/venn-learn.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABZElEQVQoz41SSU/CUBDmf3swnrx4IG4HNpdEEQTXg6HGiMvBg6gFQhSbQuMC0paW0lLoWz6LJIS6EL/DvJd537yZ+WZC+AOkar6nisZB1RVVr6Ax1aWvtm/B+ZgTGh1jh/80vMt2Y1VsRUvNSKm3JkFxA6RvwZMYcs61erR0Fy84Sakeu/DOlImPg8EuR2UAk6HP0WUQCE5y2mVCqSYVpAskfgjhGOQenPyS2WA4dVDz8EZw5GKhRTfLtrDREJYf9JU0EnvuXbbT2e45xWCLwbL9zHEH4bq1pA+2ZG83la9kUpD2pduUWD40OwJA+c+eR64Bx7qDxXY/YpMIxZb1oFg7YEdaK3dzI8DNfxMtFNAJEAlmH19mxOqcrGUsU29mxet5SQxrLzGv+8yoz2PT1H6y3ZzWvWrbvnhkYLwrl0bz2us3tY+WKteg6lRvj6Ydwr/BOKeEgDFO6bQ588Da8F/24wufqtFqPXz7LwwAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/9140fb73e84257bf363b3adaaf856403/8ffb1/venn-learn.webp 293w,
/static/9140fb73e84257bf363b3adaaf856403/17bf8/venn-learn.webp 585w,
/static/9140fb73e84257bf363b3adaaf856403/e2c1c/venn-learn.webp 1170w,
/static/9140fb73e84257bf363b3adaaf856403/cc386/venn-learn.webp 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/9140fb73e84257bf363b3adaaf856403/f93ee/venn-learn.png 293w,
/static/9140fb73e84257bf363b3adaaf856403/8c0a8/venn-learn.png 585w,
/static/9140fb73e84257bf363b3adaaf856403/e1668/venn-learn.png 1170w,
/static/9140fb73e84257bf363b3adaaf856403/2c525/venn-learn.png 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/9140fb73e84257bf363b3adaaf856403/e1668/venn-learn.png&quot;
          alt=&quot;venn learn&quot;
          title=&quot;venn learn&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Le diagramme de Venn tente de montrer comment lâ€™exemple ci-dessus peut Ã©galement Ãªtre appliquÃ© Ã  dâ€™autres technologies/outils utilisÃ©es par Gatsby. En plus de GraphQL, jâ€™ai choisi React, CMS headless et les performances gÃ©nÃ©rales du site Web.&lt;/p&gt;
&lt;p&gt;Vous pouvez essayer diffÃ©rents frameworks / composants React, apprendre Ã  configurer votre propre serveur GraphQL ou amÃ©liorer les performances de votre site Web. CMS headless est un autre domaine trÃ¨s intÃ©ressant Ã  explorer. Et câ€™est ce que jâ€™ai fait. Jâ€™ai utilisÃ© Next.js avec Apollo et dâ€™autres bibliothÃ¨ques gÃ©niales, Prisma pour configurer mon propre serveur GraphQL et optimisÃ© les performances de mon site Web (optimisation des polices, par exemple).&lt;/p&gt;
&lt;p&gt;RÃ©sultat: Mes projets Gatsby peuvent bÃ©nÃ©ficier des connaissances acquises!&lt;/p&gt;
&lt;h2&gt;DerniÃ¨res pensÃ©es&lt;/h2&gt;
&lt;p&gt;Les applications monolithiques du CMS sont en train dâ€™Ãªtre remplacÃ©es par des systÃ¨mes de contenu spÃ©cialisÃ©s, comme Sam Bhagwat lâ€™avait dÃ©jÃ  Ã©crit dans sa sÃ©rie &lt;a href=&quot;https://www.gatsbyjs.org/blog/2018-10-04-journey-to-the-content-mesh/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;â€œDelivering Modern Website Experiences: The Journey to a Content Meshâ€&lt;/a&gt;. Gatsby embrasse cette modularitÃ© avec son vaste Ã©cosystÃ¨me de plug-ins et la possibilitÃ© dâ€™apporter vos propres donnÃ©es depuis nâ€™importe oÃ¹. Câ€™est cette modularitÃ© qui permet non seulement aux professionnels dâ€™utiliser leurs services, techniques et pratiques avancÃ©s prÃ©fÃ©rÃ©s, mais Ã©galement aux dÃ©butants de se familiariser avec les Ã©cosystÃ¨mes et les normes React et GraphQL. Gatsby est une &lt;strong&gt;plate-forme incroyable&lt;/strong&gt; pour acquÃ©rir une comprÃ©hension et une expertise dans les deux domaines. Commencez petit et dÃ©veloppez votre expertise et votre comprÃ©hension avec Gatsby.&lt;/p&gt;
&lt;p&gt;En outre, câ€™est Ã©galement une excellente plate-forme pour apprendre dâ€™autres technologies et voir les optimisations de performances Web en direct. Sans Ãªtre empÃªtrÃ© dans une complexitÃ© de bas niveau, vous pouvez construire votre stack (pile) et vos connaissances sur une base solide et performante, ce qui rend Gatsby parfait pour votre passe-partout (boilerplate) React.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Push notification]]></title><description><![CDATA[Dans le passÃ©, vous avez peut-Ãªtre utilisÃ© des notifications dans votre programme en utilisant quelque chose comme PubNub ou pusher ou un autre service tiers.
Mais ce module, web-push, nous permet de le faire sans lâ€™aide de lâ€™un de ces services tiers. Avez-vous dÃ©jÃ  entendu parler de service worker? Si vous ne connaissez pas ce quâ€™est une progressive web apps, il y a peu de chance que le terme de service worker vous parle DÃ©finition dâ€™un service worker Les service workers jouent essentiellement le rÃ´le de serveurs proxy placÃ©s entre une application web, et le navigateur ou le rÃ©seau (lorsque disponible.) Ils sont destinÃ©s (entre autres choses) Ã  permettre la crÃ©ation dâ€™expÃ©riences de navigation dÃ©connectÃ©e efficaces, en interceptant les requÃªtes rÃ©seau et en effectuant des actions appropriÃ©es selon que le rÃ©seau est disponible et que des ressources mises Ã  jour sont Ã  disposition sur le serveur. Ils permettront aussi dâ€™accÃ©der aux APIs de notifications du serveur (push) et de synchronisation en arriÃ¨re-plan.  Plus dâ€™information sur son fonctionnement sur : un guide pour dÃ©butant la documentation de mozilla Le service worker fonctionne avec les derniÃ¨res versions de Chrome et Firefox, je ne crois pas que Edge le support encore. Mais ce nâ€™est pas grave puisque Edge va bientÃ´t changer son moteur pour Chromium. Module web-push CommenÃ§ons un nouveau projet en installant les dÃ©pendances CrÃ©ons un fichier index.js Nous avons besoin de gÃ©nÃ©rer des clÃ©s, pour se faire: ou  Vous obtenez une paire de clÃ©s privÃ©es/public comme ceux-ci: On va les utiliser tout de suite Il nous reste a configurer un dossier statique, en ajoutant la ligne suivante dans notre fichier index.js RedÃ©marrer le serveur. CrÃ©er le dossier client client/index.html client/client.js Dans le service Worker, nous allons juste Ã©couter les Ã©vÃ©nements push client/worker.js Ouvrer dans votre navigateur Chrome/Firefox, lâ€™URL localhost:5000, vous devriez avoir une popup vous demandant dâ€™autoriser ou non les notifications]]></description><link>https://ludovicwyffels.dev/node-push-notification/</link><guid isPermaLink="false">https://ludovicwyffels.dev/node-push-notification/</guid><pubDate>Sat, 04 May 2019 20:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Dans le passÃ©, vous avez peut-Ãªtre utilisÃ© des notifications dans votre programme en utilisant quelque chose comme PubNub ou pusher ou un autre service tiers.
Mais ce module, &lt;a href=&quot;https://github.com/web-push-libs/web-push&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;web-push&lt;/a&gt;, nous permet de le faire sans lâ€™aide de lâ€™un de ces services tiers.&lt;/p&gt;
&lt;p&gt;Avez-vous dÃ©jÃ  entendu parler de &lt;strong&gt;service worker&lt;/strong&gt;? Si vous ne connaissez pas ce quâ€™est une progressive web apps, il y a peu de chance que le terme de service worker vous parle&lt;/p&gt;
&lt;h2&gt;DÃ©finition dâ€™un service worker&lt;/h2&gt;
&lt;p&gt;Les service workers jouent essentiellement le rÃ´le de serveurs proxy placÃ©s entre une application web, et le navigateur ou le rÃ©seau (lorsque disponible.) Ils sont destinÃ©s (entre autres choses) Ã  permettre la crÃ©ation dâ€™expÃ©riences de navigation dÃ©connectÃ©e efficaces, en interceptant les requÃªtes rÃ©seau et en effectuant des actions appropriÃ©es selon que le rÃ©seau est disponible et que des ressources mises Ã  jour sont Ã  disposition sur le serveur. Ils permettront aussi dâ€™accÃ©der aux APIs de notifications du serveur (push) et de synchronisation en arriÃ¨re-plan.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 694px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/79230e921f88318b2fdfc6f0b4da7472/e6320/service-worker.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 48.847262247838614%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABlklEQVQoz31SSYoCQRCs/wleFPEN3vUZik8Ql4OCKILgRRBUPCjuG664oIK74q4xREI77cwwCUl3ZUVFVUSmOh6PmE6nmEwmWK/X+C/a7Tbi8TharZasX6+XpD5ULpdDKBSC3+9HNBrF5XL5lafTScA+nw8ulwtutxuz2Uxqz+fzg1T1ej0Mh0MMBgPU63V55eFwwH6//0iSxmIxOVQul1EqlT4INVLV7/dFwmg0QrPZxPV6/VMuCakglUohHA6j0+m8CfXy1WKxQD6fRyaTERnai263GzabjUjmmv8kKRaLoE3z+fxN9ng8viXf73cB85VsEINNcjgcsNlssNvtGI/HUqcdy+USq9UKu91OapFIBB6PR87zAvWXPHpqMplgMBhgsVjE25/yGLSJ8r1eL5xOp5xTmnYNzKAcs9kMo9EIq9UqQL1P+s4GAgEkk0nUajWxRulv3G63Ip9dpqfBYBCJREJqlHo+n99Yful/t9tFNpsVm2jFByFHh5scCw5xtVqVrFQqSKfTsq/HFwoFaRDxjUZD1l/ypNjpCfgKGwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/79230e921f88318b2fdfc6f0b4da7472/8ffb1/service-worker.webp 293w,
/static/79230e921f88318b2fdfc6f0b4da7472/17bf8/service-worker.webp 585w,
/static/79230e921f88318b2fdfc6f0b4da7472/94234/service-worker.webp 694w&quot;
          sizes=&quot;(max-width: 694px) 100vw, 694px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/79230e921f88318b2fdfc6f0b4da7472/f93ee/service-worker.png 293w,
/static/79230e921f88318b2fdfc6f0b4da7472/8c0a8/service-worker.png 585w,
/static/79230e921f88318b2fdfc6f0b4da7472/e6320/service-worker.png 694w&quot;
          sizes=&quot;(max-width: 694px) 100vw, 694px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/79230e921f88318b2fdfc6f0b4da7472/e6320/service-worker.png&quot;
          alt=&quot;service worker&quot;
          title=&quot;service worker&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Plus dâ€™information sur son fonctionnement sur :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;un &lt;a href=&quot;https://medium.com/samsung-internet-dev/a-beginners-guide-to-service-workers-f76abf1960f6&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;guide pour dÃ©butant&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;la &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;documentation de mozilla&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Le service worker fonctionne avec les derniÃ¨res versions de Chrome et Firefox, je ne crois pas que Edge le support encore. Mais ce nâ€™est pas grave puisque Edge va bientÃ´t changer son moteur pour Chromium.&lt;/p&gt;
&lt;h2&gt;Module &lt;code&gt;web-push&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;CommenÃ§ons un nouveau projet en installant les dÃ©pendances&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; init -y
&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; i web-push express body-parser&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;CrÃ©ons un fichier index.js&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; express &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;express&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; webpush &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;web-push&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; bodyParser &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;body-parser&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; path &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;path&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; app &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;express&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;bodyParser&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nous avons besoin de gÃ©nÃ©rer des clÃ©s, pour se faire:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sh&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sh line-numbers&quot;&gt;&lt;code class=&quot;language-sh&quot;&gt;./node_modules/.bin/web-push generate-vapid-keys&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ou &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sh&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sh line-numbers&quot;&gt;&lt;code class=&quot;language-sh&quot;&gt;npm install web-push -g
web-push generate-vapid-keys&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Vous obtenez une paire de clÃ©s privÃ©es/public comme ceux-ci:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;=======================================

Public Key:
BCaNVf9IEdCkrBvkwk5P48lnc8LlbFlW1VlmEB3D3BjDll1jTIZ6wCMPDF_360Veqe_lhasd7PmhBUKrSGsEOpQ

Private Key:
CdYF_enPzI0y9n1bHdy2NQqmtdvaEhJkKpI6IpPHaAQ

=======================================&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;On va les utiliser tout de suite&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* index.js */&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; publicVapidKey &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;BCaNVf9IEdCkrBvkwk5P48lnc8LlbFlW1VlmEB3D3BjDll1jTIZ6wCMPDF_360Veqe_lhasd7PmhBUKrSGsEOpQ&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; privateVapidKey &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;CdYF_enPzI0y9n1bHdy2NQqmtdvaEhJkKpI6IpPHaAQ&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

webpush&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setVapidDetails&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;mailto:test@test.com&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  publicVapidKey&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  privateVapidKey
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Subscribe Route&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/subscribe&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// Get pushSubscription object&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; subscription &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;body&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// Send 201 - resource created&lt;/span&gt;
  res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;201&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// Create payload&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; payload &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; title&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Push Test&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// Pass object into sendNotification&lt;/span&gt;
  webpush
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;sendNotification&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;subscription&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; payload&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; port &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;listen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;port&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;Server started on port &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;port&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Il nous reste a configurer un dossier statique, en ajoutant la ligne suivante dans notre fichier &lt;code&gt;index.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Set static path&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;express&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;static&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__dirname&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;client&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;RedÃ©marrer le serveur.&lt;/p&gt;
&lt;p&gt;CrÃ©er le dossier &lt;code&gt;client&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;client/index.html&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-html line-numbers&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token doctype&quot;&gt;&amp;lt;!DOCTYPE html&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;html&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;lang&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;en&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;head&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;charset&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;UTF-8&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;viewport&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;width=device-width, initial-scale=1.0&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;http-equiv&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;X-UA-Compatible&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;ie=edge&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Push Notifications Using Node&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;head&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Push Notifications Using Node&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;client.js&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;client/client.js&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; publicVapidKey &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;BCaNVf9IEdCkrBvkwk5P48lnc8LlbFlW1VlmEB3D3BjDll1jTIZ6wCMPDF_360Veqe_lhasd7PmhBUKrSGsEOpQ&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Check for service worker&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;serviceWorker&quot;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; navigator&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;send&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Register Service Worker, Register Push, Send Push&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;send&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// Register Service Worker&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Registering service worker...&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; register &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; navigator&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;serviceWorker&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;register&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/worker.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    scope&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Service Worker Registered...&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// Register Push&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Registering Push...&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; subscription &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; register&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;pushManager&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;subscribe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    userVisibleOnly&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    applicationServerKey&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;urlBase64ToUint8Array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;publicVapidKey&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Push Registered...&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// Send Push Notification&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Sending Push...&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fetch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/subscribe&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    method&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;POST&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    body&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;subscription&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    headers&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&quot;content-type&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;application/json&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Push Sent...&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;urlBase64ToUint8Array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;base64String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; padding &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;=&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;repeat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; base64String&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; base64 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;base64String &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; padding&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token regex&quot;&gt;/\-/g&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;+&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token regex&quot;&gt;/_/g&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; rawData &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;atob&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;base64&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; outputArray &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Uint8Array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;rawData&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; rawData&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    outputArray&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; rawData&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;charCodeAt&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; outputArray&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Dans le service Worker, nous allons juste Ã©couter les Ã©vÃ©nements &lt;code&gt;push&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;client/worker.js&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Service Worker Loaded...&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;push&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Push Recieved...&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;registration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;showNotification&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;title&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    body&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Notified by my app :)&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    icon&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://design.firefox.com/photon/images/product-identity-assets/firefox.png&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ouvrer dans votre navigateur Chrome/Firefox, lâ€™URL &lt;a href=&quot;http://localhost:5000&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;localhost:5000&lt;/a&gt;, vous devriez avoir une popup vous demandant dâ€™autoriser ou non les notifications&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Angular DevOps: CT/CI avec Travis CI et Github Pages]]></title><description><![CDATA[Cet article explique comment utiliser Travis CI pour surveiller les modifications apportÃ©es Ã  la branche principale de notre rÃ©fÃ©rentiel GitHub . Nous allons configurer Travis CI de maniÃ¨re Ã  ce que lors de la mise en place dâ€™un nouveau commit pour notre application Angular, celui-ci: ExÃ©cuter le linter Lancer nos tests unitaires Lancer nos tests E2E Construire notre application pour la production DÃ©ployÃ© vers GitHub Pages DÃ©finitions Test continu (CT) Les tests continus consistent Ã  exÃ©cuter des tests automatisÃ©s dans le cadre du pipeline de livraison de logiciels pour obtenir un retour immÃ©diat sur les risques commerciaux associÃ©s Ã  une version candidate du lociel. IntÃ©gration Continue (CI) Lâ€™intÃ©gration continue est un ensemble de pratiques utilisÃ©es en gÃ©nie logiciel consistant Ã  vÃ©rifier Ã  chaque modification de code source que le rÃ©sultat des modifications ne produit pas de rÃ©gression dans lâ€™application dÃ©veloppÃ©e. En pratique Ok, ces dÃ©finitions sont bien. Mais, en pratique, quâ€™est-ce quâ€™ils signifient vraiment? Pour les besoins de cet article, je vais utiliser des dÃ©finitions similaires, mais trÃ¨s pragmatiques et spÃ©cifiques: CT Nos tests sont exÃ©cutÃ©s automatiquement avant chaque dÃ©ploiement. Et notre code ne sera pas dÃ©ployÃ© si des tests Ã©chouent. CI TransfÃ©rer des modifications dans une branche spÃ©cifique de notre repo GitHub lance un processus de dÃ©ploiement automatisÃ©. CrÃ©er une application Angular Pour commencer, crÃ©ez une nouvelle application Angular en utilisant Angular CLI. Aller sur: http://localhost:4200 GitHub CrÃ©er un nouveau repo GitHub: travis-demo Nous devons maintenant ajouter le repo GitHub en tant que distant de notre repo Git local. Vous devrez peut-Ãªtre dâ€™abord vous engager si vous avez effectuÃ© des mises Ã  jour. Assurez-vous de remplacer ludovicwyffels par votre propre identifiant GitHub. Travis CI Inscrivez-vous Ã  Travis CI en utilisant votre compte GitHub. AccÃ©dez Ã  votre profil pour voir la liste des repos. Si vous avez dÃ©jÃ  un compte, vous devrez utiliser le bouton Sync account pour que votre nouveau repo apparaisse dans la liste. De plus, vous devrez peut-Ãªtre utiliser le filtre pour voir rÃ©ellement votre repo si vous en avez beaucoup. Vous pouvez cliquer sur le bouton ParamÃ¨tres Ã  droite du repo. Ajouter une configuration Travis CI Afin de dire Ã  Travis CI de faire quelque chose avec notre repo, nous devons ajouter un fichier de configuration Travis CI. CrÃ©ez un fichier Ã  la racine de votre espace de travail appelÃ© .travis.yml avec le contenu suivant: Pour le --base-ref vous devrez utiliser votre propre identifiant GitHub. Ce fichier indique Ã  Travis CI de procÃ©der comme suit: Utilisez Node.js Surveillez uniquement la branche principale pour connaÃ®tre les modifications. Avant dâ€™exÃ©cuter lâ€™un des scripts, installez Angular CLI Assurez-vous que lâ€™application respecte nos rÃ¨gles en matiÃ¨re de linting utilisant ng lint. Construisez notre application en utilisant ng build. AprÃ¨s avoir ajoutÃ© le fichier de configuration Travis CI, commiter et pousser. AprÃ¨s avoir effectuÃ© cette opÃ©ration, passez au tableau de bord Travis CI pour afficher le journal Travis CI au fur et Ã  mesure de la crÃ©ation de votre application. Vous devrez peut-Ãªtre cliquer sur lâ€™onglet Current pour le voir se dÃ©velopper. Ã€ lâ€™extrÃªme droite du journal, vous pouvez cliquer sur Follow log pour faciliter lâ€™affichage du journal mis Ã  jour. Une fois que Travis CI a terminÃ© notre script et crÃ©Ã© lâ€™application, vous verrez lâ€™icÃ´ne virer au vert pour vous informer que votre script sâ€™est terminÃ© avec succÃ¨s. Test continu Maintenant que nous avons crÃ©Ã© nos applications, allons dans le monde des tests continus en laissant Travis CI exÃ©cuter nos tests unitaires Ã  chaque nouveau commit. Malheureusement, nous ne pouvons pas simplement npm run test sur Travis CI. En effet, nous ne pouvons pas rÃ©ellement lancer une interface graphique de navigateur. Nous allons donc utiliser Headless Chrome pour exÃ©cuter nos tests unitaires. Suivez les instructions pour crÃ©er un nouveau script npm comme celui-ci: Nous pouvons maintenant exÃ©cuter nos tests unitaires en utilisant Headless Chrome comme ceci: Maintenant, ajouter npm run test-headless Ã  notre fichier .travis.yml dans la section script comme ceci: Commiter et push sur GitHub: AprÃ¨s avoir pusher, passez au tableau de bord Travis CI pour regarder votre projet exÃ©cuter les tests unitaires, puis faire le build. IntÃ©gration continue Maintenant que nous testons et buildons, nous souhaitons dÃ©ployer notre application. Nous devons crÃ©er un jeton dâ€™accÃ¨s personnel GitHub. Suivez ces instructions. Dans le tableau de bord Travis CI, accÃ©dez Ã  votre projet. En haut Ã  droite, cliquez sur ParamÃ¨tres. Faites dÃ©filer jusquâ€™Ã  la section Variables dâ€™environnement. Ajoutez une nouvelle variable dâ€™environnement nommÃ©e: GITHUB_TOKEN Pour la valeur, collez la valeur rÃ©elle de votre jeton dâ€™accÃ¨s personnel GitHub que vous avez gÃ©nÃ©rÃ©. Cliquez sur Ajouter. DÃ©ploiement sur les pages GitHub Enfin, configurons Travis CI pour le dÃ©ploiement sur GitHub Pages. Ajoutez une section de dÃ©ploiement Ã  votre .travis.yml. A ce stade, votre fichier devrait resembler Ã  ceci: Encore une fois, assurez-vous que vous utilisez votre propre identifiant GitHub au lien de ludovicwyffels. Ceci indique Ã  Travis CI dâ€™utiliser notre jeton GitHub Ã  partir de la variable dâ€™environnement: GITHUB_TOKEN En outre, il spÃ©cifie que les fichiers Ã  dÃ©ployer proviennent de notre dossier dist: dist/travis-demo Engagez-vous et appuyez sur GitHub: Nous devrions Ã©galement pouvoir accÃ©der Ã  lâ€™URL de nos pages GitHub et voir notre application dÃ©ployÃ©e.]]></description><link>https://ludovicwyffels.dev/angular-travis-ctci/</link><guid isPermaLink="false">https://ludovicwyffels.dev/angular-travis-ctci/</guid><pubDate>Mon, 29 Apr 2019 08:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Cet article explique comment utiliser Travis CI pour surveiller les modifications apportÃ©es Ã  la branche principale de notre rÃ©fÃ©rentiel GitHub . Nous allons configurer Travis CI de maniÃ¨re Ã  ce que lors de la mise en place dâ€™un nouveau commit pour notre application Angular, celui-ci:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ExÃ©cuter le linter&lt;/li&gt;
&lt;li&gt;Lancer nos tests unitaires&lt;/li&gt;
&lt;li&gt;Lancer nos tests E2E&lt;/li&gt;
&lt;li&gt;Construire notre application pour la production&lt;/li&gt;
&lt;li&gt;DÃ©ployÃ© vers GitHub Pages&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;DÃ©finitions&lt;/h2&gt;
&lt;h3&gt;Test continu (CT)&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Les &lt;a href=&quot;https://en.wikipedia.org/wiki/Continuous_testing&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;tests continus&lt;/a&gt;&lt;/strong&gt; consistent Ã  exÃ©cuter des tests automatisÃ©s dans le cadre du pipeline de livraison de logiciels pour obtenir un retour immÃ©diat sur les risques commerciaux associÃ©s Ã  une version candidate du lociel.&lt;/p&gt;
&lt;h3&gt;IntÃ©gration Continue (CI)&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Lâ€™&lt;a href=&quot;https://en.wikipedia.org/wiki/Continuous_integration&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;intÃ©gration continue&lt;/a&gt;&lt;/strong&gt; est un ensemble de pratiques utilisÃ©es en gÃ©nie logiciel consistant Ã  vÃ©rifier Ã  chaque modification de code source que le rÃ©sultat des modifications ne produit pas de rÃ©gression dans lâ€™application dÃ©veloppÃ©e.&lt;/p&gt;
&lt;h3&gt;En pratique&lt;/h3&gt;
&lt;p&gt;Ok, ces dÃ©finitions sont bien. Mais, en pratique, quâ€™est-ce quâ€™ils signifient vraiment? Pour les besoins de cet article, je vais utiliser des dÃ©finitions similaires, mais trÃ¨s pragmatiques et spÃ©cifiques:&lt;/p&gt;
&lt;h3&gt;CT&lt;/h3&gt;
&lt;p&gt;Nos tests sont exÃ©cutÃ©s automatiquement avant chaque dÃ©ploiement. Et notre code ne sera pas dÃ©ployÃ© si des tests Ã©chouent.&lt;/p&gt;
&lt;h3&gt;CI&lt;/h3&gt;
&lt;p&gt;TransfÃ©rer des modifications dans une branche spÃ©cifique de notre repo GitHub lance un processus de dÃ©ploiement automatisÃ©.&lt;/p&gt;
&lt;h2&gt;CrÃ©er une application Angular&lt;/h2&gt;
&lt;p&gt;Pour commencer, crÃ©ez une nouvelle application Angular en utilisant &lt;em&gt;Angular CLI&lt;/em&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;ng new travis-demo
&lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; travis-demo
ng serve&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Aller sur: &lt;a href=&quot;http://localhost:4200&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;http://localhost:4200&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;GitHub&lt;/h2&gt;
&lt;p&gt;CrÃ©er un nouveau repo GitHub: &lt;code&gt;travis-demo&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Nous devons maintenant ajouter le repo GitHub en tant que distant de notre repo Git local. Vous devrez peut-Ãªtre dâ€™abord vous engager si vous avez effectuÃ© des mises Ã  jour.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; commit -am &lt;span class=&quot;token string&quot;&gt;&quot;initial&quot;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; remote &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt; origin https://github.com/ludovicwyffels/travis-demo.git
&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; push -u origin master&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Assurez-vous de remplacer &lt;strong&gt;ludovicwyffels&lt;/strong&gt; par votre propre identifiant GitHub.&lt;/p&gt;
&lt;h2&gt;Travis CI&lt;/h2&gt;
&lt;p&gt;Inscrivez-vous Ã  &lt;a href=&quot;https://travis-ci.org/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Travis CI&lt;/a&gt; en utilisant votre compte GitHub.&lt;/p&gt;
&lt;p&gt;AccÃ©dez Ã  votre profil pour voir la liste des repos.&lt;/p&gt;
&lt;p&gt;Si vous avez dÃ©jÃ  un compte, vous devrez utiliser le bouton &lt;strong&gt;Sync account&lt;/strong&gt; pour que votre nouveau repo apparaisse dans la liste. De plus, vous devrez peut-Ãªtre utiliser le filtre pour voir rÃ©ellement votre repo si vous en avez beaucoup.&lt;/p&gt;
&lt;p&gt;Vous pouvez cliquer sur le bouton ParamÃ¨tres Ã  droite du repo.&lt;/p&gt;
&lt;h2&gt;Ajouter une configuration Travis CI&lt;/h2&gt;
&lt;p&gt;Afin de dire Ã  Travis CI de faire quelque chose avec notre repo, nous devons ajouter un fichier de configuration Travis CI.&lt;/p&gt;
&lt;p&gt;CrÃ©ez un fichier Ã  la racine de votre espace de travail appelÃ© &lt;code&gt;.travis.yml&lt;/code&gt; avec le contenu suivant:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yml&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-yml line-numbers&quot;&gt;&lt;code class=&quot;language-yml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;language&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; node_js
&lt;span class=&quot;token key atrule&quot;&gt;node_js&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;10&quot;&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;dist&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; trusty
&lt;span class=&quot;token key atrule&quot;&gt;sudo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; required
&lt;span class=&quot;token key atrule&quot;&gt;branches&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;only&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; master
&lt;span class=&quot;token key atrule&quot;&gt;before_script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; npm install &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;g @angular/cli
&lt;span class=&quot;token key atrule&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; ng lint
&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; ng build &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;prod &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;base&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;href https&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;//ludovicwyffels.github.io/travis&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;demo/&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Pour le &lt;code&gt;--base-ref&lt;/code&gt; vous devrez utiliser votre propre identifiant GitHub.&lt;/p&gt;
&lt;p&gt;Ce fichier indique Ã  Travis CI de procÃ©der comme suit:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Utilisez Node.js&lt;/li&gt;
&lt;li&gt;Surveillez uniquement la branche principale pour connaÃ®tre les modifications.&lt;/li&gt;
&lt;li&gt;Avant dâ€™exÃ©cuter lâ€™un des scripts, installez &lt;strong&gt;Angular CLI&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Assurez-vous que lâ€™application respecte nos rÃ¨gles en matiÃ¨re de linting utilisant &lt;code&gt;ng lint&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Construisez notre application en utilisant &lt;code&gt;ng build&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;AprÃ¨s avoir ajoutÃ© le fichier de configuration Travis CI, commiter et pousser.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt; .travis.yml
&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; commit -am &lt;span class=&quot;token string&quot;&gt;&quot;Travis CI configuration&quot;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; push&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;AprÃ¨s avoir effectuÃ© cette opÃ©ration, passez au &lt;strong&gt;tableau de bord Travis CI&lt;/strong&gt; pour afficher le journal Travis CI au fur et Ã  mesure de la crÃ©ation de votre application. Vous devrez peut-Ãªtre cliquer sur lâ€™onglet &lt;strong&gt;Current&lt;/strong&gt; pour le voir se dÃ©velopper. Ã€ lâ€™extrÃªme droite du journal, vous pouvez cliquer sur &lt;strong&gt;Follow log&lt;/strong&gt; pour faciliter lâ€™affichage du journal mis Ã  jour.&lt;/p&gt;
&lt;p&gt;Une fois que Travis CI a terminÃ© notre script et crÃ©Ã© lâ€™application, vous verrez lâ€™icÃ´ne virer au vert pour vous informer que votre script sâ€™est terminÃ© avec succÃ¨s.&lt;/p&gt;
&lt;h2&gt;Test continu&lt;/h2&gt;
&lt;p&gt;Maintenant que nous avons crÃ©Ã© nos applications, allons dans le monde des &lt;strong&gt;tests continus&lt;/strong&gt; en laissant &lt;strong&gt;Travis CI&lt;/strong&gt; exÃ©cuter nos &lt;strong&gt;tests unitaires&lt;/strong&gt; Ã  chaque nouveau commit.&lt;/p&gt;
&lt;p&gt;Malheureusement, nous ne pouvons pas simplement &lt;code&gt;npm run test&lt;/code&gt; sur Travis CI. En effet, nous ne pouvons pas rÃ©ellement lancer une interface graphique de navigateur. Nous allons donc utiliser &lt;strong&gt;Headless Chrome&lt;/strong&gt; pour exÃ©cuter nos tests unitaires.&lt;/p&gt;
&lt;p&gt;Suivez les instructions pour crÃ©er un nouveau script npm comme celui-ci:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;quot;test-headless&amp;quot;: &amp;quot;ng test --watch=false --browsers=ChromeHeadless&amp;quot;,&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nous pouvons maintenant exÃ©cuter nos tests unitaires en utilisant Headless Chrome comme ceci:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; run test-headless&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Maintenant, ajouter &lt;code&gt;npm run test-headless&lt;/code&gt; Ã  notre fichier &lt;strong&gt;.travis.yml&lt;/strong&gt; dans la section script comme ceci:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yml&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-yml line-numbers&quot;&gt;&lt;code class=&quot;language-yml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; ng lint
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; npm run test&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;headless
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; ng build &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;prod &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;base&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;href https&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;//ludovicwyffels.github.io/travis&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;demo/&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Commiter et push sur GitHub:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt; .travis
&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; commit -am &lt;span class=&quot;token string&quot;&gt;&quot;Added unit for Travis CI using Headless Chrome&quot;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; push&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;AprÃ¨s avoir pusher, passez au tableau de bord Travis CI pour regarder votre projet exÃ©cuter les tests unitaires, puis faire le build.&lt;/p&gt;
&lt;h2&gt;IntÃ©gration continue&lt;/h2&gt;
&lt;p&gt;Maintenant que nous testons et buildons, nous souhaitons dÃ©ployer notre application.&lt;/p&gt;
&lt;p&gt;Nous devons crÃ©er un jeton dâ€™accÃ¨s personnel GitHub. Suivez &lt;a href=&quot;https://help.github.com/en/articles/creating-a-personal-access-token-for-the-command-line&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;ces instructions.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Dans le tableau de bord Travis CI, accÃ©dez Ã  votre projet. En haut Ã  droite, cliquez sur &lt;strong&gt;ParamÃ¨tres&lt;/strong&gt;. Faites dÃ©filer jusquâ€™Ã  la section &lt;strong&gt;Variables dâ€™environnement&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Ajoutez une nouvelle variable dâ€™environnement nommÃ©e: &lt;code&gt;GITHUB_TOKEN&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Pour la valeur, collez la valeur rÃ©elle de votre jeton dâ€™accÃ¨s personnel GitHub que vous avez gÃ©nÃ©rÃ©. Cliquez sur &lt;strong&gt;Ajouter&lt;/strong&gt;.&lt;/p&gt;
&lt;h2&gt;DÃ©ploiement sur les pages GitHub&lt;/h2&gt;
&lt;p&gt;Enfin, configurons Travis CI pour le dÃ©ploiement sur GitHub Pages.&lt;/p&gt;
&lt;p&gt;Ajoutez une section de dÃ©ploiement Ã  votre &lt;strong&gt;.travis.yml&lt;/strong&gt;. A ce stade, votre fichier devrait resembler Ã  ceci:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yml&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-yml line-numbers&quot;&gt;&lt;code class=&quot;language-yml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;language&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; node_js
&lt;span class=&quot;token key atrule&quot;&gt;node_js&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;10&quot;&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;dist&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; trusty
&lt;span class=&quot;token key atrule&quot;&gt;sudo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; required
&lt;span class=&quot;token key atrule&quot;&gt;branches&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;only&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; master
&lt;span class=&quot;token key atrule&quot;&gt;before_script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; npm install &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;g @angular/cli
&lt;span class=&quot;token key atrule&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; ng lint
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; npm run test&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;headless
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; ng build &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;prod &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;base&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;href https&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;//ludovicwyffels.github.io/travis&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;demo/
&lt;span class=&quot;token key atrule&quot;&gt;deploy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;provider&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; pages
  &lt;span class=&quot;token key atrule&quot;&gt;skip_cleanup&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean important&quot;&gt;true&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;github_token&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; $GITHUB_TOKEN
  &lt;span class=&quot;token key atrule&quot;&gt;local_dir&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; dist/travis&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;demo
  &lt;span class=&quot;token key atrule&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;branch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; master&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Encore une fois, assurez-vous que vous utilisez &lt;strong&gt;votre propre identifiant GitHub&lt;/strong&gt; au lien de ludovicwyffels.&lt;/p&gt;
&lt;p&gt;Ceci indique Ã  Travis CI dâ€™utiliser notre jeton GitHub Ã  partir de la variable dâ€™environnement: &lt;code&gt;GITHUB_TOKEN&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;En outre, il spÃ©cifie que les fichiers Ã  dÃ©ployer proviennent de notre dossier &lt;strong&gt;dist&lt;/strong&gt;: &lt;code&gt;dist/travis-demo&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Engagez-vous et appuyez sur GitHub:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; commit -am &lt;span class=&quot;token string&quot;&gt;&quot;Deploy to GitHub pages&quot;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; push&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nous devrions Ã©galement pouvoir accÃ©der Ã  lâ€™URL de nos pages GitHub et voir notre application dÃ©ployÃ©e.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;https://ludovicwyffels.github.io/travis-demo/ &lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Comment Ã©crire des applications Node.js en TypeScript]]></title><description><![CDATA[Depuis que jâ€™ai dÃ©couvert TypeScript, je lâ€™utilise pour toutes mes applications JavaScript. Il y a tellement dâ€™avantages Ã  utiliser TypeScript que vous aurez besoin dâ€™un argument convaincant pour me permettre dâ€™Ã©crire quoi que ce soit en JavaScript Vanilla. Dans cet article, je vais vous montrer comment configurer un environnement de dÃ©veloppement simple pour Ã©crire une application Node.js en TypeScript. Permettez-moi de commencer par dire quâ€™il existe probablement un millier de faÃ§ons diffÃ©rentes de crÃ©er des applications Node.js en TypeScript. Je vais juste montrer la faÃ§on dont jâ€™aime le faire moi-mÃªme. Si vous nâ€™avez pas envie de lire tout cet article, vous pouvez trouver mon projet de dÃ©marrage ici: https://github.com/toxsickcoder/node-typescript-starter . Il contient des fonctionnalitÃ©s supplÃ©mentaires dont nous ne discuterons pas dans cet article. Package.json Comme je lâ€™ai dÃ©jÃ  dit, il y a beaucoup de faÃ§ons diffÃ©rentes de le faire. Jâ€™aime utiliser Webpack pour mes projets TypeScript. CommenÃ§ons par crÃ©er un package.json. Vous pouvez gÃ©nÃ©rer un package.json Ã  lâ€™aide de la commande npm init ou copier-coller le code ci-dessous et le modifier. CommenÃ§ons par une simple configuration Webpack pour un projet JavaScript Node.js. AprÃ¨s avoir terminÃ© la configuration de base, jâ€™ajouterai TypeScript. Lâ€™application Comme mentionnÃ© prÃ©cÃ©demment, nous allons commencer par une application JavaScript, puis convertir celle-ci en TypeScript. CrÃ©ons un rÃ©pertoire src/ avec un main.js et information-logger.js avec certaines fonctionnalitÃ©s de Node.js: Ce script de base enregistre certaines informations dâ€™application et systÃ¨me sur la console. Je peux voir la sortie suivante aprÃ¨s avoir exÃ©cutÃ© le node main.js Webpack La premiÃ¨re chose Ã  faire avant dâ€™utiliser Webpack est dâ€™installer les dÃ©pendances nÃ©cessaires. Nâ€™oubliez pas dâ€™utiliser lâ€™indicateur -D car il sâ€™agit de devDependencies. Vous avez peut-Ãªtre remarquÃ© que je nâ€™ai pas installÃ© webpack-dev-server. Câ€™est parce que nous crÃ©ons une application Node.js. Plus tard, je vais utiliser nodemon qui a le mÃªme objectif. webpack.config.js La prochaine Ã©tape consiste Ã  crÃ©er un fichier webpack.config.js oÃ¹ nous indiquerons Ã  Webpack comment il doit traiter notre code. Comme vous pouvez le constater, il ne faut pas grand-chose pour commencer avec Webpack. Les deux seules options requises sont entry et target. Nous dÃ©clarons notre point dâ€™entrÃ©e Ã  lâ€™aide du champ entry et nous informons Webpack que nous travaillons dans Node.js avec le champ target. Nous pouvons utiliser le champ mode pour indiquer Ã  Webpack quâ€™il doit se concentrer sur la vitesse de compilation (dÃ©veloppement), ou sur lâ€™obfuscation et la minification (production). Pour faciliter le dÃ©bogage, nous utilisons le champ devtool pour indiquer que nous voulons des sources maps si nous nous exÃ©cutons en dÃ©veloppement. De cette faÃ§on, sâ€™il y a une erreur, nous pouvons facilement trouver lâ€™endroit oÃ¹ elle sâ€™est produite dans notre code. Pour utiliser Webpack, nous allons crÃ©er quelques commandes npm: Nous pouvons maintenant construire notre application en exÃ©cutant lâ€™une ou lâ€™autre de ces commandes. Il crÃ©era un rÃ©pertoire dist/ avec le fichier de sortie main.js Ã  lâ€™intÃ©rieur. Notre projet devrait ressembler Ã  ceci maintenant: nodemon Vous avez peut-Ãªtre remarquÃ© quâ€™aprÃ¨s lâ€™exÃ©cution dâ€™une commande de dÃ©marrage, Webpack sâ€™arrÃªte aprÃ¨s la construction de lâ€™application. Il ne surveille pas les modifications de fichiers que nous apportons. Et puisque nous travaillons avec Node.js, nous ne pouvons pas utiliser le serveur webpack-dev-server. Heureusement, nous pouvons utiliser nodemon pour rÃ©soudre ce problÃ¨me. Câ€™est un outil spÃ©cialement conÃ§u Ã  cet effet: redÃ©marrer les applications Node.js pendant le dÃ©veloppement. CommenÃ§ons par installer le nodemon-webpack-plugin. Nâ€™oubliez pas le flag -D car câ€™est une devDependency. CrÃ©ons un nouveau flag nodemon et ajoutons le plug-in Ã  notre fichier webpack.config.js. Lorsque nous passerons le flag nodemon, nous dÃ©finirons la configuration de la surveillance Webpack et nous ajouterons le plug-in nodemon . La configuration de la surveillance Webpack reconstruira lâ€™application lorsque nous modifierons un fichier. Le plug-in nodemon redÃ©marrera lâ€™application une fois la reconstruction terminÃ©e. Nous devrons Ã©galement mettre Ã  jour nos commandes npm. Jâ€™ai Ã©galement crÃ©Ã© des commandes de construction, sans le flag nodemon. VoilÃ , une configuration de base Webpack pour lâ€™application Node.js. La prochaine Ã©tape est dâ€™ajouter TypeScript! TypeScript Et maintenant, au moment que nous attendions tous, ajoutons TypeScript! CommenÃ§ons par installer les dÃ©pendances dont nous avons besoin. Sâ€™agissant dâ€™un projet Node.js, nous devons Ã©galement installer les typings associÃ©s. Je travaille sur la version LTS de Node.js, la version 10. Câ€™est pourquoi la version ^10.0.0 de @types/node. ts-loader Nous allons utiliser le plug-in Webpack ts-loader pour compiler notre TypeScript. Pour ce faire, nous devons dire Ã  Webpack de traiter les fichiers TypeScript avec le plug-in ts-loader. Nous devons modifier notre extension de fichier dâ€™ entrÃ©e en .ts et indiquer Ã  Webpack quâ€™il doit Ã©galement rÃ©soudre les fichiers .ts (Webpack ne fonctionne quâ€™avec les fichiers .js par dÃ©faut). tsconfig.json Si nous essayons dâ€™exÃ©cuter notre application maintenant, elle se plantera. Il nous manque encore un fichier tsconfig.json. Alors crÃ©ons-en un. Je prÃ©fÃ¨re les fichiers tsconfig stricts, comme vous pouvez le voir ci-dessus. Tu nâ€™as pas Ã  faire Ã§a. Jâ€™aime Ã©galement dÃ©finir une cible Ã©levÃ©e (esnext ou es2018) car Node.js offre un excellent support pour les nouvelles fonctionnalitÃ©s JavaScript. Lâ€™application Nous devons toujours changer lâ€™extension des fichiers JavaScript de .js Ã  .ts. Faisons-le et essayons de lancer le projet. AprÃ¨s avoir exÃ©cutÃ© le projet, nous pouvons immÃ©diatement constater que nous avons commis une â€œerreurâ€ dans lâ€™application de test que nous avons crÃ©Ã©e. Nous ne pouvons pas dÃ©structurer notre champ name du package.json car il est dÃ©jÃ  dÃ©fini ou nous lâ€™Ã©craserions. Faisons donc quelques modifications pour crÃ©er les fichiers. Si vous avez tout suivi, voici Ã  quoi devrait ressembler notre structure de projet: Et nous sommes prÃªts Ã  Ã©crire des applications Node.js en TypeScript! Note finale Je suis sÃ»r quâ€™il existe des milliers de faÃ§ons diffÃ©rentes dâ€™Ã©crire des applications Node.js dans TypeScript. Ce nâ€™est en aucun cas la faÃ§on dont vous devriez le faire, câ€™est une faÃ§on de le faire. Les prochaines Ã©tapes pourraient Ãªtre lâ€™intÃ©gration de TSLint, lâ€™ajout dâ€™un fichier Docker, la configuration dâ€™un pipeline CIâ€¦]]></description><link>https://ludovicwyffels.dev/node-typescript/</link><guid isPermaLink="false">https://ludovicwyffels.dev/node-typescript/</guid><pubDate>Sat, 27 Apr 2019 08:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Depuis que jâ€™ai dÃ©couvert TypeScript, je lâ€™utilise pour toutes mes applications JavaScript. Il y a tellement dâ€™avantages Ã  utiliser TypeScript que vous aurez besoin dâ€™un argument convaincant pour me permettre dâ€™Ã©crire quoi que ce soit en JavaScript Vanilla.&lt;/p&gt;
&lt;p&gt;Dans cet article, je vais vous montrer comment configurer un environnement de dÃ©veloppement simple pour Ã©crire une application Node.js en TypeScript.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Permettez-moi de commencer par dire quâ€™il existe probablement un millier de faÃ§ons diffÃ©rentes de crÃ©er des applications Node.js en TypeScript. Je vais juste montrer la faÃ§on dont jâ€™aime le faire moi-mÃªme.&lt;/p&gt;
&lt;p&gt;Si vous nâ€™avez pas envie de lire tout cet article, vous pouvez trouver mon projet de dÃ©marrage ici: &lt;a href=&quot;https://github.com/toxsickcoder/node-typescript-starter&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://github.com/toxsickcoder/node-typescript-starter&lt;/a&gt; . Il contient des fonctionnalitÃ©s supplÃ©mentaires dont nous ne discuterons pas dans cet article.&lt;/p&gt;
&lt;h2&gt;Package.json&lt;/h2&gt;
&lt;p&gt;Comme je lâ€™ai dÃ©jÃ  dit, il y a beaucoup de faÃ§ons diffÃ©rentes de le faire. Jâ€™aime utiliser Webpack pour mes projets TypeScript. CommenÃ§ons par crÃ©er un &lt;code&gt;package.json&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Vous pouvez gÃ©nÃ©rer un &lt;code&gt;package.json&lt;/code&gt; Ã  lâ€™aide de la commande &lt;code&gt;npm init&lt;/code&gt; ou copier-coller le code ci-dessous et le modifier.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-json line-numbers&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// package.json&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;node-typescript&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;0.0.1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;author&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Ludovic Wyffels&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;license&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;MIT&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;scripts&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;dependencies&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;devDependencies&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;CommenÃ§ons par une simple configuration Webpack pour un projet JavaScript Node.js. AprÃ¨s avoir terminÃ© la configuration de base, jâ€™ajouterai TypeScript.&lt;/p&gt;
&lt;h2&gt;Lâ€™application&lt;/h2&gt;
&lt;p&gt;Comme mentionnÃ© prÃ©cÃ©demment, nous allons commencer par une application JavaScript, puis convertir celle-ci en TypeScript. CrÃ©ons un rÃ©pertoire &lt;code&gt;src/&lt;/code&gt; avec un &lt;code&gt;main.js&lt;/code&gt; et &lt;code&gt;information-logger.js&lt;/code&gt; avec certaines fonctionnalitÃ©s de Node.js:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// src/information-logger.js&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; os &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;os&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; version&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;../package.json&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;logApplicationInformation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      application&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        version&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;logSystemInformation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      system&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        platform&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;platform&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        cpus&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; os&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;cpus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// src/main.js&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; informationLogger &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./information-logger&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
informationLogger&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;logApplicationInformation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
informationLogger&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;logSystemInformation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ce script de base enregistre certaines informations dâ€™application et systÃ¨me sur la console. Je peux voir la sortie suivante aprÃ¨s avoir exÃ©cutÃ© le &lt;code&gt;node main.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{ application: { name: &amp;#39;node-typescript&amp;#39;, version: &amp;#39;0.0.1&amp;#39; } }
{ system: { platform: &amp;#39;linux&amp;#39;, cpus: 8 } }&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Webpack&lt;/h2&gt;
&lt;p&gt;La premiÃ¨re chose Ã  faire avant dâ€™utiliser Webpack est dâ€™installer les dÃ©pendances nÃ©cessaires. Nâ€™oubliez pas dâ€™utiliser lâ€™indicateur &lt;code&gt;-D&lt;/code&gt; car il sâ€™agit de devDependencies.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; i -D webpack webpack-cli&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Vous avez peut-Ãªtre remarquÃ© que je nâ€™ai pas installÃ© &lt;em&gt;webpack-dev-server&lt;/em&gt;. Câ€™est parce que nous crÃ©ons une application Node.js. Plus tard, je vais utiliser nodemon qui a le mÃªme objectif.&lt;/p&gt;
&lt;h3&gt;webpack.config.js&lt;/h3&gt;
&lt;p&gt;La prochaine Ã©tape consiste Ã  crÃ©er un fichier &lt;code&gt;webpack.config.js&lt;/code&gt; oÃ¹ nous indiquerons Ã  Webpack comment il doit traiter notre code.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// webpack.config.js&lt;/span&gt;
&lt;span class=&quot;token string&quot;&gt;&apos;use strict&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;env &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; config &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    entry&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./src/main.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    mode&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;development &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;development&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;production&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    target&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;node&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    devtool&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;development &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;cheap-eval-source-map&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; config&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Comme vous pouvez le constater, il ne faut pas grand-chose pour commencer avec Webpack. Les deux seules options requises sont &lt;em&gt;entry&lt;/em&gt; et &lt;em&gt;target&lt;/em&gt;. Nous dÃ©clarons notre point dâ€™entrÃ©e Ã  lâ€™aide du champ &lt;em&gt;entry&lt;/em&gt; et nous informons Webpack que nous travaillons dans Node.js avec le champ &lt;em&gt;target&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Nous pouvons utiliser le champ &lt;em&gt;mode&lt;/em&gt; pour indiquer Ã  Webpack quâ€™il doit se concentrer sur la vitesse de compilation (dÃ©veloppement), ou sur lâ€™obfuscation et la minification (production). Pour faciliter le dÃ©bogage, nous utilisons le champ &lt;em&gt;devtool&lt;/em&gt; pour indiquer que nous voulons des &lt;em&gt;sources maps&lt;/em&gt; si nous nous exÃ©cutons en dÃ©veloppement. De cette faÃ§on, sâ€™il y a une erreur, nous pouvons facilement trouver lâ€™endroit oÃ¹ elle sâ€™est produite dans notre code.&lt;/p&gt;
&lt;p&gt;Pour utiliser Webpack, nous allons crÃ©er quelques commandes npm:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-json line-numbers&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// package.json&lt;/span&gt;
...  
  &lt;span class=&quot;token property&quot;&gt;&quot;scripts&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;start&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;webpack --progress --env.development&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;start:prod&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;webpack --progress&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
...&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nous pouvons maintenant construire notre application en exÃ©cutant lâ€™une ou lâ€™autre de ces commandes. Il crÃ©era un rÃ©pertoire &lt;code&gt;dist/&lt;/code&gt; avec le fichier de sortie &lt;code&gt;main.js&lt;/code&gt; Ã  lâ€™intÃ©rieur.&lt;/p&gt;
&lt;p&gt;Notre projet devrait ressembler Ã  ceci maintenant:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;dist/
  main.js
node_modules/
src/
  information_logger.js
  main.js
package-lock.json
package.json
webpack.config.js&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;nodemon&lt;/h3&gt;
&lt;p&gt;Vous avez peut-Ãªtre remarquÃ© quâ€™aprÃ¨s lâ€™exÃ©cution dâ€™une commande de dÃ©marrage, Webpack sâ€™arrÃªte aprÃ¨s la construction de lâ€™application. Il ne surveille pas les modifications de fichiers que nous apportons. Et puisque nous travaillons avec Node.js, nous ne pouvons pas utiliser le serveur &lt;code&gt;webpack-dev-server&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Heureusement, nous pouvons utiliser &lt;strong&gt;nodemon&lt;/strong&gt; pour rÃ©soudre ce problÃ¨me. Câ€™est un outil spÃ©cialement conÃ§u Ã  cet effet: redÃ©marrer les applications Node.js pendant le dÃ©veloppement.&lt;/p&gt;
&lt;p&gt;CommenÃ§ons par installer le &lt;em&gt;nodemon-webpack-plugin&lt;/em&gt;. Nâ€™oubliez pas le flag &lt;code&gt;-D&lt;/code&gt; car câ€™est une devDependency.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; i -D nodemon-webpack-plugin&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;CrÃ©ons un nouveau flag &lt;em&gt;nodemon&lt;/em&gt; et ajoutons le plug-in Ã  notre fichier &lt;code&gt;webpack.config.js&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// webpack.config.js&lt;/span&gt;
&lt;span class=&quot;token string&quot;&gt;&apos;use strict&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; NodemonPlugin &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;nodemon-webpack-plugin&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;env &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; config &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    entry&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./src/main.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    mode&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;development &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;development&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;production&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    target&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;node&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    devtool&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;development &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;cheap-eval-source-map&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    resolve&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// tells Webpack what files to watch.&lt;/span&gt;
      modules&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;node_modules&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;src&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;package.json&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;   
    plugins&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// required for config.plugins.push(...);&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nodemon&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    config&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;watch &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    config&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;plugins&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;NodemonPlugin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; config&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lorsque nous passerons le flag nodemon, nous dÃ©finirons la configuration de la surveillance Webpack et nous ajouterons le plug-in nodemon . La configuration de la surveillance Webpack reconstruira lâ€™application lorsque nous modifierons un fichier. Le plug-in nodemon redÃ©marrera lâ€™application une fois la reconstruction terminÃ©e.&lt;/p&gt;
&lt;p&gt;Nous devrons Ã©galement mettre Ã  jour nos commandes npm. Jâ€™ai Ã©galement crÃ©Ã© des commandes de construction, sans le flag &lt;em&gt;nodemon&lt;/em&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-json line-numbers&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// package.json&lt;/span&gt;
...
  scripts&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;start&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;webpack --progress --env.development --env.nodemon&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;start:prod&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;webpack --progress --env.nodemon&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;build&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;webpack --progress --env.development&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;build:prod&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;webpack --progress&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;build:ci&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;webpack&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
...&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;VoilÃ , une configuration de base Webpack pour lâ€™application Node.js. La prochaine Ã©tape est dâ€™ajouter TypeScript!&lt;/p&gt;
&lt;h2&gt;TypeScript&lt;/h2&gt;
&lt;p&gt;Et maintenant, au moment que nous attendions tous, ajoutons TypeScript! CommenÃ§ons par installer les dÃ©pendances dont nous avons besoin.&lt;/p&gt;
&lt;p&gt;Sâ€™agissant dâ€™un projet Node.js, nous devons Ã©galement installer les typings associÃ©s. Je travaille sur la version LTS de Node.js, la version 10. Câ€™est pourquoi la version &lt;code&gt;^10.0.0&lt;/code&gt; de &lt;code&gt;@types/node&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; i -D typescript ts-loader @types/node@^10.0.0&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;ts-loader&lt;/h3&gt;
&lt;p&gt;Nous allons utiliser le plug-in Webpack &lt;em&gt;ts-loader&lt;/em&gt; pour compiler notre TypeScript. Pour ce faire, nous devons dire Ã  Webpack de traiter les fichiers TypeScript avec le plug-in &lt;em&gt;ts-loader&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Nous devons modifier notre extension de fichier dâ€™ entrÃ©e en &lt;code&gt;.ts&lt;/code&gt; et indiquer Ã  Webpack quâ€™il doit Ã©galement rÃ©soudre les fichiers &lt;em&gt;.ts&lt;/em&gt; (Webpack ne fonctionne quâ€™avec les fichiers &lt;code&gt;.js&lt;/code&gt; par dÃ©faut).&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// webpack.config.js&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; config &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    entry&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./src/main.ts&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    mode&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;development &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;development&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;production&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    target&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;node&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    devtool&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;development &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;cheap-eval-source-map&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    resolve&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// Tells Webpack what files to watch      &lt;/span&gt;
      extensions&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;.ts&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      modules&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;node_modules&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;src&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;package.json&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    module&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      rules&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          test&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token regex&quot;&gt;/\.ts$/&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          use&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;ts-loader&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    plugins&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Required for config.plugins.push(...);&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;tsconfig.json&lt;/h3&gt;
&lt;p&gt;Si nous essayons dâ€™exÃ©cuter notre application maintenant, elle se plantera. Il nous manque encore un fichier tsconfig.json. Alors crÃ©ons-en un.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-json line-numbers&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// tsconfig.json&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;compilerOptions&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;target&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;esnext&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;module&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;esnext&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;moduleResolution&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;node&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;lib&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;dom&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;es2018&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;allowSyntheticDefaultImports&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;noImplicitAny&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;noUnusedLocals&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;removeComments&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;    
    &lt;span class=&quot;token property&quot;&gt;&quot;resolveJsonModule&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;strict&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;typeRoots&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;node_modules/@types&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;exclude&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;node_modules&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;include&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;src/**/*.ts&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Je prÃ©fÃ¨re les fichiers tsconfig stricts, comme vous pouvez le voir ci-dessus. Tu nâ€™as pas Ã  faire Ã§a. Jâ€™aime Ã©galement dÃ©finir une cible Ã©levÃ©e (&lt;em&gt;esnext&lt;/em&gt; ou &lt;em&gt;es2018&lt;/em&gt;) car Node.js offre un excellent support pour les nouvelles fonctionnalitÃ©s JavaScript.&lt;/p&gt;
&lt;h2&gt;Lâ€™application&lt;/h2&gt;
&lt;p&gt;Nous devons toujours changer lâ€™extension des fichiers JavaScript de &lt;code&gt;.js&lt;/code&gt; Ã  &lt;code&gt;.ts&lt;/code&gt;. Faisons-le et essayons de lancer le projet.&lt;/p&gt;
&lt;p&gt;AprÃ¨s avoir exÃ©cutÃ© le projet, nous pouvons immÃ©diatement constater que nous avons commis une â€œerreurâ€ dans lâ€™application de test que nous avons crÃ©Ã©e. Nous ne pouvons pas dÃ©structurer notre champ &lt;em&gt;name&lt;/em&gt; du package.json car il est dÃ©jÃ  dÃ©fini ou nous lâ€™Ã©craserions. Faisons donc quelques modifications pour crÃ©er les fichiers.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// information-logger.ts&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; os &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;os&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; version &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../package.json&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;InformationLogger&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;logApplicationInformation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token builtin&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      application&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        version&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;logSystemInformation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token builtin&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      system&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        platform&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;platform&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        cpus&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; os&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;cpus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// main.ts&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; InformationLogger &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./information-logger&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
InformationLogger&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;logApplicationInformation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
InformationLogger&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;logSystemInformation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Si vous avez tout suivi, voici Ã  quoi devrait ressembler notre structure de projet:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;dist/
  main.js
node_modules/
src/
  information-logger.ts
  main.ts
package-lock.json
package.json
tsconfig.json
webpack.config.js&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Et nous sommes prÃªts Ã  Ã©crire des applications Node.js en TypeScript!&lt;/p&gt;
&lt;h2&gt;Note finale&lt;/h2&gt;
&lt;p&gt;Je suis sÃ»r quâ€™il existe des milliers de faÃ§ons diffÃ©rentes dâ€™Ã©crire des applications Node.js dans TypeScript. Ce nâ€™est en aucun cas la faÃ§on dont vous devriez le faire, câ€™est une faÃ§on de le faire.&lt;/p&gt;
&lt;p&gt;Les prochaines Ã©tapes pourraient Ãªtre lâ€™intÃ©gration de TSLint, lâ€™ajout dâ€™un fichier Docker, la configuration dâ€™un pipeline CIâ€¦&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Comment crÃ©er une timeline avec React]]></title><description><![CDATA[Ces derniers jours, je travaille sur une nouvelle page pour mon site web. Je voulais avoir une timeline pour prÃ©senter certaines de mes rÃ©alisations au fil des ans. Je lâ€™ai fait pour deux raisons: Mon futur moi se retournera un jour et dira: â€œWaouhâ€¦ Je me souviens du jour oÃ¹ jâ€™ai fait Ã§a! Quel bonheur dâ€™avoir atteint cet objectif!â€ Notre succÃ¨s est un voyage,pas une destination, et je souhaite Ã©crire chaque objectif que je rÃ©alise en cours de route. Cela pourrait attirer plus de clients (nous verrons comment Ã§a se passe) Ã€ mon avis, câ€™est un type de portfolio diffÃ©rent. Un portfolio unique peut-Ãªtre? ğŸ˜œ NÃ©anmoinsâ€¦ Construisons quelque chose maintenant! Dans lâ€™image ci-dessus, vous pouvez voir ce que nous allons construire aujourdâ€™hui avec React! Avant de commencer, dÃ©crivons les Ã©tapes Ã  suivre: CrÃ©er les donnÃ©es dont nous aurons besoin CrÃ©er le composant TimelineItem - chaque entrÃ©e de timeline individuelle CrÃ©er un conteneur Timeline - il prendra les donnÃ©es et les transmettra aux TimelineItems. Donnez du style Ã  tout ce que vous faites CrÃ©er les donnÃ©es Avant de crÃ©er les composants React, nous devons savoir exactement Ã  quoi ressembleront les donnÃ©es pour pouvoir planifier la structure du DOM. Pour cette application Timeline, nous aurons besoin dâ€™un tableau dâ€™objets. Nous appellerons ce tableau: timelineData. Voyons Ã  quoi cela pourrait ressembler:  Ensuite, nous allons construire le composant TimelineItem. Ceci utilisera les donnÃ©es de lâ€™objet ci-dessus:  Le composant TimelineItem Nous avons les tags suivants: Div .timeline-item - utilisÃ© comme wrapper. Cette div aura la moitiÃ© de la largeur de la largeur de son parent (50%) et toutes les autres div .timeline-item seront placÃ©es du cÃ´tÃ© droit en utilisant le sÃ©lecteur :nth-child(odd) Div .timeline-item-content - un autre wrapper (plus dâ€™informations sur la raison pour laquelle nous en avons besoin dans la section relative au style) Span .tag - cette balise aura une couleur dâ€™arriÃ¨re-plan personnalisÃ©e en fonction de la catÃ©gorie link - nous devrons vÃ©rifier si un lien est fourni parce que nous ne voulons pas toujours en avoir un Span .circle - cette balise sera utilisÃ©e pour placer un cercle sur la ligne du milieu Note: Tout aura beaucoup plus de sens quand nous arriverons Ã  la partie CSS, mais avant cela, crÃ©ons le composant Timeline: Le conteneur Timeline Ce composant mappera fondamentalement sur le tableau et pour chaque objet il crÃ©era un composant TimelineItem. Nous ajoutons Ã©galement une petite vÃ©rification pour nous assurer quâ€™il y a au moins un Ã©lÃ©ment dans le tableau: Comme mentionnÃ© ci-dessus, timelineData est le tableau dâ€™objets contenant toutes les informations requises. Dans mon cas, jâ€™ai stockÃ© ce tableau dans un fichier et je lâ€™ai importÃ©, mais vous pouvez le prendre Ã  partir de votre propre base de donnÃ©es ou dâ€™une API, Ã  vous de choisir. Le CSS Remarque: la plupart des wrappers seront des conteneneurs flexbox, car nous pouvons jouer plus facilement avec leur positionnement. CommenÃ§ons par le CSS .timeline-container: Nous utilisons le sÃ©lecteur ::after pour crÃ©er cette ligne rouge au milieur du .timeline-container. En utilisant la fonction calc(), nous pouvons positionner la ligne exactement au milieur en soustrayant la moitiÃ© de sa taille (2px) Ã  50%. Nous devons le faire, car par dÃ©faut, la propriÃ©tÃ© left positionne en fonction du bord gauche dâ€™un Ã©lÃ©ment et non du milieu. Passons maintenant au wrapper .timeline-item. Ci-dessous, vous pouvez voir un exemple de la faÃ§on dont ils sont positionnÃ©s dans leur parent (le .timeline-container). A des fins de dÃ©monstration, jâ€™ai ajoutÃ© une bordure pour mettre en Ã©vidence ces wrappers. timeline wrapper Comme vous pouvez le constater, tous les autres wrappers vont Ã  droite et le wrapper interne (le .timeline-item-content) prend moins dâ€™espace - lâ€™espace est donnÃ© par la balise p qui est Ã  lâ€™intÃ©rieur (la plupart du temps). Voyons le CSS pour ceci: La clÃ© de ceci est que nous utilisons le sÃ©lecteur :nth-child(odd) et que nous dÃ©finissons la propriÃ©tÃ© align-self sur flex-end ce qui signifie: â€œallez Ã  droite autant que vous le pouvez!â€ Ã‰tant donnÃ© que ces wrappers ont une largeur de 50%, vous pouvez voir que deux dâ€™entre eux occupent toute la largeur. Ã€ partir de maintenant, chaque fois que nous voulons styler diffÃ©remment quelque chose du bon cÃ´tÃ©, nous devrons utiliser cette approche. Ensuite, le .timeline-item-content: Nous avons quelques choses Ã  faire: Ce wrapper a une width fixe et aussi une max-width. Câ€™est parce que nous voulons quâ€™il y ait des limites, ce qui signifie que sâ€™il nâ€™y a que quelques mots, nous voulons que la box ait au moins 400px de large, mais sâ€™il y a beaucoup de texte, il ne devrait pas occuper tout lâ€™espace. (50% du wrapper .timeline-item) mais le texte doit passer Ã  la ligne suivante -> câ€™est la raison pour laquelle nous avons utilisÃ© ce second wrapper: .timeline-item-content Les propriÃ©tÃ©s text-align et align-items sont utilisÃ©es pour pousser les Ã©lÃ©ments internes vers la gauche ou vers la droite, en fonction du parent. La petite flÃ¨che qui pointe vers la ligne mÃ©diane est donnÃ©e par les styles appliquÃ©s sur le sÃ©lecteur ::after. Fondamentalement, il sâ€™agit dâ€™une box avec une box-shadow appliquÃ©e sur elle qui est tournÃ©e de 45deg Comme mentionnÃ© ci-dessus, nous appelons le cÃ´tÃ© droit en sÃ©lectionnant le parent avec le sÃ©lecteur :nth-child(odd) Ensuite, tous les Ã©lÃ©ments internes: Peu de choses Ã  noter ici: Comme vous lâ€™avez peut-Ãªtre devinÃ©, le tag est positionnÃ© en absolutecar nous souhaitons le conserver dans le coin supÃ©rieur gauche (ou droit), quelle que soit la taille de la box. Nous voulons ajouter un petit signe aprÃ¨s la balise a pour indiquer quâ€™il sâ€™agit dâ€™un lien. Nous crÃ©ons un .circle. Nous le positionnons au-dessus de la ligne mÃ©diane, directement devant la flÃ¨che. Nous avons presque fini! ğŸ˜„ La seule chose qui reste Ã  faire est dâ€™ajouter le CSS pour que tout soit rÃ©actif, quelle que soit la table de lâ€™Ã©cran: Nous avons deux media query: Sur les petites tailles dâ€™Ã©cran dâ€™ordinateur portable - max-width: 1023px - nous voulons permettre au .timeline-item-content de .timeline-item-content sur toute la largeur de son parent, car lâ€™Ã©cran est plus petit et sinon, il aurait lâ€™air trop serrÃ©. Sur les tÃ©lÃ©phones - max-width: 767px paramÃ©trez le .tag sur toute la largeur (et pour cela nous nâ€™avons pas besoin dâ€™oublier de soustraire 10px du total des 100% - câ€™est parce que nous lâ€™avons positionnÃ© Ã  left: 5px, nous enlevons donc le double de ce montant) centrer tout le texte et le pousser vers le haut juste un peu supprime le curseur sur le lien et ajoute un soulignement - son apparence est meilleure sur mobile Nous avons terminÃ©! Voici le rÃ©sultat: https://react-timeline-qvnqqp.stackblitz.io Conclusion Sâ€™il y a quelque chose que vous nâ€™avez pas compris dans cet article, assurez-vous de me contacter et je me ferai un plaisir de rÃ©pondre Ã  vos questions! Bon codage! ğŸ˜‡]]></description><link>https://ludovicwyffels.dev/react-timeline-component/</link><guid isPermaLink="false">https://ludovicwyffels.dev/react-timeline-component/</guid><pubDate>Fri, 26 Apr 2019 08:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Ces derniers jours, je travaille sur une nouvelle page pour mon site web. Je voulais avoir une timeline pour prÃ©senter certaines de mes rÃ©alisations au fil des ans.&lt;/p&gt;
&lt;p&gt;Je lâ€™ai fait pour deux raisons:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Mon futur moi se retournera un jour et dira: â€œWaouhâ€¦ Je me souviens du jour oÃ¹ jâ€™ai fait Ã§a! Quel bonheur dâ€™avoir atteint cet objectif!â€ Notre succÃ¨s est un voyage,pas une destination, et je souhaite Ã©crire chaque objectif que je rÃ©alise en cours de route.&lt;/li&gt;
&lt;li&gt;Cela pourrait attirer plus de clients (nous verrons comment Ã§a se passe)&lt;/li&gt;
&lt;li&gt;Ã€ mon avis, câ€™est un type de portfolio diffÃ©rent. Un portfolio unique peut-Ãªtre? ğŸ˜œ&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;NÃ©anmoinsâ€¦ Construisons quelque chose maintenant!&lt;/p&gt;
&lt;p&gt;Dans lâ€™image ci-dessus, vous pouvez voir ce que nous allons construire aujourdâ€™hui avec React! Avant de commencer, dÃ©crivons les Ã©tapes Ã  suivre:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;CrÃ©er les &lt;code&gt;donnÃ©es&lt;/code&gt; dont nous aurons besoin&lt;/li&gt;
&lt;li&gt;CrÃ©er le composant &lt;code&gt;TimelineItem&lt;/code&gt; - chaque entrÃ©e de timeline individuelle&lt;/li&gt;
&lt;li&gt;CrÃ©er un conteneur &lt;code&gt;Timeline&lt;/code&gt; - il prendra les &lt;code&gt;donnÃ©es&lt;/code&gt; et les transmettra aux &lt;code&gt;TimelineItems&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Donnez du style Ã  tout ce que vous faites&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;CrÃ©er les donnÃ©es&lt;/h2&gt;
&lt;p&gt;Avant de crÃ©er les composants React, nous devons savoir exactement Ã  quoi ressembleront les donnÃ©es pour pouvoir planifier la structure du DOM.&lt;/p&gt;
&lt;p&gt;Pour cette application Timeline, nous aurons besoin dâ€™un &lt;em&gt;tableau dâ€™objets&lt;/em&gt;. Nous appellerons ce tableau: &lt;code&gt;timelineData&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Voyons Ã  quoi cela pourrait ressembler: &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;txt&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-txt line-numbers&quot;&gt;&lt;code class=&quot;language-txt&quot;&gt;[
    {
        text: &amp;#39;Wrote my first blog post ever on Medium&amp;#39;,
        date: &amp;#39;March 03 2017&amp;#39;,
        category: {
            tag: &amp;#39;medium&amp;#39;,
            color: &amp;#39;#018f69&amp;#39;
        },
        link: {
            url:
                &amp;#39;https://medium.com/@popflorin1705/javascript-coding-challenge-1-6d9c712963d2&amp;#39;,
            text: &amp;#39;Read more&amp;#39;
        }
    },
    {
        // Another object with data
    }
];&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ensuite, nous allons construire le composant &lt;code&gt;TimelineItem&lt;/code&gt;. Ceci utilisera les donnÃ©es de lâ€™objet ci-dessus: &lt;/p&gt;
&lt;h2&gt;Le composant &lt;code&gt;TimelineItem&lt;/code&gt;&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-jsx line-numbers&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;TimelineItem&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; data &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;timeline-item&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;timeline-item-content&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;tag&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; background&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;category&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;color &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;category&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;tag&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;time&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;date&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;time&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;link &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt;
                    &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;link&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;url&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
                    &lt;span class=&quot;token attr-name&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;_blank&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
                    &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;noopener noreferrer&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
                    &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;link&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;circle&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nous avons les tags suivants:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Div &lt;code&gt;.timeline-item&lt;/code&gt; - utilisÃ© comme wrapper. Cette div aura la moitiÃ© de la largeur de la largeur de son parent (&lt;code&gt;50%&lt;/code&gt;) et toutes les autres div &lt;code&gt;.timeline-item&lt;/code&gt; seront placÃ©es du cÃ´tÃ© droit en utilisant le sÃ©lecteur &lt;code&gt;:nth-child(odd)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Div &lt;code&gt;.timeline-item-content&lt;/code&gt; - un autre wrapper (plus dâ€™informations sur la raison pour laquelle nous en avons besoin dans la section relative au style)&lt;/li&gt;
&lt;li&gt;Span &lt;code&gt;.tag&lt;/code&gt; - cette balise aura une couleur dâ€™arriÃ¨re-plan personnalisÃ©e en fonction de la catÃ©gorie&lt;/li&gt;
&lt;li&gt;&lt;code&gt;link&lt;/code&gt; - nous devrons vÃ©rifier si un lien est fourni parce que nous ne voulons pas toujours en avoir un&lt;/li&gt;
&lt;li&gt;Span &lt;code&gt;.circle&lt;/code&gt; - cette balise sera utilisÃ©e pour placer un cercle sur la ligne du milieu&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: Tout aura beaucoup plus de sens quand nous arriverons Ã  la partie &lt;strong&gt;CSS&lt;/strong&gt;, mais avant cela, crÃ©ons le composant &lt;code&gt;Timeline&lt;/code&gt;:&lt;/p&gt;
&lt;h2&gt;Le conteneur &lt;code&gt;Timeline&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;Ce composant mappera fondamentalement sur le tableau et pour chaque objet il crÃ©era un composant &lt;code&gt;TimelineItem&lt;/code&gt;. Nous ajoutons Ã©galement une petite vÃ©rification pour nous assurer quâ€™il y a au moins un Ã©lÃ©ment dans le tableau:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-jsx line-numbers&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; timelineData &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;_path_to_file_&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;Timeline&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;
    timelineData&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;timeline-container&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;timelineData&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;data&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; idx&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;TimelineItem&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;idx&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Comme mentionnÃ© ci-dessus, &lt;code&gt;timelineData&lt;/code&gt; est le tableau dâ€™objets contenant toutes les informations requises. Dans mon cas, jâ€™ai stockÃ© ce tableau dans un fichier et je lâ€™ai importÃ©, mais vous pouvez le prendre Ã  partir de votre propre base de donnÃ©es ou dâ€™une API, Ã  vous de choisir.&lt;/p&gt;
&lt;h2&gt;Le CSS&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Remarque&lt;/strong&gt;: la plupart des wrappers seront des conteneneurs &lt;code&gt;flexbox&lt;/code&gt;, car nous pouvons jouer plus facilement avec leur positionnement.&lt;/p&gt;
&lt;p&gt;CommenÃ§ons par le CSS &lt;code&gt;.timeline-container&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.timeline-container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; flex&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;flex-direction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; column&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; relative&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;margin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 40px 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.timeline-container::after&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #e17b77&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; absolute&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;calc&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;50% - 2px&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 4px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nous utilisons le sÃ©lecteur &lt;code&gt;::after&lt;/code&gt; pour crÃ©er cette ligne rouge au milieur du &lt;code&gt;.timeline-container&lt;/code&gt;. En utilisant la fonction &lt;code&gt;calc()&lt;/code&gt;, nous pouvons positionner la ligne exactement au milieur en soustrayant la moitiÃ© de sa taille (&lt;code&gt;2px&lt;/code&gt;) Ã  &lt;code&gt;50%&lt;/code&gt;. Nous devons le faire, car par dÃ©faut, la propriÃ©tÃ© &lt;code&gt;left&lt;/code&gt; positionne en fonction du bord gauche dâ€™un Ã©lÃ©ment et non du milieu.&lt;/p&gt;
&lt;p&gt;Passons maintenant au wrapper &lt;code&gt;.timeline-item&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Ci-dessous, vous pouvez voir un exemple de la faÃ§on dont ils sont positionnÃ©s dans leur parent (le &lt;code&gt;.timeline-container&lt;/code&gt;). A des fins de dÃ©monstration, jâ€™ai ajoutÃ© une bordure pour mettre en Ã©vidence ces wrappers.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://url.com/image.jpg&quot; alt=&quot;timeline wrapper&quot;&gt;&lt;/p&gt;
&lt;p&gt;Comme vous pouvez le constater, tous les autres wrappers vont &lt;strong&gt;Ã  droite&lt;/strong&gt; et le wrapper interne (le &lt;code&gt;.timeline-item-content&lt;/code&gt;) prend moins dâ€™espace - lâ€™espace est donnÃ© par la balise &lt;code&gt;p&lt;/code&gt; qui est Ã  lâ€™intÃ©rieur (la plupart du temps).&lt;/p&gt;
&lt;p&gt;Voyons le CSS pour ceci:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.timeline-item&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; flex&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;justify-content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; flex-end&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;padding-right&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 30px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; relative&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;margin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 10px 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 50%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.timeline-item:nth-child(odd)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;align-self&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; flex-end&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;justify-content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; flex-start&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;padding-left&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 30px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;padding-right&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;La clÃ© de ceci est que nous utilisons le sÃ©lecteur &lt;code&gt;:nth-child(odd)&lt;/code&gt; et que nous dÃ©finissons la propriÃ©tÃ© &lt;code&gt;align-self&lt;/code&gt; sur &lt;code&gt;flex-end&lt;/code&gt; ce qui signifie: â€œallez Ã  droite autant que vous le pouvez!â€&lt;/p&gt;
&lt;p&gt;Ã‰tant donnÃ© que ces wrappers ont une largeur de &lt;code&gt;50%&lt;/code&gt;, vous pouvez voir que deux dâ€™entre eux occupent toute la largeur. Ã€ partir de maintenant, chaque fois que nous voulons styler diffÃ©remment quelque chose du bon cÃ´tÃ©, nous devrons utiliser cette approche.&lt;/p&gt;
&lt;p&gt;Ensuite, le &lt;code&gt;.timeline-item-content&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.timeline-item-content&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;box-shadow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0 0 5px &lt;span class=&quot;token function&quot;&gt;rgba&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;0&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 0.3&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;border-radius&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 5px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #fff&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; flex&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;flex-direction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; column&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;align-items&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; flex-end&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;padding&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 15px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; relative&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 400px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;max-width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 70%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;text-align&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; right&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.timeline-item-content::after&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos; &apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #fff&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;box-shadow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1px -1px 1px &lt;span class=&quot;token function&quot;&gt;rgba&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;0&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 0.2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; absolute&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;right&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; -7.5px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;top&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;calc&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;50% - 7.5px&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;transform&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;rotate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;45deg&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 15px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 15px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.timeline-item:nth-child(odd) .timeline-item-content&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;text-align&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; left&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;align-items&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; flex-start&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.timeline-item:nth-child(odd) .timeline-item-content::after&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;right&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; auto&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; -7.5px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;box-shadow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; -1px 1px 1px &lt;span class=&quot;token function&quot;&gt;rgba&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;0&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 0.2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nous avons quelques choses Ã  faire:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Ce wrapper a une &lt;code&gt;width&lt;/code&gt; fixe et aussi une &lt;code&gt;max-width&lt;/code&gt;. Câ€™est parce que nous voulons quâ€™il y ait des limites, ce qui signifie que sâ€™il nâ€™y a que quelques mots, nous voulons que la box ait au moins &lt;code&gt;400px&lt;/code&gt; de large, mais sâ€™il y a beaucoup de texte, il ne devrait pas occuper tout lâ€™espace. (&lt;code&gt;50%&lt;/code&gt; du wrapper &lt;code&gt;.timeline-item&lt;/code&gt;) mais le texte doit passer Ã  la ligne suivante -&gt; câ€™est la raison pour laquelle nous avons utilisÃ© ce second wrapper: &lt;code&gt;.timeline-item-content&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Les propriÃ©tÃ©s &lt;code&gt;text-align&lt;/code&gt; et &lt;code&gt;align-items&lt;/code&gt; sont utilisÃ©es pour pousser les Ã©lÃ©ments internes vers la gauche ou vers la droite, en fonction du parent.&lt;/li&gt;
&lt;li&gt;La petite flÃ¨che qui pointe vers la ligne mÃ©diane est donnÃ©e par les styles appliquÃ©s sur le sÃ©lecteur &lt;code&gt;::after&lt;/code&gt;. Fondamentalement, il sâ€™agit dâ€™une box avec une &lt;code&gt;box-shadow&lt;/code&gt; appliquÃ©e sur elle qui est tournÃ©e de &lt;code&gt;45deg&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Comme mentionnÃ© ci-dessus, nous appelons le cÃ´tÃ© droit en sÃ©lectionnant le parent avec le sÃ©lecteur &lt;code&gt;:nth-child(odd)&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Ensuite, tous les Ã©lÃ©ments internes:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.timeline-item-content .tag&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #fff&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;font-size&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 12px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;font-weight&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; bold&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;top&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 5px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 5px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;letter-spacing&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;padding&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 5px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; absolute&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;text-transform&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; uppercase&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.timeline-item:nth-child(odd) .timeline-item-content .tag&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; auto&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;right&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 5px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.timeline-item-content time&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #777&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;font-size&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 12px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;font-weight&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; bold&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.timeline-item-content p&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;font-size&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 16px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;line-height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 24px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;margin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 15px 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;max-width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 250px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.timeline-item-content a&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;font-size&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 14px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;font-weight&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; bold&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.timeline-item-content a::after&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos; â–º&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;font-size&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 12px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.timeline-item-content .circle&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #fff&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;border&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 3px solid #e17b77&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;border-radius&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 50%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; absolute&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;top&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;calc&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;50% - 10px&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;right&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; -40px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 20px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 20px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;z-index&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.timeline-item:nth-child(odd) .timeline-item-content .circle&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;right&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; auto&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; -40px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Peu de choses Ã  noter ici:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Comme vous lâ€™avez peut-Ãªtre devinÃ©, le &lt;code&gt;tag&lt;/code&gt; est positionnÃ© en &lt;code&gt;absolute&lt;/code&gt;car nous souhaitons le conserver dans le coin supÃ©rieur gauche (ou droit), quelle que soit la taille de la box.&lt;/li&gt;
&lt;li&gt;Nous voulons ajouter un petit signe aprÃ¨s la balise a pour indiquer quâ€™il sâ€™agit dâ€™un lien.&lt;/li&gt;
&lt;li&gt;Nous crÃ©ons un &lt;code&gt;.circle&lt;/code&gt;. Nous le positionnons au-dessus de la ligne mÃ©diane, directement devant la flÃ¨che.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Nous avons presque fini! ğŸ˜„ La seule chose qui reste Ã  faire est dâ€™ajouter le CSS pour que tout soit rÃ©actif, quelle que soit la table de lâ€™Ã©cran:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token atrule&quot;&gt;&lt;span class=&quot;token rule&quot;&gt;@media&lt;/span&gt; only screen and &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token property&quot;&gt;max-width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1023px&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token selector&quot;&gt;.timeline-item-content&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;max-width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token atrule&quot;&gt;&lt;span class=&quot;token rule&quot;&gt;@media&lt;/span&gt; only screen and &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token property&quot;&gt;max-width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 767px&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token selector&quot;&gt;.timeline-item-content,
    .timeline-item:nth-child(odd) .timeline-item-content&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;padding&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 15px 10px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;text-align&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; center&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;align-items&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; center&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token selector&quot;&gt;.timeline-item-content .tag&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;calc&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;100% - 10px&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;text-align&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; center&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token selector&quot;&gt;.timeline-item-content time&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;margin-top&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 20px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token selector&quot;&gt;.timeline-item-content a&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;text-decoration&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; underline&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token selector&quot;&gt;.timeline-item-content a::after&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; none&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nous avons deux media query:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Sur les petites tailles dâ€™Ã©cran dâ€™ordinateur portable - &lt;code&gt;max-width: 1023px&lt;/code&gt; - nous voulons permettre au &lt;code&gt;.timeline-item-content&lt;/code&gt; de &lt;code&gt;.timeline-item-content&lt;/code&gt; sur toute la largeur de son parent, car lâ€™Ã©cran est plus petit et sinon, il aurait lâ€™air trop serrÃ©.&lt;/li&gt;
&lt;li&gt;Sur les tÃ©lÃ©phones - &lt;code&gt;max-width: 767px&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;paramÃ©trez le &lt;code&gt;.tag&lt;/code&gt; sur toute la largeur (et pour cela nous nâ€™avons pas besoin dâ€™oublier de soustraire &lt;code&gt;10px&lt;/code&gt; du total des &lt;code&gt;100%&lt;/code&gt; - câ€™est parce que nous lâ€™avons positionnÃ© Ã  &lt;code&gt;left: 5px&lt;/code&gt;, nous enlevons donc le double de ce montant)&lt;/li&gt;
&lt;li&gt;centrer tout le texte et le pousser vers le haut juste un peu&lt;/li&gt;
&lt;li&gt;supprime le curseur sur le lien et ajoute un soulignement - son apparence est meilleure sur mobile&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Nous avons terminÃ©!&lt;/p&gt;
&lt;p&gt;Voici le rÃ©sultat:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://react-timeline-qvnqqp.stackblitz.io&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://react-timeline-qvnqqp.stackblitz.io&lt;/a&gt;&lt;/p&gt;
&lt;iframe src=&quot;https://stackblitz.com/edit/react-timeline-qvnqqp?embed=1&amp;hideExplorer=0&amp;hideNavigation=1&quot; width=&quot;100%&quot; height=&quot;600px&quot;&gt;&lt;/iframe&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Sâ€™il y a quelque chose que vous nâ€™avez pas compris dans cet article, assurez-vous de me contacter et je me ferai un plaisir de rÃ©pondre Ã  vos questions!&lt;/p&gt;
&lt;p&gt;Bon codage! ğŸ˜‡&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Architecture d'un projet node.js Bulletproof]]></title><description><![CDATA[Introduction Express.js est un excellent framework pour la crÃ©ation dâ€™une API REST en node.js, mais il ne vous donne aucune indication sur la maniÃ¨re dâ€™organiser votre projet node.js. Bien que cela puisse paraÃ®tre stupide, câ€™est un problÃ¨me rÃ©el. Une organisation correcte de la structure de votre projet node.js Ã©vitera la duplication de code, amÃ©liorera la stabilitÃ© et, Ã©ventuellement, vous aidera Ã  faire Ã©voluer vos services si cela est effectuÃ© correctement. Cet article est une recherche approfondie, issue de mes annÃ©es dâ€™expÃ©rience dans le traitement dâ€™un projet node.js mal structurÃ©, de mauvais schÃ©mas et dâ€™innombrables heures de refactorisation de code et de dÃ©placements. Table des matiÃ¨res La structure du dossier ğŸ¢ Architecture Ã  3 couches ğŸ¥ª Couche service ğŸ’¼ Couche Pub/Sub ï¸ï¸ï¸ï¸ğŸ™ï¸ï¸ Injection de dÃ©pendances ğŸ’‰ Test unitaire ğŸ•µğŸ» Cron Jobs et tÃ¢ches rÃ©currentes âš¡ Configurations et secrets ğŸ¤« Loaders ğŸ—ï¸  La structure du dossier ğŸ¢ Voici la structure du projet node.js dont je parle. Jâ€™utilise ceci dans chaque service dâ€™API REST de node.js que je construis. Voyons en dÃ©tail ce que chaque composant fait. Câ€™est plus quâ€™un moyen de commander des fichiers JavaScriptâ€¦  Architecture Ã  3 couches ğŸ¥ª Lâ€™idÃ©e est dâ€™utiliser le principe de sÃ©paration des prÃ©occupations pour Ã©loigner la logique mÃ©tier des routes de lâ€™API node.js.  Parce quâ€™un jour, vous voudrez utiliser votre logique mÃ©tier sur un outil CLI, ou ne pas aller trÃ¨s loin, dans une tÃ¢che rÃ©currente. Et faire un appel API du serveur node.js Ã  lui-mÃªme, ce nâ€™est pas une bonne idÃ©eâ€¦   Ne placez pas votre logique mÃ©tier dans les contrÃ´leurs !!! Vous pouvez Ãªtre tentÃ© dâ€™utiliser simplement les contrÃ´leurs express.js pour stocker la logique mÃ©tier de votre application, mais cela devient rapidement du code spaghetti. DÃ¨s que vous aurez besoin dâ€™Ã©crire des tests unitaires, vous finirez par avoir affaire Ã  des mocks complexes pour des objets express.js tel que req ou res. Il est difficile de distinguer quand une rÃ©ponse doit Ãªtre envoyÃ©e et quand continuer le traitement en â€œarriÃ¨re-planâ€, disons aprÃ¨s que la rÃ©ponse a Ã©tÃ© envoyÃ©e au client. Voici un exemple de ce quâ€™il ne faut pas faire.  Utilisez une couche de service pour votre logique mÃ©tier ğŸ’¼ Cette couche est lâ€™endroit oÃ¹ votre logique mÃ©tier doit vivre. Câ€™est juste un ensemble de classes, suivant les principes SOLID appliquÃ©s Ã  node.js. Dans cette couche, il ne devrait exister aucune forme de â€œrequÃªte SQLâ€, utilisez la couche dâ€™accÃ¨s aux donnÃ©es pour cela. Ã‰loignez votre code du routeur express.js Ne transmettez pas lâ€™objet req ou res Ã  la couche service Ne renvoyez aucun Ã©lÃ©ment liÃ© Ã  la couche de transport HTTP, tel quâ€™un code dâ€™Ã©tat ou des en-tÃªtes de la couche de service. Exemple Voici comment votre service travaillera dans les coulisses.  Utilisez aussi un calque Pub/Sub ğŸ™ï¸ï¸ Le modÃ¨le pub/sub va au-delÃ  de lâ€™architecture classique Ã  3 couches proposÃ©e ici, mais il est extrÃªmement utile. Le simple endpoint de lâ€™API node.js qui crÃ©e un utilisateur immÃ©diatement, peut vouloir appeler des services tiers, peut-Ãªtre Ã  un service dâ€™analyse, ou peut-Ãªtre dÃ©marrer une sÃ©quence de courriels. TÃ´t ou tard, cette simple opÃ©ration â€œcrÃ©erâ€ fera plusieurs choses, et vous obtiendrez 1000 lignes de code, le tout en une seule fonction. Cela viole le principe de la responsabilitÃ© unique. Il est donc prÃ©fÃ©rable de sÃ©parer les responsabilitÃ©s dÃ¨s le dÃ©part, afin que votre code reste maintenable. Un appel impÃ©ratif Ã  un service dÃ©pendant nâ€™est pas la meilleure faÃ§on de le faire. Une meilleure approche est dâ€™Ã©mettre un Ã©vÃ©nement, câ€™est-Ã -dire â€œun utilisateur sâ€™est inscrit avec cet emailâ€. Et vous avez terminÃ©, câ€™est maintenant la responsabilitÃ© des listeners de faire leur travail. Vous pouvez maintenant scinder les gestionnaires dâ€™Ã©vÃ©nements/listeners en plusieurs fichiers. Vous pouvez mettre les instructions en attente dans un bloc try-catch ou vous pouvez simplement le laisser Ã©chouer et gÃ©rer le  â€˜unhandledPromiseâ€™ process.on('unhandledRejection',cb)  Injection de dÃ©pendances ğŸ’‰ Dependency Injection (D.I.) ou inversion of control (IoC) est un modÃ¨le commun qui aidera lâ€™organisation de votre code, en â€œinjectantâ€ ou en passant par le constructeur les dÃ©pendances de votre classe ou fonction. De cette faÃ§on, vous aurez la possibilitÃ© dâ€™injecter une â€œdÃ©pendance compatibleâ€ lorsque, par exemple, vous Ã©crirez les tests unitaires pour le service, ou lorsque le service sera utilisÃ© dans un autre contexte. Code sans D.I. Code avec injection manuelle de dÃ©pendance Vous pouvez maintenant injecter des dÃ©pendances personnalisÃ©es. Le nombre de dÃ©pendances quâ€™un service peut avoir est infini, et refactoriser chaque instanciation de celui-ci lorsque vous en ajoutez un nouveau est une tÃ¢che ennuyeuse et sujette aux  erreurs. Câ€™est pourquoi des frameworks dâ€™injection de dÃ©pendance ont Ã©tÃ© crÃ©Ã©s. Lâ€™idÃ©e est de dÃ©clarer vos dÃ©pendances dans la classe, et quand vous avez besoin dâ€™une instance de cette classe, vous appelez simplement le Service Locator. Voyons un exemple utilisant typedi, une bibliothÃ¨que npm qui apporte lâ€™injection de dÃ©pendances Ã  node.js Pour en savoir plus sur lâ€™utilisation de typedi, consultez la documentation officielle AVERTISSEMENT exemple en typescript services/user.ts Maintenant typedi sâ€™occupera de rÃ©soudre toute dÃ©pendance dont le UserService a besoin. Lâ€™abus dâ€™appels de localisateur de service est un anti-pattern Utilisation de lâ€™injection de dÃ©pendance avec Express.js dans Node.js Lâ€™utilisation de D.I. dans express.js est la derniÃ¨re piÃ¨ce du puzzle de lâ€™architecture de ce projet node.js. Couche de routage GÃ©nial, le projet Ã  lâ€™air gÃ©nial !
Câ€™est tellement organisÃ© que jâ€™ai envie de coder quelque chose en ce moment.  Un exemple de test unitaire ğŸ•µğŸ» En utilisant lâ€™injection de dÃ©pendance et ces modÃ¨les dâ€™organisation, le test unitaire devient vraiment simple. Vous nâ€™avez pas besoin de simuler des objets req/res ou de require(â€¦) Exemple: Test unitaire pour la mÃ©thode dâ€™inscription de lâ€™utilisateur tests/unit/services/user.js  Cron Jobs et tÃ¢ches rÃ©currentes âš¡ Ainsi, maintenant que la logique mÃ©tier est encapsulÃ©e dans la couche service, il est plus facile de lâ€™utiliser depuis un job Cron. Vous ne devriez jamais compter sur setTimeout ou une autre faÃ§on primitive de retarder lâ€™exÃ©cution du code, mais sur un framework qui persiste vos jobs, et lâ€™exÃ©cution de ceux-ci, dans une base de donnÃ©es. De cette faÃ§on, vous aurez le contrÃ´le sur les jobs Ã©chouÃ©s, et la rÃ©troaction de ceux qui rÃ©ussissent.  Configurations et secrets ğŸ¤« Suivant les concepts Ã©prouvÃ©s de Twelve-Factor App pour node.js, la meilleure approche pour stocker les clÃ©s API et les chaÃ®nes de connexions aux base de donnÃ©es, câ€™est en utilisant dotenv. Mettez un fichier .env, qui ne doit jamais Ãªtre validÃ© (mais qui doit exister avec des valeurs par dÃ©faut dans votre rÃ©fÃ©rentiel) puis, le paquet npm dotenv charge le fichier .env et insert les variables dans lâ€™objet process.env de node.js. Cela pourrait suffire, mais jâ€™aimerais ajouter une Ã©tape supplÃ©mentaire.
Avoir un fichier config/index.ts oÃ¹ le paquet npm dotenv et charge le fichier .env et puis jâ€™utilise un objet pour stocker les variables, dons nous avons une structure et un code dâ€™autocomplÃ©tion. config/index.js De cette faÃ§on, vous Ã©vitez dâ€™inonder votre code avec les instructions process.env.MY_RANDOM_VAR, et en ayant lâ€™autocomplÃ©tion vous nâ€™avez pas besoin de savoir comment nommer la variable dâ€™environnement.  Loaders ğŸ—ï¸ Jâ€™ai pris ce modÃ¨le du microframework de W3Tech mais sans dÃ©pendre de leur paquet. Lâ€™idÃ©e est de diviser le processus de dÃ©marrage de votre service node.js en modules testables. Voyons une initialisation dâ€™application express.js classique Comme vous le voyez, cette partie de votre application peut Ãªtre un vrai gÃ¢chis. Voici une faÃ§on efficace dâ€™y faire face. Maintenant, les chargeurs ne sont plus que de minuscules fichiers avec un but concis loders/index.js Le loader express loaders/express.js Le loader mongo loaders/mongoose.js  Conclusion Nous plongeons en profondeur dans la structure dâ€™un projet node.js testÃ© en production, voici quelques conseils rÃ©sumÃ©s: Utiliser une architecture Ã  3 couches. Ne mettez pas votre logique mÃ©tier dans les contrÃ´leurs express.js Ayez lâ€™injection de dÃ©pendance pour votre tranquillitÃ© dâ€™esprit. Ne divulguez jamais vos mots de passe, secrets et clÃ©s API, utilisez un gestionnaire de configuration. Divisez vos configurations de serveur node.js en petits modules qui peuvent Ãªtre chargÃ©s indÃ©pendamment.]]></description><link>https://ludovicwyffels.dev/node-architecture/</link><guid isPermaLink="false">https://ludovicwyffels.dev/node-architecture/</guid><pubDate>Sat, 20 Apr 2019 08:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;Introduction&lt;/h2&gt;
&lt;p&gt;Express.js est un excellent framework pour la crÃ©ation dâ€™une API REST en node.js, mais il ne vous donne aucune indication sur la maniÃ¨re dâ€™organiser votre projet node.js.&lt;/p&gt;
&lt;p&gt;Bien que cela puisse paraÃ®tre stupide, câ€™est un problÃ¨me rÃ©el.&lt;/p&gt;
&lt;p&gt;Une organisation correcte de la structure de votre projet node.js Ã©vitera la duplication de code, amÃ©liorera la stabilitÃ© et, Ã©ventuellement, vous aidera Ã  faire Ã©voluer vos services si cela est effectuÃ© correctement.&lt;/p&gt;
&lt;p&gt;Cet article est une recherche approfondie, issue de mes annÃ©es dâ€™expÃ©rience dans le traitement dâ€™un projet node.js mal structurÃ©, de mauvais schÃ©mas et dâ€™innombrables heures de refactorisation de code et de dÃ©placements.&lt;/p&gt;
&lt;h2&gt;Table des matiÃ¨res&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#folder&quot;&gt;La structure du dossier ğŸ¢&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#architecture&quot;&gt;Architecture Ã  3 couches ğŸ¥ª&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#service&quot;&gt;Couche service ğŸ’¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#pubsub&quot;&gt;Couche Pub/Sub ï¸ï¸ï¸ï¸ğŸ™ï¸ï¸&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#di&quot;&gt;Injection de dÃ©pendances ğŸ’‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#test&quot;&gt;Test unitaire ğŸ•µğŸ»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#cron&quot;&gt;Cron Jobs et tÃ¢ches rÃ©currentes âš¡&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#configs&quot;&gt;Configurations et secrets ğŸ¤«&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#loaders&quot;&gt;Loaders ğŸ—ï¸&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a name=&quot;folder&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;La structure du dossier ğŸ¢&lt;/h2&gt;
&lt;p&gt;Voici la structure du projet node.js dont je parle.&lt;/p&gt;
&lt;p&gt;Jâ€™utilise ceci dans chaque service dâ€™API REST de node.js que je construis. Voyons en dÃ©tail ce que chaque composant fait.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;src
â”‚   app.js          # App entry point
â””â”€â”€â”€api             # Express route controllers for all the endpoints of the app
â””â”€â”€â”€config          # Environment variables and configuration related stuff
â””â”€â”€â”€jobs            # Jobs definitions for agenda.js
â””â”€â”€â”€loaders         # Split the startup process into modules
â””â”€â”€â”€models          # Database models
â””â”€â”€â”€services        # All the business logic is here
â””â”€â”€â”€subscribers     # Event handlers for async task
â””â”€â”€â”€types           # Type declaration files (d.ts) for Typescript&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Câ€™est plus quâ€™un moyen de commander des fichiers JavaScriptâ€¦&lt;/p&gt;
&lt;p&gt;&lt;a name=&quot;architecture&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Architecture Ã  3 couches ğŸ¥ª&lt;/h2&gt;
&lt;p&gt;Lâ€™idÃ©e est dâ€™utiliser le &lt;strong&gt;principe de sÃ©paration des prÃ©occupations&lt;/strong&gt; pour Ã©loigner la logique mÃ©tier des routes de lâ€™API node.js.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 755px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e7549783fc618ca44dcc8daef066a986/48906/server_layers.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 78.41059602649007%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsSAAALEgHS3X78AAABi0lEQVQ4y4WU646CMBCFff8X9AcCMZFE7oKKF8DufpOcCRjdbTJpaWfOzJzTsnm9XmGaptC2bei67qP1fR/O57PZNx9snuewCb/j8XgYIBvP5zOM4+jG9/V6NbDL5bLa10xBTdPY2gFx/jQISpIkbLfbsN/vw7dBwhWgMtzvd7Pb7eZrDB9M3xSgNXHEk3wDh7SKA1loj8OqqsIwDN6qzpnhi4r1zYwvWAYoYcTH6XQKWZZZIlUmUxckFIeKM0DxVNe1Z2R9OBxsTeYlBXyjOiLirxtAV4A6h2x+Gjgej0dLkuf5V/EAXonCBoOylzMgqAtomqZW2XLID14dkEVRFH5BCaIy1ohEu8y0S4WckwSuMfzg1FqWKMtsAIgChMF0GxgEItoyRmu/NlRAdsBoM4oiB3436CnL0mMknqsMh5AuNfXU2NdToypmkuMnKqS+X+y/nh687HY74yuOY7tKPEMA/n16kEvJqkY0AIoItMiMeAByrqqJ48wB9bdALSmHwdXyyelpvvvJSPIDQV3ZnsiBHJsAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/e7549783fc618ca44dcc8daef066a986/8ffb1/server_layers.webp 293w,
/static/e7549783fc618ca44dcc8daef066a986/17bf8/server_layers.webp 585w,
/static/e7549783fc618ca44dcc8daef066a986/7f4af/server_layers.webp 755w&quot;
          sizes=&quot;(max-width: 755px) 100vw, 755px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/e7549783fc618ca44dcc8daef066a986/f93ee/server_layers.png 293w,
/static/e7549783fc618ca44dcc8daef066a986/8c0a8/server_layers.png 585w,
/static/e7549783fc618ca44dcc8daef066a986/48906/server_layers.png 755w&quot;
          sizes=&quot;(max-width: 755px) 100vw, 755px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/e7549783fc618ca44dcc8daef066a986/48906/server_layers.png&quot;
          alt=&quot;3 layer pattern&quot;
          title=&quot;3 layer pattern&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Parce quâ€™un jour, vous voudrez utiliser votre logique mÃ©tier sur un outil CLI, ou ne pas aller trÃ¨s loin, dans une tÃ¢che rÃ©currente.&lt;/p&gt;
&lt;p&gt;Et faire un appel API du serveur node.js Ã  lui-mÃªme, ce nâ€™est pas une bonne idÃ©eâ€¦&lt;/p&gt;
&lt;p&gt; &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 652px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8ba15b5b22a1a677396ca792a04418e3/39973/server_layers_2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 81.13496932515338%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsSAAALEgHS3X78AAABd0lEQVQ4y42TWY/CMAyE+f8/ri+8tQ9V1Zaj0Isbepj9LDlKsyxaS0NC6kzG42Q1z7NM0ySv12uB5/P5FX7eMAxiPCv5CT4cDgc5n89yOp0U1+tV7ve73G63BR6Ph1wuF5fHnqZplBhSJeQPBH6QlKap5Hkum81GiqJQJEmixH7YwYQjhADpKGDsuk52u50cj0ep69qN+/1eCcLcBeE4jrqIfMC8bVvdiHIfkGRZJtvtVv9b6XBoyfyAsAQI/wo8DMteNAXZlNP3vZ6GZ6hgYwhyyLV8qgHWaechi1a+Kab7eIe/5iHfUQKYE9j0qykshsGpKC3LUkcQ2kPgpSMkASVVVbkS8A81dh99sEZDuLfMzQJ3D/2m2OgrpjQzHBCUbxb5e7UpNrGXABl3jfIo2crxX4opY84at8IOdh5Swqd7Z0ThuoE9NI1x0ZTwXtnzW6/XEsexPsMoilRZGB+fHr6ECkni7uHnN4X2qlyXqT/06r8wUmvaG9Vj2kbgv3TmAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/8ba15b5b22a1a677396ca792a04418e3/8ffb1/server_layers_2.webp 293w,
/static/8ba15b5b22a1a677396ca792a04418e3/17bf8/server_layers_2.webp 585w,
/static/8ba15b5b22a1a677396ca792a04418e3/7f0f0/server_layers_2.webp 652w&quot;
          sizes=&quot;(max-width: 652px) 100vw, 652px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/8ba15b5b22a1a677396ca792a04418e3/f93ee/server_layers_2.png 293w,
/static/8ba15b5b22a1a677396ca792a04418e3/8c0a8/server_layers_2.png 585w,
/static/8ba15b5b22a1a677396ca792a04418e3/39973/server_layers_2.png 652w&quot;
          sizes=&quot;(max-width: 652px) 100vw, 652px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/8ba15b5b22a1a677396ca792a04418e3/39973/server_layers_2.png&quot;
          alt=&quot;3 layer pattern for node.js REST API&quot;
          title=&quot;3 layer pattern for node.js REST API&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;Ne placez pas votre logique mÃ©tier dans les contrÃ´leurs !!!&lt;/h3&gt;
&lt;p&gt;Vous pouvez Ãªtre tentÃ© dâ€™utiliser simplement les contrÃ´leurs express.js pour stocker la logique mÃ©tier de votre application, mais cela devient rapidement du code spaghetti. DÃ¨s que vous aurez besoin dâ€™Ã©crire des tests unitaires, vous finirez par avoir affaire Ã  des mocks complexes pour des objets express.js tel que &lt;code&gt;req&lt;/code&gt; ou &lt;code&gt;res&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Il est difficile de distinguer quand une rÃ©ponse doit Ãªtre envoyÃ©e et quand continuer le traitement en â€œarriÃ¨re-planâ€, disons aprÃ¨s que la rÃ©ponse a Ã©tÃ© envoyÃ©e au client.&lt;/p&gt;
&lt;p&gt;Voici un exemple de ce quâ€™il ne faut pas faire.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;route&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// This should be a middleware or should be handled by a library like Joi.&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; userDTO &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;body&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; isUserValid &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; validators&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userDTO&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;isUserValid&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;400&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// Lot of business logic here...&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; userRecord &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; UserModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userDTO&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;delete&lt;/span&gt; userRecord&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;password&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;delete&lt;/span&gt; userRecord&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;salt&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; companyRecord &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; CompanyModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userRecord&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; companyDashboard &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; CompanyDashboard&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userRecord&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; companyRecord&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;whatever&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;


  &lt;span class=&quot;token comment&quot;&gt;// And here is the &apos;optimization&apos; that mess up everything.&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// The response is sent to client...&lt;/span&gt;
  res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; userRecord&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; company&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; companyRecord &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// But code execution continues :(&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; salaryRecord &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; SalaryModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userRecord&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; companyRecord&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  eventTracker&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;track&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;user_signup&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;userRecord&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;companyRecord&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;salaryRecord&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  intercom&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createUser&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userRecord&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  gaAnalytics&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;user_signup&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;userRecord&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; EmailService&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;startSignupSequence&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userRecord&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a name=&quot;service&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Utilisez une couche de service pour votre logique mÃ©tier ğŸ’¼&lt;/h2&gt;
&lt;p&gt;Cette couche est lâ€™endroit oÃ¹ votre logique mÃ©tier doit vivre.&lt;/p&gt;
&lt;p&gt;Câ€™est juste un ensemble de classes, suivant les principes SOLID appliquÃ©s Ã  node.js.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Dans cette couche, il ne devrait exister aucune forme de â€œrequÃªte SQLâ€, utilisez la couche dâ€™accÃ¨s aux donnÃ©es pour cela.&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ã‰loignez votre code du routeur express.js&lt;/li&gt;
&lt;li&gt;Ne transmettez pas lâ€™objet req ou res Ã  la couche service&lt;/li&gt;
&lt;li&gt;Ne renvoyez aucun Ã©lÃ©ment liÃ© Ã  la couche de transport HTTP, tel quâ€™un code dâ€™Ã©tat ou des en-tÃªtes de la couche de service.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Exemple&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;route&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
  validators&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;userSignup&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// this middleware take care of validation&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// The actual responsability of the route layer.&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; userDTO &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;body&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// Call to service layer.&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// Abstraction on how to access the data layer and the business logic.&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; company &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; UserService&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Signup&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userDTO&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// Return a response to client.&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; company &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Voici comment votre service travaillera dans les coulisses.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; UserModel &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../models/user&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; CompanyModel &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../models/company&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;UserService&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Signup&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; userRecord &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; UserModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;user&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; companyRecord &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; CompanyModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userRecord&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// needs userRecord to have the database id &lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; salaryRecord &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; SalaryModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userRecord&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; companyRecord&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// depends on user and company to be created&lt;/span&gt;

  &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;whatever

  &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; EmailService&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;startSignupSequence&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userRecord&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;do more stuff

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; userRecord&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; company&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; companyRecord &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a name=&quot;pubsub&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Utilisez aussi un calque Pub/Sub ğŸ™ï¸ï¸&lt;/h2&gt;
&lt;p&gt;Le modÃ¨le pub/sub va au-delÃ  de lâ€™architecture classique Ã  3 couches proposÃ©e ici, mais il est extrÃªmement utile.&lt;/p&gt;
&lt;p&gt;Le simple endpoint de lâ€™API node.js qui crÃ©e un utilisateur immÃ©diatement, peut vouloir appeler des services tiers, peut-Ãªtre Ã  un service dâ€™analyse, ou peut-Ãªtre dÃ©marrer une sÃ©quence de courriels.&lt;/p&gt;
&lt;p&gt;TÃ´t ou tard, cette simple opÃ©ration â€œcrÃ©erâ€ fera plusieurs choses, et vous obtiendrez 1000 lignes de code, le tout en une seule fonction.&lt;/p&gt;
&lt;p&gt;Cela viole le principe de la responsabilitÃ© unique.&lt;/p&gt;
&lt;p&gt;Il est donc prÃ©fÃ©rable de sÃ©parer les responsabilitÃ©s dÃ¨s le dÃ©part, afin que votre code reste maintenable.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; UserModel &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../models/user&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; CompanyModel &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../models/company&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; SalaryModel &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../models/salary&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;UserService&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Signup&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; userRecord &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; UserModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;user&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; companyRecord &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; CompanyModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;user&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; salaryRecord &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; SalaryModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;user&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; salary&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    eventTracker&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;track&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&apos;user_signup&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      userRecord&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      companyRecord&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      salaryRecord
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    intercom&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createUser&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      userRecord
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    gaAnalytics&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&apos;user_signup&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      userRecord
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; EmailService&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;startSignupSequence&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userRecord&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;more stuff

    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; userRecord&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; company&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; companyRecord &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Un appel impÃ©ratif Ã  un service dÃ©pendant nâ€™est pas la meilleure faÃ§on de le faire.&lt;/p&gt;
&lt;p&gt;Une meilleure approche est dâ€™Ã©mettre un Ã©vÃ©nement, câ€™est-Ã -dire â€œun utilisateur sâ€™est inscrit avec cet emailâ€.&lt;/p&gt;
&lt;p&gt;Et vous avez terminÃ©, câ€™est maintenant la responsabilitÃ© des listeners de faire leur travail.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; UserModel &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../models/user&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; CompanyModel &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../models/company&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; SalaryModel &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../models/salary&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;UserService&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Signup&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; userRecord &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;userModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;user&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; companyRecord &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;companyModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;user&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;eventEmitter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;emit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;user_signup&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; userRecord&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; company&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; companyRecord &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; userRecord
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Vous pouvez maintenant scinder les gestionnaires dâ€™Ã©vÃ©nements/listeners en plusieurs fichiers.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;eventEmitter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;user_signup&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; company &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  eventTracker&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;track&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&apos;user_signup&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    user&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    company&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  intercom&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createUser&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    user
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  gaAnalytics&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&apos;user_signup&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    user
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;eventEmitter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;user_signup&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; company &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; salaryRecord &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; SalaryModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;user&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; company&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;eventEmitter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;user_signup&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; company &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; EmailService&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;startSignupSequence&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;user&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Vous pouvez mettre les instructions en attente dans un bloc &lt;code&gt;try-catch&lt;/code&gt; ou vous pouvez simplement le laisser Ã©chouer et gÃ©rer le  â€˜unhandledPromiseâ€™ &lt;code&gt;process.on(&apos;unhandledRejection&apos;,cb)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;a name=&quot;di&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Injection de dÃ©pendances ğŸ’‰&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;Dependency Injection&lt;/code&gt; (D.I.) ou &lt;code&gt;inversion of control&lt;/code&gt; (IoC) est un modÃ¨le commun qui aidera lâ€™organisation de votre code, en â€œinjectantâ€ ou en passant par le constructeur les dÃ©pendances de votre classe ou fonction.&lt;/p&gt;
&lt;p&gt;De cette faÃ§on, vous aurez la possibilitÃ© dâ€™injecter une â€œdÃ©pendance compatibleâ€ lorsque, par exemple, vous Ã©crirez les tests unitaires pour le service, ou lorsque le service sera utilisÃ© dans un autre contexte.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Code sans D.I.&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; UserModel &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../models/user&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; CompanyModel &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../models/company&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; SalaryModel &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../models/salary&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;UserService&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;Sigup&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// Caling UserMode, CompanyModel, etc&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;em&gt;Code avec injection manuelle de dÃ©pendance&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;UserService&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;userModel&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; companyModel&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; salaryModel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;userModel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; userModel&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;companyModel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; companyModel&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;salaryModel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; salaryModel&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;getMyUser&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;userId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// models available throug &apos;this&apos;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; user &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;userModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;findById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Vous pouvez maintenant injecter des dÃ©pendances personnalisÃ©es.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; UserService &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../services/user&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; UserModel &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../models/user&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; CompanyModel &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../models/company&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; salaryModelMock &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;calculateNetSalary&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;42&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; userServiceInstance &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;UserService&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userModel&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; companyModel&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; salaryModelMock&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; user &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; userServiceInstance&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getMyUser&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;12346&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Le nombre de dÃ©pendances quâ€™un service peut avoir est infini, et refactoriser chaque instanciation de celui-ci lorsque vous en ajoutez un nouveau est une tÃ¢che ennuyeuse et sujette aux  erreurs.&lt;/p&gt;
&lt;p&gt;Câ€™est pourquoi des frameworks dâ€™injection de dÃ©pendance ont Ã©tÃ© crÃ©Ã©s.&lt;/p&gt;
&lt;p&gt;Lâ€™idÃ©e est de dÃ©clarer vos dÃ©pendances dans la classe, et quand vous avez besoin dâ€™une instance de cette classe, vous appelez simplement le &lt;code&gt;Service Locator&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Voyons un exemple utilisant &lt;a href=&quot;https://www.npmjs.com/package/typedi&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;&lt;code&gt;typedi&lt;/code&gt;, une bibliothÃ¨que npm&lt;/a&gt; qui apporte lâ€™injection de dÃ©pendances Ã  node.js&lt;/p&gt;
&lt;p&gt;Pour en savoir plus sur lâ€™utilisation de &lt;code&gt;typedi&lt;/code&gt;, consultez la &lt;a href=&quot;https://github.com/typestack/typedi&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;documentation officielle&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;AVERTISSEMENT exemple en typescript&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-typescript line-numbers&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Service &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;typedi&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
@&lt;span class=&quot;token function&quot;&gt;Service&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;UserService&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; userModel&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; companyModel&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; salaryModel&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;getMyUser&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;userId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; user &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;userModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;findById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;services/user.ts&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Maintenant &lt;em&gt;typedi&lt;/em&gt; sâ€™occupera de rÃ©soudre toute dÃ©pendance dont le &lt;code&gt;UserService&lt;/code&gt; a besoin.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Container &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;typedi&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; UserService &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../services/user&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; userServiceInstance &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Container&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;UserService&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; user &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; userServiceInstance&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getMyUser&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;12346&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;em&gt;Lâ€™abus dâ€™appels de localisateur de service est un anti-pattern&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Utilisation de lâ€™injection de dÃ©pendance avec Express.js dans Node.js&lt;/p&gt;
&lt;p&gt;Lâ€™utilisation de D.I. dans express.js est la derniÃ¨re piÃ¨ce du puzzle de lâ€™architecture de ce projet node.js.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Couche de routage&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;route&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
  &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; userDTO &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;body&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; userServiceInstance &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Container&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;UserService&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Service locator&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; company &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; userServiceInstance&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Signup&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userDTO&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; company &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;GÃ©nial, le projet Ã  lâ€™air gÃ©nial !
Câ€™est tellement organisÃ© que jâ€™ai envie de coder quelque chose en ce moment.&lt;/p&gt;
&lt;p&gt;&lt;a name=&quot;test&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Un exemple de test unitaire ğŸ•µğŸ»&lt;/h2&gt;
&lt;p&gt;En utilisant lâ€™injection de dÃ©pendance et ces modÃ¨les dâ€™organisation, le test unitaire devient vraiment simple.&lt;/p&gt;
&lt;p&gt;Vous nâ€™avez pas besoin de simuler des objets req/res ou de require(â€¦)&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Exemple: Test unitaire pour la mÃ©thode dâ€™inscription de lâ€™utilisateur&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;tests/unit/services/user.js&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; UserService &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../../../src/services/user&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;User service unit tests&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Signup&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Should create user record and emit user_signup event&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; eventEmitterService &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        emit&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; jest&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; userModel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function-variable function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;user&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            _id&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;mock-user-id&apos;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; companyModel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function-variable function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            owner&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_id&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            companyTaxId&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;12345&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; userInput&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        fullname&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;User Unit Test&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        email&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;test@example.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; userService &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;UserService&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userModel&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; companyModel&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; eventEmitterService&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; userRecord &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; userService&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;SignUp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;teamId&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toHexString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; userInput&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

      &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userRecord&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toBeDefined&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userRecord&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toBeDefined&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;eventEmitterService&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;emit&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toBeCalled&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a name=&quot;cron&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Cron Jobs et tÃ¢ches rÃ©currentes âš¡&lt;/h2&gt;
&lt;p&gt;Ainsi, maintenant que la logique mÃ©tier est encapsulÃ©e dans la couche service, il est plus facile de lâ€™utiliser depuis un job Cron.&lt;/p&gt;
&lt;p&gt;Vous ne devriez jamais compter sur &lt;code&gt;setTimeout&lt;/code&gt; ou une autre faÃ§on primitive de retarder lâ€™exÃ©cution du code, mais sur un framework qui persiste vos jobs, et lâ€™exÃ©cution de ceux-ci, dans une base de donnÃ©es.&lt;/p&gt;
&lt;p&gt;De cette faÃ§on, vous aurez le contrÃ´le sur les jobs Ã©chouÃ©s, et la rÃ©troaction de ceux qui rÃ©ussissent.&lt;/p&gt;
&lt;p&gt;&lt;a name=&quot;configs&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Configurations et secrets ğŸ¤«&lt;/h2&gt;
&lt;p&gt;Suivant les concepts Ã©prouvÃ©s de &lt;a href=&quot;https://12factor.net/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Twelve-Factor App&lt;/a&gt; pour node.js, la meilleure approche pour stocker les clÃ©s API et les chaÃ®nes de connexions aux base de donnÃ©es, câ€™est en utilisant &lt;strong&gt;dotenv&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Mettez un fichier &lt;code&gt;.env&lt;/code&gt;, qui ne doit jamais Ãªtre validÃ© &lt;em&gt;(mais qui doit exister avec des valeurs par dÃ©faut dans votre rÃ©fÃ©rentiel)&lt;/em&gt; puis, le paquet npm &lt;code&gt;dotenv&lt;/code&gt; charge le fichier &lt;code&gt;.env&lt;/code&gt; et insert les variables dans lâ€™objet &lt;code&gt;process.env&lt;/code&gt; de node.js.&lt;/p&gt;
&lt;p&gt;Cela pourrait suffire, mais jâ€™aimerais ajouter une Ã©tape supplÃ©mentaire.
Avoir un fichier &lt;code&gt;config/index.ts&lt;/code&gt; oÃ¹ le paquet npm &lt;code&gt;dotenv&lt;/code&gt; et charge le fichier &lt;code&gt;.env&lt;/code&gt; et puis jâ€™utilise un objet pour stocker les variables, dons nous avons une structure et un code dâ€™autocomplÃ©tion.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;config/index.js&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; dotenv &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;dotenv&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// config() will read your .env file, parse the contents, assign it to process.env.&lt;/span&gt;
dotenv&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  port&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PORT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  databaseURL&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DATABASE_URI&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  paypal&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    publicKey&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PAYPAL_PUBLIC_KEY&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    secretKey&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PAYPAL_SECRET_KEY&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  paypal&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    publicKey&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PAYPAL_PUBLIC_KEY&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    secretKey&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PAYPAL_SECRET_KEY&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  mailchimp&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    apiKey&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;MAILCHIMP_API_KEY&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    sender&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;MAILCHIMP_SENDER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;De cette faÃ§on, vous Ã©vitez dâ€™inonder votre code avec les instructions &lt;code&gt;process.env.MY_RANDOM_VAR&lt;/code&gt;, et en ayant lâ€™autocomplÃ©tion vous nâ€™avez pas besoin de savoir comment nommer la variable dâ€™environnement.&lt;/p&gt;
&lt;p&gt;&lt;a name=&quot;loaders&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Loaders ğŸ—ï¸&lt;/h2&gt;
&lt;p&gt;Jâ€™ai pris ce modÃ¨le du &lt;a href=&quot;https://www.npmjs.com/package/microframework-w3tec&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;microframework de W3Tech&lt;/a&gt; mais sans dÃ©pendre de leur paquet.&lt;/p&gt;
&lt;p&gt;Lâ€™idÃ©e est de diviser le processus de dÃ©marrage de votre service node.js en modules testables.&lt;/p&gt;
&lt;p&gt;Voyons une initialisation dâ€™application express.js classique&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; mongoose &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;mongoose&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; express &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;express&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; bodyParser &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;body-parser&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; session &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;express-session&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; cors &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;cors&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; errorhandler &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;errorhandler&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; app &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;express&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/status&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/status&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;cors&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;morgan&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;dev&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;bodyParser&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;urlencoded&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; extended&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;bodyParser&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;setupForStripeWebhooks&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;method-override&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;express&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;static&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__dirname &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/public&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; secret&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;SECRET&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; cookie&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; maxAge&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;60000&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; resave&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; saveUninitialized&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
mongoose&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;connect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DATABASE_URL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useNewUrlParser&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./config/passport&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./models/user&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./models/company&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./routes&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; err &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Not Found&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  err&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;status &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;404&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;status &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;500&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;errors&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    message&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; err&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;message&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    error&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;


&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; more stuff 

&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; maybe start up Redis

&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; maybe add more middlewares

&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;startServer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;    
  app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;listen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PORT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;Your server is ready !&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Run the async function to start our server&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;startServer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Comme vous le voyez, cette partie de votre application peut Ãªtre un vrai gÃ¢chis.&lt;/p&gt;
&lt;p&gt;Voici une faÃ§on efficace dâ€™y faire face.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; loaders &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./loaders&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; express &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;express&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;startServer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; app &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;express&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; loaders&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; expressApp&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; app &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;listen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PORT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;Your server is ready !&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;startServer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Maintenant, les chargeurs ne sont plus que de minuscules fichiers avec un but concis&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;loders/index.js&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; expressLoader &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./express&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; mongooseLoader &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./mongoose&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; expressApp &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; mongoConnection &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;mongooseLoader&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;MongoDB Intialized&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;expressLoader&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; app&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; expressApp &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Express Intialized&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// ... more loaders can be here&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// ... Initialize agenda&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// ... or Redis, or whatever you want}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Le loader express&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;loaders/express.js&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; express &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;express&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; bodyParser &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;body-parser&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; cors &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;cors&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; app &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; app&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; express&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Application &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/status&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/status&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;enable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;trust proxy&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;cors&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;morgan&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;dev&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;bodyParser&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;urlencoded&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; extended&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// ...More middlewares&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// Return the express app&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; app&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Le loader mongo&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;loaders/mongoose.js&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; mongoose &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;mongoose&apos;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Promise&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;any&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; connection &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; mongoose&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;connect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DATABASE_URL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useNewUrlParser&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; connection&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;connection&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;db&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a name=&quot;conclusion&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Nous plongeons en profondeur dans la structure dâ€™un projet node.js testÃ© en production, voici quelques conseils rÃ©sumÃ©s:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Utiliser une architecture Ã  3 couches.&lt;/li&gt;
&lt;li&gt;Ne mettez pas votre logique mÃ©tier dans les contrÃ´leurs express.js&lt;/li&gt;
&lt;li&gt;Ayez lâ€™injection de dÃ©pendance pour votre tranquillitÃ© dâ€™esprit.&lt;/li&gt;
&lt;li&gt;Ne divulguez jamais vos mots de passe, secrets et clÃ©s API, utilisez un gestionnaire de configuration.&lt;/li&gt;
&lt;li&gt;Divisez vos configurations de serveur node.js en petits modules qui peuvent Ãªtre chargÃ©s indÃ©pendamment.&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Comment Ã©crire de meilleures conditions en JavaScript]]></title><description><![CDATA[1. Utilisez Array.includes pour plusieurs critÃ¨res Jetons un coup dâ€™oeil Ã  lâ€™exemple ci-dessous: Ã€ premiÃ¨re vue, lâ€™exemple ci-dessus semble bon. Cependant, que se passe-t-il si nous obtenons plus de fruits rouges, par exemple des cherry et des cranberries? Allons-nous Ã©tendre la dÃ©claration avec plus ||? Nous pouvons rÃ©Ã©crire la condition ci-dessus en utilisant `Array.includes (Array.includes): 2. Moins dâ€™emboÃ®tements, retour hÃ¢tif DÃ©veloppons lâ€™exemple prÃ©cÃ©dent pour inclure deux conditions supplÃ©mentaires: si aucun fruit nâ€™est fourni, lancer une erreur acceptÃ©e et imprimer la quantitÃ© de fruits si elle dÃ©passe 10. Regardez le code ci-dessus, nous avons: 1 instruction if / else qui filtre les conditions non valides 3 niveaux de dÃ©clarations if imbriquÃ© (conditions 1, 2 et 3) Une rÃ¨gle gÃ©nÃ©rale que je suis personnellement est le retour anticipÃ© lorsque des conditions invalides sont trouvÃ©es. En faisant cela, nous avons un niveau moins de dÃ©clarations imbriquÃ©es. Ce style de codage convient particuliÃ¨rement lorsque vous avez une dÃ©claration if long (imaginez que vous devez faire dÃ©filer lâ€™Ã©cran jusquâ€™au bas de la page pour savoir quâ€™il existe une autre instruction, pas cool). Nous pouvons rÃ©duire davantage la nidification en inversant les conditions et en revenant plus tÃ´t. Regardez la condition 2 ci-dessous pour voir comment nous procÃ©dons : En inversant les conditions de la condition 2, notre code est maintenant exempt dâ€™instruction imbriquÃ©e. Cette technique est utile lorsque la logique est longue et que nous voulons arrÃªter dâ€™autres processus lorsquâ€™une condition nâ€™est pas remplie. Cependant, ce nâ€™est pas une rÃ¨gle absolue. Demandez-vous si cette version (sans imbrication) est meilleure / plus lisible que la prÃ©cÃ©dente (condition 2 avec imbriquÃ©e)? Pour moi, je le laisserais comme dans la version prÃ©cÃ©dente (condition 2 avec imbriquÃ©e) parce que: le code est court et simple, il est plus clair avec imbriquÃ© si condition dâ€™inversion peut impliquer plus de processus de pensÃ©e (augmentation de la charge cognitive) Par consÃ©quent, vise toujours moins de nidification et de retour anticipÃ©, mais nâ€™en faites pas trop. Il existe un article et une discussion sur StackOverflow qui approfondissent ce sujet si vous Ãªtes intÃ©ressÃ©: Avoid Else, Return Early par Tim Oxley Discussion StackOverflow sur le style de programmation if/else 3. Utiliser les paramÃ¨tres de fonction par dÃ©faut et la destruction Je suppose que le code ci-dessous pourrait vous sembler familier. Nous devons toujours vÃ©rifier les valeurs null / undefined et assigner des valeurs par dÃ©faut lorsque vous utilisez JavaScript: En fait, on peut Ã©liminer la variable q en assignant des paramÃ¨tres de fonction par dÃ©faut. Beaucoup plus facile et intuitif nâ€™est-ce pas? Veuillez noter que chaque paramÃ¨tre peut avoir son propre paramÃ¨tre de fonction par dÃ©faut. Par exemple, nous pouvons aussi assigner une valeur par dÃ©faut aux fruits: function test (fruit = 'unknown', quantity = 1). Et si notre fruit est un objet? Peut-on assigner un paramÃ¨tre par dÃ©faut? Regardez lâ€™exemple ci-dessus : nous voulons afficher le nom du fruit sâ€™il est disponible ou nous allons afficher inconnus. Nous pouvons Ã©viter le contrÃ´le conditionnel de fruit && fruit.name avec le paramÃ¨tre de fonction par dÃ©faut et la destruction. Puisque nous nâ€™avons besoin que de la propriÃ©tÃ© name de fruit, nous pouvons dÃ©structurer le paramÃ¨tre en utilisant {name}, alors nous pouvons utiliser name comme variable dans notre code au lieu de fruit.name. Nous assignons aussi lâ€™objet vide {} comme valeur par dÃ©faut. Si nous ne le faisons pas, vous obtiendrez une erreur lors de lâ€™exÃ©cution de la ligne test(undefined) - Cannot destructure property name of 'undefined' or 'null'. car il nâ€™y a pas de propriÃ©tÃ© name dans undefined. Si cela ne vous dÃ©range pas dâ€™utiliser des bibliothÃ¨ques tierces, il y a plusieurs faÃ§ons de rÃ©duire les contrÃ´les nuls: utiliser la fonction get de Lodash utiliser la bibliothÃ¨que open source idx de Facebook (avec Babeljs) Voici un exemple dâ€™utilisation de Lodash: 4. Favorisez Map / Objet LittÃ©ral par rapport Ã  lâ€™instruction Switch Regardons lâ€™exemple ci-dessous - nous voulons afficher des fruits en fonction de la couleur: Le code ci-dessus ne semble rien de mal, mais je le trouve assez verbeux. Le mÃªme rÃ©sultat peut Ãªtre obtenu avec un objet littÃ©ral avec une syntaxe plus prore: Vous pouvez Ã©galement utiliser Map pour obtenir le mÃªme rÃ©sultat: Map est le type dâ€™objet disponible depuis ES2015, qui vous permet dâ€™enregistrer des paires de clÃ©s/valeur. Devrions-nous interdire lâ€™utilisation des dÃ©clarations switch? Ne vous limitez pas Ã  cela. Personnellement, jâ€™utilise des objets littÃ©raux chaque fois que câ€™est possible, mais je nâ€™Ã©tablirais pas une rÃ¨gle stricte pour bloquer cela - utilisez celui qui a un sens pour votre scÃ©nario. Todd Motto a un article qui creuse plus en profondeur sur les dÃ©clarations switch par rapport aux objets littÃ©raux. Vous pouvez le lire ici. Refonte de la syntaxe Pour lâ€™exemple ci-dessus, nous pouvons rÃ©ellement refactoriser notre code pour obtenir le mÃªme rÃ©sultat avec Array.filter. Il y a toujours plus dâ€™une faÃ§on dâ€™obtenir le mÃªme rÃ©sultat. Nous en avons montrÃ© 4 avec le mÃªme exemple. Coder, câ€™est amusant ! 5. Utilisez Array.every & Array.some pour tous les critÃ¨res / critÃ¨res partiels Ce dernier conseil concerne lâ€™utilisation de la nouvelle fonction JavaScript Array (mais pas si nouvelle) pour rÃ©duire les lignes de code. Regardez le code ci-dessous - nous voulons vÃ©rifier si tous les fruits sont de couleur rouge: Le code est si long ! Nous pouvons rÃ©duire le nombre de lignes avec Array.every: Câ€™est plus propre, non ? De la mÃªme maniÃ¨re, si nous voulons tester si un fruit est rouge, nous pouvons utiliser Array.some pour lâ€™obtenir en une ligne. RÃ©sumÃ© Produisons ensemble un code plus lisible. Jâ€™espÃ¨re que vous avez appris quelque chose de nouveau dans cet article. Happy coding!]]></description><link>https://ludovicwyffels.dev/js-conditions/</link><guid isPermaLink="false">https://ludovicwyffels.dev/js-conditions/</guid><pubDate>Fri, 19 Apr 2019 08:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;1. Utilisez Array.includes pour plusieurs critÃ¨res&lt;/h2&gt;
&lt;p&gt;Jetons un coup dâ€™oeil Ã  lâ€™exemple ci-dessous:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// condition&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;fruit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fruit &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;apple&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; fruit &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;strawberry&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;red&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ã€ premiÃ¨re vue, lâ€™exemple ci-dessus semble bon. Cependant, que se passe-t-il si nous obtenons plus de fruits rouges, par exemple des &lt;code&gt;cherry&lt;/code&gt; et des &lt;code&gt;cranberries&lt;/code&gt;? Allons-nous Ã©tendre la dÃ©claration avec plus &lt;code&gt;||&lt;/code&gt;?&lt;/p&gt;
&lt;p&gt;Nous pouvons rÃ©Ã©crire la condition ci-dessus en utilisant `Array.includes (&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/includes&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Array.includes&lt;/a&gt;):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;fruit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// extract conditions to array&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; redFruits &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;apple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;strawberry&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;cherry&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;cranberries&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;redFruits&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;includes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fruit&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;red&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;2. Moins dâ€™emboÃ®tements, retour hÃ¢tif&lt;/h2&gt;
&lt;p&gt;DÃ©veloppons lâ€™exemple prÃ©cÃ©dent pour inclure deux conditions supplÃ©mentaires:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;si aucun fruit nâ€™est fourni, lancer une erreur&lt;/li&gt;
&lt;li&gt;acceptÃ©e et imprimer la quantitÃ© de fruits si elle dÃ©passe 10.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;fruit&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; quantity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; redFruits &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;apple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;strawberry&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;cherry&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;cranberries&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// condition 1: fruit must has value&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fruit&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// condition 2: must be red&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;redFruits&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;includes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fruit&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;red&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// condition 3: must be big quantity&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;quantity &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;big quantity&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;No fruit!&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// test results&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// error: No fruits&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;apple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// print: red&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;apple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// print: red, big quantity&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Regardez le code ci-dessus, nous avons:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1 instruction if / else qui filtre les conditions non valides&lt;/li&gt;
&lt;li&gt;3 niveaux de dÃ©clarations if imbriquÃ© (conditions 1, 2 et 3)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Une rÃ¨gle gÃ©nÃ©rale que je suis personnellement est le &lt;strong&gt;retour anticipÃ© lorsque des conditions invalides sont trouvÃ©es&lt;/strong&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token regex&quot;&gt;/_ return early when invalid conditions found _/&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;fruit&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; quantity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; redFruits &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;apple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;strawberry&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;cherry&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;cranberries&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// condition 1: throw error early&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;fruit&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;No fruit!&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// condition 2: must be red&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;redFruits&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;includes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fruit&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;red&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// condition 3: must be big quantity&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;quantity &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;big quantity&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;En faisant cela, nous avons un niveau moins de dÃ©clarations imbriquÃ©es. Ce style de codage convient particuliÃ¨rement lorsque vous avez une dÃ©claration &lt;code&gt;if&lt;/code&gt; long (imaginez que vous devez faire dÃ©filer lâ€™Ã©cran jusquâ€™au bas de la page pour savoir quâ€™il existe une autre instruction, pas cool).&lt;/p&gt;
&lt;p&gt;Nous pouvons rÃ©duire davantage la nidification en inversant les conditions et en revenant plus tÃ´t. Regardez la condition 2 ci-dessous pour voir comment nous procÃ©dons :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token regex&quot;&gt;/_ return early when invalid conditions found _/&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;fruit&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; quantity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; redFruits &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;apple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;strawberry&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;cherry&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;cranberries&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;fruit&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;No fruit!&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// condition 1: throw error early&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;redFruits&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;includes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fruit&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// condition 2: stop when fruit is not red&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;red&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// condition 3: must be big quantity&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;quantity &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;big quantity&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;En inversant les conditions de la condition 2, notre code est maintenant exempt dâ€™instruction imbriquÃ©e. Cette technique est utile lorsque la logique est longue et que nous voulons arrÃªter dâ€™autres processus lorsquâ€™une condition nâ€™est pas remplie.&lt;/p&gt;
&lt;p&gt;Cependant, ce nâ€™est pas une &lt;strong&gt;rÃ¨gle absolue&lt;/strong&gt;. Demandez-vous si cette version (sans imbrication) est meilleure / plus lisible que la prÃ©cÃ©dente (condition 2 avec imbriquÃ©e)?&lt;/p&gt;
&lt;p&gt;Pour moi, je le laisserais comme dans la version prÃ©cÃ©dente (condition 2 avec imbriquÃ©e) parce que:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;le code est court et simple, il est plus clair avec imbriquÃ© si&lt;/li&gt;
&lt;li&gt;condition dâ€™inversion peut impliquer plus de processus de pensÃ©e (augmentation de la charge cognitive)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Par consÃ©quent, vise toujours &lt;strong&gt;moins de nidification et de retour anticipÃ©, mais nâ€™en faites pas trop&lt;/strong&gt;. Il existe un article et une discussion sur StackOverflow qui approfondissent ce sujet si vous Ãªtes intÃ©ressÃ©:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.timoxley.com/post/47041269194/avoid-else-return-early&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Avoid Else, Return Early&lt;/a&gt; par Tim Oxley&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://softwareengineering.stackexchange.com/questions/18454/should-i-return-from-a-function-early-or-use-an-if-statement&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Discussion StackOverflow&lt;/a&gt; sur le style de programmation if/else&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;3. Utiliser les paramÃ¨tres de fonction par dÃ©faut et la destruction&lt;/h2&gt;
&lt;p&gt;Je suppose que le code ci-dessous pourrait vous sembler familier. Nous devons toujours vÃ©rifier les valeurs &lt;code&gt;null&lt;/code&gt; / &lt;code&gt;undefined&lt;/code&gt; et assigner des valeurs par dÃ©faut lorsque vous utilisez JavaScript:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;fruit&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; quantity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;fruit&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; q &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; quantity &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// if quantity not provided, default to one&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;We have &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;q&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;fruit&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//test results&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;banana&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// We have 1 banana!&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;apple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// We have 2 apple!&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;En fait, on peut Ã©liminer la variable q en assignant des paramÃ¨tres de fonction par dÃ©faut.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;fruit&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; quantity &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// if quantity not provided, default to one&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;fruit&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;We have &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;quantity&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;fruit&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//test results&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;banana&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// We have 1 banana!&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;apple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// We have 2 apple!&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Beaucoup plus facile et intuitif nâ€™est-ce pas? Veuillez noter que chaque paramÃ¨tre peut avoir son propre paramÃ¨tre de fonction par dÃ©faut. Par exemple, nous pouvons aussi assigner une valeur par dÃ©faut aux fruits: &lt;code&gt;function test (fruit = &apos;unknown&apos;, quantity = 1)&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Et si notre &lt;code&gt;fruit&lt;/code&gt; est un objet? Peut-on assigner un paramÃ¨tre par dÃ©faut?&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;fruit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; 
  &lt;span class=&quot;token comment&quot;&gt;// printing fruit name if value provided&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fruit &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; fruit&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fruit&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;unknown&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//test results&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// unknown&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// unknown&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;apple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;red&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// apple&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Regardez lâ€™exemple ci-dessus : nous voulons afficher le nom du fruit sâ€™il est disponible ou nous allons afficher inconnus. Nous pouvons Ã©viter le contrÃ´le conditionnel de &lt;code&gt;fruit &amp;#x26;&amp;#x26; fruit.name&lt;/code&gt; avec le paramÃ¨tre de fonction par dÃ©faut et la destruction.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// destructing - get name property only&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// assign default empty object {}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;unknown&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//test results&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// unknown&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// unknown&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;apple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;red&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// apple&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Puisque nous nâ€™avons besoin que de la propriÃ©tÃ© &lt;code&gt;name&lt;/code&gt; de fruit, nous pouvons dÃ©structurer le paramÃ¨tre en utilisant &lt;code&gt;{name}&lt;/code&gt;, alors nous pouvons utiliser &lt;code&gt;name&lt;/code&gt; comme variable dans notre code au lieu de &lt;code&gt;fruit.name&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Nous assignons aussi lâ€™objet vide &lt;code&gt;{}&lt;/code&gt; comme valeur par dÃ©faut. Si nous ne le faisons pas, vous obtiendrez une erreur lors de lâ€™exÃ©cution de la ligne &lt;code&gt;test(undefined)&lt;/code&gt; - &lt;code&gt;Cannot destructure property name of &apos;undefined&apos; or &apos;null&apos;.&lt;/code&gt; car il nâ€™y a pas de propriÃ©tÃ© &lt;code&gt;name&lt;/code&gt; dans undefined.&lt;/p&gt;
&lt;p&gt;Si cela ne vous dÃ©range pas dâ€™utiliser des bibliothÃ¨ques tierces, il y a plusieurs faÃ§ons de rÃ©duire les contrÃ´les nuls:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;utiliser la &lt;a href=&quot;https://lodash.com/docs/4.17.11#get&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;fonction get de Lodash&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;utiliser la bibliothÃ¨que open source &lt;a href=&quot;https://github.com/facebookincubator/idx&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;idx&lt;/a&gt; de Facebook (avec Babeljs)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Voici un exemple dâ€™utilisation de Lodash:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Include lodash library, you will get _&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;fruit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fruit&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;name&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;unknown&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// get property name, if not available, assign default value &apos;unknown&apos;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//test results&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// unknown&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// unknown&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;apple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;red&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// apple&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;4. Favorisez Map / Objet LittÃ©ral par rapport Ã  lâ€™instruction Switch&lt;/h2&gt;
&lt;p&gt;Regardons lâ€™exemple ci-dessous - nous voulons afficher des fruits en fonction de la couleur:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// use switch case to find fruits in color&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;color&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;red&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;apple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;strawberry&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;yellow&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;banana&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;pineapple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;purple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;grape&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;plum&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//test results&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// []&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;yellow&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// [&apos;banana&apos;, &apos;pineapple&apos;]&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Le code ci-dessus ne semble rien de mal, mais je le trouve assez verbeux. Le mÃªme rÃ©sultat peut Ãªtre obtenu avec un objet littÃ©ral avec une syntaxe plus prore:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// use object literal to find fruits in color&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fruitColor &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    red&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;apple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;strawberry&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    yellow&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;banana&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;pineapple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    purple&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;grape&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;plum&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; fruitColor&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;color&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Vous pouvez Ã©galement utiliser &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Map&lt;/a&gt; pour obtenir le mÃªme rÃ©sultat:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// use Map to find fruits in color&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fruitColor &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;red&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;apple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;strawberry&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;yellow&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;banana&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;pineapple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;purple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;grape&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;plum&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; fruitColor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;color&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Map est le type dâ€™objet disponible depuis ES2015, qui vous permet dâ€™enregistrer des paires de clÃ©s/valeur.&lt;/p&gt;
&lt;p&gt;Devrions-nous interdire lâ€™utilisation des dÃ©clarations switch? Ne vous limitez pas Ã  cela. Personnellement, jâ€™utilise des objets littÃ©raux chaque fois que câ€™est possible, mais je nâ€™Ã©tablirais pas une rÃ¨gle stricte pour bloquer cela - utilisez celui qui a un sens pour votre scÃ©nario.&lt;/p&gt;
&lt;p&gt;Todd Motto a un article qui creuse plus en profondeur sur les dÃ©clarations switch par rapport aux objets littÃ©raux. Vous pouvez le lire &lt;a href=&quot;https://toddmotto.com/deprecating-the-switch-statement-for-object-literals/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;ici&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;Refonte de la syntaxe&lt;/h3&gt;
&lt;p&gt;Pour lâ€™exemple ci-dessus, nous pouvons rÃ©ellement refactoriser notre code pour obtenir le mÃªme rÃ©sultat avec &lt;code&gt;Array.filter&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fruits &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;apple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;red&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;strawberry&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;red&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;banana&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;yellow&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;pineapple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;yellow&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;grape&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;purple&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;plum&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;purple&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// use Array filter to find fruits in color&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; fruits&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; f&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;color &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Il y a toujours plus dâ€™une faÃ§on dâ€™obtenir le mÃªme rÃ©sultat. Nous en avons montrÃ© 4 avec le mÃªme exemple. Coder, câ€™est amusant !&lt;/p&gt;
&lt;h2&gt;5. Utilisez Array.every &amp;#x26; Array.some pour tous les critÃ¨res / critÃ¨res partiels&lt;/h2&gt;
&lt;p&gt;Ce dernier conseil concerne lâ€™utilisation de la nouvelle fonction JavaScript Array (mais pas si nouvelle) pour rÃ©duire les lignes de code. Regardez le code ci-dessous - nous voulons vÃ©rifier si tous les fruits sont de couleur rouge:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fruits &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;apple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;red&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;banana&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;yellow&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;grape&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;purple&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; isAllRed &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// condition: all fruits must be red&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; f &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; fruits&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;isAllRed&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    isAllRed &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;f&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;color &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;red&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;isAllRed&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// false&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Le code est si long ! Nous pouvons rÃ©duire le nombre de lignes avec &lt;code&gt;Array.every&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fruits &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;apple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;red&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;banana&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;yellow&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;grape&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;purple&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// condition: short way, all fruits must be red&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; isAllRed &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; fruits&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;every&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; f&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;color &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;red&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;isAllRed&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// false&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Câ€™est plus propre, non ? De la mÃªme maniÃ¨re, si nous voulons tester si un fruit est rouge, nous pouvons utiliser Array.some pour lâ€™obtenir en une ligne.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fruits &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;apple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;red&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;banana&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;yellow&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;grape&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;purple&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// condition: if any fruit is red&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; isAnyRed &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; fruits&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;some&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; f&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;color &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;red&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;isAnyRed&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// true&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;RÃ©sumÃ©&lt;/h2&gt;
&lt;p&gt;Produisons ensemble un code plus lisible. Jâ€™espÃ¨re que vous avez appris quelque chose de nouveau dans cet article.&lt;/p&gt;
&lt;p&gt;Happy coding!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Comment utiliser la console JavaScript aller au-delÃ  de console.log()]]></title><description><![CDATA[Comment utiliser la console JavaScript aller au-delÃ  de console.log() Lâ€™un des moyens les plus simples de dÃ©boguer quoi que ce soit en JavaScript consiste Ã  console.log des Ã©lÃ©ments Ã  lâ€™aide de console.log. Mais il y a beaucoup dâ€™autres mÃ©thodes fournies par la console qui peuvent vous aider Ã  mieux dÃ©boguer. Le cas dâ€™utilisation trÃ¨s simple consiste Ã  enregistrer une chaÃ®ne ou un groupe dâ€™objets JavaScript. Tout simplement, Imaginons maintenant un scÃ©nario oÃ¹ vous devez vous connecter Ã  la console pour regrouper plusieurs objets. Le moyen le plus intuitif de consigner cela consiste Ã  simplement console.log(variable) une aprÃ¨s lâ€™autre. Le problÃ¨me est plus Ã©vident quand on voit comment il apparaÃ®t sur la console. Aucun nom de variable visible Comme vous pouvez le constater, aucun nom de variable nâ€™est visible. Cela devient extrÃªmement ennuyeux lorsque vous en avez beaucoup et que vous devez agrandir la petite flÃ¨che Ã  gauche pour voir quel est exactement le nom de la variable. Entrez les noms de propriÃ©tÃ© calculÃ©s. Cela nous permet de regrouper toutes les variables ensemble dans un seul console.log({ foo, bar }); et la sortie est facilement visible. Cela rÃ©duit Ã©galement le nombre de lignes console.log dans notre code. console.table() Nous pouvons aller plus loin en plaÃ§ant tout cela dans un tableau pour le rendre plus lisible. Chaque fois que vous avez des objets avec des propriÃ©tÃ©s communes ou un tableau dâ€™objets, utilisez console.table(). Ici, nous pouvons utiliser console.table({ foo, bar}) et la console affiche: console.table en action console.group() Cela peut Ãªtre utilisÃ© lorsque vous souhaitez regrouper ou imbriquer des dÃ©tails pertinents afin de pouvoir facilement lire les journaux. Cela peut Ã©galement Ãªtre utilisÃ© lorsque vous avez quelques instructions de journal dans une fonction et que vous voulez pouvoir voir clairement lâ€™Ã©tendue correspondant Ã  chaque instruction. Par exemple, si vous enregistrez les dÃ©tails dâ€™un utilisateur: Logs groupÃ©s Vous pouvez Ã©galement utiliser console.groupCollapsed() au lieu de console.group() si vous souhaitez que les groupes soient rÃ©duits par dÃ©faut. Vous auriez besoin dâ€™appuyer sur le bouton de descripteur sur la gauche pour dÃ©velopper. console.warn() et console.error() Selon la situation, pour vous assurer que votre console est plus lisible, vous pouvez ajouter des logs Ã  lâ€™aide de console.warn() ou console.error() . Il y a aussi console.info() qui affiche une icÃ´ne â€˜iâ€™ dans certains navigateurs. Log d'avertissement et d'erreur Cela peut Ãªtre poussÃ© plus loin en ajoutant un style personnalisÃ©. Vous pouvez utiliser une directive %c pour ajouter un style Ã  toute instruction de journal. Cela peut Ãªtre utilisÃ© pour diffÃ©rencier les appels dâ€™API, les Ã©vÃ©nements utilisateur, etc. en conservant une convention. Voici un exemple: Vous pouvez Ã©galement modifier la font-size et le font-style ainsi que dâ€™autres Ã©lÃ©ments CSS. RelevÃ© des instructions console.log console.trace() console.trace() une trace de pile dans la console et indique comment le code sâ€™est terminÃ© Ã  un moment donnÃ©. Il existe certaines mÃ©thodes que vous ne souhaitez appeler quâ€™une seule fois, comme la suppression dâ€™une base de donnÃ©es. console.trace() peut Ãªtre utilisÃ© pour sâ€™assurer que le code se comporte comme nous le voulons. console.time() Une autre chose importante en matiÃ¨re de dÃ©veloppement front-end est que le code doit Ãªtre rapide. `console.time() permet de chronomÃ©trer certaines opÃ©rations dans le code Ã  des fins de test. Sortie console.time() pour les boucles EspÃ©rons que lâ€™article fournisse des informations sur les diffÃ©rentes maniÃ¨res dâ€™utiliser la console.]]></description><link>https://ludovicwyffels.dev/js-console-log/</link><guid isPermaLink="false">https://ludovicwyffels.dev/js-console-log/</guid><pubDate>Thu, 18 Apr 2019 08:00:00 GMT</pubDate><content:encoded>&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-javascript line-numbers&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// In your gatsby-config.js&lt;/span&gt;
plugins&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    resolve&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;gatsby-transformer-remark&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    options&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      plugins&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;gatsby-remark-prismjs&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h1&gt;Comment utiliser la console JavaScript aller au-delÃ  de console.log()&lt;/h1&gt;
&lt;p&gt;Lâ€™un des moyens les plus simples de dÃ©boguer quoi que ce soit en JavaScript consiste Ã  &lt;code&gt;console.log&lt;/code&gt; des Ã©lÃ©ments Ã  lâ€™aide de &lt;code&gt;console.log&lt;/code&gt;. Mais il y a beaucoup dâ€™autres mÃ©thodes fournies par la console qui peuvent vous aider Ã  mieux dÃ©boguer.&lt;/p&gt;
&lt;p&gt;Le cas dâ€™utilisation trÃ¨s simple consiste Ã  enregistrer une chaÃ®ne ou un groupe dâ€™objets JavaScript. Tout simplement,&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Is this working?&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Imaginons maintenant un scÃ©nario oÃ¹ vous devez vous connecter Ã  la console pour regrouper plusieurs objets.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; foo &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; verified&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;green&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; bar &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; verified&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;red&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Le moyen le plus intuitif de consigner cela consiste Ã  simplement &lt;code&gt;console.log(variable)&lt;/code&gt; une aprÃ¨s lâ€™autre. Le problÃ¨me est plus Ã©vident quand on voit comment il apparaÃ®t sur la console.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;&quot; alt=&quot;Aucun nom de variable visible&quot;&gt;&lt;/p&gt;
&lt;p&gt;Comme vous pouvez le constater, aucun nom de variable nâ€™est visible. Cela devient extrÃªmement ennuyeux lorsque vous en avez beaucoup et que vous devez agrandir la petite flÃ¨che Ã  gauche pour voir quel est exactement le nom de la variable. Entrez les noms de propriÃ©tÃ© calculÃ©s. Cela nous permet de regrouper toutes les variables ensemble dans un seul &lt;code&gt;console.log({ foo, bar });&lt;/code&gt; et la sortie est facilement visible. Cela rÃ©duit Ã©galement le nombre de lignes &lt;code&gt;console.log&lt;/code&gt; dans notre code.&lt;/p&gt;
&lt;h2&gt;console.table()&lt;/h2&gt;
&lt;p&gt;Nous pouvons aller plus loin en plaÃ§ant tout cela dans un tableau pour le rendre plus lisible. Chaque fois que vous avez des objets avec des propriÃ©tÃ©s communes ou un tableau dâ€™objets, utilisez &lt;code&gt;console.table()&lt;/code&gt;. Ici, nous pouvons utiliser &lt;code&gt;console.table({ foo, bar})&lt;/code&gt; et la console affiche:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;&quot; alt=&quot;console.table en action&quot;&gt;&lt;/p&gt;
&lt;h2&gt;console.group()&lt;/h2&gt;
&lt;p&gt;Cela peut Ãªtre utilisÃ© lorsque vous souhaitez regrouper ou imbriquer des dÃ©tails pertinents afin de pouvoir facilement lire les journaux.&lt;/p&gt;
&lt;p&gt;Cela peut Ã©galement Ãªtre utilisÃ© lorsque vous avez quelques instructions de journal dans une fonction et que vous voulez pouvoir voir clairement lâ€™Ã©tendue correspondant Ã  chaque instruction.&lt;/p&gt;
&lt;p&gt;Par exemple, si vous enregistrez les dÃ©tails dâ€™un utilisateur:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;group&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;User Details&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;name: John Doe&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;job: Software Developer&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Nested Group&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;group&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Address&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Street: 123 Townsend Street&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;City: San Francisco&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;State: CA&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;groupEnd&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;groupEnd&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;&quot; alt=&quot;Logs groupÃ©s&quot;&gt;&lt;/p&gt;
&lt;p&gt;Vous pouvez Ã©galement utiliser &lt;code&gt;console.groupCollapsed()&lt;/code&gt; au lieu de &lt;code&gt;console.group()&lt;/code&gt; si vous souhaitez que les groupes soient rÃ©duits par dÃ©faut. Vous auriez besoin dâ€™appuyer sur le bouton de descripteur sur la gauche pour dÃ©velopper.&lt;/p&gt;
&lt;h2&gt;console.warn() et console.error()&lt;/h2&gt;
&lt;p&gt;Selon la situation, pour vous assurer que votre console est plus lisible, vous pouvez ajouter des logs Ã  lâ€™aide de &lt;code&gt;console.warn()&lt;/code&gt; ou &lt;code&gt;console.error()&lt;/code&gt; . Il y a aussi &lt;code&gt;console.info()&lt;/code&gt; qui affiche une icÃ´ne â€˜iâ€™ dans certains navigateurs.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;&quot; alt=&quot;Log d&amp;#x27;avertissement et d&amp;#x27;erreur&quot;&gt;&lt;/p&gt;
&lt;p&gt;Cela peut Ãªtre poussÃ© plus loin en ajoutant un style personnalisÃ©. Vous pouvez utiliser une directive &lt;code&gt;%c&lt;/code&gt; pour ajouter un style Ã  toute instruction de journal. Cela peut Ãªtre utilisÃ© pour diffÃ©rencier les appels dâ€™API, les Ã©vÃ©nements utilisateur, etc. en conservant une convention. Voici un exemple:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;%c Auth &apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
            &lt;span class=&quot;token string&quot;&gt;&apos;color: white; background-color: #2274A5&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
            &lt;span class=&quot;token string&quot;&gt;&apos;Login page rendered&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;%c GraphQL &apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
            &lt;span class=&quot;token string&quot;&gt;&apos;color: white; background-color: #95B46A&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
            &lt;span class=&quot;token string&quot;&gt;&apos;Get user details&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;%c Error &apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
            &lt;span class=&quot;token string&quot;&gt;&apos;color: white; background-color: #D33F49&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
            &lt;span class=&quot;token string&quot;&gt;&apos;Error getting user details&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Vous pouvez Ã©galement modifier la &lt;code&gt;font-size&lt;/code&gt; et le &lt;code&gt;font-style&lt;/code&gt; ainsi que dâ€™autres Ã©lÃ©ments CSS.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;&quot; alt=&quot;RelevÃ© des instructions console.log&quot;&gt;&lt;/p&gt;
&lt;h2&gt;console.trace()&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;console.trace()&lt;/code&gt; une trace de pile dans la console et indique comment le code sâ€™est terminÃ© Ã  un moment donnÃ©. Il existe certaines mÃ©thodes que vous ne souhaitez appeler quâ€™une seule fois, comme la suppression dâ€™une base de donnÃ©es. &lt;code&gt;console.trace()&lt;/code&gt; peut Ãªtre utilisÃ© pour sâ€™assurer que le code se comporte comme nous le voulons.&lt;/p&gt;
&lt;h2&gt;console.time()&lt;/h2&gt;
&lt;p&gt;Une autre chose importante en matiÃ¨re de dÃ©veloppement front-end est que le code doit Ãªtre rapide. `console.time() permet de chronomÃ©trer certaines opÃ©rations dans le code Ã  des fins de test.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;While loop&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;timeEnd&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;While loop&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;For loop&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// For Loop&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;timeEnd&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;For loop&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;&quot; alt=&quot;Sortie console.time() pour les boucles&quot;&gt;&lt;/p&gt;
&lt;p&gt;EspÃ©rons que lâ€™article fournisse des informations sur les diffÃ©rentes maniÃ¨res dâ€™utiliser la console.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Bienvenue sur mon blog]]></title><description><![CDATA[Gatsby est un gÃ©nÃ©rateur de site statique pour React.js qui permet Ã  lâ€™utilisateur de crÃ©er des sites Web rapides et dynamiques. Gatsby se concentre sur lâ€™optimisation des appareils mobiles et crÃ©e automatiquement une PWA (Progressive Web App). Le site Web est alimentÃ© par diverses sources: Markdown, CMS, API, bases de donnÃ©es et bien dâ€™autres. Pourquoi Gatsby.js? Jâ€™ai longtemps repoussÃ© la relance de mon site, Ã©galement parce que je nâ€™avais pas trouvÃ© de solution adÃ©quate pour un blog. Souvent, la configuration Ã©tait trop compliquÃ©e, les possibilitÃ©s trop petites; mais je ne voulais pas non plus Ã©crire du code HTML pur pour mes articles de blog. Avec la popularitÃ© croissante de React.js, je ne pouvais pas Ã©chapper Ã  cet hype mÃ©diatique et me lire moi-mÃªme. Comme je pensais dÃ©jÃ  en termes de composants dans la phase de conception, React.js Ã©tait la prochaine Ã©tape logique. Au dÃ©but de 2019, jâ€™ai dÃ©couvert Gatsby.js et jâ€™Ã©tais enthousiasmÃ© par la possibilitÃ© dâ€™Ã©crire mon site Web avec React ainsi que les messages de mon blog avec Markdown ou un CMS â€œheadlessâ€ (par exemple, Contentful ou Prismic). Cela vous demande beaucoup de travail et vous permet de dÃ©marrer facilement. Magie (GraphQL) Pour obtenir les donnÃ©es des fichiers Markdown, des CMS, etc. dans React et enfin Ã  lâ€™Ã©cran, Gatsby utilise le langage de requÃªte GraphQL. La communautÃ© dÃ©jÃ  mentionnÃ©e fournit certains plugins (par exemple, Contentful, Drupal, Lever, Medium, Wordpress, MongoDB, Markdown, Prismic) pour obtenir les donnÃ©es. Lâ€™utilisation ultÃ©rieure de GraphQL est un jeu dâ€™enfant: Avec cette requÃªte, vous obtenez tous les projets (y compris les donnÃ©es de Frontmatter) pour les sous-pages de projet, triÃ©s par date (en supposant une configuration adÃ©quate). Afin de gÃ©nÃ©rer les images appropriÃ©es pour chaque taille dâ€™Ã©cran, un autre plug-in, qui utilise la bibliothÃ¨que Sharp, prend les images dÃ©finies dans le fichier Markdown et en crÃ©e des images dans plusieurs tailles. Si vous rencontrez des problÃ¨mes avec la requÃªte, vous pouvez utiliser le dÃ©bogueur graphique interactif GraphiQL pour afficher des suggestions et tester la requÃªte vous-mÃªme - le dÃ©bogueur crÃ©e automatiquement sa propre documentation. Ces donnÃ©es peuvent ensuite Ãªtre utilisÃ©es dans les composants React comme ceci: Quoi dâ€™autreâ€¦ ? La crÃ©ation de mon site Web a Ã©tÃ© extrÃªmement rapide avec React. Jâ€™ai Ã©galement beaucoup appris sur les PWA et continuerai Ã  essayer dâ€™amÃ©liorer le score de Lighthouse Score de Google. Le site Web est open source et peut Ãªtre consultÃ© sur GitHub Ã  des fins dâ€™apprentissage.]]></description><link>https://ludovicwyffels.dev/gatsby-welcome/</link><guid isPermaLink="false">https://ludovicwyffels.dev/gatsby-welcome/</guid><pubDate>Wed, 17 Apr 2019 08:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Gatsby est un gÃ©nÃ©rateur de site statique pour React.js qui permet Ã  lâ€™utilisateur de crÃ©er des sites Web rapides et dynamiques. Gatsby se concentre sur lâ€™optimisation des appareils mobiles et crÃ©e automatiquement une PWA (Progressive Web App). Le site Web est alimentÃ© par diverses sources: Markdown, CMS, API, bases de donnÃ©es et bien dâ€™autres.&lt;/p&gt;
&lt;h2&gt;Pourquoi Gatsby.js?&lt;/h2&gt;
&lt;p&gt;Jâ€™ai longtemps repoussÃ© la relance de mon site, Ã©galement parce que je nâ€™avais pas trouvÃ© de solution adÃ©quate pour un blog. Souvent, la configuration Ã©tait trop compliquÃ©e, les possibilitÃ©s trop petites; mais je ne voulais pas non plus Ã©crire du code HTML pur pour mes articles de blog. Avec la popularitÃ© croissante de React.js, je ne pouvais pas Ã©chapper Ã  cet hype mÃ©diatique et me lire moi-mÃªme. Comme je pensais dÃ©jÃ  en termes de composants dans la phase de conception, React.js Ã©tait la prochaine Ã©tape logique.&lt;/p&gt;
&lt;p&gt;Au dÃ©but de 2019, jâ€™ai dÃ©couvert Gatsby.js et jâ€™Ã©tais enthousiasmÃ© par la possibilitÃ© dâ€™Ã©crire mon site Web avec React ainsi que les messages de mon blog avec Markdown ou un CMS â€œheadlessâ€ (par exemple, Contentful ou Prismic). Cela vous demande beaucoup de travail et vous permet de dÃ©marrer facilement.&lt;/p&gt;
&lt;h2&gt;Magie (GraphQL)&lt;/h2&gt;
&lt;p&gt;Pour obtenir les donnÃ©es des fichiers Markdown, des CMS, etc. dans React et enfin Ã  lâ€™Ã©cran, Gatsby utilise le langage de requÃªte GraphQL. La communautÃ© dÃ©jÃ  mentionnÃ©e fournit certains plugins (par exemple, Contentful, Drupal, Lever, Medium, Wordpress, MongoDB, Markdown, Prismic) pour obtenir les donnÃ©es. Lâ€™utilisation ultÃ©rieure de GraphQL est un jeu dâ€™enfant:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;graphql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-graphql line-numbers&quot;&gt;&lt;code class=&quot;language-graphql&quot;&gt;export const pageQuery &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; graphql`
  &lt;span class=&quot;token keyword&quot;&gt;query&lt;/span&gt; ProjectsQuery &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    allMarkdownRemark&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token attr-name&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;
      &lt;span class=&quot;token attr-name&quot;&gt;sort&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;fields&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;frontmatter___date&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;DESC&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token attr-name&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;fields&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;sourceInstanceName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;eq&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;projects&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      edges &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        node &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          fields &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            slug
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          frontmatter &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            title
            customer
            cover &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
              childImageSharp &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                fluid&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token attr-name&quot;&gt;maxWidth&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;quality&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;95&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                  base64
                  aspectRatio
                  src
                  srcSet
                  sizes
                  originalImg
                  originalName
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
              &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
`&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Avec cette requÃªte, vous obtenez tous les projets (y compris les donnÃ©es de Frontmatter) pour les sous-pages de projet, triÃ©s par date (en supposant une configuration adÃ©quate). Afin de gÃ©nÃ©rer les images appropriÃ©es pour chaque taille dâ€™Ã©cran, un autre plug-in, qui utilise la bibliothÃ¨que Sharp, prend les images dÃ©finies dans le fichier Markdown et en crÃ©e des images dans plusieurs tailles. Si vous rencontrez des problÃ¨mes avec la requÃªte, vous pouvez utiliser le dÃ©bogueur graphique interactif GraphiQL pour afficher des suggestions et tester la requÃªte vous-mÃªme - le dÃ©bogueur crÃ©e automatiquement sa propre documentation.&lt;/p&gt;
&lt;p&gt;Ces donnÃ©es peuvent ensuite Ãªtre utilisÃ©es dans les composants React comme ceci:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-jsx line-numbers&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;allMarkdownRemark&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;edges&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;frontmatter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;title&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Quoi dâ€™autreâ€¦ ?&lt;/h2&gt;
&lt;p&gt;La crÃ©ation de mon site Web a Ã©tÃ© extrÃªmement rapide avec React. Jâ€™ai Ã©galement beaucoup appris sur les PWA et continuerai Ã  essayer dâ€™amÃ©liorer le score de Lighthouse Score de Google. Le site Web est open source et peut Ãªtre consultÃ© sur GitHub Ã  des fins dâ€™apprentissage.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Principales commandes SQL/PostgreSQL que vous avez besoin de connaÃ®tre]]></title><description><![CDATA[Principales commandes SQL/PostgreSQL que vous avez besoin de connaÃ®tre. Ici, nous allons passer en revue les commandes les plus importantes et les plus Ã©lÃ©mentaires que vous devez connaÃ®tre pour crÃ©er, gÃ©rer et supprimer vos donnÃ©es sur votre base de donnÃ©es. Outre les commandes ici, jâ€™utilise la syntaxe PostgreSQL. La plupart des bases de donnÃ©es relationnelles partagent les mÃªmes concepts. En apprenant cela, vous pourrez crÃ©er et gÃ©rer votre base de donnÃ©es. Ce sont les commandes que vous pouvez vous attendre Ã  apprendre ici: [toc] Create table CrÃ©ons notre premier client: Creusons par Ã©tapes: CrÃ©ez la table avec le nom CREATE TABLE <NAME> (qui pour nous est â€œcustomerâ€). Ajoutez les colonnes et le type de donnÃ©es appropriÃ©, comme lâ€™email CHARACTER(255) Câ€™est simple, nous nâ€™entrerons pas dans le type de donnÃ©es que ous pourrions utiliser, car il est long et peut changer de base de donnÃ©es Ã  une autre base de donnÃ©es, lâ€™idÃ©e est dâ€™apprendre le principe. Insert Nous passons maintenant Ã  notre premier tableau et vous souhaitez maintenant Ã  notre premier tableau et vous souhaitez maintenant ajouter des informations, sinon quel est le but, pour cela, vous lancerez cette commande: Le code parle tout seul, nous voulons ajouter <INSERT INTO> notre table appelÃ©e â€œcustomerâ€ pour la colonne portant le nom de clÃ© â€œnameâ€ et â€œageâ€ les VALUES suivant lâ€™ordre, nommez â€Felipeâ€ et lâ€™Ã¢ge 31. Alter Table Il est normal que vous crÃ©iez votre base de donnÃ©es et que vous commenciez par la base, puis que vous commenciez Ã  vous amÃ©liorer, et avec la commande, vous puissiez modifier la structure de la table. Mais bien sÃ»r, ce nâ€™est pas illimitÃ© si vous essayez de modifier des donnÃ©es existantes et susceptibles de provoquer un conflit, comme le passage dâ€™un nombre entier Ã  une chaÃ®ne . Comme vous pouvez le constater, nous ajoutons une nouvelle COLUMN avec le nom height et le type INTEGER.  Cette commande a beaucoup dâ€™autres propriÃ©tÃ©s, vous pouvez donc consulter la documentation afin de voir toutes les autres variations. Update  Nous avons ajoutÃ© des donnÃ©es Ã  lâ€™intÃ©rieur, mais considÃ©rons que vous avez commis une erreur ou, en fait, que vous souhaitez simplement mettre Ã  jour, car câ€™est lâ€™idÃ©e, pouvoir conserver des donnÃ©es et les manipuler. Ce sera utile non? Comme nous venons de modifier notre table et que nous ne voulons pas avoir de valeur vide pour une raison quelconque, nous faisons un UPDATE sur notre table client avec cette commande et SET la hauteur pour que tout le monde soit Ã  0, comme une valeur par dÃ©faut. Mais je ne veux pas faire cela Ã  tout le monde, bien sÃ»r, alors ce qui suit est plus spÃ©cifique. Nous avons fait la mÃªme chose quâ€™avant, Ã  la diffÃ©rence que nous utilisons une nouvelle clause WHERE prÃ©ciser ce que nous voulons changer, je parlerai plus en dÃ©tail de cette question. Pour le moment, il vous suffit de comprendre que, si vous utilisez cette clause, je valide si â€œnameâ€ correspond au nom, et seulement sâ€™il est vrai, je mets Ã  jour les valeurs. Et ce genre de validation est vraiment important, et parce que ceci est une autre faÃ§on de faire avec encore plus de â€œvalidationsâ€. Nous avons deux diffÃ©rences importantes oÃ¹, voyons: Notre clause WHERE a maintenant une autre clause appelÃ©e AND , et cela nous permet de â€œconcatÃ©nerâ€ deux valeurs que nous voulons vÃ©rifier, nous disons que les deux doivent correspondre pour que notre validation soit rÃ©ussie . Il est important de noter quâ€™ils sont Ã  lâ€™intÃ©rieur de â€()â€, il sâ€™agit en quelque sorte de â€œretenirâ€ en tant que valeur ou contrainte , nous vÃ©rifions en gros ce qui est Ã  lâ€™intÃ©rieur qui donnera le â€œrÃ©sultatâ€ qui sera vrai ou faux . Le second est OR et correspond exactement Ã  ce que suggÃ¨re le â€œnomâ€. Si notre clause WHERE ne convient pas, nous vÃ©rifions celle-ci. Upsert En plus du nom qui a lâ€™air bizarre, cette commande est trÃ¨s utile, car nous parlons de mise Ã  jour, lâ€™un des scÃ©narios les plus courants consiste Ã  vouloir mettre Ã  jour quelque chose qui existe dÃ©jÃ , mais comment savez-vous quâ€™il existe dÃ©jÃ ? Pour cela, vous pouvez gÃ©nÃ©ralement penser, commencez par vÃ©rifier sâ€™il existe et si vous utilisez la commande update, non? Mais en rÃ©alitÃ© vous savez dÃ©jÃ  ce que vous voulez, vous voulez que si cette valeur est dÃ©jÃ  mise Ã  jour. PostgreSQL implÃ©mente cela il nâ€™y a pas si longtemps, comme dâ€™autres bases de donnÃ©es lâ€™avaient dÃ©jÃ  assez longtemps, voyons comment implÃ©menter lâ€™utilisation de Postgres. Vous devez dâ€™abord savoir que nous disposons de deux contraintes que nous pouvons utiliser pour â€œdireâ€ ce que nous voulons faire si cette valeur existe dÃ©jÃ . ON CONFLICT DO NOTHING ON CONFLICT DO UPDATE Par le nom, vous pouvez dÃ©jÃ  imaginer ce qui se passe, lors de la mise Ã  jour si vous trouvez un â€œconflitâ€ avec un autre, ne faites rien. Regardons comment utiliser ON CONFLICT DO NOTHING : En gros, ce qui va se passer nâ€™est rien, si la base de donnÃ©es trouve dÃ©jÃ  une valeur, ne fait rien. Dâ€™autre part pour ON CONFLICT DO UPDATE : Voici exactement ce que dit le nom, si vous trouvez un conflit, mettez-le Ã  jour. Il est simple dâ€™utiliser ce scÃ©nario lorsque vous savez que vous souhaitez mettre Ã  jour lorsque vous avez la mÃªme valeur. Rappelez-vous que lâ€™implÃ©mentation change lÃ©gÃ¨rement pour chaque base de donnÃ©es, mais quâ€™il est important de connaÃ®tre le concept, il suffit de regarder sur Internet le nom de contrainte spÃ©cifique de votre base de donnÃ©es. Select Maintenant que nous avons en principe commencÃ© le dÃ©but en suivant une mÃ©thode logique, comme crÃ©er votre base de donnÃ©es, mettre Ã  jour, supprimer, la plupart des bases afin de configurer votre base de donnÃ©es, nous devons obtenir les donnÃ©es. TrÃ¨s probablement, ce sera lâ€™une des commandes les plus utilisÃ©es par vous, alors voyons-le. La base est trÃ¨s simple, allons-y Ã©tape par Ã©tape: SELECT * - Ce que vous faites est de dire â€œje veuxâ€ (SELECT) tout (*); FROM - Dâ€™oÃ¹ je veux (FROM) câ€™est Ã  partir du nom de la table (customer). Ici, je reÃ§ois tout ce qui se trouve dans ma table client, soyons plus prÃ©cis. Maintenant que vous avez dÃ©jÃ  compris comment vous crÃ©ez, vous avez probablement compris que nous voulions des donnÃ©es spÃ©cifiques, Ã  savoir les donnÃ©es des colonnes â€œheightâ€ et â€œnameâ€ de ma table customer . Cette contrainte offre de nombreuses autres possibilitÃ©s dont vous avez absolument besoin dans la documentation pour pouvoir visualiser toutes les autres variantes. Un de plus, est pour la situation que vous ne voulez pas rÃ©ellement sÃ©lectionner par le nom de la colonne, mais si elle correspond Ã  la valeur, essayez ceci: Comme je lâ€™ai dit, nous rechercherons des donnÃ©es dans la colonne â€œhauteurâ€ et toutes les valeurs correspondant Ã  la chaÃ®ne â€œFelipeâ€ en regard du nom de la colonne correspondante. Where Cette contrainte est une autre que vous utiliserez encore plus avec la contrainte SELECT . Voyons comment nous utilisons, vous utiliserez ceci pour filtrer ce que vous voulez lors de la sÃ©lection de vos donnÃ©es. Comme vous pouvez le constater, nous recherchons la taille du client et WHERE la â€œheightâ€ est supÃ©rieure Ã  50 . Mais vous pouvez ajouter encore plus de contraintes (filtres). Nous avons ajoutÃ© ici une nouvelle contrainte AND qui fait exactement ce que son nom suggÃ¨re, qui doit Ãªtre plus haut que 50 ET infÃ©rieur Ã  80. Une autre contrainte que nous pouvons utiliser est OR. Ici nous avons ajoutÃ© une autre contrainte OR cela signifie que si notre vÃ©rification â€œprÃ©cÃ©denteâ€ ne correspond pas comme son nom lâ€™indique â€œOUâ€, nous retournons sous forme de correspondance. Join Câ€™est certainement un sujet trÃ¨s important, non seulement parce que dans un entretien dâ€™embauche, ils vous le demanderont certainement, mais aussi parce quâ€™il y a beaucoup de possibilitÃ©s. MÃªme si la premiÃ¨re fois que vous essayez de comprendre, Ã§a a lâ€™air bizarre. Pour cela nous avons 5 types: CROSS JOIN INNER JOIN LEFT JOIN RIGHT JOIN FULL JOIN Je vais essayer dâ€™expliquer de la maniÃ¨re la plus simple, mais je vous recommande dâ€™essayer cela en direct. Lorsque vous le ferez, vous comprendrez mieux et vous verrez comme cela est facile. Pour cela, nous avons besoin de quelques donnÃ©es pour pouvoir visualiser. Pour cela, je vais mettre une donnÃ©e Ã  insÃ©rer, je reconnais que vous savez dÃ©jÃ  comment crÃ©er une table. Nous aurons notre client et la table de contact . Nos donnÃ©es clients: Et pour nos coordonnÃ©es: Vous devez juste exÃ©cuter ceci sur votre table dÃ©jÃ  crÃ©Ã©e et lâ€™insÃ©rer. Cross join Je dirais que vous nâ€™utiliserez pas trop celle-ci, car elle peut gÃ©nÃ©rer beaucoup de donnÃ©es. En gros, il joint ici les deux tables et gÃ©nÃ¨re une sortie avec toutes les donnÃ©es. La faÃ§on dont cette contrainte fonctionne consiste Ã  renvoyer des donnÃ©es de produit cartÃ©siennes entre les deux tables. Cette commande multiplie la premiÃ¨re table par la quantitÃ© de donnÃ©es de la seconde table. Elle renverra toujours la combinaison possible. Je crois que vous pouvez imaginer combien de donnÃ©es cela peut crÃ©er, non?! Il est facile de voir la reprÃ©sentation de la faÃ§on dont cette requÃªte sera traitÃ©e Ã  partir de cette image, mais cela ne correspond pas seulement:  Allons Ã  la commande: Je nâ€™ajouterai pas une impression de la sortie complÃ¨te ici, car elle est trop grande, mais cette opÃ©ration gÃ©nÃ©rera un total de 36 Ã©lÃ©ments/lignes, câ€™est-Ã -dire la multiplication entre le premier client de la table ayant 9 Ã©lÃ©ments multipliÃ© par la table de contacts contenant 4 Mais une information prÃ©cieuse ici est que, avec cela, nous allons gÃ©nÃ©rer une sortie qui contient toutes les lignes de la premiÃ¨re table et toutes les lignes de la seconde:  Et pourquoi rÃ©pÃ©ter table? Eh bien, nous avons SELECT *, nous avons choisi dâ€™obtenir toutes les donnÃ©es des deux, mais montrons-leur comment ne pas rÃ©pÃ©ter ou, mieux, comment choisir la ligne de sortie que nous voulons. Utilisez cette requÃªte: Une partie de la sortie:  Si vous faites attention, ce que nous avons fait Ã©tait de dire comment sera gÃ©nÃ©rÃ©, en spÃ©cifiant la ligne que nous voulons et dâ€™oÃ¹ customer."name" et contact.zip_code afin que la sortie suive cet ordre. Je nâ€™ai pas ajoutÃ© la â€œfinâ€ de cette requÃªte, ni mÃªme la prÃ©cÃ©dente, mais parlons du concept de â€œjointureâ€, nous cherchons fondamentalement une correspondance, mais pour cette contrainte, nous â€œobtenons toutâ€ Ã  partir dâ€™une table et â€œTout Ã  partir deâ€ deuxiÃ¨me table, mais dans le type CROSS si un Ã©lÃ©ment ne correspond pas retournera quand mÃªme, mais sâ€™il nâ€™y a pas de correspondance, la valeur sera vide.  Parce que si vous faites attention Ã  notre table de contact pour lâ€™utilisateur â€œfelipe@gmail.com â€, il nâ€™y a pas de correspondance avec personne Ã  la table des clients , mais sera quand mÃªme retournÃ©e. Inner join Maintenant que nous savons dÃ©jÃ  quelque chose de base concernant ce que nous pouvons faire en matiÃ¨re de jointure , passons Ã  la suivante, qui ressemble beaucoup Ã  la jointure croisÃ©e, mais avec une simple diffÃ©rence quâ€™ici ne renverra que des correspondances. Câ€™est la reprÃ©sentation du type de jointure que nous faisons ici entre les tables, car vous ne voyez que le â€œcentreâ€ qui correspond Ã  ce que nous aurons comme donnÃ©es.  Ici, la syntaxe est un peu diffÃ©rente, nous devons ajouter une contrainte supplÃ©mentaire, celle qui recherchera la ligne â€œvalidateur â€œ. La principale diffÃ©rence que nous avons ici est que nous allons rechercher une correspondance en utilisant la table client et la table de contact , pour cela nous utiliserons la ligne â€œzip_code â€œ. Câ€™est ce que vous aurez comme rÃ©cupÃ©ration de donnÃ©es.  Il est facile de voir que lorsque nous retournons toutes les cellules, nous avons le code postal de la cellule du client et du contact , toutes les correspond. Cette jointure est trÃ¨s utile pour rÃ©cupÃ©rer des donnÃ©es que vous souhaitez faire correspondre Ã  une valeur spÃ©cifique, diffÃ©rente de la relation ay. Left joint Comme vous le savez peut-Ãªtre, lâ€™objectif principal est de faire correspondre les donnÃ©es et, si les donnÃ©es correspondent, nous renvoyons cette ligne. Vous pouvez voir ici que nous avons au centre la partie jointure , câ€™est-Ã -dire le validateur, et la partie gauche qui signifie que si la jointure ne correspond pas, les donnÃ©es seront renvoyÃ©es mais avec la ligne pour les donnÃ©es qui ne correspond pas â€œvideâ€.  Mais ici maintenant, nous commenÃ§ons Ã  faire les choses diffÃ©remment. Voyons en quoi consiste cette requÃªte: La â€œtranscriptionâ€ de ce que nous demandons ici est la suivante: nous voulons toutes les donnÃ©es de LEFT qui, dans notre scÃ©nario, sont des clients , et nous voulons uniquement contacter la table celles qui correspondent Ã  notre validation. En faisant cela, vous devriez avoir ces donnÃ©es comme rÃ©sultat de cette requÃªte:  Right join Maintenant que nous avons dÃ©jÃ  vu comment il est laissÃ© joindre cela nâ€™est pas diffÃ©rent, la seule diffÃ©rence est que nous voulons maintenant que le cÃ´tÃ© â€œdroitâ€ soit la table principale. Cela signifie que nous renverrons toutes les donnÃ©es de la table droite mÃªme si elles ne correspondent pas. Bien sÃ»r ce qui nâ€™a pas de correspondance est vide.  Question: Mais il est important de ne pas se mÃ©prendre pour obtenir toutes les donnÃ©es de droite ou de gauche avec uniquement la quantitÃ© exacte de donnÃ©es dont nous disposons Ã  cette table spÃ©cifique. Ce que je veux dire par lÃ , câ€™est que pour cette jointure, nous voulons â€œtoutâ€ du cÃ´tÃ© droit, câ€™est notre table de contact qui contient 4 Ã©lÃ©ments que nous avons ajoutÃ©s, et voici le rÃ©sultat:  Nous avons 6 Ã©lÃ©ments et non 4, mais rappelez-vous, ce nâ€™est pas une requÃªte de â€œtout renvoyer dâ€™un cÃ´tÃ© sâ€™il y a correspondance â€, câ€™est une requÃªte qui renvoie tout dâ€™ un â€œcÃ´tÃ©â€ qui correspond, nous avons 2 correspondances pour le code postal 3423PO , câ€™est un match alors revenez. Full join Maintenant le dernier, qui ressemble Ã  la jointure croisÃ©e, la diffÃ©rence ici est que nous recherchons une correspondance et non un produit cartÃ©sien comme la jointure croisÃ©e. Nous chercherons la jointure dans toute la zone bleue, en validant fondamentalement les deux cÃ´tÃ©s en fonction de notre contrainte de â€œvalidationâ€, qui dans notre scÃ©nario est zip_code.  La jointure complÃ¨te combine les deux tables, les donnÃ©es gauche et droite, et renvoie toutes les correspondances et toutes les correspondances , regardons la requÃªte Voici ce que nous aurons comme retour:  Ici, nous suivons le mÃªme principe que les â€œjointuresâ€ avant, câ€™est ce qui nâ€™a pas de correspondance nous avons encore les donnÃ©es, mais â€œvideâ€ Union Cette commande est trÃ¨s utile, car il est question dâ€™obtenir des donnÃ©es Ã  partir de 2 tables, mais ne confondez bien sÃ»r pas les deux. Ce que fait Union, câ€™est que nous allons combiner les donnÃ©es des deux cÃ´tÃ©s, mais que nous ne renverrons que des donnÃ©es â€œuniquesâ€ entre les deux, si â€œidentiquesâ€ ne renvoient pas les doublons, par exemple, câ€™est ce qui se produit avec join. Câ€™est la requÃªte que nous utilisons: Câ€™est ce que nous aurons comme retour:  Comme vous pouvez le constater, nous spÃ©cifions les colonnes que nous voulons, ce qui est obligatoire, car nous devons prÃ©ciser lesquelles sont â€œÃ©galesâ€ afin quâ€™il puisse comparer et renvoyer des Ã©lÃ©ments uniques entre les deux. Une chose importante concernant cette commande est quâ€™il opÃ¨re de maniÃ¨re trÃ¨s efficace, cela signifie que lâ€™ordre peut changer. Order Câ€™est une contrainte trÃ¨s utile pour organiser les donnÃ©es que vous demandez. Par consÃ©quent, nous ne â€œfiltronsâ€ pas les donnÃ©es. En fait, il organise votre rÃ©ponse en fonction de certains critÃ¨res. Simplement, ordonnons notre requÃªte en fonction de lâ€™Ã¢ge de nos clients: Et voici la rÃ©ponse Ã  laquelle vous devez vous attendre:  Alias Ceci nâ€™est pas destinÃ© Ã  interroger quelque chose ou quelque chose comme Ã§a, câ€™est juste un moyen de vous aider Ã  organiser le nom dâ€™une table, câ€™est simplement un surnom . La syntaxe de base est la suivante: Et vous devriez obtenir quelque chose comme Ã§a:  SÃ©parons pour chaque partie, dâ€™abord ce que nous avons fait, nous sÃ©lectionnons ce que nous voulons, mais si vous faites attention, nous ajoutons un caractÃ¨re â€Aâ€ avant le nom de la colonne , dans notre nom de scÃ©nario et code postal . Mais nous devons dire Ã  notre code SQL ce que ce personnage ou â€œpseudoâ€ signifie, nâ€™est-ce pas?! Et nous le faisons aprÃ¨s, lorsque nous disons FROM customer A, nous disons ici comment SQL devrait interprÃ©ter cette lettre, ce devrait Ãªtre lâ€™alias du client . Vous pouvez Ã©galement le faire lorsque vous avez plusieurs tables, par exemple: Vous pouvez voir que les deux sont â€œidentiquesâ€, mais nous renommons pour avoir un autre alias. Une autre chose que vous pouvez faire est de â€œchangerâ€ le nom de la table que vous retournez, par exemple: Si vous voyez ici, jâ€™ai utilisÃ© deux formats dâ€™alias, pour le premier, je nâ€™utilise pas lâ€™alias pour savoir quelle colonne est, mais ce que je veux, câ€™est que le retour de cette colonne soit appelÃ© â€œÃ‚ge de la personneâ€ et le second est lâ€™alias faÃ§on de lâ€™appel que nous avons dÃ©jÃ  appris, câ€™est le rÃ©sultat.  Delete Comme son nom lâ€™indique, il sâ€™agit dâ€™une suppression, et je nâ€™ai pas besoin de vous avertir quâ€™il sâ€™agit dâ€™une commande trÃ¨s â€œdangereuseâ€, alors faites attention, je vais montrer 2 syntaxe de base: Vous avez peut-Ãªtre remarquÃ© que nous ne spÃ©cifions aucune donnÃ©e particuliÃ¨re. Nous allons donc tout supprimer, câ€™est simple, mais nous souhaitons supprimer une donnÃ©e spÃ©cifique. Pour cela, procÃ©dez comme suit: Ici, je dirais que la faÃ§on la plus sÃ»re de faire, utilisez une personne spÃ©cifique. Drop table Le sujet est sur la suppression, continuons avec ceci, la commande prÃ©cÃ©dente est de supprimer les donnÃ©es dâ€™une table / colonne, maintenant nous allons continuer, mais avec un autre type de suppression, celle qui supprime la table ou la supprime. Câ€™est simple comme Ã§a, mais vous devez Ãªtre encore plus prudent que la commande delete . Ici, vous allez laisser tomber la table des trous et il nâ€™y a aucun moyen de rÃ©cupÃ©rer. Une autre diffÃ©rence majeure est que cela ne devrait pas Ãªtre utilisÃ© dans votre â€œprogrammeâ€. Cette commande ne devrait Ãªtre utilisÃ©e que par la commande de terminal lorsque vous savez ce qui doit Ãªtre fait ou supprimÃ©.]]></description><link>https://ludovicwyffels.dev/sql-principes/</link><guid isPermaLink="false">https://ludovicwyffels.dev/sql-principes/</guid><pubDate>Sun, 14 Apr 2019 08:00:00 GMT</pubDate><content:encoded>&lt;h1&gt;Principales commandes SQL/PostgreSQL que vous avez besoin de connaÃ®tre.&lt;/h1&gt;
&lt;p&gt;Ici, nous allons passer en revue les commandes les plus importantes et les plus Ã©lÃ©mentaires que vous devez connaÃ®tre pour crÃ©er, gÃ©rer et supprimer vos donnÃ©es sur votre base de donnÃ©es. Outre les commandes ici, jâ€™utilise la syntaxe PostgreSQL. La plupart des bases de donnÃ©es relationnelles partagent les mÃªmes concepts.&lt;/p&gt;
&lt;p&gt;En apprenant cela, vous pourrez crÃ©er et gÃ©rer votre base de donnÃ©es.&lt;/p&gt;
&lt;p&gt;Ce sont les commandes que vous pouvez vous attendre Ã  apprendre ici:&lt;/p&gt;
&lt;p&gt;[[toc]]&lt;/p&gt;
&lt;h2&gt;Create table&lt;/h2&gt;
&lt;p&gt;CrÃ©ons notre premier client:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;TABLE&lt;/span&gt; customer &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
	name &lt;span class=&quot;token keyword&quot;&gt;TEXT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
	age &lt;span class=&quot;token keyword&quot;&gt;INTEGER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
	email &lt;span class=&quot;token keyword&quot;&gt;CHARACTER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
	address &lt;span class=&quot;token keyword&quot;&gt;CHARACTER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;400&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
	zip_code &lt;span class=&quot;token keyword&quot;&gt;CHARACTER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Creusons par Ã©tapes:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;CrÃ©ez la table avec le nom &lt;code&gt;CREATE TABLE &amp;#x3C;NAME&gt;&lt;/code&gt; (qui pour nous est â€œcustomerâ€).&lt;/li&gt;
&lt;li&gt;Ajoutez les colonnes et le type de donnÃ©es appropriÃ©, comme lâ€™&lt;code&gt;email CHARACTER(255)&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Câ€™est simple, nous nâ€™entrerons pas dans le type de donnÃ©es que ous pourrions utiliser, car il est long et peut changer de base de donnÃ©es Ã  une autre base de donnÃ©es, lâ€™idÃ©e est dâ€™apprendre le principe.&lt;/p&gt;
&lt;h2&gt;Insert&lt;/h2&gt;
&lt;p&gt;Nous passons maintenant Ã  notre premier tableau et vous souhaitez maintenant Ã  notre premier tableau et vous souhaitez maintenant ajouter des informations, sinon quel est le but, pour cela, vous lancerez cette commande:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;INTO&lt;/span&gt; customer&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; age&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;VALUES&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Felipe&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;31&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Le code parle tout seul, nous voulons ajouter &lt;code&gt;&amp;#x3C;INSERT INTO&gt;&lt;/code&gt; notre table appelÃ©e â€œcustomerâ€ pour la colonne portant le nom de clÃ© â€œnameâ€ et â€œageâ€ les &lt;code&gt;VALUES&lt;/code&gt; suivant lâ€™ordre, nommez â€&lt;code&gt;Felipe&lt;/code&gt;â€ et lâ€™Ã¢ge &lt;code&gt;31&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;Alter Table&lt;/h2&gt;
&lt;p&gt;Il est normal que vous crÃ©iez votre base de donnÃ©es et que vous commenciez par la base, puis que vous commenciez Ã  vous amÃ©liorer, et avec la commande, vous puissiez modifier la structure de la table. Mais bien sÃ»r, ce nâ€™est pas illimitÃ© si vous essayez de modifier des donnÃ©es existantes et susceptibles de provoquer un conflit, comme le passage dâ€™un nombre entier Ã  une chaÃ®ne .&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;ALTER&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;TABLE&lt;/span&gt; customer &lt;span class=&quot;token keyword&quot;&gt;ADD&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;COLUMN&lt;/span&gt; height &lt;span class=&quot;token keyword&quot;&gt;INTEGER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Comme vous pouvez le constater, nous ajoutons une nouvelle &lt;code&gt;COLUMN&lt;/code&gt; avec le nom &lt;code&gt;height&lt;/code&gt; et le type &lt;code&gt;INTEGER&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt; Cette commande a beaucoup dâ€™autres propriÃ©tÃ©s, vous pouvez donc consulter la documentation afin de voir toutes les autres variations.&lt;/p&gt;
&lt;h2&gt;Update&lt;/h2&gt;
&lt;p&gt; Nous avons ajoutÃ© des donnÃ©es Ã  lâ€™intÃ©rieur, mais considÃ©rons que vous avez commis une erreur ou, en fait, que vous souhaitez simplement mettre Ã  jour, car câ€™est lâ€™idÃ©e, pouvoir conserver des donnÃ©es et les manipuler.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;UPDATE&lt;/span&gt; customer &lt;span class=&quot;token keyword&quot;&gt;SET&lt;/span&gt; height &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ce sera utile non? Comme nous venons de modifier notre table et que nous ne voulons pas avoir de valeur vide pour une raison quelconque, nous faisons un &lt;code&gt;UPDATE&lt;/code&gt; sur notre table client avec cette commande et &lt;code&gt;SET&lt;/code&gt; la hauteur pour que tout le monde soit Ã  &lt;code&gt;0&lt;/code&gt;, comme une valeur par dÃ©faut.&lt;/p&gt;
&lt;p&gt;Mais je ne veux pas faire cela Ã  tout le monde, bien sÃ»r, alors ce qui suit est plus spÃ©cifique.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;UPDATE&lt;/span&gt; customer &lt;span class=&quot;token keyword&quot;&gt;SET&lt;/span&gt; height &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; age &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;101&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;WHERE&lt;/span&gt; name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Felipe&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nous avons fait la mÃªme chose quâ€™avant, Ã  la diffÃ©rence que nous utilisons une nouvelle clause &lt;code&gt;WHERE&lt;/code&gt; prÃ©ciser ce que nous voulons changer, je parlerai plus en dÃ©tail de cette question. Pour le moment, il vous suffit de comprendre que, si vous utilisez cette clause, je valide si â€œnameâ€ correspond au nom, et seulement sâ€™il est vrai, je mets Ã  jour les valeurs.&lt;/p&gt;
&lt;p&gt;Et ce genre de validation est vraiment important, et parce que ceci est une autre faÃ§on de faire avec encore plus de â€œvalidationsâ€.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;UPDATE&lt;/span&gt; customer &lt;span class=&quot;token keyword&quot;&gt;SET&lt;/span&gt; height &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; age &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;101&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Felipe&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;AND&lt;/span&gt; zip_code &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;2323LL&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;OR&lt;/span&gt; email &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;felipe@gmail.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nous avons deux diffÃ©rences importantes oÃ¹, voyons:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Notre clause &lt;code&gt;WHERE&lt;/code&gt; a maintenant une autre clause appelÃ©e &lt;code&gt;AND&lt;/code&gt; , et cela nous permet de â€œconcatÃ©nerâ€ deux valeurs que nous voulons vÃ©rifier, nous disons que les deux doivent correspondre pour que notre validation soit rÃ©ussie . Il est important de noter quâ€™ils sont Ã  lâ€™intÃ©rieur de â€()â€, il sâ€™agit en quelque sorte de â€œretenirâ€ en tant que valeur ou contrainte , nous vÃ©rifions en gros ce qui est Ã  lâ€™intÃ©rieur qui donnera le â€œrÃ©sultatâ€ qui sera vrai ou faux .&lt;/li&gt;
&lt;li&gt;Le second est &lt;code&gt;OR&lt;/code&gt; et correspond exactement Ã  ce que suggÃ¨re le â€œnomâ€. Si notre clause &lt;code&gt;WHERE&lt;/code&gt; ne convient pas, nous vÃ©rifions celle-ci.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Upsert&lt;/h2&gt;
&lt;p&gt;En plus du nom qui a lâ€™air bizarre, cette commande est trÃ¨s utile, car nous parlons de mise Ã  jour, lâ€™un des scÃ©narios les plus courants consiste Ã  vouloir mettre Ã  jour quelque chose qui existe dÃ©jÃ , mais comment savez-vous quâ€™il existe dÃ©jÃ ? Pour cela, vous pouvez gÃ©nÃ©ralement penser, commencez par vÃ©rifier sâ€™il existe et si vous utilisez la commande update, non? Mais en rÃ©alitÃ© vous savez dÃ©jÃ  ce que vous voulez, vous voulez que si cette valeur est dÃ©jÃ  mise Ã  jour.&lt;/p&gt;
&lt;p&gt;PostgreSQL implÃ©mente cela il nâ€™y a pas si longtemps, comme dâ€™autres bases de donnÃ©es lâ€™avaient dÃ©jÃ  assez longtemps, voyons comment implÃ©menter lâ€™utilisation de Postgres.&lt;/p&gt;
&lt;p&gt;Vous devez dâ€™abord savoir que nous disposons de deux contraintes que nous pouvons utiliser pour â€œdireâ€ ce que nous voulons faire si cette valeur existe dÃ©jÃ .&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ON CONFLICT DO NOTHING&lt;/li&gt;
&lt;li&gt;ON CONFLICT DO UPDATE&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Par le nom, vous pouvez dÃ©jÃ  imaginer ce qui se passe, lors de la mise Ã  jour si vous trouvez un â€œconflitâ€ avec un autre, ne faites rien.&lt;/p&gt;
&lt;p&gt;Regardons comment utiliser &lt;code&gt;ON CONFLICT DO NOTHING&lt;/code&gt; :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;INTO&lt;/span&gt; customer &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; height&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;VALUES&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Felipe&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;ON&lt;/span&gt; CONFLICT &lt;span class=&quot;token keyword&quot;&gt;DO&lt;/span&gt; NOTHING&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;En gros, ce qui va se passer nâ€™est rien, si la base de donnÃ©es trouve dÃ©jÃ  une valeur, ne fait rien.&lt;/p&gt;
&lt;p&gt;Dâ€™autre part pour &lt;code&gt;ON CONFLICT DO UPDATE&lt;/code&gt; :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;INTO&lt;/span&gt; customer &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; height&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;VALUES&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Felipe&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;ON&lt;/span&gt; CONFLICT &lt;span class=&quot;token keyword&quot;&gt;DO&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;UPDATE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Voici exactement ce que dit le nom, si vous trouvez un conflit, mettez-le Ã  jour.&lt;/p&gt;
&lt;p&gt;Il est simple dâ€™utiliser ce scÃ©nario lorsque vous savez que vous souhaitez mettre Ã  jour lorsque vous avez la mÃªme valeur. Rappelez-vous que lâ€™implÃ©mentation change lÃ©gÃ¨rement pour chaque base de donnÃ©es, mais quâ€™il est important de connaÃ®tre le concept, il suffit de regarder sur Internet le nom de contrainte spÃ©cifique de votre base de donnÃ©es.&lt;/p&gt;
&lt;h2&gt;Select&lt;/h2&gt;
&lt;p&gt;Maintenant que nous avons en principe commencÃ© le dÃ©but en suivant une mÃ©thode logique, comme crÃ©er votre base de donnÃ©es, mettre Ã  jour, supprimer, la plupart des bases afin de configurer votre base de donnÃ©es, nous devons obtenir les donnÃ©es.&lt;/p&gt;
&lt;p&gt;TrÃ¨s probablement, ce sera lâ€™une des commandes les plus utilisÃ©es par vous, alors voyons-le.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; customer&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;La base est trÃ¨s simple, allons-y Ã©tape par Ã©tape:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;SELECT *&lt;/code&gt; - Ce que vous faites est de dire â€œje veuxâ€ (&lt;code&gt;SELECT&lt;/code&gt;) tout (&lt;code&gt;*&lt;/code&gt;);&lt;/li&gt;
&lt;li&gt;&lt;code&gt;FROM&lt;/code&gt; - Dâ€™oÃ¹ je veux (&lt;code&gt;FROM&lt;/code&gt;) câ€™est Ã  partir du nom de la table (&lt;code&gt;customer).&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Ici, je reÃ§ois tout ce qui se trouve dans ma table client, soyons plus prÃ©cis.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; height&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; name &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; customer&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Maintenant que vous avez dÃ©jÃ  compris comment vous crÃ©ez, vous avez probablement compris que nous voulions des donnÃ©es spÃ©cifiques, Ã  savoir les donnÃ©es des colonnes â€œheightâ€ et â€œnameâ€ de ma table customer .&lt;/p&gt;
&lt;p&gt;Cette contrainte offre de nombreuses autres possibilitÃ©s dont vous avez absolument besoin dans la documentation pour pouvoir visualiser toutes les autres variantes.&lt;/p&gt;
&lt;p&gt;Un de plus, est pour la situation que vous ne voulez pas rÃ©ellement sÃ©lectionner par le nom de la colonne, mais si elle correspond Ã  la valeur, essayez ceci:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; height&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Felipe&apos;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; customer&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Comme je lâ€™ai dit, nous rechercherons des donnÃ©es dans la colonne â€œhauteurâ€ et toutes les valeurs correspondant Ã  la chaÃ®ne â€œFelipeâ€ en regard du nom de la colonne correspondante.&lt;/p&gt;
&lt;h2&gt;Where&lt;/h2&gt;
&lt;p&gt;Cette contrainte est une autre que vous utiliserez encore plus avec la contrainte &lt;code&gt;SELECT&lt;/code&gt; . Voyons comment nous utilisons, vous utiliserez ceci pour filtrer ce que vous voulez lors de la sÃ©lection de vos donnÃ©es.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; height&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; name &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; customer &lt;span class=&quot;token keyword&quot;&gt;WHERE&lt;/span&gt; height &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Comme vous pouvez le constater, nous recherchons la taille du client et &lt;code&gt;WHERE&lt;/code&gt; la â€œheightâ€ est supÃ©rieure Ã  50 .&lt;/p&gt;
&lt;p&gt;Mais vous pouvez ajouter encore plus de contraintes (filtres).&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; height&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; name &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; customer &lt;span class=&quot;token keyword&quot;&gt;WHERE&lt;/span&gt; height &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;50&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;AND&lt;/span&gt; height &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nous avons ajoutÃ© ici une nouvelle contrainte &lt;code&gt;AND&lt;/code&gt; qui fait exactement ce que son nom suggÃ¨re, qui doit Ãªtre plus haut que 50 ET infÃ©rieur Ã  80.&lt;/p&gt;
&lt;p&gt;Une autre contrainte que nous pouvons utiliser est &lt;code&gt;OR&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; height&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; name &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; customer &lt;span class=&quot;token keyword&quot;&gt;WHERE&lt;/span&gt; height &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;50&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;OR&lt;/span&gt; name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Felipe&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ici nous avons ajoutÃ© une autre contrainte &lt;code&gt;OR&lt;/code&gt; cela signifie que si notre vÃ©rification â€œprÃ©cÃ©denteâ€ ne correspond pas comme son nom lâ€™indique â€œOUâ€, nous retournons sous forme de correspondance.&lt;/p&gt;
&lt;h2&gt;Join&lt;/h2&gt;
&lt;p&gt;Câ€™est certainement un sujet trÃ¨s important, non seulement parce que dans un entretien dâ€™embauche, ils vous le demanderont certainement, mais aussi parce quâ€™il y a beaucoup de possibilitÃ©s. MÃªme si la premiÃ¨re fois que vous essayez de comprendre, Ã§a a lâ€™air bizarre.&lt;/p&gt;
&lt;p&gt;Pour cela nous avons 5 types:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CROSS JOIN&lt;/li&gt;
&lt;li&gt;INNER JOIN&lt;/li&gt;
&lt;li&gt;LEFT JOIN&lt;/li&gt;
&lt;li&gt;RIGHT JOIN&lt;/li&gt;
&lt;li&gt;FULL JOIN&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Je vais essayer dâ€™expliquer de la maniÃ¨re la plus simple, mais je vous recommande dâ€™essayer cela en direct. Lorsque vous le ferez, vous comprendrez mieux et vous verrez comme cela est facile.&lt;/p&gt;
&lt;p&gt;Pour cela, nous avons besoin de quelques donnÃ©es pour pouvoir visualiser. Pour cela, je vais mettre une donnÃ©e Ã  insÃ©rer, je reconnais que vous savez dÃ©jÃ  comment crÃ©er une table. Nous aurons notre client et la table de contact .&lt;/p&gt;
&lt;p&gt;Nos donnÃ©es clients:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;INTO&lt;/span&gt; customer&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;age&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;email&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;address&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;zip_code&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; 
 &lt;span class=&quot;token keyword&quot;&gt;VALUES&lt;/span&gt; 
 &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Paul&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;23&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;paul@gmail.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;address from paul&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;2321LL&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
 &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Felipe&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;32&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;felipegarcia@gmail.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;address from felipe&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;3413MS&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
 &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Teddy&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;90&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;teddy@gmail.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;address from teddy&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;3423PO&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
 &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Mark&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;17&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;mark@gmail.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;address from mark&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;9423MA&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
 &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;David&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;35&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;david@gmail.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;address from david&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;2341DA&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
 &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Allen&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;56&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;allen@gmail.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;address from allen&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;3423PO&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
 &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;James&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;56&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;james@gmail.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;address from james&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;3423PO&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Et pour nos coordonnÃ©es:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt; &lt;span class=&quot;token keyword&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;INTO&lt;/span&gt; contact&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;email&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;zip_code&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; 
 &lt;span class=&quot;token keyword&quot;&gt;VALUES&lt;/span&gt; 
 &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;teddy@gmail.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;3423PO&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
 &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;david@gmail.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;2341DA&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
 &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;james@gmail.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;3234PO&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
 &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;felipe@gmail.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Vous devez juste exÃ©cuter ceci sur votre table dÃ©jÃ  crÃ©Ã©e et lâ€™insÃ©rer.&lt;/p&gt;
&lt;h3&gt;Cross join&lt;/h3&gt;
&lt;p&gt;Je dirais que vous nâ€™utiliserez pas trop celle-ci, car elle peut gÃ©nÃ©rer beaucoup de donnÃ©es. En gros, il joint ici les deux tables et gÃ©nÃ¨re une sortie avec toutes les donnÃ©es.&lt;/p&gt;
&lt;p&gt;La faÃ§on dont cette contrainte fonctionne consiste Ã  renvoyer des donnÃ©es de produit cartÃ©siennes entre les deux tables. Cette commande multiplie la premiÃ¨re table par la quantitÃ© de donnÃ©es de la seconde table. Elle renverra toujours la combinaison possible. Je crois que vous pouvez imaginer combien de donnÃ©es cela peut crÃ©er, non?!&lt;/p&gt;
&lt;p&gt;Il est facile de voir la reprÃ©sentation de la faÃ§on dont cette requÃªte sera traitÃ©e Ã  partir de cette image, mais cela ne correspond pas seulement:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/29e3e8a840fc500356e30313b0782efe/0b269/crossjoin.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 59.26517571884984%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAACUUlEQVQoz2P4////v3//IeDmw2erDpxduvf0yWt3f//6BRH89+/vlbuPVxw4s3zf6fO3Hvz58wcsCNLDAKGevn6bPGGlTHK3YGy7QEybWEKnS82s0zfuP3z+OrxjsVRSl2Bsm2BMm0Ril3/z/It3HkH0MwCpZ6/fWpdO44xslUrtk07tk0ntk0rt5Y3pVElp10nv4I7ukEzpBYmn9UmlAMU7lNO6gU4A2QzE+TPWc0S0KmRMkIIoghiR0i0a2yIa2wp0DkQQZGhKr3x6P1C/Z/3c///+MDx//U4lo08iuVc6pVc0oVskoUs4vlMksVsivk0qsQMoKBXfJpbUAxQUTugST+qWBlsgGt9x5PJthsMXb4kndgH5Esk9djXz7WvmO9YtBDJkEtokk3uASsVjW8zKZ7s0LLSvna9bOE0iqUcufQJneNP8nScYDsE0A5Ualcy0qpxrVz3fumqedDxIM9CdEnEt2vnT7Grm2VbP08ibgtC86wTDizfv1DKBOoGO6YW4WQjsQqizU6HOFowDiUOcLZPWL57QeRTobEiAcUe1AwMMqBQeYLIpPRJxrUAjZFPQAmyCQFynV8O8f3//gKPq1Vuzosms4S1SKVBFQNXAGJJLaFFPaeWIakMW54pql0vuPHcTHFV/wYnk8cu3cb3LROPaeaLaeKPa+KNb7StmnLx27/6zl8EtC4Vj2nijQQiYTrzq554DR/JfSCL5C05lwGR47f7TFfvPLNp18vjVO99//IAkz99//gCT1NK9pxbvOXXmxv2f4GT75+9fIAkAz/qA/xb+AwkAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/29e3e8a840fc500356e30313b0782efe/8ffb1/crossjoin.webp 293w,
/static/29e3e8a840fc500356e30313b0782efe/17bf8/crossjoin.webp 585w,
/static/29e3e8a840fc500356e30313b0782efe/e2c1c/crossjoin.webp 1170w,
/static/29e3e8a840fc500356e30313b0782efe/491d0/crossjoin.webp 1252w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/29e3e8a840fc500356e30313b0782efe/f93ee/crossjoin.png 293w,
/static/29e3e8a840fc500356e30313b0782efe/8c0a8/crossjoin.png 585w,
/static/29e3e8a840fc500356e30313b0782efe/e1668/crossjoin.png 1170w,
/static/29e3e8a840fc500356e30313b0782efe/0b269/crossjoin.png 1252w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/29e3e8a840fc500356e30313b0782efe/e1668/crossjoin.png&quot;
          alt=&quot;Cross Join&quot;
          title=&quot;Cross Join&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Allons Ã  la commande:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; customer &lt;span class=&quot;token keyword&quot;&gt;CROSS&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;JOIN&lt;/span&gt; contact&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Je nâ€™ajouterai pas une impression de la sortie complÃ¨te ici, car elle est trop grande, mais cette opÃ©ration gÃ©nÃ©rera un total de 36 Ã©lÃ©ments/lignes, câ€™est-Ã -dire la multiplication entre le premier client de la table ayant 9 Ã©lÃ©ments multipliÃ© par la table de contacts contenant 4&lt;/p&gt;
&lt;p&gt;Mais une information prÃ©cieuse ici est que, avec cela, nous allons gÃ©nÃ©rer une sortie qui contient toutes les lignes de la premiÃ¨re table et toutes les lignes de la seconde:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a7ef6ad35711b3c4d4fd7580469f3425/2c525/crossjoinselect.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 10.5%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAAsSAAALEgHS3X78AAAAeElEQVQI1w3KUQ+CIBiFYf//3+rCHEwaUqYkIIgGSJ+z2qqrvouznT17i0a0wzhLPVWUdVLFBClvrTSEnkY345+WlYvupl1Fam0cSkjAz9jaomZNhLePUBImrsO6f/Lzq+z9SLly4fH64dB9gENJeu1RsLn0xi75D+2MaVFPNgJnAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/a7ef6ad35711b3c4d4fd7580469f3425/8ffb1/crossjoinselect.webp 293w,
/static/a7ef6ad35711b3c4d4fd7580469f3425/17bf8/crossjoinselect.webp 585w,
/static/a7ef6ad35711b3c4d4fd7580469f3425/e2c1c/crossjoinselect.webp 1170w,
/static/a7ef6ad35711b3c4d4fd7580469f3425/cc386/crossjoinselect.webp 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/a7ef6ad35711b3c4d4fd7580469f3425/f93ee/crossjoinselect.png 293w,
/static/a7ef6ad35711b3c4d4fd7580469f3425/8c0a8/crossjoinselect.png 585w,
/static/a7ef6ad35711b3c4d4fd7580469f3425/e1668/crossjoinselect.png 1170w,
/static/a7ef6ad35711b3c4d4fd7580469f3425/2c525/crossjoinselect.png 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/a7ef6ad35711b3c4d4fd7580469f3425/e1668/crossjoinselect.png&quot;
          alt=&quot;Cross Join tout sÃ©lectionner&quot;
          title=&quot;Cross Join tout sÃ©lectionner&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Et pourquoi rÃ©pÃ©ter table? Eh bien, nous avons &lt;code&gt;SELECT *&lt;/code&gt;, nous avons choisi dâ€™obtenir toutes les donnÃ©es des deux, mais montrons-leur comment ne pas rÃ©pÃ©ter ou, mieux, comment choisir la ligne de sortie que nous voulons.&lt;/p&gt;
&lt;p&gt;Utilisez cette requÃªte:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; customer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; customer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;age&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; customer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;address&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; contact&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;email&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; contact&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;zip_code &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; customer &lt;span class=&quot;token keyword&quot;&gt;CROSS&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;JOIN&lt;/span&gt; contact&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Une partie de la sortie:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/275a8b3c2d723380b7a2c3452a817d18/cbf70/crossjoinpart.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 12.275449101796406%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAAsSAAALEgHS3X78AAAAe0lEQVQI1w3J3Q6CIBgAUN//nWy6Sf5AwCeDzPgZKk1d4cqLuszbcxJtLAEFrYLOMZBc6YbJGl967Zwf3RD41dZUSNX5YbJ+ospgKjgIcfcJZQxVJCwxfr5r3HvjzxUpSlw2FORt23+PdUuzIs3RIcvzHebXKUdunI/6Aw0PZWk8CHylAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/275a8b3c2d723380b7a2c3452a817d18/8ffb1/crossjoinpart.webp 293w,
/static/275a8b3c2d723380b7a2c3452a817d18/17bf8/crossjoinpart.webp 585w,
/static/275a8b3c2d723380b7a2c3452a817d18/e2c1c/crossjoinpart.webp 1170w,
/static/275a8b3c2d723380b7a2c3452a817d18/c2561/crossjoinpart.webp 1336w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/275a8b3c2d723380b7a2c3452a817d18/f93ee/crossjoinpart.png 293w,
/static/275a8b3c2d723380b7a2c3452a817d18/8c0a8/crossjoinpart.png 585w,
/static/275a8b3c2d723380b7a2c3452a817d18/e1668/crossjoinpart.png 1170w,
/static/275a8b3c2d723380b7a2c3452a817d18/cbf70/crossjoinpart.png 1336w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/275a8b3c2d723380b7a2c3452a817d18/e1668/crossjoinpart.png&quot;
          alt=&quot;crossjoinpart&quot;
          title=&quot;crossjoinpart&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Si vous faites attention, ce que nous avons fait Ã©tait de dire comment sera gÃ©nÃ©rÃ©, en spÃ©cifiant la ligne que nous voulons et dâ€™oÃ¹ &lt;code&gt;customer.&quot;name&quot;&lt;/code&gt; et &lt;code&gt;contact.zip_code&lt;/code&gt; afin que la sortie suive cet ordre.&lt;/p&gt;
&lt;p&gt;Je nâ€™ai pas ajoutÃ© la â€œfinâ€ de cette requÃªte, ni mÃªme la prÃ©cÃ©dente, mais parlons du concept de â€œjointureâ€, nous cherchons fondamentalement une correspondance, mais pour cette contrainte, nous â€œobtenons toutâ€ Ã  partir dâ€™une table et â€œTout Ã  partir deâ€ deuxiÃ¨me table, mais dans le type CROSS si un Ã©lÃ©ment ne correspond pas retournera quand mÃªme, mais sâ€™il nâ€™y a pas de correspondance, la valeur sera vide.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b249e7e43d99ec1ceef9f57df07e8b22/a1b30/crossjoinpart2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 15.833333333333332%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAAAsSAAALEgHS3X78AAAAqElEQVQI1xWL2wqCMABA+/8/EgrKnDpnOe+3mKaoecFNbbh6asHhPBw4Bwihie5l/VreH7qJbmB+lKkAGpYDTDuI83ndLwAqx/MVWFFGuoGSqp0Yp+t+0DQNB0ndjnJmm+hHlj5Kx4vcMMV+kpGKbvsNByZysBeTZ7vwr4Su4j9DyzJtNy+aaRED5c2w+AlRdWQgV0cYB5mMqm4rJ1U6TIuR7f3MZZT8AFeVm2gClbK9AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/b249e7e43d99ec1ceef9f57df07e8b22/8ffb1/crossjoinpart2.webp 293w,
/static/b249e7e43d99ec1ceef9f57df07e8b22/17bf8/crossjoinpart2.webp 585w,
/static/b249e7e43d99ec1ceef9f57df07e8b22/e2c1c/crossjoinpart2.webp 1170w,
/static/b249e7e43d99ec1ceef9f57df07e8b22/b3c81/crossjoinpart2.webp 1200w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/b249e7e43d99ec1ceef9f57df07e8b22/f93ee/crossjoinpart2.png 293w,
/static/b249e7e43d99ec1ceef9f57df07e8b22/8c0a8/crossjoinpart2.png 585w,
/static/b249e7e43d99ec1ceef9f57df07e8b22/e1668/crossjoinpart2.png 1170w,
/static/b249e7e43d99ec1ceef9f57df07e8b22/a1b30/crossjoinpart2.png 1200w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/b249e7e43d99ec1ceef9f57df07e8b22/e1668/crossjoinpart2.png&quot;
          alt=&quot;crossjoinpart2&quot;
          title=&quot;crossjoinpart2&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Parce que si vous faites attention Ã  notre table de contact pour lâ€™utilisateur â€œfelipe@gmail.com â€, il nâ€™y a pas de correspondance avec personne Ã  la table des clients , mais sera quand mÃªme retournÃ©e.&lt;/p&gt;
&lt;h3&gt;Inner join&lt;/h3&gt;
&lt;p&gt;Maintenant que nous savons dÃ©jÃ  quelque chose de base concernant ce que nous pouvons faire en matiÃ¨re de jointure , passons Ã  la suivante, qui ressemble beaucoup Ã  la jointure croisÃ©e, mais avec une simple diffÃ©rence quâ€™ici ne renverra que des correspondances.&lt;/p&gt;
&lt;p&gt;Câ€™est la reprÃ©sentation du type de jointure que nous faisons ici entre les tables, car vous ne voyez que le â€œcentreâ€ qui correspond Ã  ce que nous aurons comme donnÃ©es.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1696bc619a8faae2a659584b0b485b75/0b269/innerjoin.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 59.26517571884984%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAABh0lEQVQoz21SwUrDQBCN36LoRQQPfokfURRFDyLozQ8ogl5KT6VnQXpREBHsRfSmCNKKTQ2JtdYm226aJtls4tsMjWl1SDab2Xnz3syOlkxMSum6LmNskFoQBHEcwx9FEeecnMPhMAzDDKLRZzweO47j+76YGCKRS4gw7wdSpeD8FwwkCImHjPYvulm7fVCickew0WiEFAqMOOSmaKwSgXEshMTvbrm2UCgy7lJRcWqEh37I0VAbdhlbxtPp2Uubx3PrR9Xre1W5lHly6AdKw4tiyGWaHV039LbZ++zWH5srO6ere6XD6qXweLPR+LAs27YzGijX8GYN7Pcdw7Da7+ZXp1t/el3ePlnbLx9ULpJYtFotyzQHjE2BIZun3ZuRbfX6ixtKduXqH9lULBomHYflG4ZHRCp0q3Q+Xyh+M9VYGU01DHy4I21yySyfmMif34yzm7u/V+V5Hkv1Tw0JVkqPqUJJrsvDwLfTISF/GAqoxRFJ0LJqAaDxhCFCjSeOkgR3MePPID9sIKEO9AXojgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/1696bc619a8faae2a659584b0b485b75/8ffb1/innerjoin.webp 293w,
/static/1696bc619a8faae2a659584b0b485b75/17bf8/innerjoin.webp 585w,
/static/1696bc619a8faae2a659584b0b485b75/e2c1c/innerjoin.webp 1170w,
/static/1696bc619a8faae2a659584b0b485b75/491d0/innerjoin.webp 1252w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/1696bc619a8faae2a659584b0b485b75/f93ee/innerjoin.png 293w,
/static/1696bc619a8faae2a659584b0b485b75/8c0a8/innerjoin.png 585w,
/static/1696bc619a8faae2a659584b0b485b75/e1668/innerjoin.png 1170w,
/static/1696bc619a8faae2a659584b0b485b75/0b269/innerjoin.png 1252w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/1696bc619a8faae2a659584b0b485b75/e1668/innerjoin.png&quot;
          alt=&quot;Inner join&quot;
          title=&quot;Inner join&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Ici, la syntaxe est un peu diffÃ©rente, nous devons ajouter une contrainte supplÃ©mentaire, celle qui recherchera la ligne â€œvalidateur â€œ.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; customer &lt;span class=&quot;token keyword&quot;&gt;INNER&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;JOIN&lt;/span&gt; contact &lt;span class=&quot;token keyword&quot;&gt;ON&lt;/span&gt; customer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;zip_code&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;contact&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;zip_code&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;La principale diffÃ©rence que nous avons ici est que nous allons rechercher une correspondance en utilisant la table client et la table de contact , pour cela nous utiliserons la ligne â€œzip_code â€œ.&lt;/p&gt;
&lt;p&gt;Câ€™est ce que vous aurez comme rÃ©cupÃ©ration de donnÃ©es.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c69f5611fb5a032c4dce68f3b6db3888/2c525/innerexample.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 12.312500000000002%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAAsSAAALEgHS3X78AAAAhUlEQVQI1wF6AIX/ALC+0aS40rrP67XJ5KS2zpytxazA2r3S7qa50aK1zai81rjO6aG0zLvR7a3A2pqswqm9163A2ai81sLV7wC9ytq7zeXL3/nB0+yywtequc27zOPI2/azw9mwwNW3yN7E1/CwwNXH2vW6y+Gpucu5y+G7zOO3x9/M3fXtfl2Jo5cupwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/c69f5611fb5a032c4dce68f3b6db3888/8ffb1/innerexample.webp 293w,
/static/c69f5611fb5a032c4dce68f3b6db3888/17bf8/innerexample.webp 585w,
/static/c69f5611fb5a032c4dce68f3b6db3888/e2c1c/innerexample.webp 1170w,
/static/c69f5611fb5a032c4dce68f3b6db3888/cc386/innerexample.webp 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/c69f5611fb5a032c4dce68f3b6db3888/f93ee/innerexample.png 293w,
/static/c69f5611fb5a032c4dce68f3b6db3888/8c0a8/innerexample.png 585w,
/static/c69f5611fb5a032c4dce68f3b6db3888/e1668/innerexample.png 1170w,
/static/c69f5611fb5a032c4dce68f3b6db3888/2c525/innerexample.png 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/c69f5611fb5a032c4dce68f3b6db3888/e1668/innerexample.png&quot;
          alt=&quot;innerexample&quot;
          title=&quot;innerexample&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Il est facile de voir que lorsque nous retournons toutes les cellules, nous avons le code postal de la cellule du client et du contact , toutes les correspond.&lt;/p&gt;
&lt;p&gt;Cette jointure est trÃ¨s utile pour rÃ©cupÃ©rer des donnÃ©es que vous souhaitez faire correspondre Ã  une valeur spÃ©cifique, diffÃ©rente de la relation ay.&lt;/p&gt;
&lt;h3&gt;Left joint&lt;/h3&gt;
&lt;p&gt;Comme vous le savez peut-Ãªtre, lâ€™objectif principal est de faire correspondre les donnÃ©es et, si les donnÃ©es correspondent, nous renvoyons cette ligne.&lt;/p&gt;
&lt;p&gt;Vous pouvez voir ici que nous avons au centre la partie jointure , câ€™est-Ã -dire le validateur, et la partie gauche qui signifie que si la jointure ne correspond pas, les donnÃ©es seront renvoyÃ©es mais avec la ligne pour les donnÃ©es qui ne correspond pas â€œvideâ€.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7fa3c04fc7f3f18d4d3dc5e2b510a641/0b269/leftjoin.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 59.26517571884984%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAACFklEQVQoz2P4////PyD6ByT+v3j7fsuJy0v2nt5z9trHz1//g8Hfv3+/fPny4cOHj2Dw48cPiGIgYICwfv782bFqj1pWv1BsO3dEs1Bch0H+5EV7Tv/98+f9hw/fvn37DQOfP38GGvTnzx+wZpAR/7KnreMIbxZJ6NIrmh7Rt0Yzb6pgfBd3WGPbki0gy2FWQQDQJqB+oK0MQM6aQ+e4Ippl0/ulU3sVMyfqFk5XyJggndonGd8mldhx8e5joJo/f4AmQAGQ+/XrV6BfQJpD2hfzx3XIpvWJJ3YLxXcKxHUIxnVKJHZKJbQzhzaVzwNZ/vvvX2TLgUYAA4Hhy7fv+nkTxZJ6JJJ6TMpmuTQutK2Z5960RCG1Wzt3omXV3KjelV8/frh7+86TR49ev3oFDy2gyxk+wzRLJvdo5U+1qZ5rVTnHpXExULNWzgSLqrnRvSt+ff/6BAgeP37/7h3ccpBmIBXasUQgrhPobDGws4XjOxHODsHpbGC0gTSvOniON6pVLn2CTGqfNBgBGUCzpBPaZZK7zt9+hBxgEM3AyAMFGCSq0ievYQpuEE/ulQHrBCLhxB7WkPrmhZuwRtU7sPsRiaRl+S6F1B6eqFbe6HagQ7Ry+uftPPHn9+93798D7QGmM6BKYNpASSQQD0DMfvLq7cZjF+fvPLHz9LU3Hz+DpUDJExirQA3v37//9OkTMHn+hyVnAO67E4R//4YrAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/7fa3c04fc7f3f18d4d3dc5e2b510a641/8ffb1/leftjoin.webp 293w,
/static/7fa3c04fc7f3f18d4d3dc5e2b510a641/17bf8/leftjoin.webp 585w,
/static/7fa3c04fc7f3f18d4d3dc5e2b510a641/e2c1c/leftjoin.webp 1170w,
/static/7fa3c04fc7f3f18d4d3dc5e2b510a641/491d0/leftjoin.webp 1252w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/7fa3c04fc7f3f18d4d3dc5e2b510a641/f93ee/leftjoin.png 293w,
/static/7fa3c04fc7f3f18d4d3dc5e2b510a641/8c0a8/leftjoin.png 585w,
/static/7fa3c04fc7f3f18d4d3dc5e2b510a641/e1668/leftjoin.png 1170w,
/static/7fa3c04fc7f3f18d4d3dc5e2b510a641/0b269/leftjoin.png 1252w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/7fa3c04fc7f3f18d4d3dc5e2b510a641/e1668/leftjoin.png&quot;
          alt=&quot;left join&quot;
          title=&quot;left join&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Mais ici maintenant, nous commenÃ§ons Ã  faire les choses diffÃ©remment. Voyons en quoi consiste cette requÃªte:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; customer &lt;span class=&quot;token keyword&quot;&gt;LEFT&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;JOIN&lt;/span&gt; contact &lt;span class=&quot;token keyword&quot;&gt;ON&lt;/span&gt; customer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;zip_code&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;contact&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;zip_code&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;La â€œtranscriptionâ€ de ce que nous demandons ici est la suivante: nous voulons toutes les donnÃ©es de &lt;code&gt;LEFT&lt;/code&gt; qui, dans notre scÃ©nario, sont des clients , et nous voulons uniquement contacter la table celles qui correspondent Ã  notre validation.&lt;/p&gt;
&lt;p&gt;En faisant cela, vous devriez avoir ces donnÃ©es comme rÃ©sultat de cette requÃªte:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/da53e8de3d233a74208b5b13fc2ede47/2c525/leftjoinexample.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 23.125%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAAsSAAALEgHS3X78AAABAUlEQVQY0w2O2W6DMBBF+f/v6WOlqikJAYwxmzGEPZjNZod0eepIo9FI956jUd4uwT3gAUt1QlXNcH1aVE2Y1p+qbmEnyUqW1V+aGUaJw/KLqvk0CtPqqmMvYIrlsn7cxXx49KFqSDNJK9ZebndEEPFBKqZdRwQ6FR/eP9SbYT8bYWK3aqUSxtly/ABM40xHDvSitOD9ZGKPeCx85BCBpR3mpp/BlZZNP25RUnZyVeK0AlguJ40yA2DLeWRP3o/I9mw3hBsi7NJh2mA6uazn37i+6k5O27eS5Hzef4fpYEl5MzAigVhOsOqWix2aFHyYdmT78HYn1rob5fIS81nyAfY/T6cD9FcV3FgAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/da53e8de3d233a74208b5b13fc2ede47/8ffb1/leftjoinexample.webp 293w,
/static/da53e8de3d233a74208b5b13fc2ede47/17bf8/leftjoinexample.webp 585w,
/static/da53e8de3d233a74208b5b13fc2ede47/e2c1c/leftjoinexample.webp 1170w,
/static/da53e8de3d233a74208b5b13fc2ede47/cc386/leftjoinexample.webp 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/da53e8de3d233a74208b5b13fc2ede47/f93ee/leftjoinexample.png 293w,
/static/da53e8de3d233a74208b5b13fc2ede47/8c0a8/leftjoinexample.png 585w,
/static/da53e8de3d233a74208b5b13fc2ede47/e1668/leftjoinexample.png 1170w,
/static/da53e8de3d233a74208b5b13fc2ede47/2c525/leftjoinexample.png 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/da53e8de3d233a74208b5b13fc2ede47/e1668/leftjoinexample.png&quot;
          alt=&quot;leftjoinexample&quot;
          title=&quot;leftjoinexample&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;Right join&lt;/h3&gt;
&lt;p&gt;Maintenant que nous avons dÃ©jÃ  vu comment il est laissÃ© joindre cela nâ€™est pas diffÃ©rent, la seule diffÃ©rence est que nous voulons maintenant que le cÃ´tÃ© â€œdroitâ€ soit la table principale. Cela signifie que nous renverrons toutes les donnÃ©es de la table droite mÃªme si elles ne correspondent pas. Bien sÃ»r ce qui nâ€™a pas de correspondance est vide.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/799ec65bf117690e0f3a72778a460cfb/0b269/rightjoin.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 59.26517571884984%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAACGklEQVQoz2P4DwN//vz58uXLx48fP4HBz58///37B5b5d/Phs1UHzy3dd+bU9Xu/f/8GCYGlGCA6f/z48eHjRyD5GwaAZvz4/v3p6/fJE1fJJHcLxLTxRrWKJ3a61889ce0eRD9I8/fvP4BKYfaAwF8w+9Hzl+b5/VxR7RLJPSrZkzTzp0qn9vLFdkondR66eBtkM1Ddhw8fITr/wcDvP3+B3MLZm7jCGhTSesSTehxrFwR2rpRJ65NN6xOI7bQpnwF0JsOPnz8/f/78HwlArH3y6q1Sei9QnXRiO1CzUFynYFyHeFK3VEqvbFo/f3Tr1pNXGIBhAwkDIHj65MnD+/cfPHjw9sWzAxduaedOdKxbIB7Xalw6y61psW31PIPiGZLJPXLp/VyRrX3rDqBofvf2LVD/48ePP7x6cejSLY3sCU71C6US2jTyptjXzreumqudP1UCWTMwSoAxBPIwNmfzx3ZIJ7SLgZzdIRTfKZYIdbZgTBvI2f9AAfYBLcD+/IUGGG9Ek0Jar3RqnwwYAXXKp/cLxXfZVsz89v0HJKq+A9MGZpg9fv7SKKeHLbxFKgWqGWgKT0yHWHz7gYs3EYkEqB8YYcDQh0YVMJF8BCaSb49fvY3rXSEa184T1cYb3SYQ3epUPfvI5dsQCxjAroUmz69fvwLTGdAUYOT9+vULIv7379+r95+t2H9m0Z5TwLT1/ecviCCQBADqEBKnImtQdwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/799ec65bf117690e0f3a72778a460cfb/8ffb1/rightjoin.webp 293w,
/static/799ec65bf117690e0f3a72778a460cfb/17bf8/rightjoin.webp 585w,
/static/799ec65bf117690e0f3a72778a460cfb/e2c1c/rightjoin.webp 1170w,
/static/799ec65bf117690e0f3a72778a460cfb/491d0/rightjoin.webp 1252w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/799ec65bf117690e0f3a72778a460cfb/f93ee/rightjoin.png 293w,
/static/799ec65bf117690e0f3a72778a460cfb/8c0a8/rightjoin.png 585w,
/static/799ec65bf117690e0f3a72778a460cfb/e1668/rightjoin.png 1170w,
/static/799ec65bf117690e0f3a72778a460cfb/0b269/rightjoin.png 1252w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/799ec65bf117690e0f3a72778a460cfb/e1668/rightjoin.png&quot;
          alt=&quot;Right join&quot;
          title=&quot;Right join&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Question:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; customer &lt;span class=&quot;token keyword&quot;&gt;RIGHT&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;JOIN&lt;/span&gt; contact &lt;span class=&quot;token keyword&quot;&gt;ON&lt;/span&gt; customer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;zip_code&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;contact&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;zip_code&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Mais il est important de ne pas se mÃ©prendre pour obtenir toutes les donnÃ©es de droite ou de gauche avec uniquement la quantitÃ© exacte de donnÃ©es dont nous disposons Ã  cette table spÃ©cifique.&lt;/p&gt;
&lt;p&gt;Ce que je veux dire par lÃ , câ€™est que pour cette jointure, nous voulons â€œtoutâ€ du cÃ´tÃ© droit, câ€™est notre table de contact qui contient 4 Ã©lÃ©ments que nous avons ajoutÃ©s, et voici le rÃ©sultat:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/31972c42804d65c58b8b6bb70089879d/2c525/rightjointexample.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 16.5625%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAAAsSAAALEgHS3X78AAAAoUlEQVQI1w2L4QqCMBhFff+3MoyyyEDTldtyThETnS41N9m07/64HM7lOudLECHSDb/qI+4hcj0fpZn4LlGc+rcwSkjTjdcgbPuZZMXh6CPMMOVhguWknUec8KqR8wpn/OYvwgD6UVFW0rwq664dZpDDpFPKXe/0xBkrajBy1k6e51qvxphlURBr7b7v0ErrbduAYVJKA0gpOedCCGNgt9B/uoGjGl7eHqAAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/31972c42804d65c58b8b6bb70089879d/8ffb1/rightjointexample.webp 293w,
/static/31972c42804d65c58b8b6bb70089879d/17bf8/rightjointexample.webp 585w,
/static/31972c42804d65c58b8b6bb70089879d/e2c1c/rightjointexample.webp 1170w,
/static/31972c42804d65c58b8b6bb70089879d/cc386/rightjointexample.webp 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/31972c42804d65c58b8b6bb70089879d/f93ee/rightjointexample.png 293w,
/static/31972c42804d65c58b8b6bb70089879d/8c0a8/rightjointexample.png 585w,
/static/31972c42804d65c58b8b6bb70089879d/e1668/rightjointexample.png 1170w,
/static/31972c42804d65c58b8b6bb70089879d/2c525/rightjointexample.png 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/31972c42804d65c58b8b6bb70089879d/e1668/rightjointexample.png&quot;
          alt=&quot;rightjointexample&quot;
          title=&quot;rightjointexample&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Nous avons 6 Ã©lÃ©ments et non 4, mais rappelez-vous, ce nâ€™est pas une requÃªte de â€œtout renvoyer dâ€™un cÃ´tÃ© sâ€™il y a correspondance â€, câ€™est une requÃªte qui renvoie tout dâ€™ un â€œcÃ´tÃ©â€ qui correspond, nous avons 2 correspondances pour le code postal 3423PO , câ€™est un match alors revenez.&lt;/p&gt;
&lt;h3&gt;Full join&lt;/h3&gt;
&lt;p&gt;Maintenant le dernier, qui ressemble Ã  la jointure croisÃ©e, la diffÃ©rence ici est que nous recherchons une &lt;strong&gt;correspondance&lt;/strong&gt; et non un produit cartÃ©sien comme la jointure croisÃ©e.&lt;/p&gt;
&lt;p&gt;Nous chercherons la jointure dans toute la zone bleue, en validant fondamentalement les deux cÃ´tÃ©s en fonction de notre contrainte de â€œvalidationâ€, qui dans notre scÃ©nario est zip_code.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/29e3e8a840fc500356e30313b0782efe/0b269/fulljoin.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 59.26517571884984%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAACUUlEQVQoz2P4////v3//IeDmw2erDpxduvf0yWt3f//6BRH89+/vlbuPVxw4s3zf6fO3Hvz58wcsCNLDAKGevn6bPGGlTHK3YGy7QEybWEKnS82s0zfuP3z+OrxjsVRSl2Bsm2BMm0Ril3/z/It3HkH0MwCpZ6/fWpdO44xslUrtk07tk0ntk0rt5Y3pVElp10nv4I7ukEzpBYmn9UmlAMU7lNO6gU4A2QzE+TPWc0S0KmRMkIIoghiR0i0a2yIa2wp0DkQQZGhKr3x6P1C/Z/3c///+MDx//U4lo08iuVc6pVc0oVskoUs4vlMksVsivk0qsQMoKBXfJpbUAxQUTugST+qWBlsgGt9x5PJthsMXb4kndgH5Esk9djXz7WvmO9YtBDJkEtokk3uASsVjW8zKZ7s0LLSvna9bOE0iqUcufQJneNP8nScYDsE0A5Ualcy0qpxrVz3fumqedDxIM9CdEnEt2vnT7Grm2VbP08ibgtC86wTDizfv1DKBOoGO6YW4WQjsQqizU6HOFowDiUOcLZPWL57QeRTobEiAcUe1AwMMqBQeYLIpPRJxrUAjZFPQAmyCQFynV8O8f3//gKPq1Vuzosms4S1SKVBFQNXAGJJLaFFPaeWIakMW54pql0vuPHcTHFV/wYnk8cu3cb3LROPaeaLaeKPa+KNb7StmnLx27/6zl8EtC4Vj2nijQQiYTrzq554DR/JfSCL5C05lwGR47f7TFfvPLNp18vjVO99//IAkz99//gCT1NK9pxbvOXXmxv2f4GT75+9fIAkAz/qA/xb+AwkAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/29e3e8a840fc500356e30313b0782efe/8ffb1/fulljoin.webp 293w,
/static/29e3e8a840fc500356e30313b0782efe/17bf8/fulljoin.webp 585w,
/static/29e3e8a840fc500356e30313b0782efe/e2c1c/fulljoin.webp 1170w,
/static/29e3e8a840fc500356e30313b0782efe/491d0/fulljoin.webp 1252w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/29e3e8a840fc500356e30313b0782efe/f93ee/fulljoin.png 293w,
/static/29e3e8a840fc500356e30313b0782efe/8c0a8/fulljoin.png 585w,
/static/29e3e8a840fc500356e30313b0782efe/e1668/fulljoin.png 1170w,
/static/29e3e8a840fc500356e30313b0782efe/0b269/fulljoin.png 1252w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/29e3e8a840fc500356e30313b0782efe/e1668/fulljoin.png&quot;
          alt=&quot;Full join&quot;
          title=&quot;Full join&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;La jointure complÃ¨te combine les deux tables, les donnÃ©es gauche et droite, et renvoie toutes les correspondances et toutes les correspondances , regardons la requÃªte&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; customer &lt;span class=&quot;token keyword&quot;&gt;FULL&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;JOIN&lt;/span&gt; contact &lt;span class=&quot;token keyword&quot;&gt;ON&lt;/span&gt; customer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;zip_code&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;contact&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;zip_code&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Voici ce que nous aurons comme retour:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/97dc580d3604ab840d9413c6b74816ce/2c525/fulljoinexample.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 27.625%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsSAAALEgHS3X78AAABLElEQVQY0xVQ2XKDMAzk//+lX9CHtIUEEzBNIOCAwWAbg7khZ4+XqjMazc5Ku6uR8fKKNzgPSeYeiGW7QRiVQsWZNHfu3vNpXpxZZdpuGJEwKT8sFJxikgkL+YfgZJg25vXQTddTTDcf9puJuOrbYbUd30LYD8iw3MFU6rFuJ1iwkFc1g+MdmdQGr9r1/qP7tZT6TEsm9Lg+h/lOmSxlq/QEYlpI6EqPYG27nwAgSajeSJmYLk+IyksVpyzNBc2Faqck48Bw1Y7Lg6Ss6RbdL1HCGG+68QoY7Iwk5+vte1zuJC3MrbNzMC0quND1QwRvSItpfeBjVHfzMN9Ac3n8ztcvWff/4nMGJz2b/gLgfbtHXlB3KxTyjggHhAoYOTjk9QhkITs93qAK2QL/B0/lOKwaRDFbAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/97dc580d3604ab840d9413c6b74816ce/8ffb1/fulljoinexample.webp 293w,
/static/97dc580d3604ab840d9413c6b74816ce/17bf8/fulljoinexample.webp 585w,
/static/97dc580d3604ab840d9413c6b74816ce/e2c1c/fulljoinexample.webp 1170w,
/static/97dc580d3604ab840d9413c6b74816ce/cc386/fulljoinexample.webp 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/97dc580d3604ab840d9413c6b74816ce/f93ee/fulljoinexample.png 293w,
/static/97dc580d3604ab840d9413c6b74816ce/8c0a8/fulljoinexample.png 585w,
/static/97dc580d3604ab840d9413c6b74816ce/e1668/fulljoinexample.png 1170w,
/static/97dc580d3604ab840d9413c6b74816ce/2c525/fulljoinexample.png 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/97dc580d3604ab840d9413c6b74816ce/e1668/fulljoinexample.png&quot;
          alt=&quot;fulljoinexample&quot;
          title=&quot;fulljoinexample&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Ici, nous suivons le mÃªme principe que les â€œjointuresâ€ avant, câ€™est ce qui nâ€™a pas de correspondance nous avons encore les donnÃ©es, mais â€œvideâ€&lt;/p&gt;
&lt;h2&gt;Union&lt;/h2&gt;
&lt;p&gt;Cette commande est trÃ¨s utile, car il est question dâ€™obtenir des donnÃ©es Ã  partir de 2 tables, mais ne confondez bien sÃ»r pas les deux.&lt;/p&gt;
&lt;p&gt;Ce que fait Union, câ€™est que nous allons combiner les donnÃ©es des deux cÃ´tÃ©s, mais que nous ne renverrons que des donnÃ©es â€œuniquesâ€ entre les deux, si â€œidentiquesâ€ ne renvoient pas les doublons, par exemple, câ€™est ce qui se produit avec join.&lt;/p&gt;
&lt;p&gt;Câ€™est la requÃªte que nous utilisons:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; customer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;email&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; customer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;zip_code &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; customer &lt;span class=&quot;token keyword&quot;&gt;UNION&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; contact&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;email&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; contact&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;zip_code &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; contact&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Câ€™est ce que nous aurons comme retour:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 650px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b545339b9344dfeab85903bf704e7956/ed7b0/union.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 65.53846153846153%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsSAAALEgHS3X78AAACaUlEQVQozz1Ra5OaQBDk//+VfEgqSXmJp6fIY4EVFthlWUWeKuqdqIAPRO+SjVeVqa6tnqnqmp5eoSiKOEk19grpXNZdHCzTzTHKD/GqfLwHKyxGKILB1sARorECPcdPSFaqJBWSOHFd8gInnYHx5Vu3LyPDDQ1nptmBRVObZbIT94AnmsHPHvjaGfzoyqLm6t5cNKfCLAiIR0XV6kvwqa92nuXuUHuRzaFisXgTLHbhooiXu/7I6PTk77+GJFgkm3qabpevpQAhdBxnNgsJIQghzimlwaPa9vrnUR8fH1EUuY+qqur/UCCYq6ik2z1R4/j9ooqqqZlE1u1sfVi8VhzLtwraTATmswiCdJ1vj9mm3OyOgo1sz6OYTqHlDiUATRc5nkN8OgnL4/VQNxz76mIirAAoA7hYbevzjU/q01WAuoFdjBysQ1OS1ZEMkM312CX0cr2dm/YT6TwP42wSRMWubNr76XK9XFuB8r0+0y1fVNFTTxrIpgKJOibQmSSr8hMpx7riJNvUHJzE+SHf1oI0klzHTZLEtnleaDweY4wZY3zCU3m/v/No7veb7/s8S0WRi2L7SOudQ5gwxleDsffvq3pydwAUiPnP0Vm+3l/z4pxtqnRdahYVgQWdKbfA22R14LcLfBvGxHYpNG3NGDuYji2Hc8pmYTKP4sW+OvFssMcshGVg5JvtqblVp+Z0aQWgAi7mGknReoORZpg6tEQJAH3Mgtj1WLGvj+fWY4FD6ECUFqu3c3Ovjs3p3AqEYJ9NgemNAOpLhgiQZnq89cMlt73eN9x2ti51xPgtkmZP4vX8tY4ftv8CYliZWsBLAecAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/b545339b9344dfeab85903bf704e7956/8ffb1/union.webp 293w,
/static/b545339b9344dfeab85903bf704e7956/17bf8/union.webp 585w,
/static/b545339b9344dfeab85903bf704e7956/3c4dd/union.webp 650w&quot;
          sizes=&quot;(max-width: 650px) 100vw, 650px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/b545339b9344dfeab85903bf704e7956/f93ee/union.png 293w,
/static/b545339b9344dfeab85903bf704e7956/8c0a8/union.png 585w,
/static/b545339b9344dfeab85903bf704e7956/ed7b0/union.png 650w&quot;
          sizes=&quot;(max-width: 650px) 100vw, 650px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/b545339b9344dfeab85903bf704e7956/ed7b0/union.png&quot;
          alt=&quot;union&quot;
          title=&quot;union&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Comme vous pouvez le constater, nous spÃ©cifions les colonnes que nous voulons, ce qui est obligatoire, car nous devons prÃ©ciser lesquelles sont â€œÃ©galesâ€ afin quâ€™il puisse comparer et renvoyer des Ã©lÃ©ments uniques entre les deux.&lt;/p&gt;
&lt;p&gt;Une chose importante concernant cette commande est quâ€™il opÃ¨re de maniÃ¨re trÃ¨s efficace, cela signifie que lâ€™ordre peut changer.&lt;/p&gt;
&lt;h2&gt;Order&lt;/h2&gt;
&lt;p&gt;Câ€™est une contrainte trÃ¨s utile pour organiser les donnÃ©es que vous demandez. Par consÃ©quent, nous ne â€œfiltronsâ€ pas les donnÃ©es. En fait, il organise votre rÃ©ponse en fonction de certains critÃ¨res.&lt;/p&gt;
&lt;p&gt;Simplement, ordonnons notre requÃªte en fonction de lâ€™Ã¢ge de nos clients:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; customer &lt;span class=&quot;token keyword&quot;&gt;ORDER&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;BY&lt;/span&gt; customer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;age &lt;span class=&quot;token keyword&quot;&gt;desc&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Et voici la rÃ©ponse Ã  laquelle vous devez vous attendre:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/31db92e261d604c62a93eb6b56dadb97/0b269/orderby.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 34.185303514377%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsSAAALEgHS3X78AAABUklEQVQY0x2QyXaDMAxF+f+P6mkzGU+YOcHMhAQ4QGIIkKmLKl1KetK9toaFgyg3/JgJZ8ccZvmYsCjO0jRP8pK7oU7NHdJlGAdRSmxJhUMp82TiHiINESGTslPLseptP9SZ/b3WMbeDuGjVUtaXDeJQEsO1vBAy32vsHmIYDdNd46ablfW4vPthPkSZYXmrLYbzUVre7r91N+hECGfPTW8v07pVIJIW1TC/5vtL06mIs9NteXfXKYhyatgbRDEzHV9CtOlGRAzD8qFve7Lphh3mMjmO8/uzTJiV/F9qrxPQCLc2OtsgBoRDlDf9Z1nYe3Bx91HTDwALk6MC8vLSwBPchunZqVkmBbzio204xblV0xNQCBvc8phwk+Jcdwozq2oVjOYHaAO5bJvrcmrHMKswd75WaIvNID216pFXlzXiRHjwkV6Q5VX/s6V+WEB+mB5/a8NoZtOghZ4AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/31db92e261d604c62a93eb6b56dadb97/8ffb1/orderby.webp 293w,
/static/31db92e261d604c62a93eb6b56dadb97/17bf8/orderby.webp 585w,
/static/31db92e261d604c62a93eb6b56dadb97/e2c1c/orderby.webp 1170w,
/static/31db92e261d604c62a93eb6b56dadb97/491d0/orderby.webp 1252w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/31db92e261d604c62a93eb6b56dadb97/f93ee/orderby.png 293w,
/static/31db92e261d604c62a93eb6b56dadb97/8c0a8/orderby.png 585w,
/static/31db92e261d604c62a93eb6b56dadb97/e1668/orderby.png 1170w,
/static/31db92e261d604c62a93eb6b56dadb97/0b269/orderby.png 1252w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/31db92e261d604c62a93eb6b56dadb97/e1668/orderby.png&quot;
          alt=&quot;orderby&quot;
          title=&quot;orderby&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;Alias&lt;/h2&gt;
&lt;p&gt;Ceci nâ€™est pas destinÃ© Ã  interroger quelque chose ou quelque chose comme Ã§a, câ€™est juste un moyen de vous aider Ã  organiser le nom dâ€™une table, câ€™est simplement un surnom .&lt;/p&gt;
&lt;p&gt;La syntaxe de base est la suivante:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; A&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; A&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;zip_code &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; customer A&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Et vous devriez obtenir quelque chose comme Ã§a:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 476px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4e5838dddfadaa7a507848178e1c8f7d/dcd5c/alias.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 88.65546218487394%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAACXBIWXMAAAsSAAALEgHS3X78AAADI0lEQVQ4y1WTiW7iSBCG/f6vsdFqk2w2mckczGRJuAK+8dnubt8XN9jYxgGGJFMBLdKWfpWs+rqlv6rLzHw+z/OcEqrYKQ3GYRA4jjtOU2+8Yg2f2K7iTsM49T1vMpn4vk+pnWcrHM9lmjDpMRRFGRihbDpf7z9dXV4+d9t2NG70NUnR+ijlRen2n5tupwP57+vrJAo0O2oKFmOYpue5vCD/eGh1+gIvI8uJdRIa2NeQK2nkqf3871O/2eH6go7s2KSRankG8VXkMoqiBoGvmbjNao3HvumMknkdTIpwWsXz2kuzZk/sclpPMNghmAVURtMKaDSrmOFwiDF2XZdSyvP8gGWrqnp/f399fX17e9tut4IgwBn+GMvl8owgf1wmhFDbCeORbmJZ0efLfLs/1Ns9qKhqTB3HCy1ie2G8ysuX3a8TAjHdbnc4lIeadfPl8eL6vtkbuqMSh0scrZwk12gKxbvv7T+u7i+u7lnFsZM1UBKtQNCzghAyTMvENiIOtv3VelPU+/VmV9S75bpSdAsmoiMqKfp0mRcvv/JqCxTEQCfQbeD7YB4siKKwOfYMXUHe7XaWZWFswVCAbjabM4JgOI7TdU3VUasvN5rPvILjWRlO1qB4WnjJ4sdj/+lZbDR7D23WdBKgwTg/HWBgmBZCqm7BtccuryBvnG0BRNPi49wo63EqK5ldyDIiwSSeVdGRgphet6frehTBXvqGoUuSGIXh2dt+vwe3UOd5Dj7W6/X/bA8GA3gtGNhQQ5pBEPWi0QyGsSpqGMw8KwVZk1VT0ZFq4Pg/lJUvIAbmNEpTzSQPHemv28afN18lFLqjghyfioSLu+8tWL7bb08XV5851TkhGmd2nDEsy3681sdMKShORrAG290BtNsfyqrWDSg7CNMknZzqZzHtdlsURYwJJkRVtSzLoJnD4XDawbquTRPBBvpBEMfJaTfPwUiy7Di2SZyfbeFzowUmhyjyxyW4ctM1jRZfHnpg+1OjdXnXEDT3hKAjENPpdMC5KCvwJ3KSzopakC7Gi2o0L8eLMpnmomKZNJA1wkmGG00BpbMCKOg3q82lm1BRDhAAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/4e5838dddfadaa7a507848178e1c8f7d/8ffb1/alias.webp 293w,
/static/4e5838dddfadaa7a507848178e1c8f7d/2bb9f/alias.webp 476w&quot;
          sizes=&quot;(max-width: 476px) 100vw, 476px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/4e5838dddfadaa7a507848178e1c8f7d/f93ee/alias.png 293w,
/static/4e5838dddfadaa7a507848178e1c8f7d/dcd5c/alias.png 476w&quot;
          sizes=&quot;(max-width: 476px) 100vw, 476px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/4e5838dddfadaa7a507848178e1c8f7d/dcd5c/alias.png&quot;
          alt=&quot;alias&quot;
          title=&quot;alias&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;SÃ©parons pour chaque partie, dâ€™abord ce que nous avons fait, nous sÃ©lectionnons ce que nous voulons, mais si vous faites attention, nous ajoutons un caractÃ¨re â€&lt;strong&gt;A&lt;/strong&gt;â€ avant le nom de la colonne , dans notre nom de scÃ©nario et code postal . Mais nous devons dire Ã  notre code SQL ce que ce personnage ou â€œpseudoâ€ signifie, nâ€™est-ce pas?! Et nous le faisons aprÃ¨s, lorsque nous disons &lt;code&gt;FROM customer A&lt;/code&gt;, nous disons ici comment SQL devrait interprÃ©ter cette lettre, ce devrait Ãªtre lâ€™&lt;strong&gt;alias&lt;/strong&gt; du client .&lt;/p&gt;
&lt;p&gt;Vous pouvez Ã©galement le faire lorsque vous avez plusieurs tables, par exemple:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; A&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;zip_code&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; B&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;zip_code &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; customer A&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; contact B&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Vous pouvez voir que les deux sont â€œidentiquesâ€, mais nous renommons pour avoir un autre &lt;strong&gt;alias&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Une autre chose que vous pouvez faire est de â€œchangerâ€ le nom de la table que vous retournez, par exemple:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; name &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Person Age&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; A&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;zip_code &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; customer A&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Si vous voyez ici, jâ€™ai utilisÃ© deux formats dâ€™alias, pour le premier, je nâ€™utilise pas lâ€™alias pour savoir quelle colonne est, mais ce que je veux, câ€™est que le retour de cette colonne soit appelÃ© â€œÃ‚ge de la personneâ€ et le second est lâ€™alias faÃ§on de lâ€™appel que nous avons dÃ©jÃ  appris, câ€™est le rÃ©sultat.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 550px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ef33855965537ae2dd6d0dfc023f5510/ebd22/alias2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 24.727272727272727%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAAsSAAALEgHS3X78AAABC0lEQVQY0z2O3U6DMABGef8H8cKYzAslUTcHRhlQKJSflpYJdGOjTMWxjU1ZAhIvlpycLzlXn1RVVSmE6iSvYaHO3DcLmyjWINFsHPJqjFZ2EPtJGQRBFBGMMYTwY1OS5afpM0kIkaWpalOTFA9TfUDR3EfFuJWf/XcxcTKAIn+emyaY6YauG1NF5ZxHaWEgInkeYiwe3Y+vbu50l+Fkg2iO2MqL1xBnHl0Cb349kuWJ9qQCK0hwUkLCYZiydC0hhCilPqYQhVGcbvc/u6bdNb//tPvT+as+mDaK4sSw3CwXQ6mbtj62zeksAQCKomCMOtB+UZXvqur7vuu6i4/NYbjrOo5lgcWCX/owf0EjAKq7rayJAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/ef33855965537ae2dd6d0dfc023f5510/8ffb1/alias2.webp 293w,
/static/ef33855965537ae2dd6d0dfc023f5510/e320a/alias2.webp 550w&quot;
          sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/ef33855965537ae2dd6d0dfc023f5510/f93ee/alias2.png 293w,
/static/ef33855965537ae2dd6d0dfc023f5510/ebd22/alias2.png 550w&quot;
          sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/ef33855965537ae2dd6d0dfc023f5510/ebd22/alias2.png&quot;
          alt=&quot;alias2&quot;
          title=&quot;alias2&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;Delete&lt;/h2&gt;
&lt;p&gt;Comme son nom lâ€™indique, il sâ€™agit dâ€™une suppression, et je nâ€™ai pas besoin de vous avertir quâ€™il sâ€™agit dâ€™une commande trÃ¨s â€œdangereuseâ€, alors faites attention, je vais montrer 2 syntaxe de base:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;DELETE&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; customer&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Vous avez peut-Ãªtre remarquÃ© que nous ne spÃ©cifions aucune donnÃ©e particuliÃ¨re. Nous allons donc tout supprimer, câ€™est simple, mais nous souhaitons supprimer une donnÃ©e spÃ©cifique. Pour cela, procÃ©dez comme suit:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;DELETE&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; customer &lt;span class=&quot;token keyword&quot;&gt;WHERE&lt;/span&gt; name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Felipe&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ici, je dirais que la faÃ§on la plus sÃ»re de faire, utilisez une personne spÃ©cifique.&lt;/p&gt;
&lt;h2&gt;Drop table&lt;/h2&gt;
&lt;p&gt;Le sujet est sur la suppression, continuons avec ceci, la commande prÃ©cÃ©dente est de supprimer les donnÃ©es dâ€™une table / colonne, maintenant nous allons continuer, mais avec un autre type de suppression, celle qui supprime la table ou la supprime.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;DROP&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;TABLE&lt;/span&gt; customer&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Câ€™est simple comme Ã§a, mais vous devez Ãªtre encore plus prudent que la commande delete . Ici, vous allez laisser tomber la table des trous et il nâ€™y a aucun moyen de rÃ©cupÃ©rer.&lt;/p&gt;
&lt;p&gt;Une autre diffÃ©rence majeure est que cela ne devrait pas Ãªtre utilisÃ© dans votre â€œprogrammeâ€. Cette commande ne devrait Ãªtre utilisÃ©e que par la commande de terminal lorsque vous savez ce qui doit Ãªtre fait ou supprimÃ©.&lt;/p&gt;
&lt;hr&gt;</content:encoded></item><item><title><![CDATA[Configuration d'un serveur OpenVPN sur Google Compute Engine]]></title><description><![CDATA[Jâ€™ai rÃ©cemment commencÃ© Ã  utiliser OpenVPN et Ã  profiter des diffÃ©rentes options quâ€™il propose, notamment le masquage du trafic VPN sous TCP:443 (autrement appelÃ© HTTPS). Personnellement, jâ€™aime utiliser GCE pour hÃ©berger mes VPN, car je profite de la puissance et de la personnalisation que cela procure. Cependant, il nâ€™y avait absolument aucun tutoriel sur la configuration dâ€™OpenVPN sur GCE. Il existe 10 Ã©tapes dans ce didacticiel, mais chaque Ã©tape peut exÃ©cuter plusieurs lignes de code. Si vous essayez simplement dâ€™ajouter plus de clients, passer aux Ã©tapes 4, 9 et 10. Table des matiÃ¨res [toc] 1. CrÃ©ation de lâ€™instance Nous voulons utiliser une instance n1-standard-1 pour sa durabilitÃ© et son coÃ»t. Dirigez-vous vers le moteur de calcul et cliquez sur â€œCREATE INSTANCEâ€.  Configurez-le avec les options affichÃ©es, mais nâ€™appuyez pas encore sur â€œCrÃ©erâ€ Si vous ne voyez pas lâ€™image, nous utilisons une instance n1-standard-1 (1 vCPU, 3,75 Go de mÃ©moire) avec Ubuntu 16.04 LTS installÃ© (vous pouvez choisir un espace de stockage, mais 10 Go suffisent). Puisque notre VPN utilisera TCP: 443, nous devons autoriser le trafic HTTPS maintenant ou plus tard. Vous pouvez donc Ã©galement le faire immÃ©diatement. Appuyez sur le bouton â€œGestion, sÃ©curitÃ©, disques, rÃ©seau, â€¦â€ pour ouvrir les options avancÃ©es. Cliquez sur lâ€™onglet RÃ©seau et cliquez sur le bouton dâ€™Ã©dition en regard de lâ€™interface rÃ©seau sÃ©lectionnÃ©e. Cliquez sur le menu dÃ©roulant â€œAdresse IP externeâ€ et sÃ©lectionnez â€œCrÃ©er une adresse IPâ€. Entrez un nom, puis appuyez sur â€œRÃ©serverâ€. Cette opÃ©ration associera une adresse IP statique Ã  votre instance, ce qui est probablement ce que vous voulez, sauf si vous souhaitez rÃ©gÃ©nÃ©rer les fichiers de configuration de quelque temps. En ce qui concerne les frais, Google ne facture pas les adresses IP statiques pendant leur utilisation. La machine n1-standard-1 ne devrait pas vous coÃ»ter plus de 30 $ par mois. Certes, cela coÃ»te un peu plus cher que la plupart des services VPN, mais la plupart des services VPN ne vous donnent pas un contrÃ´le total :)  Vos interfaces rÃ©seau doivent ressembler Ã  lâ€™image. Veillez Ã  activer le transfert IP, car cela ne peut plus Ãªtre modifiÃ© aprÃ¨s la crÃ©ation de lâ€™instance. En rÃ¨gle gÃ©nÃ©rale, vous souhaiterez probablement garder votre adresse IP externe secrÃ¨te. Cela ne me dÃ©range pas de rendre celui-ci public, car cette instance nâ€™existera pas lorsque vous lirez ce tutoriel, et lâ€™adresse IP appartiendra probablement Ã  quelquâ€™un dâ€™autre. Appuyez sur â€œTerminÃ©â€ et â€œCrÃ©erâ€. Une fois lâ€™instance prÃªte (un bouton â€œSSHâ€ noir apparaÃ®tra), cliquez ou double-cliquez sur le bonton â€œSSHâ€ pour ouvrir une fenÃªtre SSH. Le reste de la configuration se fera sur cette machine, que nous appellerons le â€œserverâ€. 2. Installation OpenVPN et EasyRSA OpenVPN est (Ã©videmment) le serveur VPN que nous utilisons, et EasyRSA est un paquet qui nous permettra de configurer une autoritÃ© de certification interne Ã  utiliser. Bien que ce ne soit gÃ©nÃ©ralement pas le cas, pour cette configuration, il est souvent nÃ©cessaire de lancer une mise Ã  jour dâ€™apt pour pouvoir installer un ou les deux packages. Les deux dâ€™entre eux sont dans les dÃ©pÃ´ts par dÃ©faut dâ€™Ubuntu. Temps de configurer. 3. Mise en place du CA Comme OpenVPN utilise TLS/SSL, il a besoin de certificats pour chiffrer le trafic. Pour cela, nous devrons Ã©mettre nos propres certificats de confiance, ce que nous pouvons faire Ã  lâ€™aide de la CA que nous sommes sur le point de configurer. CommenÃ§ons par copier le easy-rsa de modÃ¨les du paquet easy-rsa. Il y a des valeurs que nous pouvons vouloir Ã©diter, alors allons-y et nano vars. Si vous voulez utiliser vim, continuez, mais puisque jâ€™essaie de garder mes tutoriels aussi simples que possible, jâ€™utilise nano. Ã€ partir de ce moment, sâ€™il y a une partie dâ€™une commande qui dÃ©pend dâ€™une valeur que vous choisissez, elle sera en gras. Tout le code qui nâ€™est pas gÃ©nÃ©rÃ© par un utilisateur sera en italique. Faites dÃ©filer vers le bas du fichier (ce nâ€™est pas trop long) et vous devriez trouver ce qui suit: Ã‰ditez autant dâ€™entre eux (ou aucun dâ€™eux) que vous le souhaitez. Juste en dessous de ces valeurs devrait Ãªtre export KEY_NAME="EasyRSA". Pour simplifier notre configuration, nous allons modifier cette ligne comme suit: Enregistrez et fermez le fichier (ctrl + x, y, entrez). Les variables que nous venons de modifier seront utilisÃ©es pour le processus de signature de notre autoritÃ© de certification. Toujours dans le openvpn-ca, exÃ©cutez la commande suivante: Si vous avez bien fait, le re NOTE: If you run ./clean-all, I will be doing a rm -rf on /home/username/openvpn-ca/keys. Câ€™est ce que nous voulons. Pour assurer un environnement de travail propre, nous allons lancer ./clean-all. Maintenant, construisons le CA Toutes les variables que nous avons dÃ©jÃ  dÃ©finies doivent se renseigner elles-mÃªmes. Il suffit donc dâ€™y accÃ©der en appuyant plusieurs fois sur EntrÃ©e. Ã€ la fin, vous aurez une autoritÃ© de certification prÃªte Ã  commencer Ã  signer. Nous avons Ã©galement besoin dâ€™un certificat de serveur et dâ€™une clÃ© de cryptage pour garantir la sÃ©curitÃ© de notre trafic. CrÃ©ons notre certificat de serveur et notre clÃ©. Passer Ã  nouveau les invites de commande. Nous nâ€™entrerons pas un mot de passe, cette fois. Les deux derniÃ¨res invites vous obligent Ã  entrer y pour signer le certificat. Assurez-vous de ne pas les ignorer! Comme indiquÃ© prÃ©cÃ©demment, nous avons Ã©galement besoin dâ€™une clÃ© de chiffrement. Pour les besoins de ce didacticiel, nous allons gÃ©nÃ©rer une clÃ© Diffie-Hellman, qui a tendance Ã  Ãªtre plutÃ´t forte. Bien sÃ»r, une grande force entraÃ®ne une grande inefficacitÃ©. Par consÃ©quent, quelle que soit votre systÃ¨me, la commande suivante prendra probablement quelques minutes. Nous renforcerons cela avec une signature HMAC, afin de nous assurer que la vÃ©rification de lâ€™intÃ©gritÃ© TLS est plus sÃ»re. 4. GÃ©nÃ©rer un certificat client Naturellement, si vous allez utiliser une autoritÃ© de certification, votre client doit Ã©galement disposer dâ€™un certificat. Bien que vous puissiez le faire sur votre ordinateur client et que le serveur le signe, nous essayons de garder les choses simples et hÃ©bergÃ©es sur un seul ordinateur. Si vous avez plusieurs clients, vous pouvez suivre cette Ã©tape plusieurs fois. Assurez-vous simplement de rendre vos noms de client uniques. Assurez-vous que vous Ãªtes dans le openvpn-ca et que votre fichier vars est synchronisÃ©. Maintenant, nous allons construire une clÃ© client en tant que telle: Une fois de plus, tout doit Ãªtre prÃ©-rempli. Passez donc tous les Ã©lÃ©ments, sauf les deux derniÃ¨res invites, qui vous demanderont de signer en entrant y. 5. Configurer le serveur OpenVPN OpenVPN sâ€™installe sous le rÃ©pertoire /etc/openvpn. Pour que tout fonctionne, nous devons dÃ©placer certains fichiers dans ce dossier. Par dÃ©faut, OpenVPN est fourni avec un exemple de configuration. Par souci de simplicitÃ©, nous simplifierons la dÃ©compression dans notre dossier de configuration. Ensuite, nous allons Ã©diter le fichier de configuration: La premiÃ¨re Ã©tape consiste Ã  trouver la directive tls-auth. Il y aura un point-virgule (;) Ã  cÃ´tÃ© de la directive, que nous supprimerons. En dessous, nous ajouterons une ligne. Nous devons Ã©galement chiffrer notre serveur, Ã©ditons donc les directives de chiffrement juste en dessous de cette section. Plus prÃ©cisÃ©ment, nous dÃ©commentons la ligne AES-128-CBC et ajouterons une directive auth. Ensuite, les paramÃ¨tres dâ€™utilisateur et de groupe: Facultativement, nous pourrions opter pour lâ€™envoi de tout le trafic via le VPN. Pour cela, recherchez la directive redirect-gateway et dÃ©commentez-la. Juste en dessous, il devrait y avoir quelques lignes dâ€™dhcp-option. DÃ©commentez ceux-lÃ  aussi. Optionnellement, nous pouvons vouloir changer le port et le protocole sur lesquels OpenVPN fonctionne. La valeur par dÃ©faut est UDP: 1194, mais si votre rÃ©seau bloque les connexions VPN, ce sera probablement lâ€™une des victimes. Le dÃ©guisement serait dâ€™utiliser TCP: 443, qui est le port HTTPS. Si vous nâ€™avez pas utilisÃ© Â«serveurÂ» comme nom de serveur, vos fichiers crt ont un nom diffÃ©rent. Mettez-les Ã  jour en consÃ©quence. Enregistrez et fermez le fichier. 6. PrÃ©parer Ubuntu Bien que nous ayons dÃ©jÃ  configurÃ© le transfert IP, etc., nous devons apporter quelques modifications pour activer ces options. Recherchez la ligne suivante et supprimez le # (caractÃ¨re de commentaire). Sauver et fermer. Pour mettre Ã  jour les paramÃ¨tres de session, exÃ©cutez: Ensuite, nous devons trouver et mettre Ã  jour nos rÃ¨gles de pare-feu (UFW) pour masquer les clients. La premiÃ¨re Ã©tape consiste Ã  trouver lâ€™interface sur laquelle nous fonctionnons: Lâ€™interface que nous voulons est celle qui contient le mot â€œdevâ€. Dans notre cas, cela ressemble Ã  ceci: Donc, notre interface est ens4. Avec cela, nous mettrons Ã  jour nos rÃ¨gles de pare-feu: Au-dessus, lÃ  oÃ¹ il est indiquÃ© Don't delete these required lines... ajoutez le code suivant: Sauver et fermer. Ensuite, nous devons transfÃ©rer les paquets. Recherchez la directive DEFAULT_FORWARD_POLICY et remplacez-la de "DROP" par "ACCEPT". Sauver et fermer. 7. Lancer OpenVPN Pour dÃ©marrer le serveur, exÃ©cutez ce qui suit: Pour vÃ©rifier quâ€™il a bien dÃ©marrÃ©, lancez: Si tout se passe bien, vous devriez voir une sortie incluant Active: active (running). Vous devrez peut-Ãªtre q sur q pour quitter le panneau dâ€™informations. Si cela vous convient, liez le service Ã  la sÃ©quence de dÃ©marrage. 8. Configuration dâ€™une structure de configuration client Pour faciliter la configuration des configurations client, nous allons dâ€™abord crÃ©er une structure. Pour commencer, crÃ©ez un dossier de configuration pour stocker les fichiers de configuration du client. Les clÃ©s du client seront dans ces configurations, alors verrouillons les permissions sur le rÃ©pertoire files. Copiez lâ€™exemple de configuration. Ã‰ditons le fichier: Trouvez la directive remote. Remplacez my-server-1 par lâ€™adresse IP externe publique attribuÃ©e Ã  votre instance GCE. Si vous avez choisi un port autre que 1194, mettez-le Ã  jour en consÃ©quence. Mettez Ã©galement Ã  jour votre protocole. DÃ©commentez lâ€™utilisateur et le groupe: Trouvez les directives ca, cert et key, commentez-les, car nos configurations les incluront automatiquement. Utilisez les mÃªmes paramÃ¨tres de chiffrement et dâ€™authentification que prÃ©cÃ©demment: Quelque part, nous devrons ajouter la key-direction. Assurez-vous dâ€™utiliser 1, comme câ€™est le cas pour le client. 0 Ã©tait pour le serveur. Si votre configuration client actuelle est (ou sera) utilisÃ©e sur un pÃ©riphÃ©rique Linux, ajoutez les Ã©lÃ©ments suivants: Notez que si vous les incluez dans un environnement non-Linux (Android et macOS inclus dans un non-Linux), vos clients peuvent se comporter de maniÃ¨re Ã©trange. Sauver et fermer. Ensuite, nous devons Ã©crire un script pour gÃ©nÃ©rer nos configs client rapidement et facilement. A lâ€™intÃ©rieur, collez ce code: gen_config.sh Le {1} fait ici rÃ©fÃ©rence au premier argument, qui sera notre nom de client. Assurez-vous de mettre Ã  jour tiv.key fonction du nom de votre clÃ© HMAC. Autoriser lâ€™exÃ©cution de ce script: 9. GÃ©nÃ©rer des configurations client Le pas que vous attendiez tous est enfin arrivÃ©. Nous allons gÃ©nÃ©rer nos configurations client. VÃ©rifiez que cela a fonctionnÃ© en exÃ©cutant: Si tel est le cas, il devrait maintenant y avoir un fichier client.ovpn dans ce rÃ©pertoire. Nous devons tÃ©lÃ©charger ce fichier et le transfÃ©rer sur nos appareils. Pour ce faire, cliquez sur lâ€™icÃ´ne reprÃ©sentant une roue en haut Ã  droite de la session SSH, puis sÃ©lectionnez Â«TÃ©lÃ©charger le fichierÂ». Le chemin pleinement qualifiÃ© devrait ressembler Ã  ceci: 10. Installation sur les clients Pour Windows, tÃ©lÃ©chargez lâ€™application client OpenVPN. Une fois installÃ©, dÃ©placez votre fichier client.ovpn vers C:\Program Files\OpenVPN\config. Pour ouvrir OpenVPN, vous devez exÃ©cuter lâ€™application en tant quâ€™administrateur. Une fois Ã  lâ€™intÃ©rieur, vous devriez voir et pouvoir vous connecter Ã  votre VPN. Pour macOS, la plupart des gens suggÃ¨rent dâ€™utiliser Tunnelblick bien que tout autre client OpenVPN (mÃªme sâ€™il soit sans danger) soit probablement bon aussi. Une fois installÃ©, vous devriez pouvoir faire glisser nâ€™importe .ovpn fichier .ovpn sur lâ€™icÃ´ne Tunnelblick de la barre de menus pour installer la configuration. Utilisez la barre de menus pour vous connecter ensuite au VPN. Si vous Ãªtes interrogÃ© sur le plugin down-root.so, prenez une dÃ©cision! Je lâ€™ai sautÃ© parce que je suis capable de reconnecter ma connexion, mais câ€™est Ã  vous de dÃ©cider. Sous Linux, installez le paquet openvpn en utilisant votre gestionnaire de paquets. Les utilisateurs de CentOS devront dâ€™abord installer epel-release utilisant yum. Une fois installÃ©, lancez ls /etc/openvpn. Si la sortie ne prÃ©sente pas de fichier update-resolve-conf, vous devez modifier votre fichier .ovpn et supprimer les lignes suivantes (si vous les avez ajoutÃ©es): Si vous nâ€™avez jamais ajoutÃ© ces lignes mais trouvÃ© un fichier update-resolv-conf, ajoutez-les! Les utilisateurs de CentOS devront modifier le group dans le fichier .ovpn de nogroup Ã  nobody pour se conformer aux normes du systÃ¨me dâ€™exploitation. Pour vous connecter, lancez sudo openvpn â€” config client .ovpn. Pour iOS, installez lâ€™application OpenVPN Connect. Ensuite, ouvrez iTunes sur votre ordinateur et accÃ©dez Ã  iPhone> Applications. Faites dÃ©filer jusquâ€™Ã  la section Â«Partage de fichiersÂ» et sÃ©lectionnez â€œOpenVPNâ€. Faites glisser votre fichier .ovpn dans le panneau â€œOpenVPN Documentsâ€. Ouvrir lâ€™application sur votre tÃ©lÃ©phone devrait maintenant afficher un message indiquant quâ€™un nouveau profil est prÃªt Ã  Ãªtre importÃ©. Une fois importÃ©, vous devriez pouvoir vous connecter au VPN. Pour Android, installez lâ€™application OpenVPN Connect. Ensuite, transfÃ©rez votre fichier .ovpn nâ€™importe oÃ¹ / de toute faÃ§on sur votre appareil (je viens dâ€™utiliser Google Drive, mais cela peut ne pas Ãªtre recommandÃ©). Dans lâ€™application, ouvrez le menu et cliquez sur â€œImporterâ€. AccÃ©dez Ã  votre fichier .ovpn , cliquez dessus, puis appuyez sur â€œIMPORTâ€ en haut Ã  droite. Une fois terminÃ©, vous devriez pouvoir vous connecter au VPN. Test du VPN Le moyen le plus simple de tester votre VPN serait de Google â€œquelle est mon adresse IPâ€ avant et aprÃ¨s la connexion. Votre adresse IP doit passer Ã  lâ€™adresse IP publique externe de votre instance GCE une fois que vous Ãªtes connectÃ© au VPN, puis Ã  lâ€™adresse IP de votre rÃ©seau une fois dÃ©connectÃ©e du VPN. Si tout sâ€™est bien passÃ©, câ€™est tout! Votre nouveau VPN est prÃªt Ã  Ãªtre utilisÃ©. CrÃ©dits Cet article est basÃ© en grande partie sur ce didacticiel de la communautÃ© DigitalOcean. Bien que la configuration elle-mÃªme soit assez similaire, jâ€™ai pensÃ© Ã©crire un article sÃ©parÃ©, car il existe quelques Ã©lÃ©ments clÃ©s diffÃ©rents dans GCE et il est assez facile de se tromper si vous le faites pour la premiÃ¨re fois (je parle par expÃ©rience).]]></description><link>https://ludovicwyffels.dev/openvpn-google/</link><guid isPermaLink="false">https://ludovicwyffels.dev/openvpn-google/</guid><pubDate>Sun, 14 Apr 2019 08:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Jâ€™ai rÃ©cemment commencÃ© Ã  utiliser OpenVPN et Ã  profiter des diffÃ©rentes options quâ€™il propose, notamment le masquage du trafic VPN sous TCP:443 (autrement appelÃ© HTTPS). Personnellement, jâ€™aime utiliser GCE pour hÃ©berger mes VPN, car je profite de la puissance et de la personnalisation que cela procure.&lt;/p&gt;
&lt;p&gt;Cependant, il nâ€™y avait absolument aucun tutoriel sur la configuration dâ€™OpenVPN sur GCE. Il existe 10 Ã©tapes dans ce didacticiel, mais chaque Ã©tape peut exÃ©cuter plusieurs lignes de code.&lt;/p&gt;
&lt;p&gt;Si vous essayez simplement dâ€™ajouter plus de clients, passer aux Ã©tapes 4, 9 et 10.&lt;/p&gt;
&lt;h2&gt;Table des matiÃ¨res&lt;/h2&gt;
&lt;p&gt;[[toc]]&lt;/p&gt;
&lt;h2&gt;1. CrÃ©ation de lâ€™instance&lt;/h2&gt;
&lt;p&gt;Nous voulons utiliser une instance &lt;code&gt;n1-standard-1&lt;/code&gt; pour sa durabilitÃ© et son coÃ»t. Dirigez-vous vers le moteur de calcul et cliquez sur â€œCREATE INSTANCEâ€.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 450px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/bc1d8c0fe43fbdbd290421761c57cb77/13283/1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 139.33333333333334%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAcCAIAAADuuAg3AAAACXBIWXMAAAsSAAALEgHS3X78AAACjUlEQVQ4y41Uh3KjMBDV///cZeZcEhfsuFJtBAihyj1JPkJsp7zBO2vBtrfaJZvNZrVaLZdLSqkxRkqplJIeXdfhxHr0Iwx/SFmWRVFcPWBfegS9rms4cl+P4G3dA7/EWkPpNUliKDhCVK01DCDhIs/z8/kMdyGU0jajMr7IhruPiZDqQtvi2jStbLmsG8F5JzoHRG6apvYQwp25orQVyoZqiBA6p/pS60ulKXOSMY7EK49gDwUShTDGhspD2vbGgjXWaGu1J+k/N4CP4iP1/t8NqIugqsPhAK+h1A9KRyQPPN3RTtq2RZ92u12SJO/v76Bnv9+fPKDjHLKoVFYqyP4zCOfcFcaYUhqNQfwgAeQWdCSu/XNvjIAIQssCBfdfY9zqoWwCr43s16mlTB2Pe/gCBTsPKHuPNE0f3TljpJVVZpPqkpkiz1DBECdkHm7oc2N8AOOisZ00uOJRtAmRERCvH23AAnjdbre4M8QNg3KWSn80cCDsETgPMwMvBJ1AaSgVShzHaDv4v2PoKxBcD6QBs+PxCBdo+zCGd9w+AndbRFG0WCxms9l6vQ71oGz4ClclZHgHZAdDIoWoKoyum54QNtwTQHh8F7lu+GQevb29TqdTbJUsyzBAoRNPO3TXZ3M4pS8vf2bz+WQy+euBzNEqEPGDMX5tyy4e2BiQ2EoD4T8Yj+fulyR/zDPiIL1xh4Zqx46e9xmrb7t1PGHdIe2wfahHUCDxCr0IuzXQeRtJ1naRW91rbO/X+WsgKWzvW88g9SeMjLnK0iTPEriO4xMGq/810Cpb1Lao7LU2VdtD5tRtnItbPRLbp2w0ZF6pJ5sER22nWae5MJ0wvDNOkXgsF3hlhDTcP+ahc/8AbrFWxxhIqn8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/bc1d8c0fe43fbdbd290421761c57cb77/8ffb1/1.webp 293w,
/static/bc1d8c0fe43fbdbd290421761c57cb77/2809e/1.webp 450w&quot;
          sizes=&quot;(max-width: 450px) 100vw, 450px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/bc1d8c0fe43fbdbd290421761c57cb77/f93ee/1.png 293w,
/static/bc1d8c0fe43fbdbd290421761c57cb77/13283/1.png 450w&quot;
          sizes=&quot;(max-width: 450px) 100vw, 450px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/bc1d8c0fe43fbdbd290421761c57cb77/13283/1.png&quot;
          alt=&quot;1&quot;
          title=&quot;1&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Configurez-le avec les options affichÃ©es, mais nâ€™appuyez pas encore sur â€œCrÃ©erâ€&lt;/p&gt;
&lt;p&gt;Si vous ne voyez pas lâ€™image, nous utilisons une instance &lt;code&gt;n1-standard-1&lt;/code&gt; (1 vCPU, 3,75 Go de mÃ©moire) avec Ubuntu 16.04 LTS installÃ© (vous pouvez choisir un espace de stockage, mais 10 Go suffisent). Puisque notre VPN utilisera TCP: 443, nous devons autoriser le trafic HTTPS maintenant ou plus tard. Vous pouvez donc Ã©galement le faire immÃ©diatement.&lt;/p&gt;
&lt;p&gt;Appuyez sur le bouton â€œGestion, sÃ©curitÃ©, disques, rÃ©seau, â€¦â€ pour ouvrir les options avancÃ©es. Cliquez sur lâ€™onglet RÃ©seau et cliquez sur le bouton dâ€™Ã©dition en regard de lâ€™interface rÃ©seau sÃ©lectionnÃ©e.&lt;/p&gt;
&lt;p&gt;Cliquez sur le menu dÃ©roulant â€œAdresse IP externeâ€ et sÃ©lectionnez â€œCrÃ©er une adresse IPâ€. Entrez un nom, puis appuyez sur â€œRÃ©serverâ€. Cette opÃ©ration associera une adresse IP statique Ã  votre instance, ce qui est probablement ce que vous voulez, sauf si vous souhaitez rÃ©gÃ©nÃ©rer les fichiers de configuration de quelque temps. En ce qui concerne les frais, Google ne facture pas les adresses IP statiques pendant leur utilisation. La machine &lt;code&gt;n1-standard-1&lt;/code&gt; ne devrait pas vous coÃ»ter plus de 30 $ par mois. Certes, cela coÃ»te un peu plus cher que la plupart des services VPN, mais la plupart des services VPN ne vous donnent pas un contrÃ´le total :)&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 467px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/73eb40d4f0bb7c23d2790b3c426d1575/70a92/2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 121.84154175588866%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAIAAAB1KUohAAAACXBIWXMAAAsSAAALEgHS3X78AAAB1UlEQVQ4y5VUy47TMBT1zwE7FgiEWIOQALFkPWyQGDTLEa8VX8DHdAWVyqR5x06TJnEcv+JyOq7YMXGPnKsq9fU9957jkMufzYvr6vXX6s03+uoLfX5dhayXn+nb74y8+8GefCqfXpXProrHl/mD9+n9i4V17yJ9+CF79DEnwziVrN3teT8qIa3Uc8iatBsnTeQ0rX//urn5o7U6uNmFLWu0NYZYa7uua9vWOWeM0SYI0zQppYiUklLKGNvv9zjoEAxsJlrrKIrW63VxizRNd7vdPM94v1wZm/q+B/NhGBA55+Bil+CPIOM4RtttFG03m00cx03TGmPdEkDtmIzKtCqLIisRijxLk7ZtjpO7E0KII21wEOowCDeIuR9txyGjCx0YivBRNp3ouJLKcTFrEzxtEIjjbZomjFEYRisJt4T2jIfVdVGUjNWwSl3XFaX/5vk/nHrGGRAtyzJYpaoqiAy1kHx35RNtJOMY+ASZkM3r7P9e7hlbkZYkSZ7n0OA8e4K6rwkgGUQWG8aGkz3x4EqgPpLhU0S8CbEnKnmp4tVqhVjeAvnnmIRzXCZEbz3PPKQ48T140UEYcQ7D6WJgYGgbCuMH3p73MUDbGBgGiG49ixAg8S/mDk08LO0x+gAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/73eb40d4f0bb7c23d2790b3c426d1575/8ffb1/2.webp 293w,
/static/73eb40d4f0bb7c23d2790b3c426d1575/d57f5/2.webp 467w&quot;
          sizes=&quot;(max-width: 467px) 100vw, 467px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/73eb40d4f0bb7c23d2790b3c426d1575/f93ee/2.png 293w,
/static/73eb40d4f0bb7c23d2790b3c426d1575/70a92/2.png 467w&quot;
          sizes=&quot;(max-width: 467px) 100vw, 467px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/73eb40d4f0bb7c23d2790b3c426d1575/70a92/2.png&quot;
          alt=&quot;2&quot;
          title=&quot;2&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Vos interfaces rÃ©seau doivent ressembler Ã  lâ€™image. &lt;strong&gt;Veillez Ã  activer le transfert IP&lt;/strong&gt;, car cela ne peut plus Ãªtre modifiÃ© aprÃ¨s la crÃ©ation de lâ€™instance.&lt;/p&gt;
&lt;p&gt;En rÃ¨gle gÃ©nÃ©rale, vous souhaiterez probablement garder votre adresse IP externe secrÃ¨te. Cela ne me dÃ©range pas de rendre celui-ci public, car cette instance nâ€™existera pas lorsque vous lirez ce tutoriel, et lâ€™adresse IP appartiendra probablement Ã  quelquâ€™un dâ€™autre.&lt;/p&gt;
&lt;p&gt;Appuyez sur â€œTerminÃ©â€ et â€œCrÃ©erâ€. Une fois lâ€™instance prÃªte (un bouton â€œSSHâ€ noir apparaÃ®tra), cliquez ou double-cliquez sur le bonton â€œSSHâ€ pour ouvrir une fenÃªtre SSH. Le reste de la configuration se fera sur cette machine, que nous appellerons le â€œserverâ€.&lt;/p&gt;
&lt;h2&gt;2. Installation OpenVPN et EasyRSA&lt;/h2&gt;
&lt;p&gt;OpenVPN est (Ã©videmment) le serveur VPN que nous utilisons, et EasyRSA est un paquet qui nous permettra de configurer une autoritÃ© de certification interne Ã  utiliser.&lt;/p&gt;
&lt;p&gt;Bien que ce ne soit gÃ©nÃ©ralement pas le cas, pour cette configuration, il est souvent nÃ©cessaire de lancer une mise Ã  jour dâ€™apt pour pouvoir installer un ou les deux packages. Les deux dâ€™entre eux sont dans les dÃ©pÃ´ts par dÃ©faut dâ€™Ubuntu.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;apt-get&lt;/span&gt; update
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;apt-get&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; openvpn easy-rsa&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Temps de configurer.&lt;/p&gt;
&lt;h2&gt;3. Mise en place du CA&lt;/h2&gt;
&lt;p&gt;Comme OpenVPN utilise TLS/SSL, il a besoin de certificats pour chiffrer le trafic. Pour cela, nous devrons Ã©mettre nos propres certificats de confiance, ce que nous pouvons faire Ã  lâ€™aide de la CA que nous sommes sur le point de configurer.&lt;/p&gt;
&lt;p&gt;CommenÃ§ons par copier le &lt;code&gt;easy-rsa&lt;/code&gt; de modÃ¨les du paquet &lt;code&gt;easy-rsa&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;make-cadir ~/openvpn-ca
&lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; ~/openvpn-ca&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Il y a des valeurs que nous pouvons vouloir Ã©diter, alors allons-y et &lt;code&gt;nano vars&lt;/code&gt;. Si vous voulez utiliser vim, continuez, mais puisque jâ€™essaie de garder mes tutoriels aussi simples que possible, jâ€™utilise nano.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Ã€ partir de ce moment, sâ€™il y a une partie dâ€™une commande qui dÃ©pend dâ€™une valeur que vous choisissez, elle sera en gras. Tout le code qui nâ€™est pas gÃ©nÃ©rÃ© par un utilisateur sera en italique.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Faites dÃ©filer vers le bas du fichier (ce nâ€™est pas trop long) et vous devriez trouver ce qui suit:&lt;/p&gt;
&lt;div class=&quot;language-text extra-class&quot;&gt;
&lt;pre class=&quot;language-text code&quot;&gt;
export KEY_COUNTRY=&quot;&lt;b&gt;US&lt;/b&gt;&quot;
export KEY_PROVINCE=&quot;&lt;b&gt;CA&lt;/b&gt;&quot;
export KEY_CITY=&quot;&lt;b&gt;SanFrancisco&lt;/b&gt;&quot;
export KEY_ORG=&quot;&lt;b&gt;Fort-Funston&lt;/b&gt;&quot;
export KEY_EMAIL=&quot;&lt;b&gt;me@myhost.mydomain&lt;/b&gt;&quot;
export KEY_OU=&quot;&lt;b&gt;MyOrganizationalUnit&lt;/b&gt;&quot;
&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Ã‰ditez autant dâ€™entre eux (ou aucun dâ€™eux) que vous le souhaitez. Juste en dessous de ces valeurs devrait Ãªtre &lt;code&gt;export KEY_NAME=&quot;EasyRSA&quot;&lt;/code&gt;. Pour simplifier notre configuration, nous allons modifier cette ligne comme suit:&lt;/p&gt;
&lt;div class=&quot;language-text extra-class&quot;&gt;
&lt;pre class=&quot;language-text code&quot;&gt;
export KEY_NAME=&quot;&lt;b&gt;server&lt;/b&gt;&quot;
&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Enregistrez et fermez le fichier (ctrl + x, y, entrez). Les variables que nous venons de modifier seront utilisÃ©es pour le processus de signature de notre autoritÃ© de certification. Toujours dans le &lt;code&gt;openvpn-ca&lt;/code&gt;, exÃ©cutez la commande suivante:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;source&lt;/span&gt; vars&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Si vous avez bien fait, le re &lt;code&gt;NOTE: If you run ./clean-all, I will be doing a rm -rf on /home/&lt;b&gt;username&lt;/b&gt;/openvpn-ca/keys&lt;/code&gt;. Câ€™est ce que nous voulons. Pour assurer un environnement de travail propre, nous allons lancer &lt;code&gt;./clean-all&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Maintenant, construisons le CA&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;./build-ca&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Toutes les variables que nous avons dÃ©jÃ  dÃ©finies doivent se renseigner elles-mÃªmes. Il suffit donc dâ€™y accÃ©der en appuyant plusieurs fois sur EntrÃ©e. Ã€ la fin, vous aurez une autoritÃ© de certification prÃªte Ã  commencer Ã  signer.&lt;/p&gt;
&lt;p&gt;Nous avons Ã©galement besoin dâ€™un certificat de serveur et dâ€™une clÃ© de cryptage pour garantir la sÃ©curitÃ© de notre trafic.&lt;/p&gt;
&lt;p&gt;CrÃ©ons notre certificat de serveur et notre clÃ©.&lt;/p&gt;
&lt;div class=&quot;language-bash extra-class&quot;&gt;
&lt;pre class=&quot;language-bash code&quot;&gt;
./build-key-server &lt;b&gt;server&lt;/b&gt;
&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Passer Ã  nouveau les invites de commande. Nous nâ€™entrerons pas un mot de passe, cette fois. Les deux derniÃ¨res invites vous obligent Ã  entrer &lt;code&gt;y&lt;/code&gt; pour signer le certificat. Assurez-vous de ne pas les ignorer!&lt;/p&gt;
&lt;p&gt;Comme indiquÃ© prÃ©cÃ©demment, nous avons Ã©galement besoin dâ€™une clÃ© de chiffrement. Pour les besoins de ce didacticiel, nous allons gÃ©nÃ©rer une clÃ© Diffie-Hellman, qui a tendance Ã  Ãªtre plutÃ´t forte. Bien sÃ»r, une grande [force] entraÃ®ne une grande [inefficacitÃ©]. Par consÃ©quent, quelle que soit votre systÃ¨me, la commande suivante prendra probablement quelques minutes.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;./build-dh&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nous renforcerons cela avec une signature HMAC, afin de nous assurer que la vÃ©rification de lâ€™intÃ©gritÃ© TLS est plus sÃ»re.&lt;/p&gt;
&lt;div class=&quot;language-bash extra-class&quot;&gt;
&lt;pre class=&quot;language-bash code&quot;&gt;
openvpn --genkey --secret keys/&lt;b&gt;tiv&lt;/b&gt;.key
&lt;/pre&gt;
&lt;/div&gt;
&lt;h2&gt;4. GÃ©nÃ©rer un certificat client&lt;/h2&gt;
&lt;p&gt;Naturellement, si vous allez utiliser une autoritÃ© de certification, votre client doit Ã©galement disposer dâ€™un certificat. Bien que vous puissiez le faire sur votre ordinateur client et que le serveur le signe, nous essayons de garder les choses simples et hÃ©bergÃ©es sur un seul ordinateur.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Si vous avez plusieurs clients, vous pouvez suivre cette Ã©tape plusieurs fois. Assurez-vous simplement de rendre vos noms de client uniques.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Assurez-vous que vous Ãªtes dans le &lt;code&gt;openvpn-ca&lt;/code&gt; et que votre fichier vars est synchronisÃ©.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; ~/openvpn-ca
&lt;span class=&quot;token builtin class-name&quot;&gt;source&lt;/span&gt; vars&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Maintenant, nous allons construire une clÃ© client en tant que telle:&lt;/p&gt;
&lt;div class=&quot;language-bash extra-class&quot;&gt;
&lt;pre class=&quot;language-bash code&quot;&gt;
./build-key &lt;b&gt;client&lt;/b&gt;
&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Une fois de plus, tout doit Ãªtre prÃ©-rempli. Passez donc tous les Ã©lÃ©ments, sauf les deux derniÃ¨res invites, qui vous demanderont de signer en entrant &lt;code&gt;y&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;5. Configurer le serveur OpenVPN&lt;/h2&gt;
&lt;p&gt;OpenVPN sâ€™installe sous le rÃ©pertoire &lt;code&gt;/etc/openvpn&lt;/code&gt;. Pour que tout fonctionne, nous devons dÃ©placer certains fichiers dans ce dossier.&lt;/p&gt;
&lt;div class=&quot;language-bash extra-class&quot;&gt;
&lt;pre class=&quot;language-bash code&quot;&gt;
cd ~/openvpn-ca/keys
sudo cp ca.crt server.crt server.key &lt;b&gt;tiv&lt;/b&gt;.key dh2048.pem /etc/openvpn
&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Par dÃ©faut, OpenVPN est fourni avec un exemple de configuration. Par souci de simplicitÃ©, nous simplifierons la dÃ©compression dans notre dossier de configuration.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;gunzip -c /usr/share/doc/openvpn/examples/sample-config-files/server.conf.gz | sudo tee /etc/openvpn/server.conf&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ensuite, nous allons Ã©diter le fichier de configuration:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;nano&lt;/span&gt; /etc/openvpn/server.conf&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;La premiÃ¨re Ã©tape consiste Ã  trouver la directive &lt;code&gt;tls-auth&lt;/code&gt;. Il y aura un point-virgule (&lt;code&gt;;&lt;/code&gt;) Ã  cÃ´tÃ© de la directive, que nous supprimerons. En dessous, nous ajouterons une ligne.&lt;/p&gt;
&lt;div class=&quot;language-text extra-class&quot;&gt;
&lt;pre class=&quot;language-text code&quot;&gt;
tls-auth &lt;b&gt;tiv&lt;/b&gt;.key 0 # This file is secret
key-direction 0
&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Nous devons Ã©galement chiffrer notre serveur, Ã©ditons donc les directives de chiffrement juste en dessous de cette section. Plus prÃ©cisÃ©ment, nous dÃ©commentons la ligne AES-128-CBC et ajouterons une directive &lt;code&gt;auth&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;cipher AES-128-CBC
auth SHA256&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ensuite, les paramÃ¨tres dâ€™utilisateur et de groupe:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;user nobody
group nogroup&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Facultativement, nous pourrions opter pour lâ€™envoi de tout le trafic via le VPN. Pour cela, recherchez la directive &lt;code&gt;redirect-gateway&lt;/code&gt; et dÃ©commentez-la.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;push &amp;quot;redirect-gateway def1 bypass-dhcp&amp;quot;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Juste en dessous, il devrait y avoir quelques lignes dâ€™&lt;code&gt;dhcp-option&lt;/code&gt;. DÃ©commentez ceux-lÃ  aussi.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;push &amp;quot;dhcp-option DNS 208.67.222.222&amp;quot;
push &amp;quot;dhcp-option DNS 208.67.220.220&amp;quot;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Optionnellement, nous pouvons vouloir changer le port et le protocole sur lesquels OpenVPN fonctionne. La valeur par dÃ©faut est UDP: 1194, mais si votre rÃ©seau bloque les connexions VPN, ce sera probablement lâ€™une des victimes. Le dÃ©guisement serait dâ€™utiliser TCP: 443, qui est le port HTTPS.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;port 443

proto tcp
;proto udp&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Si vous nâ€™avez pas utilisÃ© Â«serveurÂ» comme nom de serveur, vos fichiers &lt;code&gt;crt&lt;/code&gt; ont un nom diffÃ©rent. Mettez-les Ã  jour en consÃ©quence.&lt;/p&gt;
&lt;div class=&quot;language-text extra-class&quot;&gt;
&lt;pre class=&quot;language-text code&quot;&gt;
cert &lt;b&gt;server&lt;/b&gt;.crt
key &lt;b&gt;server&lt;/b&gt;.key
&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Enregistrez et fermez le fichier.&lt;/p&gt;
&lt;h2&gt;6. PrÃ©parer Ubuntu&lt;/h2&gt;
&lt;p&gt;Bien que nous ayons dÃ©jÃ  configurÃ© le transfert IP, etc., nous devons apporter quelques modifications pour activer ces options.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;nano&lt;/span&gt; /etc/sysctl.conf&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Recherchez la ligne suivante et supprimez le # (caractÃ¨re de commentaire).&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;net.ipv4.ip_forward=1&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Sauver et fermer. Pour mettre Ã  jour les paramÃ¨tres de session, exÃ©cutez:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; sysctl -p&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ensuite, nous devons trouver et mettre Ã  jour nos rÃ¨gles de pare-feu (UFW) pour masquer les clients. La premiÃ¨re Ã©tape consiste Ã  trouver lâ€™interface sur laquelle nous fonctionnons:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;ip route | grep default&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lâ€™interface que nous voulons est celle qui contient le mot â€œdevâ€. Dans notre cas, cela ressemble Ã  ceci:&lt;/p&gt;
&lt;div class=&quot;language-text extra-class&quot;&gt;
&lt;pre class=&quot;language-text code&quot;&gt;
default via 10.138.0.1 dev &lt;b&gt;ens4&lt;/b&gt;
&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Donc, notre interface est &lt;code&gt;ens4&lt;/code&gt;. Avec cela, nous mettrons Ã  jour nos rÃ¨gles de pare-feu:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;nano&lt;/span&gt; /etc/ufw/before.rules&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Au-dessus, lÃ  oÃ¹ il est indiquÃ© &lt;code&gt;Don&apos;t delete these required lines...&lt;/code&gt; ajoutez le code suivant:&lt;/p&gt;
&lt;div class=&quot;language-text extra-class&quot;&gt;
&lt;pre class=&quot;language-text code&quot;&gt;
# OPENVPN
# NAT Table
*nat
:POSTROUTING ACCEPT [0:0] 
# OpenVPN client traffic
-A POSTROUTING -s 10.8.0.0/8 -o &lt;b&gt;ens4&lt;/b&gt; -j MASQUERADE
COMMIT
# OPENVPN
&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Sauver et fermer. Ensuite, nous devons transfÃ©rer les paquets.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;nano&lt;/span&gt; /etc/default/ufw&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Recherchez la directive &lt;code&gt;DEFAULT_FORWARD_POLICY&lt;/code&gt; et remplacez-la de &lt;code&gt;&quot;DROP&quot;&lt;/code&gt; par &lt;code&gt;&quot;ACCEPT&quot;&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;DEFAULT_FORWARD_POLICY=&amp;quot;ACCEPT&amp;quot;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Sauver et fermer.&lt;/p&gt;
&lt;h2&gt;7. Lancer OpenVPN&lt;/h2&gt;
&lt;p&gt;Pour dÃ©marrer le serveur, exÃ©cutez ce qui suit:&lt;/p&gt;
&lt;div class=&quot;language-bash extra-class&quot;&gt;
&lt;pre class=&quot;language-bash code&quot;&gt;
sudo systemctl start openvpn@&lt;b&gt;server&lt;/b&gt;
&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Pour vÃ©rifier quâ€™il a bien dÃ©marrÃ©, lancez:&lt;/p&gt;
&lt;div class=&quot;language-bash extra-class&quot;&gt;
&lt;pre class=&quot;language-bash code&quot;&gt;
sudo systemctl status openvpn@&lt;b&gt;server&lt;/b&gt;
&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Si tout se passe bien, vous devriez voir une sortie incluant &lt;code&gt;Active: active (running)&lt;/code&gt;. Vous devrez peut-Ãªtre &lt;code&gt;q&lt;/code&gt; sur &lt;code&gt;q&lt;/code&gt; pour quitter le panneau dâ€™informations. Si cela vous convient, liez le service Ã  la sÃ©quence de dÃ©marrage.&lt;/p&gt;
&lt;div class=&quot;language-bash extra-class&quot;&gt;
&lt;pre class=&quot;language-bash code&quot;&gt;
sudo systemctl enable openvpn@&lt;b&gt;server&lt;/b&gt;
&lt;/pre&gt;
&lt;/div&gt;
&lt;h2&gt;8. Configuration dâ€™une structure de configuration client&lt;/h2&gt;
&lt;p&gt;Pour faciliter la configuration des configurations client, nous allons dâ€™abord crÃ©er une structure. Pour commencer, crÃ©ez un dossier de configuration pour stocker les fichiers de configuration du client.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;mkdir&lt;/span&gt; -p ~/clients/files&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Les clÃ©s du client seront dans ces configurations, alors verrouillons les permissions sur le rÃ©pertoire &lt;code&gt;files&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;chmod&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;700&lt;/span&gt; ~/clients/files&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Copiez lâ€™exemple de configuration.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;cp&lt;/span&gt; /usr/share/doc/openvpn/examples/sample-config-files/client.conf ~/clients/base.conf&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ã‰ditons le fichier:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;nano&lt;/span&gt; ~/clients/base.conf&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Trouvez la directive &lt;code&gt;remote&lt;/code&gt;. Remplacez &lt;code&gt;my-server-1&lt;/code&gt; par lâ€™adresse IP externe publique attribuÃ©e Ã  votre instance GCE. Si vous avez choisi un port autre que 1194, mettez-le Ã  jour en consÃ©quence.&lt;/p&gt;
&lt;div class=&quot;language-text extra-class&quot;&gt;
&lt;pre class=&quot;language-text code&quot;&gt;
remote &lt;b&gt;35.197.111.236 443&lt;/b&gt;
&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Mettez Ã©galement Ã  jour votre protocole.&lt;/p&gt;
&lt;div class=&quot;language-text extra-class&quot;&gt;
&lt;pre class=&quot;language-text code&quot;&gt;
proto &lt;b&gt;tcp&lt;/b&gt;
&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;DÃ©commentez lâ€™utilisateur et le groupe:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;user nobody
group nogroup&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Trouvez les directives &lt;code&gt;ca&lt;/code&gt;, &lt;code&gt;cert&lt;/code&gt; et &lt;code&gt;key&lt;/code&gt;, commentez-les, car nos configurations les incluront automatiquement.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;# ca ca.crt
# cert client.crt
# key client.key&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Utilisez les mÃªmes paramÃ¨tres de chiffrement et dâ€™authentification que prÃ©cÃ©demment:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;cipher AES-128-CBC
auth SHA256&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Quelque part, nous devrons ajouter la &lt;code&gt;key-direction&lt;/code&gt;. Assurez-vous dâ€™utiliser 1, comme câ€™est le cas pour le client. 0 Ã©tait pour le serveur.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;key-direction 1&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Si votre configuration client actuelle est (ou sera) utilisÃ©e sur un pÃ©riphÃ©rique Linux, ajoutez les Ã©lÃ©ments suivants:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;script-security 2
up /etc/openvpn/update-resolv-conf
down /etc/openvpn/update-resolv-conf&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Notez que si vous les incluez dans un environnement non-Linux (Android et macOS inclus dans un non-Linux), vos clients peuvent se comporter de maniÃ¨re Ã©trange.&lt;/p&gt;
&lt;p&gt;Sauver et fermer. Ensuite, nous devons Ã©crire un script pour gÃ©nÃ©rer nos configs client rapidement et facilement.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;nano&lt;/span&gt; ~/clients/gen_config.sh&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;A lâ€™intÃ©rieur, collez ce code:&lt;/p&gt;
&lt;pre class=&quot;language-text code&quot;&gt;
#!/bin/bash

# First argument: Client identifier

KEY_DIR=~/openvpn-ca/keys
OUTPUT_DIR=~/clients/files
BASE_CONFIG=~/clients/base.conf

cat ${BASE_CONFIG} \
    &lt;(echo -e &apos;&amp;lt;ca&amp;gt;&apos;) \
    ${KEY_DIR}/ca.crt \
    &lt;(echo -e &apos;&amp;lt;/ca&amp;gt;\n&amp;lt;cert&amp;gt;&apos;) \
    ${KEY_DIR}/${1}.crt \
    &lt;(echo -e &apos;&amp;lt;/cert&amp;gt;\n&amp;lt;key&amp;gt;&apos;) \
    ${KEY_DIR}/${1}.key \
    &lt;(echo -e &apos;&amp;lt;/key&amp;gt;\n&amp;lt;tls-auth&amp;gt;&apos;) \
    ${KEY_DIR}/&lt;b&gt;tiv&lt;/b&gt;.key \
    &lt;(echo -e &apos;&amp;lt;/tls-auth&amp;gt;&apos;) \
    &gt; ${OUTPUT_DIR}/${1}.ovpn
&lt;/pre&gt;
&lt;p&gt;&lt;a href=&quot;./02/gen_config.sh&quot; download&gt;gen_config.sh&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Le &lt;code&gt;{1}&lt;/code&gt; fait ici rÃ©fÃ©rence au premier argument, qui sera notre nom de client. Assurez-vous de mettre Ã  jour &lt;strong&gt;tiv&lt;/strong&gt;.key fonction du nom de votre clÃ© HMAC.&lt;/p&gt;
&lt;p&gt;Autoriser lâ€™exÃ©cution de ce script:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;chmod&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;700&lt;/span&gt; ~/clients/gen_config.sh&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;9. GÃ©nÃ©rer des configurations client&lt;/h2&gt;
&lt;p&gt;Le pas que vous attendiez tous est enfin arrivÃ©. Nous allons gÃ©nÃ©rer nos configurations client.&lt;/p&gt;
&lt;div class=&quot;language-bash extra-class&quot;&gt;
&lt;pre class=&quot;language-bash code&quot;&gt;
cd ~/clients
./gen_config.sh &lt;b&gt;client&lt;/b&gt;
&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;VÃ©rifiez que cela a fonctionnÃ© en exÃ©cutant:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;ls&lt;/span&gt; ~/clients/files&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Si tel est le cas, il devrait maintenant y avoir un fichier &lt;code&gt;&lt;b&gt;client&lt;/b&gt;.ovpn&lt;/code&gt; dans ce rÃ©pertoire. Nous devons tÃ©lÃ©charger ce fichier et le transfÃ©rer sur nos appareils. Pour ce faire, cliquez sur lâ€™icÃ´ne reprÃ©sentant une roue en haut Ã  droite de la session SSH, puis sÃ©lectionnez Â«TÃ©lÃ©charger le fichierÂ».&lt;/p&gt;
&lt;p&gt;Le chemin pleinement qualifiÃ© devrait ressembler Ã  ceci:&lt;/p&gt;
&lt;div class=&quot;language-text extra-class&quot;&gt;
&lt;pre class=&quot;language-text code&quot;&gt;
/home/&lt;b&gt;username&lt;/b&gt;/clients/files/&lt;b&gt;client&lt;/b&gt;.ovpn
&lt;/pre&gt;
&lt;/div&gt;
&lt;h2&gt;10. Installation sur les clients&lt;/h2&gt;
&lt;p&gt;Pour Windows, tÃ©lÃ©chargez lâ€™application client &lt;a href=&quot;https://openvpn.net/index.php/open-source/downloads.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;OpenVPN&lt;/a&gt;. Une fois installÃ©, dÃ©placez votre fichier &lt;code&gt;&lt;b&gt;client&lt;/b&gt;.ovpn&lt;/code&gt; vers &lt;code&gt;C:\Program Files\OpenVPN\config&lt;/code&gt;. Pour ouvrir OpenVPN, vous devez exÃ©cuter lâ€™application en tant quâ€™administrateur. Une fois Ã  lâ€™intÃ©rieur, vous devriez voir et pouvoir vous connecter Ã  votre VPN.&lt;/p&gt;
&lt;p&gt;Pour macOS, la plupart des gens suggÃ¨rent dâ€™utiliser &lt;a href=&quot;https://tunnelblick.net/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Tunnelblick&lt;/a&gt; bien que tout autre client OpenVPN (mÃªme sâ€™il soit sans danger) soit probablement bon aussi. Une fois installÃ©, vous devriez pouvoir faire glisser nâ€™importe .ovpn fichier &lt;code&gt;.ovpn&lt;/code&gt; sur lâ€™icÃ´ne Tunnelblick de la barre de menus pour installer la configuration. Utilisez la barre de menus pour vous connecter ensuite au VPN. Si vous Ãªtes interrogÃ© sur le plugin &lt;code&gt;down-root.so&lt;/code&gt;, prenez une dÃ©cision! Je lâ€™ai sautÃ© parce que je suis capable de reconnecter ma connexion, mais câ€™est Ã  vous de dÃ©cider.&lt;/p&gt;
&lt;p&gt;Sous Linux, installez le paquet &lt;code&gt;openvpn&lt;/code&gt; en utilisant votre gestionnaire de paquets. Les utilisateurs de CentOS devront dâ€™abord installer &lt;code&gt;epel-release&lt;/code&gt; utilisant &lt;code&gt;yum&lt;/code&gt;. Une fois installÃ©, lancez &lt;code&gt;ls /etc/openvpn&lt;/code&gt;. Si la sortie &lt;strong&gt;ne&lt;/strong&gt; prÃ©sente &lt;strong&gt;pas&lt;/strong&gt; de fichier &lt;code&gt;update-resolve-conf&lt;/code&gt;, vous devez modifier votre fichier &lt;code&gt;.ovpn&lt;/code&gt; et supprimer les lignes suivantes (si vous les avez ajoutÃ©es):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;script-security 2
up /etc/openvpn/update-resolv-conf
down /etc/openvpn/update-resolv-conf&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Si vous nâ€™avez jamais ajoutÃ© ces lignes mais trouvÃ© un fichier &lt;code&gt;update-resolv-conf&lt;/code&gt;, ajoutez-les! Les utilisateurs de CentOS devront modifier le &lt;code&gt;group&lt;/code&gt; dans le fichier &lt;code&gt;.ovpn&lt;/code&gt; de &lt;code&gt;nogroup&lt;/code&gt; Ã  &lt;code&gt;nobody&lt;/code&gt; pour se conformer aux normes du systÃ¨me dâ€™exploitation.&lt;/p&gt;
&lt;p&gt;Pour vous connecter, lancez &lt;code&gt;sudo openvpn â€” config client .ovpn&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Pour iOS, installez lâ€™application &lt;a href=&quot;https://itunes.apple.com/us/app/id590379981&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;OpenVPN Connect&lt;/a&gt;. Ensuite, ouvrez iTunes sur votre ordinateur et accÃ©dez Ã  iPhone&gt; Applications. Faites dÃ©filer jusquâ€™Ã  la section Â«Partage de fichiersÂ» et sÃ©lectionnez â€œOpenVPNâ€. Faites glisser votre fichier &lt;code&gt;.ovpn&lt;/code&gt; dans le panneau â€œOpenVPN Documentsâ€. Ouvrir lâ€™application sur votre tÃ©lÃ©phone devrait maintenant afficher un message indiquant quâ€™un nouveau profil est prÃªt Ã  Ãªtre importÃ©. Une fois importÃ©, vous devriez pouvoir vous connecter au VPN.&lt;/p&gt;
&lt;p&gt;Pour Android, installez lâ€™application &lt;a href=&quot;https://play.google.com/store/apps/details?id=net.openvpn.openvpn&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;OpenVPN Connect&lt;/a&gt;. Ensuite, transfÃ©rez votre fichier &lt;code&gt;.ovpn&lt;/code&gt; nâ€™importe oÃ¹ / de toute faÃ§on sur votre appareil (je viens dâ€™utiliser Google Drive, mais cela peut ne pas Ãªtre recommandÃ©). Dans lâ€™application, ouvrez le menu et cliquez sur â€œImporterâ€. AccÃ©dez Ã  votre fichier &lt;code&gt;.ovpn&lt;/code&gt; , cliquez dessus, puis appuyez sur â€œIMPORTâ€ en haut Ã  droite. Une fois terminÃ©, vous devriez pouvoir vous connecter au VPN.&lt;/p&gt;
&lt;h2&gt;Test du VPN&lt;/h2&gt;
&lt;p&gt;Le moyen le plus simple de tester votre VPN serait de Google â€œquelle est mon adresse IPâ€ avant et aprÃ¨s la connexion. Votre adresse IP doit passer Ã  lâ€™adresse IP publique externe de votre instance GCE une fois que vous Ãªtes connectÃ© au VPN, puis Ã  lâ€™adresse IP de votre rÃ©seau une fois dÃ©connectÃ©e du VPN.&lt;/p&gt;
&lt;p&gt;Si tout sâ€™est bien passÃ©, câ€™est tout! Votre nouveau VPN est prÃªt Ã  Ãªtre utilisÃ©.&lt;/p&gt;
&lt;h2&gt;CrÃ©dits&lt;/h2&gt;
&lt;p&gt;Cet article est basÃ© en grande partie sur &lt;a href=&quot;https://www.digitalocean.com/community/tutorials/how-to-set-up-an-openvpn-server-on-ubuntu-16-04&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;ce didacticiel de la communautÃ© DigitalOcean&lt;/a&gt;. Bien que la configuration elle-mÃªme soit assez similaire, jâ€™ai pensÃ© Ã©crire un article sÃ©parÃ©, car il existe quelques Ã©lÃ©ments clÃ©s diffÃ©rents dans GCE et il est assez facile de se tromper si vous le faites pour la premiÃ¨re fois (je parle par expÃ©rience).&lt;/p&gt;
&lt;style lang=&quot;scss&quot;&gt;
.content pre.code, 
.content pre[class*=&quot;language-&quot;].code {
  /* font-size: 10pt; */
  font-size: 0.85em;
  font-family: source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;
  color: #fff;

  b {
    color: yellow;
    /* text-decoration:underline; */
    /* background-color: green; */
  }
}
&lt;/style&gt;</content:encoded></item><item><title><![CDATA[Map, filter, reduce]]></title><description><![CDATA[Ces trois fonctions sont utiles pour parcourir une liste (ou un tableau) et effectuer une sorte de transformation ou de calcul. Cela produira alors une nouvelle liste ou le rÃ©sultat du calcul effectuÃ© sur la liste prÃ©cÃ©dente. Les types Avant de plonger dans map, filter et reduce, configurons la liste. types.ts Chaque objet de lâ€™assistant a un nom, une maison et le nombre de points quâ€™il a gagnÃ©s pour sa maison. DÃ©clarons un groupe de magiciens et mettons-les dans une liste. wizards.ts Map Maintenant que nous avons la base, allons-y. La premiÃ¨re fonction est la plus simple, map. Map itÃ¨re (ou boucle) sur une liste, applique une fonction Ã  chaque Ã©lÃ©ment de cette liste, puis renvoie une nouvelle liste dâ€™Ã©lÃ©ments transformÃ©s. Regardons un exemple. wizard-names.ts Cette fonction parcourt la liste des assistants, obtient leur nom et le place dans un nouveau tableau. Le rÃ©sultat de ceci ressemble Ã  ceci. Dans cet exemple, nous utilisions une fonction lambda (ou fonction anonyme), mais nous pouvons Ã©galement utiliser une fonction nommÃ©e. wizardToString.ts Dans cet exemple, nous avons une fonction appelÃ©e wizardToString que nous transmettons directement au map. Il retournera alors une nouvelle liste qui ressemble Ã  ceci. Filter Le filter se comporte comme un map dans la mesure oÃ¹ il itÃ¨re sur la liste, mais au lieu de transformer chaque Ã©lÃ©ment, il transforme la liste entiÃ¨re. Le filter prend une fonction qui renvoie true ou false ou un prÃ©dicat. Il renvoie ensuite une nouvelle liste avec des Ã©lÃ©ments oÃ¹ le prÃ©dicat renvoie true. Regardons un exemple. slytherins.ts Dans cet exemple, nous filtrons par-dessus la liste et nâ€™incluons que les sorciers qui se trouvent dans la maison Serpentard. Le rÃ©sultat serait ceci. En passant, Taylor et Lin sont deux des Serpentards les plus acclamÃ©s de notre Ã©poque. Comme avec map, nous nâ€™avons pas besoin dâ€™utiliser un lambda , nous pouvons Ã©galement utiliser une fonction prÃ©dÃ©finie. winners-losers.ts Dans cet exemple, nous faisons deux listes, la liste des Serpentards ayant gagnÃ© des points (gagnants) et la liste des Serpentards ayant perdu des points (perdants). Nous pouvons voir ces rÃ©sultats ci-dessous. Reduce Nous arrivons maintenant Ã  la fonction la plus intÃ©ressante, reduce. Reduce itÃ¨re sur une liste et produit une valeur unique. Regardons un exemple. Supposons que nous voulions obtenir le nombre total de points pour tous les assistants. Nous pouvons utiliser rÃ©duire pour faire cela. Que se passe t-il ici? Bien rÃ©duire est une fonction qui prend deux arguments, une fonction et une valeur initiale pour lâ€™accumulateur. Lâ€™accumulateur est le nom de la chose rÃ©duire les rendements. Dans ce cas, nous commenÃ§ons le compte de points Ã  0. Maintenant, la fonction prend lâ€™Ã©tat actuel de lâ€™accumulateur et de lâ€™Ã©lÃ©ment dans la liste quâ€™il est supposÃ© traiter. Pour le premier assistant, il passera 0 pour lâ€™accumulateur. Cette fonction retourne ensuite accumulator + points. Cela finira par rÃ©sumer tous les points. Si vous Ãªtes curieux, le rÃ©sultat est 5487. Maintenant, lâ€™accumulateur peut Ãªtre nâ€™importe quoi, on peut mÃªme utiliser rÃ©duire pour produire un objet. Regardons un exemple oÃ¹ nous additionnons les points pour chaque maison. points-per-house.ts Dans ce cas, nous initialisons notre accumulateur ou acc avec {}. Ensuite, pour chaque assistant, nous appelons une fonction qui ajoute le nombre de points quâ€™il a gagnÃ©s pour sa maison. Si vous Ãªtes curieux, ce rÃ©sultat ressemble Ã  ceci. Regardons un autre exemple, disons que nous voulons le meilleur assistant pour chaque maison. Nous pouvons modifier notre fonction prÃ©cÃ©dente pour utiliser le meilleur assistant pour chaque maison. Si vous Ãªtes curieux, le rÃ©sultat est le suivant. Juste un peu plus de plaisir maintenant, nous pouvons utiliser Object.values pour transformer cet map. best-names-per-house.ts Maintenant, nous avons de beaux noms pour la meilleure personne dans chaque maison.]]></description><link>https://ludovicwyffels.dev/js-map-filter-reduce/</link><guid isPermaLink="false">https://ludovicwyffels.dev/js-map-filter-reduce/</guid><pubDate>Sun, 03 Mar 2019 08:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Ces trois fonctions sont utiles pour parcourir une liste (ou un tableau) et effectuer une sorte de transformation ou de calcul. Cela produira alors une nouvelle liste ou le rÃ©sultat du calcul effectuÃ© sur la liste prÃ©cÃ©dente.&lt;/p&gt;
&lt;h2&gt;Les types&lt;/h2&gt;
&lt;p&gt;Avant de plonger dans map, filter et reduce, configurons la liste.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;enum&lt;/span&gt; House &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  Gryffindor &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Gryffindor&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  Hufflepuff &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Hufflepuff&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  Ravenclaw &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Ravenclaw&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  Slytherin &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Slytherin&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

type Wizard &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; string&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  house&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; House&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  points&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; number&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;types.ts&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Chaque objet de lâ€™assistant a un nom, une maison et le nombre de points quâ€™il a gagnÃ©s pour sa maison. DÃ©clarons un groupe de magiciens et mettons-les dans une liste.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; HarryPotter&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Wizard &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Harry Potter&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  house&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; House&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Gryffindor&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  points&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;40&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; HermioneGranger&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Wizard &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Hermione Granger&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  house&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; House&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Gryffindor&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  points&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;140&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; DracoMalfoy&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Wizard &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Draco Malfoy&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  house&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; House&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Slytherin&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  points&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; TaylorSwift&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Wizard &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Taylor Swift&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  house&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; House&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Slytherin&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  points&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; LinManuelMiranda&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Wizard &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Lin Manuel Miranda&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  house&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; House&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Slytherin&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  points&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5000&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; CedricDiggory&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Wizard &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Cedric Diggory&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  house&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; House&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Hufflepuff&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  points&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;12&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; SallyPerks&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Wizard &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Sally Perks&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  house&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; House&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Hufflepuff&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  points&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;15&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; LunaLovegood&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Wizard &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Luna Lovegood&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  house&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; House&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Ravenclaw&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  points&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; ChoChang&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Wizard &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Cho Chang&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  house&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; House&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Ravenclaw&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  points&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; wizards&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Wizard&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
  HarryPotter&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  HermioneGranger&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  DracoMalfoy&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  LinManuelMiranda&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  TaylorSwift&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  CedricDiggory&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  SallyPerks&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  LunaLovegood&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  ChoChang
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;wizards.ts&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Map&lt;/h2&gt;
&lt;p&gt;Maintenant que nous avons la base, allons-y. La premiÃ¨re fonction est la plus simple, map. Map itÃ¨re (ou boucle) sur une liste, applique une fonction Ã  chaque Ã©lÃ©ment de cette liste, puis renvoie une nouvelle liste dâ€™Ã©lÃ©ments transformÃ©s. Regardons un exemple.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; wizardNames &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; wizards&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;wizard&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; wizard&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;wizard-names.ts&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Cette fonction parcourt la liste des assistants, obtient leur nom et le place dans un nouveau tableau. Le rÃ©sultat de ceci ressemble Ã  ceci.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;[
  &amp;quot;Harry Potter&amp;quot;,
  &amp;quot;Hermione Granger&amp;quot;,
  &amp;quot;Draco Malfoy&amp;quot;,
  &amp;quot;Lin Manuel Miranda&amp;quot;,
  &amp;quot;Taylor Swift&amp;quot;,
  &amp;quot;Cedric Diggory&amp;quot;,
  &amp;quot;Sally Perks&amp;quot;,
  &amp;quot;Luna Lovegood&amp;quot;,
  &amp;quot;Cho Chang&amp;quot;
];&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Dans cet exemple, nous utilisions une fonction lambda (ou fonction anonyme), mais nous pouvons Ã©galement utiliser une fonction nommÃ©e.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;wizardToString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; house&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; points &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Wizard&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;name&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;, &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;house&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;, &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;points&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; wizardStrings &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; wizards&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;wizardToString&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;wizardToString.ts&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Dans cet exemple, nous avons une fonction appelÃ©e &lt;code&gt;wizardToString&lt;/code&gt; que nous transmettons directement au map. Il retournera alors une nouvelle liste qui ressemble Ã  ceci.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;[
  &amp;quot;Harry Potter, Gryffindor, 40&amp;quot;,
  &amp;quot;Hermione Granger, Gryffindor, 140&amp;quot;,
  &amp;quot;Draco Malfoy, Slytherin, -20&amp;quot;,
  &amp;quot;Lin Manuel Miranda, Slytherin, 5000&amp;quot;,
  &amp;quot;Taylor Swift, Slytherin, 100&amp;quot;,
  &amp;quot;Cedric Diggory, Hufflepuff, 12&amp;quot;,
  &amp;quot;Sally Perks, Hufflepuff, 15&amp;quot;,
  &amp;quot;Luna Lovegood, Ravenclaw, 100&amp;quot;,
  &amp;quot;Cho Chang, Ravenclaw, 100&amp;quot;
];&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Filter&lt;/h2&gt;
&lt;p&gt;Le &lt;code&gt;filter&lt;/code&gt; se comporte comme un &lt;code&gt;map&lt;/code&gt; dans la mesure oÃ¹ il itÃ¨re sur la liste, mais au lieu de transformer chaque Ã©lÃ©ment, il transforme la liste entiÃ¨re. Le filter prend une fonction qui renvoie &lt;em&gt;true&lt;/em&gt; ou &lt;em&gt;false&lt;/em&gt; ou un &lt;em&gt;prÃ©dicat&lt;/em&gt;. Il renvoie ensuite une nouvelle liste avec des Ã©lÃ©ments oÃ¹ le prÃ©dicat renvoie &lt;code&gt;true&lt;/code&gt;. Regardons un exemple.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; slytherins &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; wizards&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;wizard&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; wizard&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;house &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; House&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Slytherin&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;slytherins.ts&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Dans cet exemple, nous filtrons par-dessus la liste et nâ€™incluons que les sorciers qui se trouvent dans la maison Serpentard. Le rÃ©sultat serait ceci.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;[
  { name: &amp;quot;Draco Malfoy&amp;quot;, house: &amp;quot;Slytherin&amp;quot;, points: -20 },
  { name: &amp;quot;Lin Manuel Miranda&amp;quot;, house: &amp;quot;Slytherin&amp;quot;, points: 5000 },
  { name: &amp;quot;Taylor Swift&amp;quot;, house: &amp;quot;Slytherin&amp;quot;, points: 100 }
];&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;En passant, Taylor et Lin sont deux des Serpentards les plus acclamÃ©s de notre Ã©poque.&lt;/p&gt;
&lt;p&gt;Comme avec map, nous nâ€™avons pas besoin dâ€™utiliser un lambda , nous pouvons Ã©galement utiliser une fonction prÃ©dÃ©finie.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;isWinner&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; points &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Wizard&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; points &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;isLoser&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;wizard&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Wizard&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isWinner&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;wizard&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; winners &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; slytherins&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;wizard&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; wizard&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;points &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; losers &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; slytherins&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;wizard&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; wizard&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;points &lt;span class=&quot;token operator&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;winners-losers.ts&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Dans cet exemple, nous faisons deux listes, la liste des Serpentards ayant gagnÃ© des points (gagnants) et la liste des Serpentards ayant perdu des points (perdants). Nous pouvons voir ces rÃ©sultats ci-dessous.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;const winnersResult = [
  { name: &amp;quot;Lin Manuel Miranda&amp;quot;, house: &amp;quot;Slytherin&amp;quot;, points: 5000 },
  { name: &amp;quot;Taylor Swift&amp;quot;, house: &amp;quot;Slytherin&amp;quot;, points: 100 }
];
const losersResult = [
  { name: &amp;quot;Draco Malfoy&amp;quot;, house: &amp;quot;Slytherin&amp;quot;, points: -20 }
];&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Reduce&lt;/h2&gt;
&lt;p&gt;Nous arrivons maintenant Ã  la fonction la plus intÃ©ressante, reduce. Reduce itÃ¨re sur une liste et produit une valeur unique. Regardons un exemple.&lt;/p&gt;
&lt;p&gt;Supposons que nous voulions obtenir le nombre total de points pour tous les assistants. Nous pouvons utiliser rÃ©duire pour faire cela.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; totalPoints &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; wizards&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;reduce&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;accumulator&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; points &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; accumulator &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; points&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Que se passe t-il ici? Bien rÃ©duire est une fonction qui prend deux arguments, une fonction et une valeur initiale pour lâ€™accumulateur. Lâ€™accumulateur est le nom de la chose rÃ©duire les rendements. Dans ce cas, nous commenÃ§ons le compte de points Ã  0.&lt;/p&gt;
&lt;p&gt;Maintenant, la fonction prend lâ€™Ã©tat actuel de lâ€™accumulateur et de lâ€™Ã©lÃ©ment dans la liste quâ€™il est supposÃ© traiter. Pour le premier assistant, il passera 0 pour lâ€™accumulateur. Cette fonction retourne ensuite &lt;code&gt;accumulator + points&lt;/code&gt;. Cela finira par rÃ©sumer tous les points. Si vous Ãªtes curieux, le rÃ©sultat est 5487.&lt;/p&gt;
&lt;p&gt;Maintenant, lâ€™accumulateur peut Ãªtre nâ€™importe quoi, on peut mÃªme utiliser rÃ©duire pour produire un objet. Regardons un exemple oÃ¹ nous additionnons les points pour chaque maison.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; pointsPerHouse &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; wizards&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;reduce&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;acc&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; house&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; points &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;acc&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;house&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    acc&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;house&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  acc&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;house&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; points&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; acc&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;points-per-house.ts&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Dans ce cas, nous initialisons notre accumulateur ou &lt;code&gt;acc&lt;/code&gt; avec &lt;code&gt;{}&lt;/code&gt;. Ensuite, pour chaque assistant, nous appelons une fonction qui ajoute le nombre de points quâ€™il a gagnÃ©s pour sa maison. Si vous Ãªtes curieux, ce rÃ©sultat ressemble Ã  ceci.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{
  Gryffindor: 180,
  Slytherin: 5080,
  Hufflepuff: 27,
  Ravenclaw: 200
};&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Regardons un autre exemple, disons que nous voulons le meilleur assistant pour chaque maison. Nous pouvons modifier notre fonction prÃ©cÃ©dente pour utiliser le meilleur assistant pour chaque maison.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; bestPerHouse &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; wizards&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;reduce&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;acc&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; wizard&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; house&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; points &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; wizard&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;acc&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;house&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    acc&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;house&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; wizard&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;acc&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;house&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;points &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; points&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    acc&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;house&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; wizard&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; acc&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Si vous Ãªtes curieux, le rÃ©sultat est le suivant.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{
  Gryffindor: { name: &amp;quot;Hermione Granger&amp;quot;, house: &amp;quot;Gryffindor&amp;quot;, points: 140 },
  Slytherin: { name: &amp;quot;Lin Manuel Miranda&amp;quot;, house: &amp;quot;Slytherin&amp;quot;, points: 5000 },
  Hufflepuff: { name: &amp;quot;Sally Perks&amp;quot;, house: &amp;quot;Hufflepuff&amp;quot;, points: 15 },
  Ravenclaw: { name: &amp;quot;Luna Lovegood&amp;quot;, house: &amp;quot;Ravenclaw&amp;quot;, points: 100 }
};&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Juste un peu plus de plaisir maintenant, nous pouvons utiliser &lt;code&gt;Object.values&lt;/code&gt; pour transformer cet map.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; bestNamesPerHouse &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;bestPerHouse&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;wizardToString&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;Hermione Granger, Gryffindor, 140&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;Lin Manuel Miranda, Slytherin, 5000&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;Sally Perks, Hufflepuff, 15&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;Luna Lovegood, Ravenclaw, 100&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;best-names-per-house.ts&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Maintenant, nous avons de beaux noms pour la meilleure personne dans chaque maison.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Introduction aux stratÃ©gies de dÃ©ploiement]]></title><description><![CDATA[De nos jours, le changement le plus important dans le dÃ©veloppement logiciel est la frÃ©quence des dÃ©ploiements. Les Ã©quipes de produits dÃ©ploient les versions en production plus tÃ´t (et plus souvent). Des cycles de publication de plusieurs mois ou annÃ©es sont en train de devenir rares, en particulier parmi ceux qui construisent des produits logiciels purs. Aujourdâ€™hui, en utilisant une approche axÃ©e sur les services et sur les microservices, les dÃ©veloppeurs peuvent concevoir une base de code modulaire. Cela leur permet dâ€™Ã©crire et de dÃ©ployer des modifications simultanÃ©ment sur diffÃ©rentes parties de la base de code. Les avantages commerciaux de cycles de dÃ©ploiement plus courts sont clairs: Le temps de mise sur le marchÃ© est rÃ©duit Les clients obtiennent la valeur du produit en moins de temps Les commentaires des clients sont Ã©galement renvoyÃ©s plus rapidement dans lâ€™Ã©quipe produit, ce qui permet Ã  lâ€™Ã©quipe de parcourir les fonctionnalitÃ©s et de rÃ©soudre les problÃ¨mes plus rapidement. Le moral des dÃ©veloppeurs augmente Cependant, ce changement crÃ©e Ã©galement de nouveaux dÃ©fis pour les opÃ©rations ou lâ€™Ã©quipe de DevOps. Avec des dÃ©ploiements plus frÃ©quents, il est plus probable que le code dÃ©ployÃ© puisse affecter nÃ©gativement la fiabilitÃ© du site ou lâ€™expÃ©rience client. Câ€™est pourquoi il est important de dÃ©velopper des stratÃ©gies de dÃ©ploiement de code minimisant les risques pour le produit et les clients. Dans cet article, nous allons parler de diffÃ©rentes stratÃ©gies de dÃ©ploiement, de meilleures pratiques et dâ€™outils qui permettront Ã  votre Ã©quipe de travailler plus rapidement et de maniÃ¨re plus fiable. DÃ©fis des applications modernes Les applications modernes sont souvent distribuÃ©es et basÃ©es sur le cloud. Ils peuvent Ã©voluer pour rÃ©pondre Ã  la demande et sont plus rÃ©sistants aux pannes grÃ¢ce Ã  des architectures hautement disponibles. Ils peuvent utiliser des services entiÃ¨rement gÃ©rÃ©s comme AWS Lambda ou Elastic Container Service (ECS), oÃ¹ la plate-forme assume une partie de la responsabilitÃ© opÃ©rationnelle. Ces applications ont presque toujours des dÃ©ploiements frÃ©quents. Par exemple, une application mobile ou une application Web grand public peut subir plusieurs modifications au cours dâ€™un mois. Certains sont mÃªme dÃ©ployÃ©s en production plusieurs fois par jour. Ils utilisent souvent des architectures de microservices dans lesquelles plusieurs composants travaillent ensemble pour offrir une fonctionnalitÃ© complÃ¨te. Il peut y avoir diffÃ©rents cycles de publication pour diffÃ©rents composants, mais ils doivent tous fonctionner ensemble de maniÃ¨re transparente. Lâ€™augmentation du nombre de piÃ¨ces mobiles signifie plus de chances que quelque chose se passe mal. Avec plusieurs Ã©quipes de dÃ©veloppement apportant des modifications dans la base de code, il peut Ãªtre difficile de dÃ©terminer la cause premiÃ¨re dâ€™un problÃ¨me inÃ©vitablement. Un autre dÃ©fi: lâ€™abstraction de la couche infrastructure, qui est maintenant considÃ©rÃ©e comme du code. Le dÃ©ploiement dâ€™une nouvelle application peut Ã©galement nÃ©cessiter le dÃ©ploiement dâ€™un nouveau code dâ€™infrastructure. StratÃ©gies de dÃ©ploiement populaires Pour relever ces dÃ©fis, les Ã©quipes chargÃ©es des applications et de lâ€™infrastructure doivent concevoir et adopter une stratÃ©gie de dÃ©ploiement adaptÃ©e Ã  leur cas dâ€™utilisation. Nous en examinerons plusieurs et discuterons des avantages et des inconvÃ©nients de diffÃ©rentes stratÃ©gies de dÃ©ploiement afin que vous puissiez choisir celle qui convient Ã  votre organisation. DÃ©ploiement â€œBig Bangâ€ Comme son nom lâ€™indique, les dÃ©ploiements â€œbig bangâ€ mettent Ã  jour des parties entiÃ¨res ou volumineuses dâ€™une application en un seul coup. Cette stratÃ©gie remonte Ã  lâ€™Ã©poque oÃ¹ le logiciel Ã©tait publiÃ© sur un support physique et installÃ© par le client. Les dÃ©ploiements Ã  grande Ã©chelle ont obligÃ© lâ€™entreprise Ã  procÃ©der Ã  des dÃ©veloppements et Ã  des tests approfondis avant la publication, souvent associÃ©s au â€œmodÃ¨le en cascadeâ€ de grandes versions sÃ©quentielles. Les applications modernes prÃ©sentent lâ€™avantage de se mettre Ã  jour rÃ©guliÃ¨rement et automatiquement, cÃ´tÃ© client ou cÃ´tÃ© serveur. Cela rend lâ€™approche big bang plus lent et moins agile pour les Ã©quipes modernes. Les caractÃ©ristiques du dÃ©ploiement du Big Bang comprennent: Toutes les piÃ¨ces majeures conditionnÃ©es en un seul dÃ©ploiement; Remplacer en grande partie ou totalement une version de logiciel existante par une nouvelle; DÃ©ploiement entraÃ®nant gÃ©nÃ©ralement de longs cycles de dÃ©veloppement et de test; En supposant un risque minimal dâ€™Ã©chec, les retours en arriÃ¨re peuvent Ãªtre impossibles ou peu pratiques; Les dÃ©lais de rÃ©alisation sont gÃ©nÃ©ralement longs et peuvent nÃ©cessiter les efforts de plusieurs Ã©quipes; Action requise des clients pour mettre Ã  jour lâ€™installation cÃ´tÃ© client. Les dÃ©ploiements Ã  fort rendement ne conviennent pas aux applications modernes, car les risques sont inacceptables pour les applications grand public ou critiques pour les entreprises, oÃ¹ les pannes entraÃ®nent des pertes financiÃ¨res Ã©normes. Les reculs sont souvent coÃ»teux, prennent du temps, voire impossibles. Lâ€™approche big bang peut convenir Ã  des systÃ¨mes hors production (par exemple, recrÃ©er un environnement de dÃ©veloppement) ou Ã  des solutions prÃªtes Ã  lâ€™emploi, tel que les applications de bureau. DÃ©ploiement progressif (Rolling) Les dÃ©ploiements progressifs, par paliers ou par Ã©tapes sont prÃ©fÃ©rables aux dÃ©ploiements big bang, car ils minimisent de nombreux risques, y compris les temps dâ€™arrÃªt pour les utilisateurs, sans restauration simple. Dans un dÃ©ploiement en continu, la nouvelle version dâ€™une application remplace progressivement lâ€™ancienne. Le dÃ©ploiement rÃ©el se produit sur une pÃ©riode de temps. Pendant ce temps, les nouvelles versions et les anciennes versions coexisteront sans affecter la fonctionnalitÃ© ou lâ€™expÃ©rience utilisateur. Ce processus facilite la restauration de tout nouveau composant incompatible avec les anciens composants. Le diagramme suivant illustre le modÃ¨le de dÃ©ploiement: lâ€™ancienne version apparaÃ®t en bleu et la nouvelle version en vert sur chaque serveur du cluster.  Une mise Ã  niveau dâ€™une suite dâ€™applications est un exemple de dÃ©ploiement progressif. Si les applications dâ€™origine ont Ã©tÃ© dÃ©ployÃ©es dans des conteneurs, la mise Ã  niveau peut traiter un conteneur Ã  la fois. Chaque conteneur est modifiÃ© pour tÃ©lÃ©charger la derniÃ¨re image Ã  partir du site du fournisseur de lâ€™application. Sâ€™il existe un problÃ¨me de compatibilitÃ© pour lâ€™une des applications, lâ€™ancienne image peut recrÃ©er le conteneur. Dans ce cas, les nouvelles versions et les anciennes versions des applications de la suite coexistent jusquâ€™Ã  ce que chaque application soit mise Ã  niveau. DÃ©ploiement Blue-Green, Red-Black ou A/B Câ€™est un autre processus Ã  sÃ©curitÃ© intÃ©grÃ©e. Dans cette mÃ©thode, deux environnements de production identiques fonctionnent en parallÃ¨le. Lâ€™un est lâ€™environnement de production en cours dâ€™exÃ©cution recevant tout le trafic utilisateur (reprÃ©sentÃ© en bleu). Lâ€™autre en est un clone, mais inactif (vert). Les deux utilisent la mÃªme base de donnÃ©es et la mÃªme configuration dâ€™application:  La nouvelle version de lâ€™application est dÃ©ployÃ©e dans lâ€™environnement vert et testÃ©e pour ses fonctionnalitÃ©s et ses performances. Une fois les rÃ©sultats des tests rÃ©ussis, le trafic des applications passent du bleu au vert. Le vert devient alors la nouvelle production.  Sâ€™il y a un problÃ¨me aprÃ¨s que le vert devient actif, le trafic peut Ãªtre redirigÃ© vers le bleu. Dans un dÃ©ploiement Blue-Green, les deux systÃ¨mes utilisent la mÃªme couche de persistance ou la mÃªme base de donnÃ©es. Il est essentiel de synchroniser les donnÃ©es de lâ€™application, mais une base de donnÃ©es en miroir peut aider Ã  atteindre cet objectif. Vous pouvez utiliser la base de donnÃ©es primaire en bleu pour les opÃ©rations dâ€™Ã©criture et la base secondaire en vert pour les opÃ©rations de lecture. Lors du passage du bleu au vert, la base de donnÃ©es est basculÃ©e du primaire au secondaire. Si le vert a Ã©galement besoin dâ€™Ã©crire des donnÃ©es pendant le test, les bases de donnÃ©es peuvent Ãªtre en rÃ©plication bidirectionnelle. Une fois que le vert devient actif, vous pouvez fermer ou recycler les anciennes instances bleues. Vous pouvez dÃ©ployer une version plus rÃ©cente sur ces instances et en faire le nouveau vert pour la prochaine version. Les dÃ©ploiements Blue-Green reposent sur le routage du trafic. Cela peut Ãªtre fait en mettant Ã  jour les DNS (CNAMES) pour les hÃ´tes. Cependant, des valeurs TTL longues peuvent retarder ces modifications. Vous pouvez Ã©galement modifier les paramÃ¨tres du load balancer pour que les modifications prennent effet immÃ©diatement.  DÃ©ploiement canari Le dÃ©ploiement canari ressemble Ã  du Blue-Green, Ã  la diffÃ©rence quâ€™il est moins enclin Ã  prendre des risques. Au lieu de passer du bleu au vert en une seule Ã©tape, vous utilisez une approche progressive. Avec le dÃ©ploiement canari, vous dÃ©ployez un nouveau code dâ€™application dans une petite partie de lâ€™infrastructure de production. Une fois que lâ€™application est validÃ©e pour la publication, seuls quelques utilisateurs y sont routÃ©s. Cela minimise tout impact. En lâ€™absence dâ€™erreur signalÃ©e, la nouvelle version peut progressivement Ãªtre dÃ©ployÃ©e dans le reste de lâ€™infrastructure. Lâ€™image ci-dessous illustre le dÃ©ploiement canari:  Le principal dÃ©fi du dÃ©ploiement canari est de trouver un moyen dâ€™acheminer certains utilisateurs vers la nouvelle application. En outre, certaines applications peuvent toujours avoir besoin du mÃªme groupe dâ€™utilisateurs pour les tests, tandis que dâ€™autres peuvent nÃ©cessiter un groupe diffÃ©rent Ã  chaque fois. Envisagez un moyen dâ€™acheminer de nouveaux utilisateurs en explorant plusieurs techniques: Exposer les utilisateurs internes au dÃ©ploiement canari avant dâ€™autoriser lâ€™accÃ¨s des utilisateurs externes; Baser le routage sur la plage IP source; Livrer lâ€™application dans des rÃ©gions gÃ©ographiques spÃ©cifiques; Utilisation dâ€™une logique dâ€™application pour dÃ©verrouiller de nouvelles fonctionnalitÃ©s pour des utilisateurs et des groupes spÃ©cifiques. Cette logique est supprimÃ©e lorsque lâ€™application est en ligne pour le reste des utilisateurs. Meilleures pratiques de dÃ©ploiement Les Ã©quipes dâ€™applications modernes peuvent suivre un certain nombre de meilleures pratiques pour minimiser les risques de dÃ©ploiement: Utilisez une liste de dÃ©ploiement. Par exemple, un Ã©lÃ©ment de la liste peut consister Ã  â€œsauvegarder toutes les bases de donnÃ©es uniquement aprÃ¨s que les services dâ€™application ont Ã©tÃ© arrÃªtÃ©sâ€ afin dâ€™Ã©viter toute corruption des donnÃ©es. Adopter lâ€™intÃ©gration continue (CI). CI sâ€™assure que le code archivÃ© dans la branche de fonctionnalitÃ© dâ€™un rÃ©fÃ©rentiel de code ne fusionne avec sa branche principale quâ€™aprÃ¨s une sÃ©rie de vÃ©rifications de dÃ©pendance, de tests dâ€™unitÃ© et dâ€™intÃ©gration et une gÃ©nÃ©ration rÃ©ussit. Sâ€™il y a des erreurs le long du chemin, la construction Ã©choue et lâ€™Ã©quipe de lâ€™application en est informÃ©e. Lâ€™utilisation de CI signifie donc que chaque modification apportÃ©e Ã  lâ€™application est testÃ©e avant son dÃ©ploiement. Les exemples dâ€™outils de CI incluent: CircleCI, Jenkins. Adoptez la livraison continue (CD). Avec le CD, lâ€™artefact de code construit par le CI est packagÃ© et toujours prÃªt Ã  Ãªtre dÃ©ployÃ© dans un ou plusieurs environnements. Utilisez des environnements dâ€™exploitation standard pour assurer la cohÃ©rence de lâ€™environnement. Vous pouvez utiliser des outils tels que Vagrant et Packer pour les postes de travail et les serveurs de dÃ©veloppement. Utilisez les outils dâ€™automatisation de build pour automatiser les gÃ©nÃ©rations dâ€™environnement. Avec ces outils, il est souvent simple de cliquer sur un bouton pour dÃ©truire une pile dâ€™infrastructure complÃ¨te et la reconstruire Ã  partir de zÃ©ro. CloudFormation est un exemple de tels outils. Utilisez des outils de gestion de configuration tels que Puppet, Chef ou Ansible sur les serveurs cibles pour appliquer automatiquement les paramÃ¨tres du systÃ¨me dâ€™exploitation, appliquer des correctifs ou installer des logiciels. Utilisez des canaux de communication tels que Slack pour les notifications automatisÃ©es des gÃ©nÃ©rations infructueuses et des Ã©checs dâ€™application. CrÃ©ez un processus pour alerter lâ€™Ã©quipe responsable des dÃ©ploiements qui Ã©chouent. Dans lâ€™idÃ©al, vous les rencontrez dans lâ€™environnement CI, mais si les modifications sont appliquÃ©es, vous aurez besoin dâ€™un moyen dâ€™avertir lâ€™Ã©quipe responsable. Activez les restaurations automatisÃ©es pour les dÃ©ploiements qui Ã©chouent aux vÃ©rifications de lâ€™Ã©tat, que ce soit en raison de problÃ¨mes de disponibilitÃ© ou de taux dâ€™erreur. Surveillance post-dÃ©ploiement MÃªme aprÃ¨s que vous ayez adoptÃ© toutes ces pratiques, il est possible que des choses se passent mal. Pour cette raison, la surveillance des problÃ¨mes survenant immÃ©diatement aprÃ¨s un dÃ©ploiement est aussi importante que la planification et lâ€™exÃ©cution dâ€™un dÃ©ploiement parfait. Un outil de surveillance des performances des applications peut aider votre Ã©quipe Ã  surveiller les mÃ©triques de performances critiques, y compris les temps de rÃ©ponse du serveur aprÃ¨s les dÃ©ploiements. Les modifications apportÃ©es Ã  lâ€™architecture des applications ou du systÃ¨me peuvent affecter considÃ©rablement les performances des applications. Une solution de surveillance des erreurs est Ã©galement essentielle. Il informera rapidement votre Ã©quipe des erreurs nouvelles ou rÃ©activÃ©es lors dâ€™un dÃ©ploiement est susceptibles de rÃ©vÃ©ler des bogues importants nÃ©cessitant une intervention immÃ©diate. Sans outil de surveillance des erreurs, les bogues nâ€™auraient peut-Ãªtre jamais Ã©tÃ© dÃ©couverts. Alors que quelques utilisateurs rencontrant les bugs prendront le temps de les signaler, la plupart des autres ne le font pas. Lâ€™expÃ©rience client nÃ©gative peut entraÃ®ner des problÃ¨mes de satisfaction au fil du temps ou, pire, empÃªcher les transactions commerciales dâ€™avoir lieu. Un outil de surveillance des erreurs crÃ©e Ã©galement une visibilitÃ© partagÃ©e de tous les problÃ¨mes de post-dÃ©ploiement parmi les Ã©quipes OpÃ©rateur / DevOps et les dÃ©veloppeurs. Cette comprÃ©hension partagÃ©e permet aux Ã©quipes dâ€™Ãªtre plus collaboratives et rÃ©actives.]]></description><link>https://ludovicwyffels.dev/deploy/</link><guid isPermaLink="false">https://ludovicwyffels.dev/deploy/</guid><pubDate>Sat, 02 Feb 2019 08:00:00 GMT</pubDate><content:encoded>&lt;p&gt;De nos jours, le changement le plus important dans le dÃ©veloppement logiciel est la frÃ©quence des dÃ©ploiements. Les Ã©quipes de produits dÃ©ploient les versions en production plus tÃ´t (et plus souvent). Des cycles de publication de plusieurs mois ou annÃ©es sont en train de devenir rares, en particulier parmi ceux qui construisent des produits logiciels purs.&lt;/p&gt;
&lt;p&gt;Aujourdâ€™hui, en utilisant une approche axÃ©e sur les services et sur les microservices, les dÃ©veloppeurs peuvent concevoir une base de code modulaire. Cela leur permet dâ€™Ã©crire et de dÃ©ployer des modifications simultanÃ©ment sur diffÃ©rentes parties de la base de code.&lt;/p&gt;
&lt;p&gt;Les avantages commerciaux de cycles de dÃ©ploiement plus courts sont clairs:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Le temps de mise sur le marchÃ© est rÃ©duit&lt;/li&gt;
&lt;li&gt;Les clients obtiennent la valeur du produit en moins de temps&lt;/li&gt;
&lt;li&gt;Les commentaires des clients sont Ã©galement renvoyÃ©s plus rapidement dans lâ€™Ã©quipe produit, ce qui permet Ã  lâ€™Ã©quipe de parcourir les fonctionnalitÃ©s et de rÃ©soudre les problÃ¨mes plus rapidement.&lt;/li&gt;
&lt;li&gt;Le moral des dÃ©veloppeurs augmente&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Cependant, ce changement crÃ©e Ã©galement de nouveaux dÃ©fis pour les opÃ©rations ou lâ€™Ã©quipe de DevOps. Avec des dÃ©ploiements plus frÃ©quents, il est plus probable que le code dÃ©ployÃ© puisse affecter nÃ©gativement la fiabilitÃ© du site ou lâ€™expÃ©rience client. Câ€™est pourquoi il est important de dÃ©velopper des stratÃ©gies de dÃ©ploiement de code minimisant les risques pour le produit et les clients.&lt;/p&gt;
&lt;p&gt;Dans cet article, nous allons parler de diffÃ©rentes stratÃ©gies de dÃ©ploiement, de meilleures pratiques et dâ€™outils qui permettront Ã  votre Ã©quipe de travailler plus rapidement et de maniÃ¨re plus fiable.&lt;/p&gt;
&lt;h2&gt;DÃ©fis des applications modernes&lt;/h2&gt;
&lt;p&gt;Les applications modernes sont souvent distribuÃ©es et basÃ©es sur le cloud. Ils peuvent Ã©voluer pour rÃ©pondre Ã  la demande et sont plus rÃ©sistants aux pannes grÃ¢ce Ã  des architectures hautement disponibles. Ils peuvent utiliser des services entiÃ¨rement gÃ©rÃ©s comme AWS Lambda ou Elastic Container Service (ECS), oÃ¹ la plate-forme assume une partie de la responsabilitÃ© opÃ©rationnelle.&lt;/p&gt;
&lt;p&gt;Ces applications ont presque toujours des dÃ©ploiements frÃ©quents. Par exemple, une application mobile ou une application Web grand public peut subir plusieurs modifications au cours dâ€™un mois. Certains sont mÃªme dÃ©ployÃ©s en production plusieurs fois par jour.&lt;/p&gt;
&lt;p&gt;Ils utilisent souvent des architectures de microservices dans lesquelles plusieurs composants travaillent ensemble pour offrir une fonctionnalitÃ© complÃ¨te. Il peut y avoir diffÃ©rents cycles de publication pour diffÃ©rents composants, mais ils doivent tous fonctionner ensemble de maniÃ¨re transparente.&lt;/p&gt;
&lt;p&gt;Lâ€™augmentation du nombre de piÃ¨ces mobiles signifie plus de chances que quelque chose se passe mal. Avec plusieurs Ã©quipes de dÃ©veloppement apportant des modifications dans la base de code, il peut Ãªtre difficile de dÃ©terminer la cause premiÃ¨re dâ€™un problÃ¨me inÃ©vitablement.&lt;/p&gt;
&lt;p&gt;Un autre dÃ©fi: lâ€™abstraction de la couche infrastructure, qui est maintenant considÃ©rÃ©e comme du code. Le dÃ©ploiement dâ€™une nouvelle application peut Ã©galement nÃ©cessiter le dÃ©ploiement dâ€™un nouveau code dâ€™infrastructure.&lt;/p&gt;
&lt;h2&gt;StratÃ©gies de dÃ©ploiement populaires&lt;/h2&gt;
&lt;p&gt;Pour relever ces dÃ©fis, les Ã©quipes chargÃ©es des applications et de lâ€™infrastructure doivent concevoir et adopter une stratÃ©gie de dÃ©ploiement adaptÃ©e Ã  leur cas dâ€™utilisation.&lt;/p&gt;
&lt;p&gt;Nous en examinerons plusieurs et discuterons des avantages et des inconvÃ©nients de diffÃ©rentes stratÃ©gies de dÃ©ploiement afin que vous puissiez choisir celle qui convient Ã  votre organisation.&lt;/p&gt;
&lt;h2&gt;DÃ©ploiement â€œBig Bangâ€&lt;/h2&gt;
&lt;p&gt;Comme son nom lâ€™indique, les dÃ©ploiements â€œbig bangâ€ mettent Ã  jour des parties entiÃ¨res ou volumineuses dâ€™une application en un seul coup. Cette stratÃ©gie remonte Ã  lâ€™Ã©poque oÃ¹ le logiciel Ã©tait publiÃ© sur un support physique et installÃ© par le client.&lt;/p&gt;
&lt;p&gt;Les dÃ©ploiements Ã  grande Ã©chelle ont obligÃ© lâ€™entreprise Ã  procÃ©der Ã  des dÃ©veloppements et Ã  des tests approfondis avant la publication, souvent associÃ©s au â€œmodÃ¨le en cascadeâ€ de grandes versions sÃ©quentielles.&lt;/p&gt;
&lt;p&gt;Les applications modernes prÃ©sentent lâ€™avantage de se mettre Ã  jour rÃ©guliÃ¨rement et automatiquement, cÃ´tÃ© client ou cÃ´tÃ© serveur. Cela rend lâ€™approche big bang plus lent et moins agile pour les Ã©quipes modernes.&lt;/p&gt;
&lt;p&gt;Les caractÃ©ristiques du dÃ©ploiement du Big Bang comprennent:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Toutes les piÃ¨ces majeures conditionnÃ©es en un seul dÃ©ploiement;&lt;/li&gt;
&lt;li&gt;Remplacer en grande partie ou totalement une version de logiciel existante par une nouvelle;&lt;/li&gt;
&lt;li&gt;DÃ©ploiement entraÃ®nant gÃ©nÃ©ralement de longs cycles de dÃ©veloppement et de test;&lt;/li&gt;
&lt;li&gt;En supposant un risque minimal dâ€™Ã©chec, les retours en arriÃ¨re peuvent Ãªtre impossibles ou peu pratiques;&lt;/li&gt;
&lt;li&gt;Les dÃ©lais de rÃ©alisation sont gÃ©nÃ©ralement longs et peuvent nÃ©cessiter les efforts de plusieurs Ã©quipes;&lt;/li&gt;
&lt;li&gt;Action requise des clients pour mettre Ã  jour lâ€™installation cÃ´tÃ© client.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Les dÃ©ploiements Ã  fort rendement ne conviennent pas aux applications modernes, car les risques sont inacceptables pour les applications grand public ou critiques pour les entreprises, oÃ¹ les pannes entraÃ®nent des pertes financiÃ¨res Ã©normes. Les reculs sont souvent coÃ»teux, prennent du temps, voire impossibles.&lt;/p&gt;
&lt;p&gt;Lâ€™approche big bang peut convenir Ã  des systÃ¨mes hors production (par exemple, recrÃ©er un environnement de dÃ©veloppement) ou Ã  des solutions prÃªtes Ã  lâ€™emploi, tel que les applications de bureau.&lt;/p&gt;
&lt;h2&gt;DÃ©ploiement progressif (Rolling)&lt;/h2&gt;
&lt;p&gt;Les dÃ©ploiements progressifs, par paliers ou par Ã©tapes sont prÃ©fÃ©rables aux dÃ©ploiements big bang, car ils minimisent de nombreux risques, y compris les temps dâ€™arrÃªt pour les utilisateurs, sans restauration simple.&lt;/p&gt;
&lt;p&gt;Dans un dÃ©ploiement en continu, la nouvelle version dâ€™une application remplace progressivement lâ€™ancienne. Le dÃ©ploiement rÃ©el se produit sur une pÃ©riode de temps. Pendant ce temps, les nouvelles versions et les anciennes versions coexisteront sans affecter la fonctionnalitÃ© ou lâ€™expÃ©rience utilisateur. Ce processus facilite la restauration de tout nouveau composant incompatible avec les anciens composants.&lt;/p&gt;
&lt;p&gt;Le diagramme suivant illustre le modÃ¨le de dÃ©ploiement: lâ€™ancienne version apparaÃ®t en bleu et la nouvelle version en vert sur chaque serveur du cluster.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 880px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0b12bf01bb94837761152d7076de13e2/69857/rolling.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 52.27272727272727%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsSAAALEgHS3X78AAAB4UlEQVQoz53QzW/SYBwHcG76F+zgwbtXD570NP8GDxoTjDG7AMlIXIS4ZZkXMo3JHPFkNpGOoSnLEh0Liy9jcTALbIWNjhZogSbYUVtoeelDn77YrfWiN7/PS/LL8/vkefK4TNMUxG6FZgVpADRTVjQA9QHQh2PdvEirzdEsp6j6SDX6QIM6VDSrgtaRy1qJYvdaqDyz2XSvt24tnT5LtW++Ih/G6sYFnt1uX39BBD+yd94xk2Fyo5p8kp1JNXYcvHrAu7zYvbfU5GtqIpD3oI2Jp0e3l8s2fhRvXPbnHiC1Gy+Jq3P46nH8fuouSqIOrvLgTaazS/W2yiKC/czQEoJxyZNf9rP3aTny4+w7LW+W+Hi+Qwr1r80vdJd2sKkB01BM077pn0BoTUNVTePvhnNcaorLO9U9SiREIscV6hKDneXLAmF3HLbwTyfbGJMv8qVC54iRmCyXZfusg5GCeOkx7o6Sz/GQ55snWol6095QLmTjCBmZ2p1aIVYWsAV/2h8jY+7P7gSVcPD6oXBlruhDa+HjpeB+8D31IZAJhPGwjdcqa9N708gpslhYnD+YR2uoL+1LMkkHj6HOy0p/pFpDGkljCGRFHo6HNgYq6I16ClQGYCADGcDz0tr/fNj/5jdWTvmFtnUPOgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/0b12bf01bb94837761152d7076de13e2/8ffb1/rolling.webp 293w,
/static/0b12bf01bb94837761152d7076de13e2/17bf8/rolling.webp 585w,
/static/0b12bf01bb94837761152d7076de13e2/fbccf/rolling.webp 880w&quot;
          sizes=&quot;(max-width: 880px) 100vw, 880px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/0b12bf01bb94837761152d7076de13e2/f93ee/rolling.png 293w,
/static/0b12bf01bb94837761152d7076de13e2/8c0a8/rolling.png 585w,
/static/0b12bf01bb94837761152d7076de13e2/69857/rolling.png 880w&quot;
          sizes=&quot;(max-width: 880px) 100vw, 880px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/0b12bf01bb94837761152d7076de13e2/69857/rolling.png&quot;
          alt=&quot;DÃ©ploiement continu&quot;
          title=&quot;DÃ©ploiement continu&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Une mise Ã  niveau dâ€™une suite dâ€™applications est un exemple de dÃ©ploiement progressif. Si les applications dâ€™origine ont Ã©tÃ© dÃ©ployÃ©es dans des conteneurs, la mise Ã  niveau peut traiter un conteneur Ã  la fois. Chaque conteneur est modifiÃ© pour tÃ©lÃ©charger la derniÃ¨re image Ã  partir du site du fournisseur de lâ€™application. Sâ€™il existe un problÃ¨me de compatibilitÃ© pour lâ€™une des applications, lâ€™ancienne image peut recrÃ©er le conteneur. Dans ce cas, les nouvelles versions et les anciennes versions des applications de la suite coexistent jusquâ€™Ã  ce que chaque application soit mise Ã  niveau.&lt;/p&gt;
&lt;h2&gt;DÃ©ploiement Blue-Green, Red-Black ou A/B&lt;/h2&gt;
&lt;p&gt;Câ€™est un autre processus Ã  sÃ©curitÃ© intÃ©grÃ©e. Dans cette mÃ©thode, deux environnements de production identiques fonctionnent en parallÃ¨le.&lt;/p&gt;
&lt;p&gt;Lâ€™un est lâ€™environnement de production en cours dâ€™exÃ©cution recevant tout le trafic utilisateur (reprÃ©sentÃ© en bleu). Lâ€™autre en est un clone, mais inactif (vert). Les deux utilisent la mÃªme base de donnÃ©es et la mÃªme configuration dâ€™application:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 880px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b6b08527d33c833f35055797a7ea1324/69857/bluegreen-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 59.20454545454545%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAABrElEQVQoz4WSS0sCURTHg6CP06oo6AP0Edq1kSCiKFpID1wILSJrEZSzaGW5yIUuDUKoKEttUpumfJQzY+nkY9SZfM3cuffaHa0gcuhwuXA553f+9zwGOiaGu4YwggiaxQyYOQAAgiAkEglFUXq5TOG/HlUDe05qdW09mUr/A/f7NkonWToUbNb/U9YRbutY0zGAWIWYPIuKevfEn4WYnNQEOjStGWJcbuh1FZUbkKtoeRm8VMD8/sXI7OHEgntyxStKH0YYQqR/P+cLxl3e0IeGuFEw7GRzxZsoG46yD0mexJoqx/Nt6lq65uueuOyNV6/4hjNY5qtaL0JDarwSCxfDGSUTLARTtVRMitElmogb8GbgfWj5ds6TGd56GnMwM8fC4GL4KFLq9qlTapVsN7al8yV30m0JWA6YA1vIZr20AgQM2BWRxnfYzdO3KVdm2pXaOBVHHQ8nj9WesqzK1D21TW/7Ob89ZPc9+yiG2o3u6kg3YFJno63nxMIzl+Vfc+Wq3AJksfDPqhGRmlITXgUuy4kF8aNZJ+SvOWOjgbjTu/tuK0mHuwP/9n8Cz/6QmVBe4AIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/b6b08527d33c833f35055797a7ea1324/8ffb1/bluegreen-1.webp 293w,
/static/b6b08527d33c833f35055797a7ea1324/17bf8/bluegreen-1.webp 585w,
/static/b6b08527d33c833f35055797a7ea1324/fbccf/bluegreen-1.webp 880w&quot;
          sizes=&quot;(max-width: 880px) 100vw, 880px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/b6b08527d33c833f35055797a7ea1324/f93ee/bluegreen-1.png 293w,
/static/b6b08527d33c833f35055797a7ea1324/8c0a8/bluegreen-1.png 585w,
/static/b6b08527d33c833f35055797a7ea1324/69857/bluegreen-1.png 880w&quot;
          sizes=&quot;(max-width: 880px) 100vw, 880px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/b6b08527d33c833f35055797a7ea1324/69857/bluegreen-1.png&quot;
          alt=&quot;Avant le dÃ©ploiement Blue-Green&quot;
          title=&quot;Avant le dÃ©ploiement Blue-Green&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;La nouvelle version de lâ€™application est dÃ©ployÃ©e dans lâ€™environnement vert et testÃ©e pour ses fonctionnalitÃ©s et ses performances. Une fois les rÃ©sultats des tests rÃ©ussis, le trafic des applications passent du bleu au vert. Le vert devient alors la nouvelle production.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 880px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e89e4df2a1a5e75d843264fb524252cc/69857/bluegreen-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 59.20454545454545%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAABoklEQVQoz5WRS0sCURTHJejjtIxq1Udo3apFrQrCdj10E7RIwlU1UBSJm1wZhBBRZCA5OthrzBwHncnGfKQzjVbOvXPvne44PSEXHi5nc+7/PH5/l9UlyFdgjLv9cXUrQAhlWc4KQrPZdHr1IDYA3NhkFheXsjmxZzHdV8jwHBt7bek9i591I5WRowleqb+3IUQWMomJMDKxSd+PGBNiYuJkhGm2CS3snA3PbI+6d8e8oWslryO13m6ohgoQ0IGOCPp/srPhg1KJp9LsJZ8WJMME2B5BAAY2SwyJRT7FfLkd4NQLqXWQ1g/TWqzwupdsSA3Q6WRBApK1RLwSF3UxWormtBxbZbkaR3vZYt9puX+Omw7lB3yZQd/t1L7cN5sIJqqdLazKW9Vz4XGfu4P3wcmTyS1+yxv3zsfmqf+2OMjVR/x3q8eP44H8REBYOX4aWuOP7lTnCs3QmBvGn/JHCpFldjkshplbZv1qnVKyxdAkb4aplKui9CAVlWf1pQ0xJfeNgOLVdE0qSrReKpda7y0HuOu3sfaJ//npHG+DJH8M/wCA/5EDE/sNjQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/e89e4df2a1a5e75d843264fb524252cc/8ffb1/bluegreen-2.webp 293w,
/static/e89e4df2a1a5e75d843264fb524252cc/17bf8/bluegreen-2.webp 585w,
/static/e89e4df2a1a5e75d843264fb524252cc/fbccf/bluegreen-2.webp 880w&quot;
          sizes=&quot;(max-width: 880px) 100vw, 880px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/e89e4df2a1a5e75d843264fb524252cc/f93ee/bluegreen-2.png 293w,
/static/e89e4df2a1a5e75d843264fb524252cc/8c0a8/bluegreen-2.png 585w,
/static/e89e4df2a1a5e75d843264fb524252cc/69857/bluegreen-2.png 880w&quot;
          sizes=&quot;(max-width: 880px) 100vw, 880px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/e89e4df2a1a5e75d843264fb524252cc/69857/bluegreen-2.png&quot;
          alt=&quot;AprÃ¨s le dÃ©ploiement Blue-Green&quot;
          title=&quot;AprÃ¨s le dÃ©ploiement Blue-Green&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Sâ€™il y a un problÃ¨me aprÃ¨s que le vert devient actif, le trafic peut Ãªtre redirigÃ© vers le bleu.&lt;/p&gt;
&lt;p&gt;Dans un dÃ©ploiement Blue-Green, les deux systÃ¨mes utilisent la mÃªme couche de persistance ou la mÃªme base de donnÃ©es. Il est essentiel de synchroniser les donnÃ©es de lâ€™application, mais une base de donnÃ©es en miroir peut aider Ã  atteindre cet objectif.&lt;/p&gt;
&lt;p&gt;Vous pouvez utiliser la base de donnÃ©es primaire en bleu pour les opÃ©rations dâ€™Ã©criture et la base secondaire en vert pour les opÃ©rations de lecture. Lors du passage du bleu au vert, la base de donnÃ©es est basculÃ©e du primaire au secondaire. Si le vert a Ã©galement besoin dâ€™Ã©crire des donnÃ©es pendant le test, les bases de donnÃ©es peuvent Ãªtre en rÃ©plication bidirectionnelle.&lt;/p&gt;
&lt;p&gt;Une fois que le vert devient actif, vous pouvez fermer ou recycler les anciennes instances bleues. Vous pouvez dÃ©ployer une version plus rÃ©cente sur ces instances et en faire le nouveau vert pour la prochaine version.&lt;/p&gt;
&lt;p&gt;Les dÃ©ploiements Blue-Green reposent sur le routage du trafic. Cela peut Ãªtre fait en mettant Ã  jour les DNS (CNAMES) pour les hÃ´tes. Cependant, des valeurs TTL longues peuvent retarder ces modifications. Vous pouvez Ã©galement modifier les paramÃ¨tres du load balancer pour que les modifications prennent effet immÃ©diatement. &lt;/p&gt;
&lt;h2&gt;DÃ©ploiement canari&lt;/h2&gt;
&lt;p&gt;Le dÃ©ploiement canari ressemble Ã  du Blue-Green, Ã  la diffÃ©rence quâ€™il est moins enclin Ã  prendre des risques. Au lieu de passer du bleu au vert en une seule Ã©tape, vous utilisez une approche progressive.&lt;/p&gt;
&lt;p&gt;Avec le dÃ©ploiement canari, vous dÃ©ployez un nouveau code dâ€™application dans une petite partie de lâ€™infrastructure de production. Une fois que lâ€™application est validÃ©e pour la publication, seuls quelques utilisateurs y sont routÃ©s. Cela minimise tout impact.&lt;/p&gt;
&lt;p&gt;En lâ€™absence dâ€™erreur signalÃ©e, la nouvelle version peut progressivement Ãªtre dÃ©ployÃ©e dans le reste de lâ€™infrastructure. Lâ€™image ci-dessous illustre le dÃ©ploiement canari:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 880px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/78642c8dd77bf1c3b88d2bb27d66797e/69857/canari.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 66.25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsSAAALEgHS3X78AAAB/0lEQVQoz52SX2/SUBTA+VD6bqIPfhJN5sOyxGRL3CfwxUSNiYsCTSBzEcPDeBAzF/kPQ7NSoC2FFdsCLZTelpY/be/txTKgy7I9eZJ7cnPu+Z1z7jkntNyKaZotriWKIsZ4eUcghIPBgGYY3y0whvzjeZ6vKar+6vAwGiUQQvfACEUJwneg6vUAWcHrVABohXyWYZr3ZvaNLN0s5LIAjAMktH6b225PW3zPVGtcT5+6d2HNckhOSmcv+mBhO3BTtncdg+qOn7w8ebQbe/Ds09tkJYgdyOuTwsPnR4/3Ik/341cDfVU5xqFtP1CR5LK/m9Uao2qTa/imYF/LI1AhG2WSYtoCRN5Nw0zTUlQtQQJKnk0c2TB0x3FudcuD3hJZcKIuhhA7CEO83P75B2t+uQRVaR6/nJx39CvQrqm1GZytScMx8nKe0Rl2whaHxa7VLQ3LDa2+geMVeTdWC2f4/a/0h1/i+/q7F+c7Hb2zhtW5muwkU51UqpkKX4Qz3Uyincj1chv4c0nZOeYiJXnvG//mp3REfzwoHgiWuIaVuRKjY6f8aZpPR6iojxE0cSacbeABmJbpvzTf+9OSBNUS+gLbZaW+NJuuKnc9dzwb8zLPCVyDb4iKOJqOjIWxnTP2MHSg63jInzB2V1do27a/kkHPEESu7SIXQRfeWs//ln94ZcMgMGYiewAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/78642c8dd77bf1c3b88d2bb27d66797e/8ffb1/canari.webp 293w,
/static/78642c8dd77bf1c3b88d2bb27d66797e/17bf8/canari.webp 585w,
/static/78642c8dd77bf1c3b88d2bb27d66797e/fbccf/canari.webp 880w&quot;
          sizes=&quot;(max-width: 880px) 100vw, 880px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/78642c8dd77bf1c3b88d2bb27d66797e/f93ee/canari.png 293w,
/static/78642c8dd77bf1c3b88d2bb27d66797e/8c0a8/canari.png 585w,
/static/78642c8dd77bf1c3b88d2bb27d66797e/69857/canari.png 880w&quot;
          sizes=&quot;(max-width: 880px) 100vw, 880px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/78642c8dd77bf1c3b88d2bb27d66797e/69857/canari.png&quot;
          alt=&quot;DÃ©ploiement canari&quot;
          title=&quot;DÃ©ploiement canari&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Le principal dÃ©fi du dÃ©ploiement canari est de trouver un moyen dâ€™acheminer certains utilisateurs vers la nouvelle application. En outre, certaines applications peuvent toujours avoir besoin du mÃªme groupe dâ€™utilisateurs pour les tests, tandis que dâ€™autres peuvent nÃ©cessiter un groupe diffÃ©rent Ã  chaque fois.&lt;/p&gt;
&lt;p&gt;Envisagez un moyen dâ€™acheminer de nouveaux utilisateurs en explorant plusieurs techniques:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Exposer les utilisateurs internes au dÃ©ploiement canari avant dâ€™autoriser lâ€™accÃ¨s des utilisateurs externes;&lt;/li&gt;
&lt;li&gt;Baser le routage sur la plage IP source;&lt;/li&gt;
&lt;li&gt;Livrer lâ€™application dans des rÃ©gions gÃ©ographiques spÃ©cifiques;&lt;/li&gt;
&lt;li&gt;Utilisation dâ€™une logique dâ€™application pour dÃ©verrouiller de nouvelles fonctionnalitÃ©s pour des utilisateurs et des groupes spÃ©cifiques. Cette logique est supprimÃ©e lorsque lâ€™application est en ligne pour le reste des utilisateurs.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Meilleures pratiques de dÃ©ploiement&lt;/h2&gt;
&lt;p&gt;Les Ã©quipes dâ€™applications modernes peuvent suivre un certain nombre de meilleures pratiques pour minimiser les risques de dÃ©ploiement:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Utilisez une liste de dÃ©ploiement&lt;/strong&gt;. Par exemple, un Ã©lÃ©ment de la liste peut consister Ã  â€œsauvegarder toutes les bases de donnÃ©es uniquement aprÃ¨s que les services dâ€™application ont Ã©tÃ© arrÃªtÃ©sâ€ afin dâ€™Ã©viter toute corruption des donnÃ©es.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Adopter lâ€™intÃ©gration continue (CI)&lt;/strong&gt;. CI sâ€™assure que le code archivÃ© dans la branche de fonctionnalitÃ© dâ€™un rÃ©fÃ©rentiel de code ne fusionne avec sa branche principale quâ€™aprÃ¨s une sÃ©rie de vÃ©rifications de dÃ©pendance, de tests dâ€™unitÃ© et dâ€™intÃ©gration et une gÃ©nÃ©ration rÃ©ussit. Sâ€™il y a des erreurs le long du chemin, la construction Ã©choue et lâ€™Ã©quipe de lâ€™application en est informÃ©e. Lâ€™utilisation de CI signifie donc que chaque modification apportÃ©e Ã  lâ€™application est testÃ©e avant son dÃ©ploiement. Les exemples dâ€™outils de CI incluent: CircleCI, Jenkins.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Adoptez la livraison continue (CD)&lt;/strong&gt;. Avec le CD, lâ€™artefact de code construit par le CI est packagÃ© et toujours prÃªt Ã  Ãªtre dÃ©ployÃ© dans un ou plusieurs environnements.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Utilisez des environnements dâ€™exploitation standard&lt;/strong&gt; pour assurer la cohÃ©rence de lâ€™environnement. Vous pouvez utiliser des outils tels que Vagrant et Packer pour les postes de travail et les serveurs de dÃ©veloppement.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Utilisez les outils dâ€™automatisation de build pour automatiser les gÃ©nÃ©rations dâ€™environnement&lt;/strong&gt;. Avec ces outils, il est souvent simple de cliquer sur un bouton pour dÃ©truire une pile dâ€™infrastructure complÃ¨te et la reconstruire Ã  partir de zÃ©ro. CloudFormation est un exemple de tels outils.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Utilisez des outils de gestion de configuration&lt;/strong&gt; tels que Puppet, Chef ou Ansible sur les serveurs cibles pour appliquer automatiquement les paramÃ¨tres du systÃ¨me dâ€™exploitation, appliquer des correctifs ou installer des logiciels.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Utilisez des canaux de communication&lt;/strong&gt; tels que Slack pour les notifications automatisÃ©es des gÃ©nÃ©rations infructueuses et des Ã©checs dâ€™application.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;CrÃ©ez un processus pour alerter lâ€™Ã©quipe responsable des dÃ©ploiements qui Ã©chouent&lt;/strong&gt;. Dans lâ€™idÃ©al, vous les rencontrez dans lâ€™environnement CI, mais si les modifications sont appliquÃ©es, vous aurez besoin dâ€™un moyen dâ€™avertir lâ€™Ã©quipe responsable.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Activez les restaurations automatisÃ©es pour les dÃ©ploiements&lt;/strong&gt; qui Ã©chouent aux vÃ©rifications de lâ€™Ã©tat, que ce soit en raison de problÃ¨mes de disponibilitÃ© ou de taux dâ€™erreur.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Surveillance post-dÃ©ploiement&lt;/h2&gt;
&lt;p&gt;MÃªme aprÃ¨s que vous ayez adoptÃ© toutes ces pratiques, il est possible que des choses se passent mal. Pour cette raison, la surveillance des problÃ¨mes survenant immÃ©diatement aprÃ¨s un dÃ©ploiement est aussi importante que la planification et lâ€™exÃ©cution dâ€™un dÃ©ploiement parfait.&lt;/p&gt;
&lt;p&gt;Un outil de surveillance des performances des applications peut aider votre Ã©quipe Ã  surveiller les mÃ©triques de performances critiques, y compris les temps de rÃ©ponse du serveur aprÃ¨s les dÃ©ploiements. Les modifications apportÃ©es Ã  lâ€™architecture des applications ou du systÃ¨me peuvent affecter considÃ©rablement les performances des applications.&lt;/p&gt;
&lt;p&gt;Une solution de surveillance des erreurs est Ã©galement essentielle. Il informera rapidement votre Ã©quipe des erreurs nouvelles ou rÃ©activÃ©es lors dâ€™un dÃ©ploiement est susceptibles de rÃ©vÃ©ler des bogues importants nÃ©cessitant une intervention immÃ©diate.&lt;/p&gt;
&lt;p&gt;Sans outil de surveillance des erreurs, les bogues nâ€™auraient peut-Ãªtre jamais Ã©tÃ© dÃ©couverts. Alors que quelques utilisateurs rencontrant les bugs prendront le temps de les signaler, la plupart des autres ne le font pas. Lâ€™expÃ©rience client nÃ©gative peut entraÃ®ner des problÃ¨mes de satisfaction au fil du temps ou, pire, empÃªcher les transactions commerciales dâ€™avoir lieu.&lt;/p&gt;
&lt;p&gt;Un outil de surveillance des erreurs crÃ©e Ã©galement une visibilitÃ© partagÃ©e de tous les problÃ¨mes de post-dÃ©ploiement parmi les Ã©quipes OpÃ©rateur / DevOps et les dÃ©veloppeurs. Cette comprÃ©hension partagÃ©e permet aux Ã©quipes dâ€™Ãªtre plus collaboratives et rÃ©actives.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Git hooks avec Husky]]></title><description><![CDATA[Dans cet article, vous apprendrez Ã  crÃ©er et Ã  gÃ©rer facilement des git hooks pour vos projets Node/NPM Ã  lâ€™aide de Husky. Git Hooks En termes simples, les git hooks sont des scripts personnalisÃ©s, qui peuvent Ãªtre exÃ©cutÃ©s automatiquement lorsque des Ã©vÃ©nements spÃ©cifiques se produisent. Des crochets (hooks) cÃ´tÃ© client sont dÃ©clenchÃ©s pour des actions telles que le commit ou le merge. Les crochets cÃ´tÃ© serveur sâ€™exÃ©cutent dans des situations telles que la rÃ©ception de donnÃ©es (git push) du client. Les hooks peuvent exÃ©cuter nâ€™importe quelle logique personnalisÃ©e et, plus important encore, rejeter lâ€™action effectuÃ©e si quelque chose ne va pas. Par exemple, vous pouvez annuler la validation du commit si son message ne contient pas lâ€™ID de problÃ¨me du suivi des problÃ¨mes. Vous pouvez Ã©galement le refuser si lâ€™analyse de code statique Ã©choue. Cela peut Ãªtre trÃ¨s utile si vous voulez vous assurer que votre base de code reste propre ou si vous souhaitez appliquer certaines rÃ¨gles de qualitÃ©. Mais comment pouvez-vous rÃ©ellement installer et gÃ©rer ces hooks? Chaque fois que vous clonez un repo git, toutes les donnÃ©es git de votre projet sont stockÃ©es dans un rÃ©pertoire .git dans votre dossier. Il contient plusieurs fichiers et sous-rÃ©pertoires, lâ€™un dâ€™eux Ã©tant appelÃ© hooks. Ã€ lâ€™intÃ©rieur, vous trouverez un tas de fichiers.  Chacun dâ€™entre eux est un script, qui est exÃ©cutÃ© lorsquâ€™un Ã©vÃ©nement spÃ©cifique se produit. Le nom de lâ€™Ã©vÃ©nement correspond au nom du fichier. Par exemple, la pre-commit est exÃ©cutÃ©e avant de commiter vos modifications. Comme vous pouvez le constater, tous les fichiers ont une extension .sample. Git ignore ces fichiers Ã  moins que vous ne les renommiez. Vous devez supprimer lâ€™extension .sample pour activer ces hooks. Dans les exemples de fichiers, vous pouvez trouver une description et un exemple dâ€™implÃ©mentation que vous pouvez utiliser comme point de dÃ©part pour implÃ©menter vos propres hooks. Ã€ quoi Ã§a sert? Maintenant, regardons quelques exemples spÃ©cifiques de ce qui peut Ãªtre rÃ©alisÃ© avec les git hooks. Comme ce ne sont que des scripts, vous pouvez faire Ã  peu prÃ¨s nâ€™importe quoi. Habituellement, cela signifie effectuer divers contrÃ´les de qualitÃ©. Vous pouvez vous assurer que lâ€™utilisateur a son nom et son email renseignÃ©s. Vous pouvez vÃ©rifier que le message de validation est correctement formatÃ©. Vous pouvez essayer de crÃ©er votre application et rejeter le commit si la construction Ã©choue. Vous pouvez exÃ©cuter des tests pour vous assurer quâ€™ils passent avant le commit. Lâ€™utilisation typique est Ã©galement lâ€™analyse de code statique ou le formatage. Cela signifie quâ€™il faut vÃ©rifier dans votre code les problÃ¨mes courants, les mauvaises pratiques, les conventions de dÃ©nomination, etc. Il peut Ã©galement Ãªtre utile dâ€™exÃ©cuter un outil tel que Prettier pour sâ€™assurer que le code est bien formatÃ© avant le commit. Cela Ã©vite de nombreux maux de tÃªte lors de la rÃ©vision du code. Vous pouvez mÃªme vÃ©rifier les failles de sÃ©curitÃ© de votre code avec un outil tel que Snyk. Distribution aux membres de lâ€™Ã©quipe Avec les hooks cÃ´tÃ© serveur, la distribution est facile. Vous nâ€™avez gÃ©nÃ©ralement quâ€™un seul rÃ©fÃ©rentiel de serveur principal. Cela signifie que tous les membres de lâ€™Ã©quipe mettent gÃ©nÃ©ralement leurs modifications au mÃªme endroit. Vous y installez vos hooks et vous avez terminÃ©. Avec les hooks cÃ´tÃ© client, cela devient plus compliquÃ©. Lorsque vous clonez un rÃ©fÃ©rentiel, les hooks ne sont pas transfÃ©rÃ©s au client. Cela signifie quâ€™un rÃ©fÃ©rentiel fraÃ®chement clonÃ© nâ€™a aucun hook, peu importe le type de hook que vous avez sur le serveur. Si vous voulez que les membres de votre Ã©quipe aient un ensemble unifiÃ© de git hooks, vous devez les distribuer dâ€™une maniÃ¨re ou dâ€™une autre et vous assurer quâ€™ils sont inclus dans leur sous-rÃ©pertoire git hooks. La solution la plus Ã©lÃ©mentaire consiste Ã  crÃ©er un emplacement partagÃ©, oÃ¹ vous stockez vos hooks, puis demandez Ã  vos dÃ©veloppeurs de les tÃ©lÃ©charger et de les mettre dans leur rÃ©pertoire de hooks. Bien sÃ»r, vous ne pouvez pas Ãªtre sÃ»r quâ€™ils le feront rÃ©ellement. Le problÃ¨me est quâ€™ils ont besoin de savoir quâ€™ils devraient le faire et comment. Et mÃªme sâ€™ils le font, ils peuvent Ãªtre paresseux ou simplement ignorer votre politique. Vous pouvez amÃ©liorer un peu cette solution de base en ayant des hooks dans le rÃ©fÃ©rentiel de votre projet et en laissant simplement Ã  vos dÃ©veloppeurs exÃ©cuter un script personnalisÃ© comme celui-ci, qui les copie ensuite dans leur rÃ©pertoire de hooks. Sinon, git propose une option pour changer la destination du rÃ©pertoire des hooks en un emplacement personnalisÃ©: Ces solutions facilitent la distribution, mais ne rÃ©solvent pas les problÃ¨mes essentiels. Husky Installation Vous pouvez installer Husky simplement en exÃ©cutant: Alternative, avec yarn: Ajout de hooks Ajouter des hooks avec Husky est facile. Vous devez juste Ã©diter votre package.json. Vous dÃ©finissez quels scripts doivent Ãªtre exÃ©cutÃ©s sur quel Ã©vÃ©nement git. Pour Husky 1.0.0+, utilisez: Si vous utilisez une version de Husky antÃ©rieure Ã  1.0.0 (disponible dans la version candidate du 06/2018), la syntaxe est lÃ©gÃ¨rement diffÃ©rente. Vous ajoutez vos hooks Husky directement dans la section scripts. Lâ€™exemple ci-dessus exÃ©cute tous vos tests avant de commiter et avant de pousser et si vos tests Ã©chouent, lâ€™action git nâ€™est pas exÃ©cutÃ©e. Bien sÃ»r, vous pouvez exÃ©cuter tout autre script nom plutÃ´t que le nom test. ProblÃ¨me de correction automatique avant validation Il est utile de casser le build si quelque chose ne va pas, mais il est encore plus utile de corriger automatiquement les problÃ¨mes avant de sâ€™engager. Par exemple, vous pouvez personnaliser votre code en utilisant Prettier avant de faire un commit ou vous pouvez corriger automatiquement les problÃ¨mes de formatage, qui peuvent Ãªtre rÃ©solus automatiquement. Câ€™est beaucoup plus facile de cette faÃ§on. Heureusement, il existe un outil pour cela. Cela sâ€™appelle lint-staged. Vous pouvez lâ€™installer par: Maintenant, sur votre action de pre-commit, vous exÃ©cutez directement lint-staged au lieu de votre linter. Dans lint-staged, vous dÃ©finissez ce qui doit Ãªtre exÃ©cutÃ©: Lorsque vous essayez de commiter maintenant, lint-staged peut modifier vos fichiers avant lâ€™exÃ©cution de la validation. Cependant, ce qui est vraiment bien, câ€™est que vous ne filtrez que les fichiers en attente de validation, et non lâ€™ensemble de votre projet. Cela signifie que lâ€™ensemble du processus est beaucoup plus rapide. Bug JetBrains IDE La bonne nouvelle est que les git hooks configurÃ©s de cette maniÃ¨re sont exÃ©cutÃ©s non seulement lorsque vous utilisez git Ã  partir de votre terminal, mais Ã©galement Ã  partir dâ€™un IDE. La mauvaise nouvelle est que les IDE JetBrains (IDEA, Webstorm, â€¦) ont actuellement un mÃ©chant bogue (voir IDEA-135454) et ne fonctionnent pas bien avec cette configuration. Le problÃ¨me nâ€™est pas rÃ©solu avant plusieurs annÃ©es, mais heureusement, il existe une solution de contournement. Vous devez juste ajouter ce hook post-commit: Bien entendu, il ne sâ€™agit que dâ€™une solution de contournement jusquâ€™Ã  ce que le problÃ¨me soit rÃ©solu. Le suivi des problÃ¨mes de JetBrains contient une fonctionnalitÃ© de vote, alors assurez-vous de voter pour que ce problÃ¨me soit rÃ©solu sâ€™il vous pose problÃ¨me. IntÃ©gration continue Une chose Ã  noter est que Husky installe les hooks uniquement lorsquâ€™il ne sâ€™exÃ©cute pas sur un serveur dâ€™intÃ©gration continue. Husky peut dÃ©tecter quâ€™il est en cours dâ€™exÃ©cution dans le cadre dâ€™un travail CI et nâ€™installe aucun hook. En ignorant Les hooks cÃ´tÃ© client peuvent Ãªtre utiles, mais vous ne pouvez pas trop compter sur eux. Ils ne sont que le premier niveau de dÃ©fense. Vous ne pouvez pas Ãªtre sÃ»r Ã  100% quâ€™ils soient exÃ©cutÃ©s. Ils peuvent Ãªtre ignorÃ©s Ã  la demande en ajoutant une option de ligne de commande: Pour rendre les choses encore plus faciles, les hooks peuvent Ãªtre dÃ©sactivÃ©s Ã  lâ€™aide de certaines variables environnementales. Pour cette raison, il est toujours utile dâ€™appliquer la mÃªme fonctionnalitÃ© sur le serveur. Performance Bien que les hooks cotÃ©s client tels que le pre-commit puissent sâ€™avÃ©rer trÃ¨s utiles, vous devez garder Ã  lâ€™esprit quâ€™ils prennent un certain temps Ã  sâ€™exÃ©cuter. Les commits, qui sont gÃ©nÃ©ralement trÃ¨s rapides, car ils ne se produisent que sur le client, peuvent prendre soudainement trÃ¨s longtemps. Vous serez peut-Ãªtre tentÃ© dâ€™exÃ©cuter tous les tests, lâ€™analyse de code statique, les vÃ©rifications prÃ©alables, etc., avant chaque validation. Lorsquâ€™un commit prend des annÃ©es, vos dÃ©veloppeurs ne seront pas heureux et seront tentÃ©s dâ€™ignorer les hooks lors de lâ€™exÃ©cution de leurs commandes git. Vous devez donc trouver le bon Ã©quilibre entre ce qui doit Ãªtre effectuÃ© sur le client et ce qui peut Ãªtre un point dâ€™accÃ¨s cÃ´tÃ© serveur. Conclusion Husky est un outil utile qui permet de crÃ©er et de gÃ©rer facilement des hooks git sur le client. Vous nâ€™avez plus besoin de distribuer vos hooks manuellement. Comme pour tout, gardez le nombre de hooks cÃ´tÃ© client avec modÃ©ration afin dâ€™Ã©viter les temps dâ€™exÃ©cution trop longs.]]></description><link>https://ludovicwyffels.dev/git-husky/</link><guid isPermaLink="false">https://ludovicwyffels.dev/git-husky/</guid><pubDate>Sun, 25 Nov 2018 08:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Dans cet article, vous apprendrez Ã  crÃ©er et Ã  gÃ©rer facilement des git hooks pour vos projets Node/NPM Ã  lâ€™aide de Husky.&lt;/p&gt;
&lt;h2&gt;Git Hooks&lt;/h2&gt;
&lt;p&gt;En termes simples, les git hooks sont des scripts personnalisÃ©s, qui peuvent Ãªtre exÃ©cutÃ©s automatiquement lorsque des Ã©vÃ©nements spÃ©cifiques se produisent. Des crochets (hooks) cÃ´tÃ© client sont dÃ©clenchÃ©s pour des actions telles que le commit ou le merge. Les crochets cÃ´tÃ© serveur sâ€™exÃ©cutent dans des situations telles que la rÃ©ception de donnÃ©es (&lt;code&gt;git push&lt;/code&gt;) du client.&lt;/p&gt;
&lt;p&gt;Les hooks peuvent exÃ©cuter nâ€™importe quelle logique personnalisÃ©e et, plus important encore, rejeter lâ€™action effectuÃ©e si quelque chose ne va pas. Par exemple, vous pouvez annuler la validation du commit si son message ne contient pas lâ€™ID de problÃ¨me du suivi des problÃ¨mes. Vous pouvez Ã©galement le refuser si lâ€™analyse de code statique Ã©choue. Cela peut Ãªtre trÃ¨s utile si vous voulez vous assurer que votre base de code reste propre ou si vous souhaitez appliquer certaines rÃ¨gles de qualitÃ©.&lt;/p&gt;
&lt;p&gt;Mais comment pouvez-vous rÃ©ellement installer et gÃ©rer ces hooks? Chaque fois que vous clonez un repo git, toutes les donnÃ©es git de votre projet sont stockÃ©es dans un rÃ©pertoire &lt;code&gt;.git&lt;/code&gt; dans votre dossier. Il contient plusieurs fichiers et sous-rÃ©pertoires, lâ€™un dâ€™eux Ã©tant appelÃ© &lt;code&gt;hooks&lt;/code&gt;. Ã€ lâ€™intÃ©rieur, vous trouverez un tas de fichiers.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7fb95d529b6827b77db65603da882cba/86d18/githooks.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 41.02564102564102%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABYklEQVQoz1WSWXLCQAxEff8bYS5A8hWoEMA2ixfwvoA3bEN11MpSyYdqXCNN67Vkw7IsXC4XZHmOXCLLMqQSZVkijmPs93vYto0oilDIHe9Zz+A37/0gQFEUGobtODDnc+x2O2y2W6xWKwRS0N/v6LpOv0N5xPN6u2GcJgzDgDhJVLSqKgTnswKN4wjDOezx8vqqyePppJFIMQv7vleCJE31rJvmV/Am4rkQsQnFq+v1S/BwPGKxWMB1XbVGYhY+nk8lJB2tM/4KkoiNKBxJjgAq+LHdYGbOdFa0S8FOyAZJtm2rjWjJ9/1/lu8SqQhybsxx9ip48ly8LZdq05NEGIZKNz0eKswFkZiPGxLKIwo20oxUt7pWWpISwtjKMkzTVLvv6zUcITzLPLlxWvY8TwkZfDR9E9YiRAhumoSsJ70RJzEs29LBcl60ySAdN01LpZDwl2mlwQ8hT4qSmqKcLwk/AQF3V7IELSymAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/7fb95d529b6827b77db65603da882cba/8ffb1/githooks.webp 293w,
/static/7fb95d529b6827b77db65603da882cba/17bf8/githooks.webp 585w,
/static/7fb95d529b6827b77db65603da882cba/e2c1c/githooks.webp 1170w,
/static/7fb95d529b6827b77db65603da882cba/0dcfc/githooks.webp 1248w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/7fb95d529b6827b77db65603da882cba/f93ee/githooks.png 293w,
/static/7fb95d529b6827b77db65603da882cba/8c0a8/githooks.png 585w,
/static/7fb95d529b6827b77db65603da882cba/e1668/githooks.png 1170w,
/static/7fb95d529b6827b77db65603da882cba/86d18/githooks.png 1248w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/7fb95d529b6827b77db65603da882cba/e1668/githooks.png&quot;
          alt=&quot;RÃ©pertoire Git Hooks&quot;
          title=&quot;RÃ©pertoire Git Hooks&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Chacun dâ€™entre eux est un script, qui est exÃ©cutÃ© lorsquâ€™un Ã©vÃ©nement spÃ©cifique se produit. Le nom de lâ€™Ã©vÃ©nement correspond au nom du fichier. Par exemple, la &lt;code&gt;pre-commit&lt;/code&gt; est exÃ©cutÃ©e avant de commiter vos modifications.&lt;/p&gt;
&lt;p&gt;Comme vous pouvez le constater, tous les fichiers ont une extension &lt;code&gt;.sample&lt;/code&gt;. Git ignore ces fichiers Ã  moins que vous ne les renommiez. Vous devez supprimer lâ€™extension &lt;code&gt;.sample&lt;/code&gt; pour activer ces hooks. Dans les exemples de fichiers, vous pouvez trouver une description et un exemple dâ€™implÃ©mentation que vous pouvez utiliser comme point de dÃ©part pour implÃ©menter vos propres hooks.&lt;/p&gt;
&lt;h2&gt;Ã€ quoi Ã§a sert?&lt;/h2&gt;
&lt;p&gt;Maintenant, regardons quelques exemples spÃ©cifiques de ce qui peut Ãªtre rÃ©alisÃ© avec les git hooks. Comme ce ne sont que des scripts, vous pouvez faire Ã  peu prÃ¨s nâ€™importe quoi. Habituellement, cela signifie effectuer divers contrÃ´les de qualitÃ©.&lt;/p&gt;
&lt;p&gt;Vous pouvez vous assurer que lâ€™utilisateur a son nom et son email renseignÃ©s. Vous pouvez vÃ©rifier que le message de validation est correctement formatÃ©. Vous pouvez essayer de crÃ©er votre application et rejeter le commit si la construction Ã©choue. Vous pouvez exÃ©cuter des tests pour vous assurer quâ€™ils passent avant le commit.&lt;/p&gt;
&lt;p&gt;Lâ€™utilisation typique est Ã©galement lâ€™analyse de code statique ou le formatage. Cela signifie quâ€™il faut vÃ©rifier dans votre code les problÃ¨mes courants, les mauvaises pratiques, les conventions de dÃ©nomination, etc. Il peut Ã©galement Ãªtre utile dâ€™exÃ©cuter un outil tel que Prettier pour sâ€™assurer que le code est bien formatÃ© avant le commit. Cela Ã©vite de nombreux maux de tÃªte lors de la rÃ©vision du code. Vous pouvez mÃªme vÃ©rifier les failles de sÃ©curitÃ© de votre code avec un outil tel que Snyk.&lt;/p&gt;
&lt;h2&gt;Distribution aux membres de lâ€™Ã©quipe&lt;/h2&gt;
&lt;p&gt;Avec les hooks cÃ´tÃ© serveur, la distribution est facile. Vous nâ€™avez gÃ©nÃ©ralement quâ€™un seul rÃ©fÃ©rentiel de serveur principal. Cela signifie que tous les membres de lâ€™Ã©quipe mettent gÃ©nÃ©ralement leurs modifications au mÃªme endroit. Vous y installez vos hooks et vous avez terminÃ©.&lt;/p&gt;
&lt;p&gt;Avec les hooks cÃ´tÃ© client, cela devient plus compliquÃ©. Lorsque vous clonez un rÃ©fÃ©rentiel, les hooks ne sont pas transfÃ©rÃ©s au client. Cela signifie quâ€™un rÃ©fÃ©rentiel fraÃ®chement clonÃ© nâ€™a aucun hook, peu importe le type de hook que vous avez sur le serveur. Si vous voulez que les membres de votre Ã©quipe aient un ensemble unifiÃ© de git hooks, vous devez les distribuer dâ€™une maniÃ¨re ou dâ€™une autre et vous assurer quâ€™ils sont inclus dans leur sous-rÃ©pertoire git hooks.&lt;/p&gt;
&lt;p&gt;La solution la plus Ã©lÃ©mentaire consiste Ã  crÃ©er un emplacement partagÃ©, oÃ¹ vous stockez vos hooks, puis demandez Ã  vos dÃ©veloppeurs de les tÃ©lÃ©charger et de les mettre dans leur rÃ©pertoire de hooks. Bien sÃ»r, vous ne pouvez pas Ãªtre sÃ»r quâ€™ils le feront rÃ©ellement. Le problÃ¨me est quâ€™ils ont besoin de savoir quâ€™ils devraient le faire et comment. Et mÃªme sâ€™ils le font, ils peuvent Ãªtre paresseux ou simplement ignorer votre politique.&lt;/p&gt;
&lt;p&gt;Vous pouvez amÃ©liorer un peu cette solution de base en ayant des hooks dans le rÃ©fÃ©rentiel de votre projet et en laissant simplement Ã  vos dÃ©veloppeurs exÃ©cuter un script personnalisÃ© &lt;a href=&quot;https://gist.github.com/tilap/0590e78c9cfd8f6548f5&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;comme celui-ci&lt;/a&gt;, qui les copie ensuite dans leur rÃ©pertoire de hooks. Sinon, git propose une option pour changer la destination du rÃ©pertoire des hooks en un emplacement personnalisÃ©:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; config core.hooksPath YOUR_DIRECTORY&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ces solutions facilitent la distribution, mais ne rÃ©solvent pas les problÃ¨mes essentiels.&lt;/p&gt;
&lt;h2&gt;Husky&lt;/h2&gt;
&lt;h3&gt;Installation&lt;/h3&gt;
&lt;p&gt;Vous pouvez installer &lt;a href=&quot;https://github.com/typicode/husky&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Husky&lt;/a&gt; simplement en exÃ©cutant:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; husky --save-dev&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Alternative, avec yarn:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;yarn&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt; husky --dev&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Ajout de hooks&lt;/h3&gt;
&lt;p&gt;Ajouter des hooks avec Husky est facile. Vous devez juste Ã©diter votre &lt;code&gt;package.json&lt;/code&gt;. Vous dÃ©finissez quels scripts doivent Ãªtre exÃ©cutÃ©s sur quel Ã©vÃ©nement git.&lt;/p&gt;
&lt;p&gt;Pour Husky 1.0.0+, utilisez:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-json line-numbers&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;husky&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;hooks&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;pre-commit&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;npm test&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;pre-push&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;npm test&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;...&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;...&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Si vous utilisez une version de Husky antÃ©rieure Ã  1.0.0 (disponible dans la version candidate du 06/2018), la syntaxe est lÃ©gÃ¨rement diffÃ©rente. Vous ajoutez vos hooks Husky directement dans la section scripts.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-json line-numbers&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;scripts&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;precommit&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;npm test&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;prepush&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;npm test&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;...&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;...&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lâ€™exemple ci-dessus exÃ©cute tous vos tests avant de commiter et avant de pousser et si vos tests Ã©chouent, lâ€™action git nâ€™est pas exÃ©cutÃ©e. Bien sÃ»r, vous pouvez exÃ©cuter tout autre script nom plutÃ´t que le &lt;code&gt;nom test&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;ProblÃ¨me de correction automatique avant validation&lt;/h3&gt;
&lt;p&gt;Il est utile de casser le build si quelque chose ne va pas, mais il est encore plus utile de corriger automatiquement les problÃ¨mes avant de sâ€™engager. Par exemple, vous pouvez personnaliser votre code en utilisant &lt;a href=&quot;https://prettier.io/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Prettier&lt;/a&gt; avant de faire un commit ou vous pouvez corriger automatiquement les problÃ¨mes de formatage, qui peuvent Ãªtre rÃ©solus automatiquement. Câ€™est beaucoup plus facile de cette faÃ§on.&lt;/p&gt;
&lt;p&gt;Heureusement, il existe un outil pour cela. Cela sâ€™appelle &lt;a href=&quot;https://github.com/okonet/lint-staged&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;lint-staged&lt;/a&gt;. Vous pouvez lâ€™installer par:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; installer --save-dev lint-staged&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Maintenant, sur votre action de pre-commit, vous exÃ©cutez directement &lt;code&gt;lint-staged&lt;/code&gt; au lieu de votre linter. Dans &lt;code&gt;lint-staged&lt;/code&gt;, vous dÃ©finissez ce qui doit Ãªtre exÃ©cutÃ©:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-json line-numbers&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;husky&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;hooks&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;pre-commit&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;lint-staged&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;lint-staged&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;*.js&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;eslint --fix&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;git add&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lorsque vous essayez de commiter maintenant, &lt;code&gt;lint-staged&lt;/code&gt; peut modifier vos fichiers avant lâ€™exÃ©cution de la validation. Cependant, ce qui est vraiment bien, câ€™est que vous ne filtrez que les fichiers en attente de validation, et non lâ€™ensemble de votre projet. Cela signifie que lâ€™ensemble du processus est beaucoup plus rapide.&lt;/p&gt;
&lt;h2&gt;Bug JetBrains IDE&lt;/h2&gt;
&lt;p&gt;La bonne nouvelle est que les git hooks configurÃ©s de cette maniÃ¨re sont exÃ©cutÃ©s non seulement lorsque vous utilisez git Ã  partir de votre terminal, mais Ã©galement Ã  partir dâ€™un IDE. La mauvaise nouvelle est que les IDE JetBrains (IDEA, Webstorm, â€¦) ont actuellement un &lt;a href=&quot;https://github.com/okonet/lint-staged/issues/151&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;mÃ©chant bogue&lt;/a&gt; (voir &lt;a href=&quot;https://youtrack.jetbrains.com/issue/IDEA-135454&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;IDEA-135454&lt;/a&gt;) et ne fonctionnent pas bien avec cette configuration.&lt;/p&gt;
&lt;p&gt;Le problÃ¨me nâ€™est pas rÃ©solu avant plusieurs annÃ©es, mais heureusement, il existe une solution de contournement. Vous devez juste ajouter ce hook post-commit:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-json line-numbers&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token property&quot;&gt;&quot;post-commit&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;git update-index -g&quot;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Bien entendu, il ne sâ€™agit que dâ€™une solution de contournement jusquâ€™Ã  ce que le problÃ¨me soit rÃ©solu. Le suivi des problÃ¨mes de JetBrains contient une fonctionnalitÃ© de vote, alors assurez-vous de voter pour que ce problÃ¨me soit rÃ©solu sâ€™il vous pose problÃ¨me.&lt;/p&gt;
&lt;h2&gt;IntÃ©gration continue&lt;/h2&gt;
&lt;p&gt;Une chose Ã  noter est que Husky installe les hooks uniquement lorsquâ€™il ne sâ€™exÃ©cute pas sur un serveur dâ€™intÃ©gration continue. Husky &lt;a href=&quot;https://github.com/watson/is-ci&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;peut dÃ©tecter&lt;/a&gt; quâ€™il est en cours dâ€™exÃ©cution dans le cadre dâ€™un travail CI et nâ€™installe aucun hook.&lt;/p&gt;
&lt;h2&gt;En ignorant&lt;/h2&gt;
&lt;p&gt;Les hooks cÃ´tÃ© client peuvent Ãªtre utiles, mais vous ne pouvez pas trop compter sur eux. Ils ne sont que le premier niveau de dÃ©fense. Vous ne pouvez pas Ãªtre sÃ»r Ã  100% quâ€™ils soient exÃ©cutÃ©s. Ils peuvent Ãªtre ignorÃ©s Ã  la demande en ajoutant une option de ligne de commande:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; commit --no-verify&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Pour rendre les choses encore plus faciles, les hooks peuvent Ãªtre dÃ©sactivÃ©s Ã  lâ€™aide de certaines variables environnementales. Pour cette raison, il est toujours utile dâ€™appliquer la mÃªme fonctionnalitÃ© sur le serveur.&lt;/p&gt;
&lt;h2&gt;Performance&lt;/h2&gt;
&lt;p&gt;Bien que les hooks cotÃ©s client tels que le pre-commit puissent sâ€™avÃ©rer trÃ¨s utiles, vous devez garder Ã  lâ€™esprit quâ€™ils prennent un certain temps Ã  sâ€™exÃ©cuter. Les commits, qui sont gÃ©nÃ©ralement trÃ¨s rapides, car ils ne se produisent que sur le client, peuvent prendre soudainement trÃ¨s longtemps. Vous serez peut-Ãªtre tentÃ© dâ€™exÃ©cuter tous les tests, lâ€™analyse de code statique, les vÃ©rifications prÃ©alables, etc., avant chaque validation. Lorsquâ€™un commit prend des annÃ©es, vos dÃ©veloppeurs ne seront pas heureux et seront tentÃ©s dâ€™ignorer les hooks lors de lâ€™exÃ©cution de leurs commandes git. Vous devez donc trouver le bon Ã©quilibre entre ce qui doit Ãªtre effectuÃ© sur le client et ce qui peut Ãªtre un point dâ€™accÃ¨s cÃ´tÃ© serveur.&lt;/p&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Husky est un outil utile qui permet de crÃ©er et de gÃ©rer facilement des hooks git sur le client. Vous nâ€™avez plus besoin de distribuer vos hooks manuellement. Comme pour tout, gardez le nombre de hooks cÃ´tÃ© client avec modÃ©ration afin dâ€™Ã©viter les temps dâ€™exÃ©cution trop longs.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Comment envoyer un epub vers une Kindle sans utiliser Calibre ni de cable USB ?]]></title><description><![CDATA[Si vous avez un Kindle dâ€™Amazon, vous ne le savez peut-Ãªtre pas, mais vous possÃ©dez une adresse mail â€¦.@kindle.com qui vous permet de vous envoyer des livres et documents directement sur votre liseuse. Pour cela, il faut ajouter votre email via cette page, dans la section â€œSettingsâ€ > â€œPersonal Document Settingsâ€ > â€œApproved Personal Document E-mail Listâ€. Et juste au-dessus, vous devriez voir dans la section â€œSend-to-Kindle E-Mail Settingsâ€, le ou les emails @kindle.com associÃ©s avec chacun de vos appareils Kindle. En effet, en envoyant un fichier depuis votre email rÃ©fÃ©rencÃ© vers votre email kindle.com, vous pouvez le transfÃ©rer vers votre liseuse sans avoir besoin de brancher le moindre cÃ¢ble ou dâ€™installer le moindre soft. Seulement, Amazon autorise lâ€™envoi uniquement des fichiers aux formats suivants : Kindle Format (.MOBI, .AZW) Microsoft Word (.DOC, .DOCX) HTML (.HTML, .HTM) RTF (.RTF) Text (.TXT) JPEG (.JPEG, .JPG) GIF (.GIF) PNG (.PNG) BMP (.BMP) PDF (.PDF) Malheureusement, comme vous pouvez le voir, pas de format epub. ObligÃ© de brancher le Kindle Ã  votre ordinateur et dâ€™utiliser Calibre ? Non, non, non. Il suffit de vous rendre sur le site Send epub to Kindle , puis de renseigner les infos demandÃ©es, Ã  savoir votre email rÃ©fÃ©rencÃ©, lâ€™email Kindle et de glisser-dÃ©poser le livre au format epub de votre choix. Cliquez ensuite sur le bouton vert Â« Upload & Send Â» et tadaaaa, au bout de quelques secondes, le livre apparaitra sur votre liseuse Kindle. Elle est pas belle la vie ?]]></description><link>https://ludovicwyffels.dev/kindle/</link><guid isPermaLink="false">https://ludovicwyffels.dev/kindle/</guid><pubDate>Sat, 24 Nov 2018 08:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Si vous avez un &lt;a href=&quot;https://www.amazon.fr/dp/B00QJDO0QC&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Kindle&lt;/a&gt; dâ€™Amazon, vous ne le savez peut-Ãªtre pas, mais vous possÃ©dez une adresse mail â€¦.@kindle.com qui vous permet de vous envoyer des livres et documents directement sur votre liseuse.&lt;/p&gt;
&lt;p&gt;Pour cela, il faut ajouter votre email &lt;a href=&quot;https://www.amazon.com/hz/mycd/myx#/home/settings/payment?tag=amazon0d16-21&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;via cette page&lt;/a&gt;, dans la section &lt;strong&gt;â€œSettingsâ€&lt;/strong&gt; &gt; &lt;strong&gt;â€œPersonal Document Settingsâ€&lt;/strong&gt; &gt; &lt;strong&gt;â€œApproved Personal Document E-mail Listâ€&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Et juste au-dessus, vous devriez voir dans la section &lt;strong&gt;â€œSend-to-Kindle E-Mail Settingsâ€&lt;/strong&gt;, le ou les emails @kindle.com associÃ©s avec chacun de vos appareils Kindle.&lt;/p&gt;
&lt;p&gt;En effet, en envoyant un fichier depuis votre email rÃ©fÃ©rencÃ© vers votre email kindle.com, vous pouvez le transfÃ©rer vers votre liseuse sans avoir besoin de brancher le moindre cÃ¢ble ou dâ€™installer le moindre soft.&lt;/p&gt;
&lt;p&gt;Seulement, Amazon autorise lâ€™envoi uniquement des fichiers aux formats suivants :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Kindle Format (.MOBI, .AZW)&lt;/li&gt;
&lt;li&gt;Microsoft Word (.DOC, .DOCX)&lt;/li&gt;
&lt;li&gt;HTML (.HTML, .HTM)&lt;/li&gt;
&lt;li&gt;RTF (.RTF)&lt;/li&gt;
&lt;li&gt;Text (.TXT)&lt;/li&gt;
&lt;li&gt;JPEG (.JPEG, .JPG)&lt;/li&gt;
&lt;li&gt;GIF (.GIF)&lt;/li&gt;
&lt;li&gt;PNG (.PNG)&lt;/li&gt;
&lt;li&gt;BMP (.BMP)&lt;/li&gt;
&lt;li&gt;PDF (.PDF)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Malheureusement, comme vous pouvez le voir, &lt;strong&gt;pas de format epub&lt;/strong&gt;. ObligÃ© de brancher le Kindle Ã  votre ordinateur et dâ€™utiliser Calibre ?&lt;/p&gt;
&lt;p&gt;Non, non, non. Il suffit de vous rendre sur le site &lt;a href=&quot;https://www.sendepubtokindle.com/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;&lt;strong&gt;Send epub to Kindle&lt;/strong&gt;&lt;/a&gt; , puis de renseigner les infos demandÃ©es, Ã  savoir votre email rÃ©fÃ©rencÃ©, lâ€™email Kindle et de glisser-dÃ©poser le livre au format epub de votre choix.&lt;/p&gt;
&lt;p&gt;Cliquez ensuite sur le bouton vert Â« Upload &amp;#x26; Send Â» et tadaaaa, au bout de quelques secondes, le livre apparaitra sur votre liseuse Kindle.&lt;/p&gt;
&lt;p&gt;Elle est pas belle la vie ?&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Docker Swarm vs Kubernetes]]></title><description><![CDATA[Jâ€™ai installÃ© Docker Swarm et Kubernetes sur deux machines virtuelles. Jâ€™ai trouvÃ© que Docker Swarm est trÃ¨s facile Ã  installer et Ã  configurer, alors que Kubernetes est un peu plus difficile Ã  installer mais reste simple Ã  utiliser. Introduction Cela fait des annÃ©es que je veux essayer des conteneurs: la configuration manuelle de serveurs prend du temps, nâ€™est pas reproductible et risque dâ€™introduire des diffÃ©rences entre mon environnement de test local et la production. Les containers offrent une solution Ã  tous ces problÃ¨mes et facilite beaucoup lâ€™exÃ©cution dâ€™instances supplÃ©mentaires dâ€™une application. Cela peut rendre un service plus Ã©volutif. Pour exÃ©cuter un service Ã©volutif, vous avez besoin dâ€™un moteur Container Orchestration qui rÃ©partit la charge en exÃ©cutant des conteneurs sur plusieurs ordinateurs et en envoyant des demandes Ã  chaque instance de lâ€™application. Docker Swarm et Kubernetes sont deux moteurs dâ€™orchestration populaires. Jâ€™ai dÃ©cidÃ© dâ€™essayer les deux en dÃ©ployant la mÃªme application avec chaque moteur. CrÃ©ation du conteneur Jâ€™ai dÃ©cidÃ© dâ€™utiliser Samba pour lâ€™application de test. Samba est un serveur de fichiers populaire permettant aux ordinateurs Linux de partager des fichiers avec des ordinateurs Windows. Il communique via TCP sur le port 445. Câ€™est la premiÃ¨re fois que je travaille avec Docker, jâ€™ai donc modifiÃ© un conteneur Samba standard afin dâ€™inclure le fichier que je voulais servir. AprÃ¨s le tutoriel de Docker, jâ€™ai lancÃ© manuellement le conteneur Ã  partir de la ligne de commande pour vÃ©rifier son fonctionnement: Et en effet, jâ€™ai pu me connecter au serveur Samba dans le conteneur avec smbclient Maintenant que je sais que le conteneur fonctionne, je peux lâ€™utiliser dans un moteur dâ€™orchestration de conteneur. PrÃ©parer les machines virtuelles Jâ€™ai crÃ©Ã© deux machines virtuelles exÃ©cutant Ubuntu 18.04 dans VirtualBox. Jâ€™ai ajoutÃ© une carte rÃ©seau supplÃ©mentaire Ã  chaque machine virtuelle, configurÃ©e pour le rÃ©seau interne afin quâ€™ils puissent se parler: https://cdn-images-1.medium.com/max/1600/1*chCjRdcU_mV9ioAyQ7oB5A.png Ensuite, jâ€™ai ajoutÃ© un serveur DHCP pour attribuer des adresses IP Ã  chaque machine virtuelle: Les machines virtuelles peuvent dÃ©sormais communiquer entre elles. Cela donne Ã  ma machine virtuelle principale lâ€™adresse IP 10.133.7.100. Docker Swarm Docker Swarm est un moteur dâ€™orchestration de conteneur intÃ©grÃ© Ã  Docker lui-mÃªme. Quand je lâ€™ai trouvÃ©, jâ€™Ã©tais sceptique: pourquoi lâ€™utiliser Ã  la place des Kubernetes, beaucoup plus cÃ©lÃ¨bres? La rÃ©ponse: Docker Swarm est axÃ© sur la simplicitÃ© par rapport Ã  la configuration. Cela ressemblait Ã  lâ€™iOS des moteurs dâ€™orchestration de conteneurs par rapport Ã  lâ€™Android de Kubernetes. Mise en place de Docker Swarm Docker Swarm est facile Ã  installer: il suffit dâ€™installer Docker et docker-compose. Ensuite, aprÃ¨s le tutoriel officiel, jâ€™ai exÃ©cutÃ© la seule commande nÃ©cessaire pour dÃ©marrer le noeud du gestionnaire, en transmettant lâ€™adresse IP de la machine virtuelle actuelle: Câ€™est tout: le moteur Docker tourne maintenant en mode Swarm. Ensuite, jâ€™ai dÃ©ployÃ© un registre privÃ© Docker afin que les autres noeuds puissent extraire des images, en suivant Ã  nouveau les instructions dâ€™installation: DÃ©ploiement de lâ€™application Docker Swarm utilise le format Docker Compose pour spÃ©cifier les conteneurs Ã  exÃ©cuter et les ports quâ€™ils exportent. AprÃ¨s le didacticiel Docker Compose, jâ€™ai crÃ©Ã© ce manifeste Docker Compose: Cela indique Ã  Docker Compose de crÃ©er le fichier Docker Ã  partir du rÃ©pertoire Â«sambaonlyÂ», dâ€™upload/pull les conteneurs construits vers mon registre privÃ© nouvellement configurÃ© et dâ€™exporter le port 445 Ã  partir du conteneur. Pour dÃ©ployer ce manifeste, jâ€™ai suivi le tutoriel de Docker Swarm. Jâ€™ai dâ€™abord utilisÃ© Docker Compose pour crÃ©er et tÃ©lÃ©charger le conteneur dans le registre privÃ©: Une fois le conteneur crÃ©Ã©, lâ€™application peut Ãªtre dÃ©ployÃ©e avec la commande docker stack deploy, en spÃ©cifiant le nom du service: Et maintenant, lâ€™application fonctionne sous Samba Swarm. Jâ€™ai testÃ© quâ€™il fonctionne toujours avec smbclient: Ajout dâ€™un autre noeud Ici encore, la simplicitÃ© de Docker Swarm transparaÃ®t. Pour installer un deuxiÃ¨me noeud, jâ€™ai dâ€™abord installÃ© Docker, puis exÃ©cutÃ© la commande que Docker mâ€™avait donnÃ©e lors de lâ€™installation de swarm: Pour exÃ©cuter mon application sur les deux nÅ“uds, jâ€™ai exÃ©cutÃ© la commande scale de Docker Swarm sur le nÅ“ud du gestionnaire: Sur le nouveau noeud de travail, le nouveau conteneur est apparu: Test de lâ€™Ã©quilibrage de charge (load balancing) Docker Swarm comprend un load balancing intÃ©grÃ© appelÃ© routeur Mesh: les demandes adressÃ©es Ã  lâ€™adresse IP de tout noeud sont automatiquement rÃ©parties sur lâ€™ensemble de Swarm. Pour tester cela, jâ€™ai Ã©tabli 1000 connexions Ã  lâ€™adresse IP du noeud du gestionnaire avec nc: Samba gÃ©nÃ¨re un nouveau processus pour chaque connexion. Par consÃ©quent, si lâ€™Ã©quilibrage de la charge fonctionne, je mâ€™attendrais Ã  environ 500 processus Samba sur chaque noeud de Swarm. Câ€™est bien ce qui se passe. AprÃ¨s avoir exÃ©cutÃ© le script pour Ã©tablir 1000 connexions, jâ€™ai vÃ©rifiÃ© le nombre de processus Samba sur le gestionnaire (10.133.7.100): Et sur le noeud travailleur (10.133.7.50): Ainsi, exactement la moitiÃ© des demandes adressÃ©es au noeud de gestion ont Ã©tÃ© redirigÃ©es de maniÃ¨re magique vers le premier noeud de travail, ce qui montre que le cluster Swarm fonctionne correctement. Jâ€™ai trouvÃ© que Docker Swarm Ã©tait trÃ¨s facile Ã  installer et il fonctionnait bien sous une charge (lÃ©gÃ¨re). Kubernetes Kubernetes est en train de devenir lâ€™industrie standard de lâ€™orchestration de conteneurs. Câ€™est beaucoup plus flexible que Docker Swarm, mais cela rend plus difficile la configuration. Je lâ€™ai trouvÃ© pas si difficile, cependant. Pour cette expÃ©rience, au lieu dâ€™utiliser un environnement de dÃ©veloppement Kubernetes prÃ©-construit tel que minikube, jâ€™ai dÃ©cidÃ© de configurer mon propre cluster, Ã  lâ€™aide de Kubadm, WeaveNet et MetalLB. Mise en place de Kubernetes Kubernetes Ã  la rÃ©putation dâ€™Ãªtre difficile Ã  configurer: vous avez entendu le processus complexe en plusieurs Ã©tapes du didacticiel Kubernetes the Hard Way Les dÃ©veloppeurs de Kubernetes ont simplifiÃ© lâ€™utilisation de kubeadm. Malheureusement, Kubernetes Ã©tant si flexible, le tutoriel sur kubeadm ne couvre pas encore quelques Ã©tapes. Jâ€™ai donc dÃ» dÃ©terminer le rÃ©seau et lâ€™Ã©quilibreur de charge Ã  utiliser moi-mÃªme. Voici ce que jâ€™ai fini par lancer. Jâ€™ai dâ€™abord dÃ» dÃ©sactiver Swap sur chaque noeud: Ensuite, jâ€™ai configurÃ© le noeud maÃ®tre (10.133.7.100) avec la commande suivante: Lâ€™option --pod-network-cidr attribue une adresse rÃ©seau interne Ã  tous les noeuds du rÃ©seau, utilisÃ©e pour les communications internes dans Kubernetes. Les options --apiserver-advertise-address et --apiserver-cert-extra-sans ont Ã©tÃ© ajoutÃ©es Ã  cause dâ€™un problÃ¨me particulier dans lâ€™installation de VirtualBox: la carte virtuelle principale des machines virtuelles (IP 10.0.2.15) ne peut accÃ©der quâ€™Ã  lâ€™Internet. Jâ€™ai dÃ» prÃ©ciser que dâ€™autres noeuds doivent accÃ©der au maÃ®tre Ã  lâ€™aide de lâ€™adresse IP 10.133.7.100. AprÃ¨s avoir exÃ©cutÃ© cette commande, Kubeadm a affichÃ© quelques instructions: Jâ€™ai ratÃ© ces instructions la premiÃ¨re fois et je nâ€™ai donc pas terminÃ© la configuration. Jâ€™ai ensuite passÃ© une semaine entiÃ¨re Ã  me demander pourquoi aucun de mes conteneurs ne fonctionnait! AprÃ¨s avoir enfin lu les instructions, je devais faire trois autres choses: Tout dâ€™abord, je devais exÃ©cuter les commandes donnÃ©es par kubeadm pour configurer un fichier de configuration. Par dÃ©faut, Kubernetes ne planifie pas les conteneurs sur le nÅ“ud maÃ®tre, mais uniquement sur les noeuds de travail. Comme je nâ€™ai quâ€™un seul noeud pour le moment, le tutoriel mâ€™a montrÃ© cette commande pour autoriser lâ€™exÃ©cution de conteneurs sur le seul noeud: Enfin, je devais choisir un rÃ©seau pour mon cluster. Installation du rÃ©seau Contrairement Ã  Docker Swarm, qui doit utiliser sa propre couche de routage maillÃ© pour la mise en rÃ©seau et lâ€™Ã©quilibrage de la charge, Kubernetes offre de multiples choix pour la mise en rÃ©seau et lâ€™Ã©quilibrage de la charge. Le composant de mise en rÃ©seau permet aux conteneurs de communiquer en interne. Jâ€™ai fait des recherches et cet article comparatif suggÃ©rait Flannel ou WeaveNet, car ils sont faciles Ã  configurer. Ainsi, jâ€™ai dÃ©cidÃ© dâ€™essayer WeaveNet. Jâ€™ai suivi les instructions du didacticiel kubeadm pour appliquer la configuration de WeaveNet: Ensuite, pour permettre aux conteneurs de communiquer avec le monde extÃ©rieur, jâ€™ai besoin dâ€™un Ã©quilibreur de charge. Dâ€™aprÃ¨s mes recherches, jâ€™ai eu lâ€™impression que la plupart des implÃ©mentations de lâ€™Ã©quilibreur de charge Kubernetes se concentrent uniquement sur les services HTTP, et non sur le TCP brut. Heureusement, jâ€™ai trouvÃ© MetalLB, un projet rÃ©cent (vieux dâ€™un an) qui comble cette lacune. Pour installer MetalLB, jâ€™ai suivi son didacticiel de mise en route et jâ€™ai tout dâ€™abord dÃ©ployÃ© MetalLB: Ensuite, jâ€™ai attribuÃ© la plage dâ€™adresses IP 10.133.7.200 Ã  10.133.7.230 Ã  MetalLB, en crÃ©ant et en appliquant ce fichier de configuration: DÃ©ploiement de lâ€™application Les fichiers de configuration du service de Kubernetes sont plus dÃ©taillÃ©s que ceux de Docker Swarm, en raison de la flexibilitÃ© de Kubernetes. En plus de spÃ©cifier le conteneur Ã  exÃ©cuter, comme Docker Swarm, je dois spÃ©cifier comment chaque port doit Ãªtre traitÃ©. AprÃ¨s avoir lu le tutoriel de Kubernetes, jâ€™ai proposÃ© cette configuration de Kubernetes, composÃ©e dâ€™un service et dâ€™un dÃ©ploiement. https://gist.github.com/ludovicwyffels/911bb25b611f3519745aeee0d53c6447 Ce service demande Ã  Kubernetes dâ€™exporter le port TCP 445 de nos conteneurs Samba vers lâ€™Ã©quilibreur de charge. https://gist.github.com/ludovicwyffels/41022da159c539e45027c68776f459d8 Cet objet Deployment indique Ã  Kubernetes dâ€™exÃ©cuter mon conteneur et dâ€™exporter un port que le service doit gÃ©rer. Notez le replicas: 1 - câ€™est le nombre dâ€™instances du conteneur que je veux exÃ©cuter. Je peux dÃ©ployer ce service sur Kubernetes en utilisant kubectl apply: Et, aprÃ¨s avoir redÃ©marrÃ© ma machine virtuelle Ã  quelque reprises, le dÃ©ploiement a finalement commencÃ© Ã  fonctionner: Mon service est maintenant disponible sur lâ€™adresse IP externe attribuÃ©e par MetalLB: Ajout dâ€™un autre noeud Ajouter un autre noeud dans un cluster Kubernetes est beaucoup plus simple: il me suffisait dâ€™exÃ©cuter la commande donnÃ©e par kubeadm sur le nouvel ordinateur: Bizarreries de ma configuration Jâ€™ai dÃ» faire deux changements en raison de la configuration de VirtualBox: PremiÃ¨rement, comme ma machine virtuelle dispose de deux cartes rÃ©seau, je dois indiquer manuellement lâ€™adresse IP de ma machine Ã  Kubernetes. Selon ce problÃ¨me, je devais Ã©diter Et changer une ligne en avant de redÃ©marrer Kubernetes: Lâ€™autre solution concerne le registre Docker: comme le nouveau noeud ne peut accÃ©der Ã  mon registre privÃ© sur le noeud maÃ®tre, jâ€™ai dÃ©cidÃ© de procÃ©der Ã  un terrible hack et de partager le registre de mon noeud maÃ®tre vers la nouvelle machine Ã  lâ€™aide de ssh: Cela transmet le port 5000 du noeud principal, dora (qui exÃ©cute le registre Docker) Ã  localhost, oÃ¹ Kubernetes peut le trouver sur cette machine. En production rÃ©elle, il est probable que le registre Docker sera hÃ©bergÃ© sur une machine distincte, afin que tous les noeuds puissent y accÃ©der. â€œScalingâ€ de lâ€™application Lors de la deuxiÃ¨me installation de lâ€™ordinateur, jâ€™ai modifiÃ© mon dÃ©ploiement dâ€™origine pour ajouter une autre instance de lâ€™application: AprÃ¨s avoir redÃ©marrÃ© le maÃ®tre et le worker Ã  quelques reprises, la nouvelle instance de mon application a finalement quittÃ© le statut de CreatingContainer et a commencÃ© Ã  sâ€™exÃ©cuter: Test de lâ€™Ã©quilibrage de charge Jâ€™ai utilisÃ© la mÃªme procÃ©dure pour ouvrir 1000 connexions Ã  Samba sâ€™exÃ©cutant sur Kubernetes. Le rÃ©sultat est intÃ©ressant. Master: Worker: Kubernetes / MetalLB a Ã©galement Ã©quilibrÃ© la charge sur les deux machines, mais la machine principale a eu un peu moins de connexions que le worker. Je me demande pourquoi. Quoi quâ€™il en soit, cela montre que jâ€™ai finalement rÃ©ussi Ã  installer Kubernetes aprÃ¨s plusieurs dÃ©tours. Comparaison et conclusion FonctionnalitÃ©s communes aux deux: les deux peuvent gÃ©rer des conteneurs et gÃ©rer intelligemment les demandes dâ€™Ã©quilibrage de charge sur la mÃªme application TCP sur deux machines virtuelles diffÃ©rentes. Les deux ont une bonne documentation pour la configuration initiale. Les atouts de Docker Swarm: une configuration simple, aucune configuration requise, une intÃ©gration Ã©troite avec Docker. Les points forts de Kubernetes: composants souples, nombreuses ressources disponibles et add-ons. Kubernetes vs Docker Swarm est un compromis entre simplicitÃ© et flexibilitÃ©. Jâ€™ai trouvÃ© plus facile dâ€™installer Docker Swarm, mais je ne peux pas, par exemple, Ã©changer lâ€™Ã©quilibreur de charge contre un autre composant. Il nâ€™ya aucun moyen de le configurer: je devrais tout dÃ©sactiver en mÃªme temps. Sur Kubernetes, il mâ€™a fallu un certain temps pour trouver la bonne configuration, mais en Ã©change, je pouvais changer certaines parties de mon cluster selon les besoins et installer facilement des add-ons, tels quâ€™un tableau de bord sophistiquÃ©. Si vous voulez juste essayer Kubernetes sans toute cette configuration, je vous suggÃ¨re dâ€™utiliser minikube, qui offre une machine virtuelle de cluster Kubernetes prÃ©dÃ©finie, aucune installation requise. Enfin, je suis impressionnÃ© par le fait que les deux moteurs ont pris en charge les services TCP bruts: dâ€™autres fournisseurs de services dâ€™infrastructure en tant que services, tels que Heroku ou Glitch, ne prennent en charge que lâ€™hÃ©bergement de sites Web HTTP. La disponibilitÃ© des services TCP signifie que lâ€™on peut dÃ©ployer ses propres serveurs de base de donnÃ©es, ses serveurs de cache et mÃªme ses serveurs Minecraft en utilisant les mÃªmes outils pour dÃ©ployer des applications Web, faisant de la gestion de lâ€™orchestration de conteneurs une compÃ©tence trÃ¨s utile. En conclusion, si je construisais un cluster, jâ€™utiliserais Docker Swarm. Si je payais quelquâ€™un dâ€™autre pour construire un cluster pour moi, je demanderais Kubernetes. Ce que jâ€™ai appris Comment travailler avec les conteneurs Docker Comment configurer un cluster Docker Swarm Ã  deux noeuds Comment configurer un cluster Kubernetes Ã  deux noeuds et quels choix fonctionneraient pour une application basÃ©e sur TCP Comment dÃ©ployer une application sur Docker Swarm et Kubernetes Comment rÃ©parer quoi que ce soit en redÃ©marrant un ordinateur assez souvent, comme si je utilisais encore Windows 98 Kubernetes et Docker Swarm ne sont pas aussi intimidants quâ€™ils semblent]]></description><link>https://ludovicwyffels.dev/dockerSwarm-vs-kubernetes/</link><guid isPermaLink="false">https://ludovicwyffels.dev/dockerSwarm-vs-kubernetes/</guid><pubDate>Thu, 01 Nov 2018 08:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Jâ€™ai installÃ© Docker Swarm et Kubernetes sur deux machines virtuelles. Jâ€™ai trouvÃ© que Docker Swarm est trÃ¨s facile Ã  installer et Ã  configurer, alors que Kubernetes est un peu plus difficile Ã  installer mais reste simple Ã  utiliser.&lt;/p&gt;
&lt;h2&gt;Introduction&lt;/h2&gt;
&lt;p&gt;Cela fait des annÃ©es que je veux essayer des conteneurs: la configuration manuelle de serveurs prend du temps, nâ€™est pas reproductible et risque dâ€™introduire des diffÃ©rences entre mon environnement de test local et la production. Les containers offrent une solution Ã  tous ces problÃ¨mes et facilite beaucoup lâ€™exÃ©cution dâ€™instances supplÃ©mentaires dâ€™une application. Cela peut rendre un service plus Ã©volutif.&lt;/p&gt;
&lt;p&gt;Pour exÃ©cuter un service Ã©volutif, vous avez besoin dâ€™un moteur Container Orchestration qui rÃ©partit la charge en exÃ©cutant des conteneurs sur plusieurs ordinateurs et en envoyant des demandes Ã  chaque instance de lâ€™application. &lt;a href=&quot;https://docs.docker.com/engine/swarm/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Docker Swarm&lt;/a&gt; et &lt;a href=&quot;https://kubernetes.io/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Kubernetes&lt;/a&gt; sont deux moteurs dâ€™orchestration populaires. Jâ€™ai dÃ©cidÃ© dâ€™essayer les deux en dÃ©ployant la mÃªme application avec chaque moteur.&lt;/p&gt;
&lt;h2&gt;CrÃ©ation du conteneur&lt;/h2&gt;
&lt;p&gt;Jâ€™ai dÃ©cidÃ© dâ€™utiliser Samba pour lâ€™application de test. &lt;a href=&quot;https://fr.wikipedia.org/wiki/Samba_(informatique)&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Samba&lt;/a&gt; est un serveur de fichiers populaire permettant aux ordinateurs Linux de partager des fichiers avec des ordinateurs Windows. Il communique via TCP sur le port 445.&lt;/p&gt;
&lt;p&gt;Câ€™est la premiÃ¨re fois que je travaille avec Docker, jâ€™ai donc modifiÃ© un &lt;a href=&quot;https://github.com/crops/samba&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;conteneur Samba standard&lt;/a&gt; afin dâ€™inclure le fichier que je voulais servir.&lt;/p&gt;
&lt;p&gt;AprÃ¨s le &lt;a href=&quot;https://docs.docker.com/get-started/part2/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;tutoriel de Docker&lt;/a&gt;, jâ€™ai lancÃ© manuellement le conteneur Ã  partir de la ligne de commande pour vÃ©rifier son fonctionnement:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;docker build -t sambaonly-v1 .
docker run --init -p 445:445 -i sambaonly-v1&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Et en effet, jâ€™ai pu me connecter au serveur Samba dans le conteneur avec &lt;a href=&quot;https://www.samba.org/samba/docs/current/man-html/smbclient.1.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;smbclient&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;~$ smbclient \\\\localhost\\workdir -U %
WARNING: The &amp;quot;syslog&amp;quot; option is deprecated
Try &amp;quot;help&amp;quot; to get a list of possible commands.
smb: \&amp;gt; ls
.                          D        0  Fri Oct  5 12:14:43 2018
..                         D        0  Sun Oct  7 22:09:49 2018
hello.txt                  N       13  Fri Oct  5 11:17:34 2018

102685624 blocks of size 1024. 72252576 blocks available
smb: \&amp;gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Maintenant que je sais que le conteneur fonctionne, je peux lâ€™utiliser dans un moteur dâ€™orchestration de conteneur.&lt;/p&gt;
&lt;h2&gt;PrÃ©parer les machines virtuelles&lt;/h2&gt;
&lt;p&gt;Jâ€™ai crÃ©Ã© deux machines virtuelles exÃ©cutant Ubuntu 18.04 dans VirtualBox.&lt;/p&gt;
&lt;p&gt;Jâ€™ai ajoutÃ© une carte rÃ©seau supplÃ©mentaire Ã  chaque machine virtuelle, configurÃ©e pour le rÃ©seau interne afin quâ€™ils puissent se parler:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://cdn-images-1.medium.com/max/1600/1*chCjRdcU_mV9ioAyQ7oB5A.png&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://cdn-images-1.medium.com/max/1600/1*chCjRdcU_mV9ioAyQ7oB5A.png&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Ensuite, jâ€™ai &lt;a href=&quot;https://www.virtualbox.org/manual/ch08.html#vboxmanage-dhcpserver&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;ajoutÃ© un serveur DHCP&lt;/a&gt; pour attribuer des adresses IP Ã  chaque machine virtuelle:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;VBoxManage dhcpserver add --netname intnet --ip 10.133.7.99 --netmask 255.255.255.0 --lowerip 10.133.7.100 --upperip 10.133.7.200 --enable&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Les machines virtuelles peuvent dÃ©sormais communiquer entre elles. Cela donne Ã  ma machine virtuelle principale lâ€™adresse IP 10.133.7.100.&lt;/p&gt;
&lt;h2&gt;Docker Swarm&lt;/h2&gt;
&lt;p&gt;Docker Swarm est un moteur dâ€™orchestration de conteneur intÃ©grÃ© Ã  Docker lui-mÃªme. Quand je lâ€™ai trouvÃ©, jâ€™Ã©tais sceptique: pourquoi lâ€™utiliser Ã  la place des Kubernetes, beaucoup plus cÃ©lÃ¨bres? La rÃ©ponse: Docker Swarm est axÃ© sur la simplicitÃ© par rapport Ã  la configuration. Cela ressemblait Ã  lâ€™iOS des moteurs dâ€™orchestration de conteneurs par rapport Ã  lâ€™Android de Kubernetes.&lt;/p&gt;
&lt;h3&gt;Mise en place de Docker Swarm&lt;/h3&gt;
&lt;p&gt;Docker Swarm est facile Ã  installer: il suffit dâ€™installer Docker et docker-compose. Ensuite, aprÃ¨s le &lt;a href=&quot;https://docs.docker.com/engine/swarm/swarm-tutorial/create-swarm/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;tutoriel officiel&lt;/a&gt;, jâ€™ai exÃ©cutÃ© la seule commande nÃ©cessaire pour dÃ©marrer le noeud du gestionnaire, en transmettant lâ€™adresse IP de la machine virtuelle actuelle:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;~$ docker swarm init --advertise-addr 10.133.7.100 
Swarm initialized: current node (abcdefghijklmnopqrstuvwxy) is now a manager.

To add a worker to this swarm, run the following command:

docker swarm join --token SWMTKN-1-abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwx-abcdefghijklmnopqrstuvwxy 10.133.7.100:2377

To add a manager to this swarm, run &amp;#39;docker swarm join-token manager&amp;#39; and follow the instructions.&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Câ€™est tout: le moteur Docker tourne maintenant en mode Swarm.&lt;/p&gt;
&lt;p&gt;Ensuite, jâ€™ai dÃ©ployÃ© un registre privÃ© Docker afin que les autres noeuds puissent extraire des images, en suivant Ã  nouveau les &lt;a href=&quot;https://docs.docker.com/engine/swarm/stack-deploy/#set-up-a-docker-registry&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;instructions dâ€™installation&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;docker service create --name registry --publish published=5000,target=5000 registry:2&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;DÃ©ploiement de lâ€™application&lt;/h2&gt;
&lt;p&gt;Docker Swarm utilise le format &lt;a href=&quot;https://docs.docker.com/compose/overview/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Docker Compose&lt;/a&gt; pour spÃ©cifier les conteneurs Ã  exÃ©cuter et les ports quâ€™ils exportent.&lt;/p&gt;
&lt;p&gt;AprÃ¨s le &lt;a href=&quot;https://docs.docker.com/compose/gettingstarted/#step-3-define-services-in-a-compose-file&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;didacticiel Docker Compose&lt;/a&gt;, jâ€™ai crÃ©Ã© ce manifeste Docker Compose:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;version: &amp;#39;3.7&amp;#39;
services:
  samba:
    image: 127.0.0.1:5000/samba
    build: sambaonly
    init: true
    stdin_open: true
    ports:
      - &amp;quot;445:445&amp;quot;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Cela indique Ã  Docker Compose de crÃ©er le fichier Docker Ã  partir du rÃ©pertoire Â«sambaonlyÂ», dâ€™upload/pull les conteneurs construits vers mon registre privÃ© nouvellement configurÃ© et dâ€™exporter le port 445 Ã  partir du conteneur.&lt;/p&gt;
&lt;p&gt;Pour dÃ©ployer ce manifeste, jâ€™ai suivi le tutoriel de Docker Swarm. Jâ€™ai dâ€™abord utilisÃ© Docker Compose pour crÃ©er et tÃ©lÃ©charger le conteneur dans le registre privÃ©:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;docker-compose build
docker-compose push&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Une fois le conteneur crÃ©Ã©, lâ€™application peut Ãªtre dÃ©ployÃ©e avec la commande &lt;code&gt;docker stack deploy&lt;/code&gt;, en spÃ©cifiant le nom du service:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ docker stack deploy --compose-file docker-compose.yml samba-swarm
Ignoring unsupported options: build
Creating network samba-swarm_default
Creating service samba-swarm_samba
~/Documents/docker$ docker stack services samba-swarm
ID           NAME                  MODE       REPLICAS IMAGE PORTS
yg8x8yfytq5d samba-swarm_samba     replicated 1/1&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Et maintenant, lâ€™application fonctionne sous Samba Swarm. Jâ€™ai testÃ© quâ€™il fonctionne toujours avec &lt;code&gt;smbclient&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;~$ smbclient \\\\localhost\\workdir -U %
WARNING: The &amp;quot;syslog&amp;quot; option is deprecated
Try &amp;quot;help&amp;quot; to get a list of possible commands.
smb: \&amp;gt; ls
.                          D        0  Fri Oct  5 12:14:43 2018
..                         D        0  Sun Oct  7 22:09:49 2018
hello.txt                  N       13  Fri Oct  5 11:17:34 2018

102685624 blocks of size 1024. 72252576 blocks available
smb: \&amp;gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Ajout dâ€™un autre noeud&lt;/h2&gt;
&lt;p&gt;Ici encore, la simplicitÃ© de Docker Swarm transparaÃ®t. Pour installer un deuxiÃ¨me noeud, jâ€™ai dâ€™abord installÃ© Docker, puis exÃ©cutÃ© la commande que Docker mâ€™avait donnÃ©e lors de lâ€™installation de swarm:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;ralph:~# docker swarm join --token SWMTKN-1-abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwx-abcdefghijklmnopqrstuvwxy 10.133.7.100:2377

This node joined a swarm as a worker.&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Pour exÃ©cuter mon application sur les deux nÅ“uds, jâ€™ai exÃ©cutÃ© la commande scale de Docker Swarm sur le nÅ“ud du gestionnaire:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;~/Documents/docker$ docker service scale samba-swarm_samba=2
samba-swarm_samba scaled to 2 overall progress: 2 out of 2 tasks
1/2: running [==================================================&amp;gt;]
2/2: running [==================================================&amp;gt;] verify: Service converged&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Sur le nouveau noeud de travail, le nouveau conteneur est apparu:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;ralph:~# docker container ls
CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES
7539549283bd 127.0.0.1:5000/samba:latest &amp;quot;/usr/sbin/smbd -FS â€¦&amp;quot; 20 seconds ago Up 18 seconds 445/tcp samba-swarm_samba.1.abcdefghijklmnopqrstuvwxy&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Test de lâ€™Ã©quilibrage de charge (load balancing)&lt;/h2&gt;
&lt;p&gt;Docker Swarm comprend un load balancing intÃ©grÃ© appelÃ© routeur Mesh: les demandes adressÃ©es Ã  lâ€™adresse IP de tout noeud sont automatiquement rÃ©parties sur lâ€™ensemble de Swarm.&lt;/p&gt;
&lt;p&gt;Pour tester cela, jâ€™ai Ã©tabli 1000 connexions Ã  lâ€™adresse IP du noeud du gestionnaire avec &lt;code&gt;nc&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;print(&amp;quot;#!/bin/bash&amp;quot;)
for i in range(1000):
    print(&amp;quot;nc -v 10.133.7.100 445 &amp;amp;&amp;quot;)
print(&amp;quot;wait&amp;quot;)&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Samba gÃ©nÃ¨re un nouveau processus pour chaque connexion. Par consÃ©quent, si lâ€™Ã©quilibrage de la charge fonctionne, je mâ€™attendrais Ã  environ 500 processus Samba sur chaque noeud de Swarm. Câ€™est bien ce qui se passe.&lt;/p&gt;
&lt;p&gt;AprÃ¨s avoir exÃ©cutÃ© le script pour Ã©tablir 1000 connexions, jâ€™ai vÃ©rifiÃ© le nombre de processus Samba sur le gestionnaire (10.133.7.100):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;~$ ps -ef|grep smbd|wc
506 5567 42504&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Et sur le noeud travailleur (10.133.7.50):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;ralph:~# ps -ef|grep smbd|wc
506 3545 28862&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ainsi, exactement la moitiÃ© des demandes adressÃ©es au noeud de gestion ont Ã©tÃ© redirigÃ©es de maniÃ¨re magique vers le premier noeud de travail, ce qui montre que le cluster Swarm fonctionne correctement.&lt;/p&gt;
&lt;p&gt;Jâ€™ai trouvÃ© que Docker Swarm Ã©tait trÃ¨s facile Ã  installer et il fonctionnait bien sous une charge (lÃ©gÃ¨re).&lt;/p&gt;
&lt;h1&gt;Kubernetes&lt;/h1&gt;
&lt;p&gt;Kubernetes est en train de devenir lâ€™industrie standard de lâ€™orchestration de conteneurs. Câ€™est beaucoup plus flexible que Docker Swarm, mais cela rend plus difficile la configuration. Je lâ€™ai trouvÃ© pas si difficile, cependant.&lt;/p&gt;
&lt;p&gt;Pour cette expÃ©rience, au lieu dâ€™utiliser un environnement de dÃ©veloppement Kubernetes prÃ©-construit tel que &lt;a href=&quot;https://kubernetes.io/docs/setup/minikube/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;&lt;code&gt;minikube&lt;/code&gt;&lt;/a&gt;, jâ€™ai dÃ©cidÃ© de configurer mon propre cluster, Ã  lâ€™aide de Kubadm, WeaveNet et MetalLB.&lt;/p&gt;
&lt;h2&gt;Mise en place de Kubernetes&lt;/h2&gt;
&lt;p&gt;Kubernetes Ã  la rÃ©putation dâ€™Ãªtre difficile Ã  configurer: vous avez entendu le processus complexe en plusieurs Ã©tapes du didacticiel &lt;a href=&quot;https://github.com/kelseyhightower/kubernetes-the-hard-way&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Kubernetes the Hard Way&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Les dÃ©veloppeurs de Kubernetes ont simplifiÃ© lâ€™utilisation de &lt;code&gt;kubeadm&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Malheureusement, Kubernetes Ã©tant si flexible, le &lt;a href=&quot;https://kubernetes.io/docs/setup/independent/create-cluster-kubeadm/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;tutoriel sur &lt;code&gt;kubeadm&lt;/code&gt;&lt;/a&gt; ne couvre pas encore quelques Ã©tapes. Jâ€™ai donc dÃ» dÃ©terminer le rÃ©seau et lâ€™Ã©quilibreur de charge Ã  utiliser moi-mÃªme.&lt;/p&gt;
&lt;p&gt;Voici ce que jâ€™ai fini par lancer.&lt;/p&gt;
&lt;p&gt;Jâ€™ai dâ€™abord dÃ» dÃ©sactiver Swap sur chaque noeud:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;root@dora:~# swapoff -a
root@dora:~# systemctl restart kubelet.service&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ensuite, jâ€™ai configurÃ© le noeud maÃ®tre (10.133.7.100) avec la commande suivante:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;sudo kubeadm init --pod-network-cidr=10.134.0.0/16 --apiserver-advertise-address=10.133.7.100 --apiserver-cert-extra-sans=10.0.2.15&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lâ€™option &lt;code&gt;--pod-network-cidr&lt;/code&gt; attribue une adresse rÃ©seau interne Ã  tous les noeuds du rÃ©seau, utilisÃ©e pour les communications internes dans Kubernetes.&lt;/p&gt;
&lt;p&gt;Les options &lt;code&gt;--apiserver-advertise-address&lt;/code&gt; et &lt;code&gt;--apiserver-cert-extra-sans&lt;/code&gt; ont Ã©tÃ© ajoutÃ©es Ã  cause dâ€™un problÃ¨me particulier dans lâ€™installation de VirtualBox: la carte virtuelle principale des machines virtuelles (IP 10.0.2.15) ne peut accÃ©der quâ€™Ã  lâ€™Internet. Jâ€™ai dÃ» prÃ©ciser que dâ€™autres noeuds doivent accÃ©der au maÃ®tre Ã  lâ€™aide de lâ€™adresse IP 10.133.7.100.&lt;/p&gt;
&lt;p&gt;AprÃ¨s avoir exÃ©cutÃ© cette commande, Kubeadm a affichÃ© quelques instructions:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Your Kubernetes master has initialized successfully!
To start using your cluster, you need to run the following as a regular user:

mkdir -p $HOME/.kube
sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config
sudo chown $(id -u):$(id -g) $HOME/.kube/config

You should now deploy a pod network to the cluster.
Run &amp;quot;kubectl apply -f [podnetwork].yaml&amp;quot; with one of the options listed at:
https://kubernetes.io/docs/concepts/cluster-administration/addons/
You can now join any number of machines by running the following on each node as root:

kubeadm join 10.133.7.100:6443 --token abcdefghijklmnopqrstuvw --discovery-token-ca-cert-hash sha256:abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcdefghijkl&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Jâ€™ai ratÃ© ces instructions la premiÃ¨re fois et je nâ€™ai donc pas terminÃ© la configuration. Jâ€™ai ensuite passÃ© une semaine entiÃ¨re Ã  me demander pourquoi aucun de mes conteneurs ne fonctionnait!&lt;/p&gt;
&lt;p&gt;AprÃ¨s avoir enfin lu les instructions, je devais faire trois autres choses:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Tout dâ€™abord, je devais exÃ©cuter les commandes donnÃ©es par &lt;code&gt;kubeadm&lt;/code&gt; pour configurer un fichier de configuration.&lt;/li&gt;
&lt;li&gt;Par dÃ©faut, Kubernetes ne planifie pas les conteneurs sur le nÅ“ud maÃ®tre, mais uniquement sur les noeuds de travail. Comme je nâ€™ai quâ€™un seul noeud pour le moment, le &lt;a href=&quot;https://kubernetes.io/docs/setup/independent/create-cluster-kubeadm/#master-isolation&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;tutoriel&lt;/a&gt; mâ€™a montrÃ© cette commande pour autoriser lâ€™exÃ©cution de conteneurs sur le seul noeud:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;kubectl taint node --all node-role.kubernetes.io/master-&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Enfin, je devais choisir un rÃ©seau pour mon cluster.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Installation du rÃ©seau&lt;/h2&gt;
&lt;p&gt;Contrairement Ã  Docker Swarm, qui doit utiliser sa propre couche de routage maillÃ© pour la mise en rÃ©seau et lâ€™Ã©quilibrage de la charge, Kubernetes offre de multiples choix pour la mise en rÃ©seau et lâ€™Ã©quilibrage de la charge.&lt;/p&gt;
&lt;p&gt;Le composant de mise en rÃ©seau permet aux conteneurs de communiquer en interne. Jâ€™ai fait des recherches et &lt;a href=&quot;https://www.objectif-libre.com/en/blog/2018/07/05/k8s-network-solutions-comparison/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;cet article comparatif&lt;/a&gt; suggÃ©rait Flannel ou WeaveNet, car ils sont faciles Ã  configurer. Ainsi, jâ€™ai dÃ©cidÃ© dâ€™essayer WeaveNet. Jâ€™ai suivi les instructions du &lt;a href=&quot;https://kubernetes.io/docs/setup/independent/create-cluster-kubeadm/#pod-network&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;didacticiel kubeadm&lt;/a&gt; pour appliquer la configuration de WeaveNet:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;kubectl apply -f &amp;quot;https://cloud.weave.works/k8s/net?k8s-version=$(kubectl version | base64 | tr -d &amp;#39;\n&amp;#39;)&amp;quot;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ensuite, pour permettre aux conteneurs de communiquer avec le monde extÃ©rieur, jâ€™ai besoin dâ€™un Ã©quilibreur de charge. Dâ€™aprÃ¨s mes recherches, jâ€™ai eu lâ€™impression que la plupart des implÃ©mentations de lâ€™Ã©quilibreur de charge Kubernetes se concentrent uniquement sur les services HTTP, et non sur le TCP brut. Heureusement, jâ€™ai trouvÃ© MetalLB, un projet rÃ©cent (vieux dâ€™un an) qui comble cette lacune.&lt;/p&gt;
&lt;p&gt;Pour installer MetalLB, jâ€™ai suivi son &lt;a href=&quot;https://metallb.universe.tf/tutorial/layer2/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;didacticiel de mise en route&lt;/a&gt; et jâ€™ai tout dâ€™abord dÃ©ployÃ© MetalLB:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;kubectl apply -f https://raw.githubusercontent.com/google/metallb/v0.7.3/manifests/metallb.yaml&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ensuite, jâ€™ai attribuÃ© la plage dâ€™adresses IP 10.133.7.200 Ã  10.133.7.230 Ã  MetalLB, en crÃ©ant et en appliquant &lt;a href=&quot;https://gist.github.com/ludovicwyffels/917a399b423868f9415e6c384138e550&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;ce fichier de configuration&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;kubectl apply -f metallb-config.yaml&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;DÃ©ploiement de lâ€™application&lt;/h2&gt;
&lt;p&gt;Les fichiers de configuration du service de Kubernetes sont plus dÃ©taillÃ©s que ceux de Docker Swarm, en raison de la flexibilitÃ© de Kubernetes. En plus de spÃ©cifier le conteneur Ã  exÃ©cuter, comme Docker Swarm, je dois spÃ©cifier comment chaque port doit Ãªtre traitÃ©.&lt;/p&gt;
&lt;p&gt;AprÃ¨s avoir lu &lt;a href=&quot;https://kubernetes.io/docs/tasks/run-application/run-stateless-application-deployment/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;le tutoriel de Kubernetes&lt;/a&gt;, jâ€™ai proposÃ© cette configuration de Kubernetes, composÃ©e dâ€™un service et dâ€™un dÃ©ploiement.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://gist.github.com/ludovicwyffels/911bb25b611f3519745aeee0d53c6447&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://gist.github.com/ludovicwyffels/911bb25b611f3519745aeee0d53c6447&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Ce &lt;a href=&quot;https://kubernetes.io/docs/concepts/services-networking/#defining-a-service&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;service&lt;/a&gt; demande Ã  Kubernetes dâ€™exporter le port TCP 445 de nos conteneurs Samba vers lâ€™Ã©quilibreur de charge.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://gist.github.com/ludovicwyffels/41022da159c539e45027c68776f459d8&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://gist.github.com/ludovicwyffels/41022da159c539e45027c68776f459d8&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Cet objet &lt;code&gt;Deployment&lt;/code&gt; indique Ã  Kubernetes dâ€™exÃ©cuter mon conteneur et dâ€™exporter un port que le service doit gÃ©rer.&lt;/p&gt;
&lt;p&gt;Notez le &lt;code&gt;replicas: 1&lt;/code&gt; - câ€™est le nombre dâ€™instances du conteneur que je veux exÃ©cuter.&lt;/p&gt;
&lt;p&gt;Je peux dÃ©ployer ce service sur Kubernetes en utilisant &lt;code&gt;kubectl apply&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;ludo@dora:~/Documents/docker$ kubectl apply -f kubernetes-samba.yaml
service/samba configured
deployment.apps/samba configured&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Et, aprÃ¨s avoir redÃ©marrÃ© ma machine virtuelle Ã  quelque reprises, le dÃ©ploiement a finalement commencÃ© Ã  fonctionner:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;ludo@dora:~/Documents/docker$ kubectl get pods
NAME                   READY STATUS  RESTARTS AGE
samba-57945b8895-dfzgl 1/1   Running 0        52m
ludo@dora:~/Documents/docker$ kubectl get service samba
NAME  TYPE         CLUSTER-IP     EXTERNAL-IP  PORT(S)       AGE
samba LoadBalancer 10.108.157.165 10.133.7.200 445:30246/TCP 91m&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Mon service est maintenant disponible sur lâ€™adresse IP externe attribuÃ©e par MetalLB:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;ludo@dora:~$ smbclient \\\\10.133.7.200\\workdir -U %
WARNING: The &amp;quot;syslog&amp;quot; option is deprecated
Try &amp;quot;help&amp;quot; to get a list of possible commands.
smb: \&amp;gt; ls
.                          D        0  Fri Oct  5 12:14:43 2018
..                         D        0  Sun Oct  7 22:09:49 2018
hello.txt                  N       13  Fri Oct  5 11:17:34 2018

102685624 blocks of size 1024. 72252576 blocks available
smb: \&amp;gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Ajout dâ€™un autre noeud&lt;/h2&gt;
&lt;p&gt;Ajouter un autre noeud dans un cluster Kubernetes est beaucoup plus simple: il me suffisait dâ€™exÃ©cuter la commande donnÃ©e par &lt;code&gt;kubeadm&lt;/code&gt; sur le nouvel ordinateur:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;ludo@davy:~$ sudo kubeadm join 10.133.7.100:6443 --token abcdefghijklmnopqrstuvw --discovery-token-ca-cert-hash sha256:abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcdefghijkl

(snip...)

This node has joined the cluster:* Certificate signing request was sent to apiserver and a response was received.
* The Kubelet was informed of the new secure connection details.

Run &amp;#39;kubectl get nodes&amp;#39; on the master to see this node join the cluster.&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Bizarreries de ma configuration&lt;/h2&gt;
&lt;p&gt;Jâ€™ai dÃ» faire deux changements en raison de la configuration de VirtualBox:&lt;/p&gt;
&lt;p&gt;PremiÃ¨rement, comme ma machine virtuelle dispose de deux cartes rÃ©seau, je dois indiquer manuellement lâ€™adresse IP de ma machine Ã  Kubernetes. Selon &lt;a href=&quot;https://github.com/kubernetes/kubeadm/issues/203&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;ce problÃ¨me&lt;/a&gt;, je devais Ã©diter&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;/etc/systemd/system/kubelet.service.d/10-kubeadm.conf&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Et changer une ligne en&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Environment=&amp;quot;KUBELET_CONFIG_ARGS=--config=/var/lib/kubelet/config.yaml --node-ip=10.133.7.101&amp;quot;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;avant de redÃ©marrer Kubernetes:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;root@davy:~# systemctl daemon-reload
root@davy:~# systemctl restart kubelet.service&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lâ€™autre solution concerne le registre Docker: comme le nouveau noeud ne peut accÃ©der Ã  mon registre privÃ© sur le noeud maÃ®tre, jâ€™ai dÃ©cidÃ© de procÃ©der Ã  un terrible hack et de partager le registre de mon noeud maÃ®tre vers la nouvelle machine Ã  lâ€™aide de &lt;code&gt;ssh&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;ludo@davy:~$ ssh dora.local -L 5000:localhost:5000&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Cela transmet le port 5000 du noeud principal, dora (qui exÃ©cute le registre Docker) Ã  localhost, oÃ¹ Kubernetes peut le trouver sur cette machine.&lt;/p&gt;
&lt;p&gt;En production rÃ©elle, il est probable que le registre Docker sera hÃ©bergÃ© sur une machine distincte, afin que tous les noeuds puissent y accÃ©der.&lt;/p&gt;
&lt;h2&gt;â€œScalingâ€ de lâ€™application&lt;/h2&gt;
&lt;p&gt;Lors de la deuxiÃ¨me installation de lâ€™ordinateur, jâ€™ai modifiÃ© mon dÃ©ploiement dâ€™origine pour ajouter une autre instance de lâ€™application:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;replicas: 2&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;AprÃ¨s avoir redÃ©marrÃ© le maÃ®tre et le worker Ã  quelques reprises, la nouvelle instance de mon application a finalement quittÃ© le statut de &lt;code&gt;CreatingContainer&lt;/code&gt; et a commencÃ© Ã  sâ€™exÃ©cuter:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;ludo@dora:~/Documents/docker$ kubectl get pods
NAME                   READY STATUS  RESTARTS AGE
samba-57945b8895-dfzgl 1/1   Running 0        62m
samba-57945b8895-qhrtl 1/1   Running 0        12m&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Test de lâ€™Ã©quilibrage de charge&lt;/h2&gt;
&lt;p&gt;Jâ€™ai utilisÃ© la mÃªme procÃ©dure pour ouvrir 1000 connexions Ã  Samba sâ€™exÃ©cutant sur Kubernetes. Le rÃ©sultat est intÃ©ressant.&lt;/p&gt;
&lt;p&gt;Master:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;ludo@dora$ ps -ef|grep smbd|wc
492 5411 41315&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Worker:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;ludo@davy:~$ ps -ef|grep smbd|wc
518 5697 43499&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Kubernetes / MetalLB a Ã©galement Ã©quilibrÃ© la charge sur les deux machines, mais la machine principale a eu un peu moins de connexions que le worker. Je me demande pourquoi.&lt;/p&gt;
&lt;p&gt;Quoi quâ€™il en soit, cela montre que jâ€™ai finalement rÃ©ussi Ã  installer Kubernetes aprÃ¨s plusieurs dÃ©tours.&lt;/p&gt;
&lt;h1&gt;Comparaison et conclusion&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;FonctionnalitÃ©s communes aux deux&lt;/strong&gt;: les deux peuvent gÃ©rer des conteneurs et gÃ©rer intelligemment les demandes dâ€™Ã©quilibrage de charge sur la mÃªme application TCP sur deux machines virtuelles diffÃ©rentes. Les deux ont une bonne documentation pour la configuration initiale.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Les atouts de Docker Swarm&lt;/strong&gt;: une configuration simple, aucune configuration requise, une intÃ©gration Ã©troite avec Docker.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Les points forts de Kubernetes&lt;/strong&gt;: composants souples, nombreuses ressources disponibles et add-ons.&lt;/p&gt;
&lt;p&gt;Kubernetes vs Docker Swarm est un compromis entre simplicitÃ© et flexibilitÃ©.&lt;/p&gt;
&lt;p&gt;Jâ€™ai trouvÃ© plus facile dâ€™installer Docker Swarm, mais je ne peux pas, par exemple, Ã©changer lâ€™Ã©quilibreur de charge contre un autre composant. Il nâ€™ya aucun moyen de le configurer: je devrais &lt;a href=&quot;https://docs.docker.com/engine/swarm/ingress/#using-the-routing-mesh&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;tout dÃ©sactiver en mÃªme temps&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Sur Kubernetes, il mâ€™a fallu un certain temps pour trouver la bonne configuration, mais en Ã©change, je pouvais changer certaines parties de mon cluster selon les besoins et installer facilement des add-ons, tels quâ€™un &lt;a href=&quot;https://kubernetes.io/docs/tasks/access-application-cluster/web-ui-dashboard/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;tableau de bord sophistiquÃ©&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Si vous voulez juste essayer Kubernetes sans toute cette configuration, je vous suggÃ¨re dâ€™utiliser &lt;a href=&quot;https://kubernetes.io/docs/setup/minikube/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;&lt;code&gt;minikube&lt;/code&gt;&lt;/a&gt;, qui offre une machine virtuelle de cluster Kubernetes prÃ©dÃ©finie, aucune installation requise.&lt;/p&gt;
&lt;p&gt;Enfin, je suis impressionnÃ© par le fait que les deux moteurs ont pris en charge les services TCP bruts: dâ€™autres fournisseurs de services dâ€™infrastructure en tant que services, tels que Heroku ou Glitch, ne prennent en charge que lâ€™hÃ©bergement de sites Web HTTP. La disponibilitÃ© des services TCP signifie que lâ€™on peut dÃ©ployer ses propres serveurs de base de donnÃ©es, ses serveurs de cache et mÃªme ses serveurs Minecraft en utilisant les mÃªmes outils pour dÃ©ployer des applications Web, faisant de la gestion de lâ€™orchestration de conteneurs une compÃ©tence trÃ¨s utile.&lt;/p&gt;
&lt;p&gt;En conclusion, si je construisais un cluster, jâ€™utiliserais Docker Swarm. Si je payais quelquâ€™un dâ€™autre pour construire un cluster pour moi, je demanderais Kubernetes.&lt;/p&gt;
&lt;h1&gt;Ce que jâ€™ai appris&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Comment travailler avec les conteneurs Docker&lt;/li&gt;
&lt;li&gt;Comment configurer un cluster Docker Swarm Ã  deux noeuds&lt;/li&gt;
&lt;li&gt;Comment configurer un cluster Kubernetes Ã  deux noeuds et quels choix fonctionneraient pour une application basÃ©e sur TCP&lt;/li&gt;
&lt;li&gt;Comment dÃ©ployer une application sur Docker Swarm et Kubernetes&lt;/li&gt;
&lt;li&gt;Comment rÃ©parer quoi que ce soit en redÃ©marrant un ordinateur assez souvent, comme si je utilisais encore Windows 98&lt;/li&gt;
&lt;li&gt;Kubernetes et Docker Swarm ne sont pas aussi intimidants quâ€™ils semblent&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Comment paginer des enregistrements dans MySQL avec Sequelize et Nodejs]]></title><description><![CDATA[Souvent, je me trouve aux prises avec Sequelize pour trouver une rÃ©ponse directe Ã  ma requÃªte. RÃ©cemment, je travaillais sur une application full stack dans laquelle il Ã©tait impÃ©ratif de paginer les rÃ©sultats depuis le backend (API REST) vers le client. Je me suis battu pour deux raisons. Tout dâ€™abord, venant du context NoSQL, il est difficile de saisir les bases de donnÃ©es SQL. La deuxiÃ¨me raison Ã©tant que la documentation de Sequelize ne fournit pas une solution claire et directe Ã  cette abstraction trÃ¨s basique. Beaucoup de gens supposent des choses dans le monde des bases de donnÃ©es SQL. Ainsi, dans cet article, nous allons parler dâ€™un module de base de pagination utilisant Sequelize, MySQL et Node.js. Jâ€™utilise des tables et des enregistrements dans votre base de donnÃ©es MySQL. Pour configurer une nouvelle application et Ã©tablir une connexion Ã  une base de donnÃ©es, lisez mon post sur Premiers pas avec Sequelize. DÃ©finir un modÃ¨le Je saute directement sur la dÃ©finition du modÃ¨le utilisateur: Jâ€™utilise une table contenant une centaine dâ€™enregistrements dâ€™utilisateur que nous voulons afficher sur une application Web, par exemple dans le panneau dâ€™administration, et nous voulons afficher seulement 50 enregistrements Ã  la fois. Dans le fichier api/user.js, je dÃ©finis un endpoint /:page qui extraira le nombre de rÃ©sultats nÃ©cessaires de la base de donnÃ©es. findAndCountAll est le modÃ¨le de recherche dans plusieurs enregistrements de la base de donnÃ©es. Il retourne Ã  la fois les donnÃ©es requises et le nombre dâ€™Ã©lÃ©ments de cette table. La requÃªte ci-dessus obtiendra 50 enregistrements dâ€™utilisateur Ã  la fois jusquâ€™Ã  ce que la page suivante soit appelÃ©e pour extraire les 50 prochains enregistrements. limit et offset sont nÃ©cessaires dans les requÃªtes liÃ©es Ã  la pagination dans lesquelles limit extrait le nombre de lignes en fonction de la requÃªte, tandis que offset est utilisÃ© pour ignorer le nombre]]></description><link>https://ludovicwyffels.dev/node-sequelize-pagination/</link><guid isPermaLink="false">https://ludovicwyffels.dev/node-sequelize-pagination/</guid><pubDate>Sat, 13 Oct 2018 08:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Souvent, je me trouve aux prises avec Sequelize pour trouver une rÃ©ponse directe Ã  ma requÃªte. RÃ©cemment, je travaillais sur une application full stack dans laquelle il Ã©tait impÃ©ratif de paginer les rÃ©sultats depuis le backend (API REST) vers le client. Je me suis battu pour deux raisons. Tout dâ€™abord, venant du context NoSQL, il est difficile de saisir les bases de donnÃ©es SQL. La deuxiÃ¨me raison Ã©tant que la documentation de Sequelize ne fournit pas une solution claire et directe Ã  cette abstraction trÃ¨s basique. Beaucoup de gens supposent des choses dans le monde des bases de donnÃ©es SQL.&lt;/p&gt;
&lt;p&gt;Ainsi, dans cet article, nous allons parler dâ€™un module de base de pagination utilisant Sequelize, MySQL et Node.js. Jâ€™utilise des tables et des enregistrements dans votre base de donnÃ©es MySQL. Pour configurer une nouvelle application et Ã©tablir une connexion Ã  une base de donnÃ©es, lisez mon post sur &lt;code&gt;Premiers pas avec Sequelize&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;DÃ©finir un modÃ¨le&lt;/h2&gt;
&lt;p&gt;Je saute directement sur la dÃ©finition du modÃ¨le utilisateur:&lt;/p&gt;
&lt;p&gt;Jâ€™utilise une table contenant une centaine dâ€™enregistrements dâ€™utilisateur que nous voulons afficher sur une application Web, par exemple dans le panneau dâ€™administration, et nous voulons afficher seulement 50 enregistrements Ã  la fois.&lt;/p&gt;
&lt;p&gt;Dans le fichier &lt;code&gt;api/user.js&lt;/code&gt;, je dÃ©finis un endpoint &lt;code&gt;/:page&lt;/code&gt; qui extraira le nombre de rÃ©sultats nÃ©cessaires de la base de donnÃ©es.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;findAndCountAll&lt;/code&gt; est le modÃ¨le de recherche dans plusieurs enregistrements de la base de donnÃ©es. Il retourne Ã  la fois les donnÃ©es requises et le nombre dâ€™Ã©lÃ©ments de cette table. La requÃªte ci-dessus obtiendra 50 enregistrements dâ€™utilisateur Ã  la fois jusquâ€™Ã  ce que la page suivante soit appelÃ©e pour extraire les 50 prochains enregistrements. &lt;code&gt;limit&lt;/code&gt; et &lt;code&gt;offset&lt;/code&gt; sont nÃ©cessaires dans les requÃªtes liÃ©es Ã  la pagination dans lesquelles &lt;code&gt;limit&lt;/code&gt; extrait le nombre de lignes en fonction de la requÃªte, tandis que &lt;code&gt;offset&lt;/code&gt; est utilisÃ© pour ignorer le nombre&lt;/p&gt;</content:encoded></item><item><title><![CDATA[DÃ©marrer avec Sequelize]]></title><description><![CDATA[Introduction Ã  lâ€™ORM ORM ou Object Relation Mapping est un processus de mappage entre des objets et des systÃ¨mes de base de donnÃ©es relationnels. Un ORM agit comme une interface entre deux systÃ¨mes. Les ORM offrent aux dÃ©veloppeurs des avantages de base, tels que la rÃ©duction du temps et des efforts et la concentration sur la logique mÃ©tier. Le code est robuste au lieu de redondant. ORM aide Ã  gÃ©rer les requÃªtes sur plusieurs tables de maniÃ¨re efficace. Enfin, un ORM (comme sequelize) est capable de se connecter Ã  diffÃ©rentes bases de donnÃ©es (ce qui est pratique lors du passage dâ€™une base de donnÃ©es Ã  une autre). DÃ©marrer avec Sequelize DÃ©buter avec Sequelize Sequelize est un ORM basÃ© sur des promesses pour Node.js. Sequelize est facile Ã  apprendre et possÃ¨de des dizaines de fonctionnalitÃ©s intÃ©ressantes comme la synchronisation, lâ€™association, la validation, etc. Il prend Ã©galement en charge PostgreSQL, MySQL, MariaDB, SQLite et MSSQL. Jâ€™utilise actuellement PostgreSQL. Installation Sequelize est disponible via npm. Ã‰tablissement dâ€™une connexion Sequelize Ã©tablit une connexion entre lâ€™API / application restante et votre base de donnÃ©es SQL. Pour configurer la connexion de base entre les deux:]]></description><link>https://ludovicwyffels.dev/node-sequelize-intro/</link><guid isPermaLink="false">https://ludovicwyffels.dev/node-sequelize-intro/</guid><pubDate>Fri, 12 Oct 2018 08:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;Introduction Ã  lâ€™ORM&lt;/h2&gt;
&lt;p&gt;ORM ou Object Relation Mapping est un processus de mappage entre des objets et des systÃ¨mes de base de donnÃ©es relationnels. Un ORM agit comme une interface entre deux systÃ¨mes. Les ORM offrent aux dÃ©veloppeurs des avantages de base, tels que la rÃ©duction du temps et des efforts et la concentration sur la logique mÃ©tier. Le code est robuste au lieu de redondant. ORM aide Ã  gÃ©rer les requÃªtes sur plusieurs tables de maniÃ¨re efficace. Enfin, un ORM (comme sequelize) est capable de se connecter Ã  diffÃ©rentes bases de donnÃ©es (ce qui est pratique lors du passage dâ€™une base de donnÃ©es Ã  une autre).&lt;/p&gt;
&lt;h1&gt;DÃ©marrer avec Sequelize&lt;/h1&gt;
&lt;h2&gt;DÃ©buter avec Sequelize&lt;/h2&gt;
&lt;p&gt;Sequelize est un ORM basÃ© sur des promesses pour Node.js. Sequelize est facile Ã  apprendre et possÃ¨de des dizaines de fonctionnalitÃ©s intÃ©ressantes comme la synchronisation, lâ€™association, la validation, etc. Il prend Ã©galement en charge PostgreSQL, MySQL, MariaDB, SQLite et MSSQL. Jâ€™utilise actuellement PostgreSQL.&lt;/p&gt;
&lt;h2&gt;Installation&lt;/h2&gt;
&lt;p&gt;Sequelize est disponible via npm.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; --save sequelize

&lt;span class=&quot;token comment&quot;&gt;# Choisiser en un:&lt;/span&gt;
$ &lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; --save pg pg-hstore // PostgreSQL
$ &lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; --save mysql // mysql et mariadb
$ &lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; --save sqlite3
$ &lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; --save tedious // MSSQL&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Ã‰tablissement dâ€™une connexion&lt;/h2&gt;
&lt;p&gt;Sequelize Ã©tablit une connexion entre lâ€™API / application restante et votre base de donnÃ©es SQL. Pour configurer la connexion de base entre les deux:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-javascript line-numbers&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; sequelize &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Sequelize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;database&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;username&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;password&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  host&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;localhost&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  dialect&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;mysql&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;mariadb&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;sqlite&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;postgres&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;mssql&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//choose anyone between them&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// To create a pool of connections&lt;/span&gt;
  pool&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    max&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    min&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    idle&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// For SQLite only&lt;/span&gt;
  storage&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;path/to/database.sqlite&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[AWS SDK pour Node.js: Meilleures pratiques]]></title><description><![CDATA[La plupart des exemples de code couvrant le kit AWS SDK comme ci-dessous, câ€™est Ã  dire quâ€™ils importent lâ€™intÃ©gralitÃ© du kit AWS mÃªme sâ€™ils utilisent seulement quelques services AWS, parfois un seul (AWS DynamoDB).  Cependant, la mÃ©thode recommandÃ©e pour initialiser divers clients de service AWS consiste Ã  ne les importer que lorsque nÃ©cessaire, comme ci-dessous. Ã‰conomise des temps de chargement et de la mÃ©moire prÃ©cieux, particuliÃ¨rement utile dans les environnements Ã  ressources de calcul comme un pÃ©riphÃ©rique IoT ou dans une fonction AWS Lamba.  NB: vous pouvez toujours accÃ©der Ã  lâ€™espace de noms AWS global sans chaque service AWS associÃ© en Ã©crivant sous le code. Cette technique est utile lorsque vous appliquez la mÃªme configuration Ã  plusieurs services AWS individuels, par exemple pour fournir les mÃªmes informations dâ€™identification Ã  tous les services AWS. const aws = require('aws-sdk/global'); Consultez la documentation officielle dâ€™AWS pour plus dâ€™informations ci-dessous. https://docs.aws.amazon.com/sdk-for-javascript/v2/developer-guide/creating-and-calling-service-objects.html Bonne programmation!]]></description><link>https://ludovicwyffels.dev/aws-sdk/</link><guid isPermaLink="false">https://ludovicwyffels.dev/aws-sdk/</guid><pubDate>Sun, 23 Sep 2018 08:00:00 GMT</pubDate><content:encoded>&lt;p&gt;La plupart des exemples de code couvrant le kit AWS SDK comme ci-dessous, câ€™est Ã  dire quâ€™ils importent lâ€™intÃ©gralitÃ© du kit AWS mÃªme sâ€™ils utilisent seulement quelques services AWS, parfois un seul (AWS DynamoDB).&lt;/p&gt;
&lt;p&gt;&lt;div id=&quot;gist92067546&quot; class=&quot;gist&quot;&gt;
    &lt;div class=&quot;gist-file&quot;&gt;
      &lt;div class=&quot;gist-data&quot;&gt;
        &lt;div class=&quot;js-gist-file-update-container js-task-list-container file-box&quot;&gt;
  &lt;div id=&quot;file-aws-sdk-node-best-practices-non-optimized-js&quot; class=&quot;file&quot;&gt;
    

  &lt;div itemprop=&quot;text&quot; class=&quot;Box-body p-0 blob-wrapper data type-javascript &quot;&gt;
      
&lt;table class=&quot;highlight tab-size js-file-line-container&quot; data-tab-size=&quot;8&quot;&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-non-optimized-js-L1&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-non-optimized-js-LC1&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; imports the entire AWS SDK&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-non-optimized-js-L2&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;2&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-non-optimized-js-LC2&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;aws&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;aws-sdk&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-non-optimized-js-L3&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;3&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-non-optimized-js-LC3&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-non-optimized-js-L4&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;4&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-non-optimized-js-LC4&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-smi&quot;&gt;aws&lt;/span&gt;.&lt;span class=&quot;pl-smi&quot;&gt;config&lt;/span&gt;.&lt;span class=&quot;pl-en&quot;&gt;update&lt;/span&gt;({&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-non-optimized-js-L5&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;5&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-non-optimized-js-LC5&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  region&lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;us-east-1&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;,&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-non-optimized-js-L6&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;6&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-non-optimized-js-LC6&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  endpoint&lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;https://dynamodb.us-east-1.amazonaws.com&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-non-optimized-js-L7&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;7&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-non-optimized-js-LC7&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;});&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-non-optimized-js-L8&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;8&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-non-optimized-js-LC8&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-non-optimized-js-L9&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;9&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-non-optimized-js-LC9&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;docClient&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;aws.DynamoDB.DocumentClient&lt;/span&gt;();&lt;/td&gt;
      &lt;/tr&gt;
&lt;/table&gt;


  &lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;

      &lt;/div&gt;
      &lt;div class=&quot;gist-meta&quot;&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/195d29bab3640e1c25981fbe6fab4f58/raw/20d21fdfb6f71668df09d34cc9475e14029b5243/aws-sdk-node-best-practices-non-optimized.js&quot; style=&quot;float:right&quot;&gt;view raw&lt;/a&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/195d29bab3640e1c25981fbe6fab4f58#file-aws-sdk-node-best-practices-non-optimized-js&quot;&gt;aws-sdk-node-best-practices-non-optimized.js&lt;/a&gt;
        hosted with &amp;#10084; by &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;Cependant, la mÃ©thode recommandÃ©e pour initialiser divers clients de service AWS consiste Ã  ne les importer que lorsque nÃ©cessaire, comme ci-dessous. Ã‰conomise des temps de chargement et de la mÃ©moire prÃ©cieux, particuliÃ¨rement utile dans les environnements Ã  ressources de calcul comme un pÃ©riphÃ©rique IoT ou dans une fonction AWS Lamba.&lt;/p&gt;
&lt;p&gt;&lt;div id=&quot;gist92067561&quot; class=&quot;gist&quot;&gt;
    &lt;div class=&quot;gist-file&quot;&gt;
      &lt;div class=&quot;gist-data&quot;&gt;
        &lt;div class=&quot;js-gist-file-update-container js-task-list-container file-box&quot;&gt;
  &lt;div id=&quot;file-aws-sdk-node-best-practices-optimized-js&quot; class=&quot;file&quot;&gt;
    

  &lt;div itemprop=&quot;text&quot; class=&quot;Box-body p-0 blob-wrapper data type-javascript &quot;&gt;
      
&lt;table class=&quot;highlight tab-size js-file-line-container&quot; data-tab-size=&quot;8&quot;&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-optimized-js-L1&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-optimized-js-LC1&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;&lt;span class=&quot;pl-c&quot;&gt;//&lt;/span&gt; only imports the AWS DynamoDB service client&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-optimized-js-L2&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;2&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-optimized-js-LC2&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;dynamodb&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;aws-sdk/clients/dynamodb&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;);&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-optimized-js-L3&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;3&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-optimized-js-LC3&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-optimized-js-L4&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;4&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-optimized-js-LC4&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;config&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; {&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-optimized-js-L5&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;5&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-optimized-js-LC5&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  region&lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;us-east-1&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;,&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-optimized-js-L6&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;6&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-optimized-js-LC6&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  endpoint&lt;span class=&quot;pl-k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pl-s&quot;&gt;&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;https://dynamodb.us-east-1.amazonaws.com&lt;span class=&quot;pl-pds&quot;&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-optimized-js-L7&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;7&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-optimized-js-LC7&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;};&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-optimized-js-L8&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;8&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-optimized-js-LC8&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-optimized-js-L9&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;9&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-optimized-js-LC9&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=&quot;pl-k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;pl-c1&quot;&gt;docClient&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;pl-k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;pl-en&quot;&gt;dynamodb.DocumentClient&lt;/span&gt;(config);&lt;/td&gt;
      &lt;/tr&gt;
&lt;/table&gt;


  &lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;

      &lt;/div&gt;
      &lt;div class=&quot;gist-meta&quot;&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/ab860daf4dfb446ded1a9b03dc3942e4/raw/98b34602f7d029b177dcba7fa4f312d6e07862ad/aws-sdk-node-best-practices-optimized.js&quot; style=&quot;float:right&quot;&gt;view raw&lt;/a&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/ab860daf4dfb446ded1a9b03dc3942e4#file-aws-sdk-node-best-practices-optimized-js&quot;&gt;aws-sdk-node-best-practices-optimized.js&lt;/a&gt;
        hosted with &amp;#10084; by &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;NB: vous pouvez toujours accÃ©der Ã  lâ€™espace de noms AWS global sans chaque service AWS associÃ© en Ã©crivant sous le code. Cette technique est utile lorsque vous appliquez la mÃªme configuration Ã  plusieurs services AWS individuels, par exemple pour fournir les mÃªmes informations dâ€™identification Ã  tous les services AWS.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;const aws = require(&apos;aws-sdk/global&apos;);&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Consultez la documentation officielle dâ€™AWS pour plus dâ€™informations ci-dessous.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.aws.amazon.com/sdk-for-javascript/v2/developer-guide/creating-and-calling-service-objects.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://docs.aws.amazon.com/sdk-for-javascript/v2/developer-guide/creating-and-calling-service-objects.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Bonne programmation!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Flexbox illustrÃ©]]></title><description><![CDATA[Flex Flex est un ensemble de rÃ¨gles pour Ã©tirer automatiquement plusieurs colonnes et lignes de contenu dans son conteneur parent. display:flex Contrairement Ã  de nombreuses autres propriÃ©tÃ©s CSS, vous disposez dâ€™un conteneur principal et dâ€™Ã©lÃ©ments imbriquÃ©s dans Flex. Certaines propriÃ©tÃ©s CSS flex sont utilisÃ©es uniquement sur le parent. Dâ€™autres seulement sur les items.  Vous pouvez considÃ©rer un Ã©lÃ©ment flex comme un conteneur parent avec display: flex. Les Ã©lÃ©ments placÃ©s Ã  lâ€™intÃ©rieur de ce conteneur sont appelÃ©s items. Chaque conteneur a un point flex-start et flex-end comme indiquÃ© dans le diagramme ci-dessus. Axe principal et axe croisÃ© Alors que la liste des items est fournie de maniÃ¨re linÃ©aire, Flex vous oblige Ã  tenir compte des lignes et des colonnes. Pour cette raison, il a deux axes de coordonnÃ©es. Lâ€™axe horizontal est appelÃ© axe principal (Main-Axis) et la verticale est lâ€™axe croisÃ© (Cross-Axis). Pour contrÃ´ler le comportement de la largeur du contenu et des Ã©carts entre les deux, et pour lui permettre de sâ€™Ã©tendre horizontalement sur lâ€™axe principal, vous utiliserez des propriÃ©tÃ©s de justification. Pour contrÃ´ler le comportement vertical des Ã©lÃ©ments, vous utiliserez les propriÃ©tÃ©s dâ€™alignement. Si vous avez 3 colonnes et 6 Ã©lÃ©ments, une deuxiÃ¨me ligne sera crÃ©Ã©e automatiquement par Flex pour accueillir les items restants. Si vous avez rÃ©pertoriÃ© plus de 6 Ã©lÃ©ments, dâ€™autres lignes seront crÃ©Ã©es.  Les Ã©lÃ©ments Flex sont Ã©galement rÃ©partis sur lâ€™axe principal. Nous allons examiner les propriÃ©tÃ©s et les valeurs pour y parvenir dans un instant.  Vous pouvez dÃ©terminer le nombre de colonnes. La faÃ§on dont les lignes et les colonnes sont distribuÃ©es dans lâ€™Ã©lÃ©ment parent est dÃ©terminÃ©e par les propriÃ©tÃ©s CSS Flex flex-direction, flex-wrap et quelques autres qui seront dÃ©montrÃ©es tout au long de cet article.  Ici, nous avons un nombre n arbitraire dâ€™Ã©lÃ©ments placÃ©s dans un conteneur. Par dÃ©faut, les Ã©lÃ©ments sâ€™Ã©tendent de gauche Ã  droite. Cependant, le point dâ€™origine peut Ãªtre inversÃ©. Direction Il est possible de dÃ©finir la direction du flex de lâ€™Ã©lÃ©ment en lâ€™inversant.   flex-direction:row-reverse change la direction du flux de la liste dâ€™Ã©lÃ©ments. La valeur par dÃ©faut est row, ce qui veut dire que Ã§a va de gauche Ã  droite, comme on sâ€™y attendrait! Wrap  flex-wrap:wrap dÃ©termine comment les Ã©lÃ©ments sont encapsulÃ©s lorsque le conteneur parent manque dâ€™espace. Flow  flex-flow est un raccourci pour flex-direction et flex-wrap, vous permettant de spÃ©cifier les deux en utilisant un seul nom de propriÃ©tÃ©.  flex-flow:row wrap dÃ©termine flex-direction Ã  Ãªtre row et flex-wrap Ã  Ãªtre wrap.       Lorsque nous changeons la direction du flex en colonne, la propriÃ©tÃ© flex-flow se comporte exactement de la mÃªme maniÃ¨re que dans les exemples prÃ©cÃ©dents. Sauf cette fois, ils suivent la direction verticale dâ€™une colonne.  justify-content  Dans cet exemple, nous nâ€™utilisons que 3 Ã©lÃ©ments par ligne. Il nâ€™y a aucune limite sur le nombre dâ€™articles que vous souhaitez utiliser en flex. Ces diagrammes montrent uniquement le comportement des Ã©lÃ©ments lorsque lâ€™une des valeurs rÃ©pertoriÃ©es est appliquÃ©e Ã  la propriÃ©tÃ© justify-content.  la mÃªme propiÃ©tÃ© justify-content est utilisÃ©e pour aligner les Ã©lÃ©ments lorsque flex-direction est en colonne. Packing flex lines (selon la spÃ©cification Flex)  La spÃ©cification Flex se rÃ©fÃ¨re Ã  ceci comme â€packing flex linesâ€. Fondamentalement, cela fonctionne exactement comme les exemples que nous avons vu dans les images prÃ©cÃ©dentes. Sauf cette fois, notez que lâ€™espacement est entre les ensembles entiers dâ€™articles. Ceci est utile lorsque vous souhaitez crÃ©er des vides autour dâ€™un lot de plusieurs Ã©lÃ©ments.  Packing Flex Lines (suite.) Mais maintenant avec flex-direction: column. align-items  align-items contrÃ´le lâ€™alignement des Ã©lÃ©ments horizontalement par rapport au conteneur parent flex-basis  flex-basis fonctionne de maniÃ¨re similaire Ã  une autre propriÃ©tÃ© CSS: min-width outside of flex. Il va augmenter la taille dâ€™un objet en fonction du contenu interne. Sinon, la valeur de base par dÃ©faut sera utilisÃ©e. flex-grow  flex-grow, lorsquâ€™il est appliquÃ© Ã  un Ã©lÃ©ment, il est mis Ã  lâ€™Ã©chelle par rapport Ã  la somme de la taille de tous les autres Ã©lÃ©ments de la mÃªme ligne, qui sont automatiquement ajustÃ©s en fonction de la valeur spÃ©cifiÃ©e. Dans chaque exemple, la valeur flex-grow de lâ€™Ã©lÃ©ment a Ã©tÃ© dÃ©finie sur 1, 7 et (3 et 5) dans le dernier exemple. flex-shrink  flex-shrink est le contraire de flex-grow. Dans cet exemple, une valeur de 7 a Ã©tÃ© utilisÃ©e pour â€œrÃ©duireâ€ lâ€™Ã©lÃ©ment sÃ©lectionnÃ© dans la quantitÃ© Ã©gale Ã  1/7 de la taille de ses Ã©lÃ©ments environnants - qui seront Ã©galement ajustÃ©s automatiquement.  Lorsque vous traitez des Ã©lÃ©ments individuels, vous pouvez utiliser la propriÃ©tÃ© flex comme raccourci pour flex-grow, flex-shrink et flex-basis en utilisant un seul nom de propiÃ©tÃ©. order En utilisant la propriÃ©tÃ© order, il est possible de rÃ©organiser lâ€™ordre naturel des objets.  justify-items]]></description><link>https://ludovicwyffels.dev/css-flexbox-illustre/</link><guid isPermaLink="false">https://ludovicwyffels.dev/css-flexbox-illustre/</guid><pubDate>Thu, 12 Jul 2018 08:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;Flex&lt;/h2&gt;
&lt;p&gt;Flex est un ensemble de rÃ¨gles pour Ã©tirer automatiquement plusieurs colonnes et lignes de contenu dans son conteneur parent.&lt;/p&gt;
&lt;h2&gt;display:flex&lt;/h2&gt;
&lt;p&gt;Contrairement Ã  de nombreuses autres propriÃ©tÃ©s CSS, vous disposez dâ€™un conteneur principal et dâ€™Ã©lÃ©ments imbriquÃ©s dans Flex. Certaines propriÃ©tÃ©s CSS flex sont utilisÃ©es uniquement sur le parent. Dâ€™autres seulement sur les items.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b4d59495c2fa971c6f8803bcead03304/5bd15/15314221531955.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 24.9%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAFABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAEDBf/EABYBAQEBAAAAAAAAAAAAAAAAAAEAAv/aAAwDAQACEAMQAAAB2rCIBr//xAAWEAADAAAAAAAAAAAAAAAAAAACEDH/2gAIAQEAAQUCGL//xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAwEBPwEn/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAEP/aAAgBAQAGPwJ//8QAGRAAAQUAAAAAAAAAAAAAAAAAEQABEDFB/9oACAEBAAE/ITe2wV//2gAMAwEAAgADAAAAEIQ//8QAFxEBAAMAAAAAAAAAAAAAAAAAAAERMf/aAAgBAwEBPxDCof/EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/EKr/xAAbEAEAAgIDAAAAAAAAAAAAAAABABEhQVFxkf/aAAgBAQABPxBOW6LU6wwvz7P/2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/b4d59495c2fa971c6f8803bcead03304/8ffb1/15314221531955.webp 293w,
/static/b4d59495c2fa971c6f8803bcead03304/17bf8/15314221531955.webp 585w,
/static/b4d59495c2fa971c6f8803bcead03304/e2c1c/15314221531955.webp 1170w,
/static/b4d59495c2fa971c6f8803bcead03304/d7ba1/15314221531955.webp 1755w,
/static/b4d59495c2fa971c6f8803bcead03304/b2338/15314221531955.webp 2000w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/b4d59495c2fa971c6f8803bcead03304/e25d4/15314221531955.jpg 293w,
/static/b4d59495c2fa971c6f8803bcead03304/bc12b/15314221531955.jpg 585w,
/static/b4d59495c2fa971c6f8803bcead03304/d8f19/15314221531955.jpg 1170w,
/static/b4d59495c2fa971c6f8803bcead03304/fd9a8/15314221531955.jpg 1755w,
/static/b4d59495c2fa971c6f8803bcead03304/5bd15/15314221531955.jpg 2000w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/b4d59495c2fa971c6f8803bcead03304/d8f19/15314221531955.jpg&quot;
          alt=&quot;15314221531955&quot;
          title=&quot;15314221531955&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Vous pouvez considÃ©rer un Ã©lÃ©ment flex comme un conteneur parent avec &lt;strong&gt;display: flex&lt;/strong&gt;. Les Ã©lÃ©ments placÃ©s Ã  lâ€™intÃ©rieur de ce conteneur sont appelÃ©s items. Chaque conteneur a un point &lt;strong&gt;flex-start&lt;/strong&gt; et &lt;strong&gt;flex-end&lt;/strong&gt; comme indiquÃ© dans le diagramme ci-dessus.&lt;/p&gt;
&lt;h2&gt;Axe principal et axe croisÃ©&lt;/h2&gt;
&lt;p&gt;Alors que la liste des items est fournie de maniÃ¨re linÃ©aire, Flex vous oblige Ã  tenir compte des lignes et des colonnes. Pour cette raison, il a deux axes de coordonnÃ©es. Lâ€™axe horizontal est appelÃ© axe principal (Main-Axis) et la verticale est lâ€™axe croisÃ© (Cross-Axis).&lt;/p&gt;
&lt;p&gt;Pour contrÃ´ler le comportement de la largeur du contenu et des Ã©carts entre les deux, et pour lui permettre de sâ€™Ã©tendre horizontalement sur lâ€™axe principal, vous utiliserez des propriÃ©tÃ©s de justification. Pour contrÃ´ler le comportement vertical des Ã©lÃ©ments, vous utiliserez les propriÃ©tÃ©s dâ€™alignement.&lt;/p&gt;
&lt;p&gt;Si vous avez 3 colonnes et 6 Ã©lÃ©ments, une deuxiÃ¨me ligne sera crÃ©Ã©e automatiquement par Flex pour accueillir les items restants.&lt;/p&gt;
&lt;p&gt;Si vous avez rÃ©pertoriÃ© plus de 6 Ã©lÃ©ments, dâ€™autres lignes seront crÃ©Ã©es.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c17120844d0912e10a0819dd072fa464/5bd15/15314221815702.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 16.900000000000002%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAADABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAMF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAQAC/9oADAMBAAIQAxAAAAHaASFn/8QAFxABAAMAAAAAAAAAAAAAAAAAAgAxQf/aAAgBAQABBQIUZv8A/8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQMBAT8BJ//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABUQAQEAAAAAAAAAAAAAAAAAAAAB/9oACAEBAAY/AlV//8QAFxABAQEBAAAAAAAAAAAAAAAAALEBof/aAAgBAQABPyG6zej/2gAMAwEAAgADAAAAEAvv/8QAFxEBAAMAAAAAAAAAAAAAAAAAAAERMf/aAAgBAwEBPxCGKf/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABgQAAMBAQAAAAAAAAAAAAAAAAABIXGh/9oACAEBAAE/EIbRK1O4f//Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/c17120844d0912e10a0819dd072fa464/8ffb1/15314221815702.webp 293w,
/static/c17120844d0912e10a0819dd072fa464/17bf8/15314221815702.webp 585w,
/static/c17120844d0912e10a0819dd072fa464/e2c1c/15314221815702.webp 1170w,
/static/c17120844d0912e10a0819dd072fa464/d7ba1/15314221815702.webp 1755w,
/static/c17120844d0912e10a0819dd072fa464/b2338/15314221815702.webp 2000w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/c17120844d0912e10a0819dd072fa464/e25d4/15314221815702.jpg 293w,
/static/c17120844d0912e10a0819dd072fa464/bc12b/15314221815702.jpg 585w,
/static/c17120844d0912e10a0819dd072fa464/d8f19/15314221815702.jpg 1170w,
/static/c17120844d0912e10a0819dd072fa464/fd9a8/15314221815702.jpg 1755w,
/static/c17120844d0912e10a0819dd072fa464/5bd15/15314221815702.jpg 2000w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/c17120844d0912e10a0819dd072fa464/d8f19/15314221815702.jpg&quot;
          alt=&quot;15314221815702&quot;
          title=&quot;15314221815702&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Les Ã©lÃ©ments Flex sont Ã©galement rÃ©partis sur lâ€™axe principal. Nous allons examiner les propriÃ©tÃ©s et les valeurs pour y parvenir dans un instant.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d0cd04ceb7942d4e08690b95287aea28/5bd15/15314221922744.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 16.900000000000002%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAADABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBf/EABYBAQEBAAAAAAAAAAAAAAAAAAEAAv/aAAwDAQACEAMQAAAB2YDNBH//xAAXEAEAAwAAAAAAAAAAAAAAAAACADFB/9oACAEBAAEFAhQm/wD/xAAVEQEBAAAAAAAAAAAAAAAAAAAQUf/aAAgBAwEBPwGH/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFRABAQAAAAAAAAAAAAAAAAAAAAH/2gAIAQEABj8CVX//xAAYEAACAwAAAAAAAAAAAAAAAAAAATFxof/aAAgBAQABPyGWxw9D/9oADAMBAAIAAwAAABCL/wD/xAAXEQEAAwAAAAAAAAAAAAAAAAAAAREx/9oACAEDAQE/EI0p/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGRAAAwEBAQAAAAAAAAAAAAAAAAERIXGh/9oACAEBAAE/EM9g5undp65//9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/d0cd04ceb7942d4e08690b95287aea28/8ffb1/15314221922744.webp 293w,
/static/d0cd04ceb7942d4e08690b95287aea28/17bf8/15314221922744.webp 585w,
/static/d0cd04ceb7942d4e08690b95287aea28/e2c1c/15314221922744.webp 1170w,
/static/d0cd04ceb7942d4e08690b95287aea28/d7ba1/15314221922744.webp 1755w,
/static/d0cd04ceb7942d4e08690b95287aea28/b2338/15314221922744.webp 2000w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/d0cd04ceb7942d4e08690b95287aea28/e25d4/15314221922744.jpg 293w,
/static/d0cd04ceb7942d4e08690b95287aea28/bc12b/15314221922744.jpg 585w,
/static/d0cd04ceb7942d4e08690b95287aea28/d8f19/15314221922744.jpg 1170w,
/static/d0cd04ceb7942d4e08690b95287aea28/fd9a8/15314221922744.jpg 1755w,
/static/d0cd04ceb7942d4e08690b95287aea28/5bd15/15314221922744.jpg 2000w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/d0cd04ceb7942d4e08690b95287aea28/d8f19/15314221922744.jpg&quot;
          alt=&quot;15314221922744&quot;
          title=&quot;15314221922744&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Vous pouvez dÃ©terminer le nombre de colonnes.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;La faÃ§on dont les lignes et les colonnes sont distribuÃ©es dans lâ€™Ã©lÃ©ment parent est dÃ©terminÃ©e par les propriÃ©tÃ©s CSS Flex &lt;strong&gt;flex-direction, flex-wrap&lt;/strong&gt; et quelques autres qui seront dÃ©montrÃ©es tout au long de cet article.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/95f776315ea3c6c759d30368cbb0787a/6c94c/15314222044035.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 36.283185840707965%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAHABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB2AUH/8QAFhAAAwAAAAAAAAAAAAAAAAAAAAIR/9oACAEBAAEFAoxGIx//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAVEAEBAAAAAAAAAAAAAAAAAAAAMf/aAAgBAQAGPwJVf//EABkQAAEFAAAAAAAAAAAAAAAAAAABMWHB8P/aAAgBAQABPyGYZsZKf//aAAwDAQACAAMAAAAQ88//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAaEAEAAQUAAAAAAAAAAAAAAAABEQAQIUFh/9oACAEBAAE/EAZCMdrAtrI//9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/95f776315ea3c6c759d30368cbb0787a/8ffb1/15314222044035.webp 293w,
/static/95f776315ea3c6c759d30368cbb0787a/17bf8/15314222044035.webp 585w,
/static/95f776315ea3c6c759d30368cbb0787a/e2c1c/15314222044035.webp 1170w,
/static/95f776315ea3c6c759d30368cbb0787a/02721/15314222044035.webp 1356w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/95f776315ea3c6c759d30368cbb0787a/e25d4/15314222044035.jpg 293w,
/static/95f776315ea3c6c759d30368cbb0787a/bc12b/15314222044035.jpg 585w,
/static/95f776315ea3c6c759d30368cbb0787a/d8f19/15314222044035.jpg 1170w,
/static/95f776315ea3c6c759d30368cbb0787a/6c94c/15314222044035.jpg 1356w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/95f776315ea3c6c759d30368cbb0787a/d8f19/15314222044035.jpg&quot;
          alt=&quot;15314222044035&quot;
          title=&quot;15314222044035&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Ici, nous avons un nombre n arbitraire dâ€™Ã©lÃ©ments placÃ©s dans un conteneur. Par dÃ©faut, les Ã©lÃ©ments sâ€™Ã©tendent de gauche Ã  droite. Cependant, le point dâ€™origine peut Ãªtre inversÃ©.&lt;/p&gt;
&lt;h1&gt;Direction&lt;/h1&gt;
&lt;p&gt;Il est possible de dÃ©finir la direction du flex de lâ€™Ã©lÃ©ment en lâ€™inversant.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/573442655139a19f772ba811abb1db1a/bf8be/flex-direction-row.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 20.558002936857562%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAEABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAIF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAL/2gAMAwEAAhADEAAAAdmhNhX/xAAXEAADAQAAAAAAAAAAAAAAAAAAARIQ/9oACAEBAAEFApRCz//EABYRAAMAAAAAAAAAAAAAAAAAAAEQEf/aAAgBAwEBPwGBf//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAABD/2gAIAQEABj8Cf//EABkQAAIDAQAAAAAAAAAAAAAAAAARAUFxkf/aAAgBAQABPyGHWb9Ef//aAAwDAQACAAMAAAAQh8//xAAVEQEBAAAAAAAAAAAAAAAAAAAQYf/aAAgBAwEBPxCB/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGhAAAQUBAAAAAAAAAAAAAAAAAQAQESFRYf/aAAgBAQABPxAkxrWCNcX/2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/573442655139a19f772ba811abb1db1a/8ffb1/flex-direction-row.webp 293w,
/static/573442655139a19f772ba811abb1db1a/17bf8/flex-direction-row.webp 585w,
/static/573442655139a19f772ba811abb1db1a/e2c1c/flex-direction-row.webp 1170w,
/static/573442655139a19f772ba811abb1db1a/7abc9/flex-direction-row.webp 1362w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/573442655139a19f772ba811abb1db1a/e25d4/flex-direction-row.jpg 293w,
/static/573442655139a19f772ba811abb1db1a/bc12b/flex-direction-row.jpg 585w,
/static/573442655139a19f772ba811abb1db1a/d8f19/flex-direction-row.jpg 1170w,
/static/573442655139a19f772ba811abb1db1a/bf8be/flex-direction-row.jpg 1362w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/573442655139a19f772ba811abb1db1a/d8f19/flex-direction-row.jpg&quot;
          alt=&quot;flex direction row&quot;
          title=&quot;flex direction row&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/37e8739029f6c1ac8bcfcfe517daa5a6/bf8be/15314222323110.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 20.558002936857562%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAEABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAEDBf/EABYBAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAAB3Ky6kH//xAAYEAEBAAMAAAAAAAAAAAAAAAABAAISE//aAAgBAQABBQJxG0LmX//EABYRAAMAAAAAAAAAAAAAAAAAAAABEf/aAAgBAwEBPwGsrP/EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/AVf/xAAVEAEBAAAAAAAAAAAAAAAAAAAQIf/aAAgBAQAGPwKv/8QAGhAAAgIDAAAAAAAAAAAAAAAAAAEhkRFBUf/aAAgBAQABPyHGyga3uxN7Z//aAAwDAQACAAMAAAAQcD//xAAXEQEBAQEAAAAAAAAAAAAAAAABABFh/9oACAEDAQE/EADBu1//xAAWEQEBAQAAAAAAAAAAAAAAAAABABH/2gAIAQIBAT8QFtX/xAAbEAACAQUAAAAAAAAAAAAAAAABEQAxQVFhgf/aAAgBAQABPxDngioOKveDmb85/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/37e8739029f6c1ac8bcfcfe517daa5a6/8ffb1/15314222323110.webp 293w,
/static/37e8739029f6c1ac8bcfcfe517daa5a6/17bf8/15314222323110.webp 585w,
/static/37e8739029f6c1ac8bcfcfe517daa5a6/e2c1c/15314222323110.webp 1170w,
/static/37e8739029f6c1ac8bcfcfe517daa5a6/7abc9/15314222323110.webp 1362w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/37e8739029f6c1ac8bcfcfe517daa5a6/e25d4/15314222323110.jpg 293w,
/static/37e8739029f6c1ac8bcfcfe517daa5a6/bc12b/15314222323110.jpg 585w,
/static/37e8739029f6c1ac8bcfcfe517daa5a6/d8f19/15314222323110.jpg 1170w,
/static/37e8739029f6c1ac8bcfcfe517daa5a6/bf8be/15314222323110.jpg 1362w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/37e8739029f6c1ac8bcfcfe517daa5a6/d8f19/15314222323110.jpg&quot;
          alt=&quot;15314222323110&quot;
          title=&quot;15314222323110&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;flex-direction:row-reverse&lt;/strong&gt; change la direction du flux de la liste dâ€™Ã©lÃ©ments. La valeur par dÃ©faut est row, ce qui veut dire que Ã§a va de gauche Ã  droite, comme on sâ€™y attendrait!&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex-direction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; row | row-reverse | column | column-reverse&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h1&gt;Wrap&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 800px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b1b4709fd9c7dd1f12ff8114e524d2f2/711ea/15314222381066.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 30.5%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAGABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAMF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAL/2gAMAwEAAhADEAAAAdkJqFf/xAAXEAEBAQEAAAAAAAAAAAAAAAABAAIR/9oACAEBAAEFAnL0zBf/xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAwEBPwGH/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFhAAAwAAAAAAAAAAAAAAAAAAABAh/9oACAEBAAY/Air/xAAXEAEBAQEAAAAAAAAAAAAAAAABEQAx/9oACAEBAAE/IVJut06BDf/aAAwDAQACAAMAAAAQgA//xAAVEQEBAAAAAAAAAAAAAAAAAAAREP/aAAgBAwEBPxAs/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGhABAAIDAQAAAAAAAAAAAAAAAQARITFBUf/aAAgBAQABPxAmEHmYIbFapSAaNHrP/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/b1b4709fd9c7dd1f12ff8114e524d2f2/8ffb1/15314222381066.webp 293w,
/static/b1b4709fd9c7dd1f12ff8114e524d2f2/17bf8/15314222381066.webp 585w,
/static/b1b4709fd9c7dd1f12ff8114e524d2f2/7c639/15314222381066.webp 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/b1b4709fd9c7dd1f12ff8114e524d2f2/e25d4/15314222381066.jpg 293w,
/static/b1b4709fd9c7dd1f12ff8114e524d2f2/bc12b/15314222381066.jpg 585w,
/static/b1b4709fd9c7dd1f12ff8114e524d2f2/711ea/15314222381066.jpg 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/b1b4709fd9c7dd1f12ff8114e524d2f2/711ea/15314222381066.jpg&quot;
          alt=&quot;15314222381066&quot;
          title=&quot;15314222381066&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.container&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex-wrap&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; nowrap | wrap | wrap-reverse&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;flex-wrap:wrap&lt;/strong&gt; dÃ©termine comment les Ã©lÃ©ments sont encapsulÃ©s lorsque le conteneur parent manque dâ€™espace.&lt;/p&gt;
&lt;h1&gt;Flow&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 800px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c66adfaa2b82cc1e86879a64fc70a6fc/711ea/15314222496092.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 17.875000000000004%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAEABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAdyAuD//xAAXEAADAQAAAAAAAAAAAAAAAAAAARAR/9oACAEBAAEFAmbP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAEP/aAAgBAQAGPwJ//8QAFxAAAwEAAAAAAAAAAAAAAAAAAAEREP/aAAgBAQABPyFoy8//2gAMAwEAAgADAAAAEHPP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGhABAAEFAAAAAAAAAAAAAAAAAQARITFRYf/aAAgBAQABPxCrgG5wIXMz/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/c66adfaa2b82cc1e86879a64fc70a6fc/8ffb1/15314222496092.webp 293w,
/static/c66adfaa2b82cc1e86879a64fc70a6fc/17bf8/15314222496092.webp 585w,
/static/c66adfaa2b82cc1e86879a64fc70a6fc/7c639/15314222496092.webp 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/c66adfaa2b82cc1e86879a64fc70a6fc/e25d4/15314222496092.jpg 293w,
/static/c66adfaa2b82cc1e86879a64fc70a6fc/bc12b/15314222496092.jpg 585w,
/static/c66adfaa2b82cc1e86879a64fc70a6fc/711ea/15314222496092.jpg 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/c66adfaa2b82cc1e86879a64fc70a6fc/711ea/15314222496092.jpg&quot;
          alt=&quot;15314222496092&quot;
          title=&quot;15314222496092&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token property&quot;&gt;flex-flow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &amp;lt;â€˜flex-directionâ€™&gt; || &amp;lt;â€˜flex-wrapâ€™&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;flex-flow&lt;/strong&gt; est un raccourci pour &lt;strong&gt;flex-direction&lt;/strong&gt; et &lt;strong&gt;flex-wrap&lt;/strong&gt;, vous permettant de spÃ©cifier les deux en utilisant un seul nom de propriÃ©tÃ©.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 800px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c7152a293cded3f8ae9dd6451202403a/711ea/15314222567787.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 17.875000000000004%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAEABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAC/9oADAMBAAIQAxAAAAHdgTYK/8QAFhABAQEAAAAAAAAAAAAAAAAAABEB/9oACAEBAAEFAoxH/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAEP/aAAgBAQAGPwJ//8QAGRAAAgMBAAAAAAAAAAAAAAAAAAERQXGR/9oACAEBAAE/IdsSbfTTP//aAAwDAQACAAMAAAAQd8//xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAwEBPxAn/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGhABAAMAAwAAAAAAAAAAAAAAAQARMSFR0f/aAAgBAQABPxBJaHfOzA4dpQ9J/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/c7152a293cded3f8ae9dd6451202403a/8ffb1/15314222567787.webp 293w,
/static/c7152a293cded3f8ae9dd6451202403a/17bf8/15314222567787.webp 585w,
/static/c7152a293cded3f8ae9dd6451202403a/7c639/15314222567787.webp 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/c7152a293cded3f8ae9dd6451202403a/e25d4/15314222567787.jpg 293w,
/static/c7152a293cded3f8ae9dd6451202403a/bc12b/15314222567787.jpg 585w,
/static/c7152a293cded3f8ae9dd6451202403a/711ea/15314222567787.jpg 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/c7152a293cded3f8ae9dd6451202403a/711ea/15314222567787.jpg&quot;
          alt=&quot;15314222567787&quot;
          title=&quot;15314222567787&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex-flow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; row wrap
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;flex-flow:row wrap&lt;/strong&gt; dÃ©termine &lt;strong&gt;flex-direction&lt;/strong&gt; Ã  Ãªtre &lt;strong&gt;row&lt;/strong&gt; et &lt;strong&gt;flex-wrap&lt;/strong&gt; Ã  Ãªtre &lt;strong&gt;wrap&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 800px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d708e38aa106423663f9765cea278611/711ea/15314222854358.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 17.750000000000004%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAEABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAIF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAHcDNBf/8QAFRABAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQEAAQUCj//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAABD/2gAIAQEABj8Cf//EABkQAQADAQEAAAAAAAAAAAAAAAEAETEhYf/aAAgBAQABPyFqcWG6yvWf/9oADAMBAAIAAwAAABBz3//EABURAQEAAAAAAAAAAAAAAAAAAAAB/9oACAEDAQE/EEf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAaEAACAgMAAAAAAAAAAAAAAAAAARExUaHx/9oACAEBAAE/EFTW8itw3C7j/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/d708e38aa106423663f9765cea278611/8ffb1/15314222854358.webp 293w,
/static/d708e38aa106423663f9765cea278611/17bf8/15314222854358.webp 585w,
/static/d708e38aa106423663f9765cea278611/7c639/15314222854358.webp 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/d708e38aa106423663f9765cea278611/e25d4/15314222854358.jpg 293w,
/static/d708e38aa106423663f9765cea278611/bc12b/15314222854358.jpg 585w,
/static/d708e38aa106423663f9765cea278611/711ea/15314222854358.jpg 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/d708e38aa106423663f9765cea278611/711ea/15314222854358.jpg&quot;
          alt=&quot;15314222854358&quot;
          title=&quot;15314222854358&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex-flow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; row wrap-reverse
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 800px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/63fef6976539d1807bb0cb448f0c1548/711ea/15314222935771.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 21.375000000000004%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAEABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAIDBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHdiJYF/8QAFxAAAwEAAAAAAAAAAAAAAAAAAAEQEf/aAAgBAQABBQLBT//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAABD/2gAIAQEABj8Cf//EABcQAQEBAQAAAAAAAAAAAAAAAAEAIRH/2gAIAQEAAT8hRrbYOX//2gAMAwEAAgADAAAAEPQP/8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQMBAT8Qh//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABoQAQADAAMAAAAAAAAAAAAAAAEAETEhYZH/2gAIAQEAAT8QIclvcwK5esEUX7P/2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/63fef6976539d1807bb0cb448f0c1548/8ffb1/15314222935771.webp 293w,
/static/63fef6976539d1807bb0cb448f0c1548/17bf8/15314222935771.webp 585w,
/static/63fef6976539d1807bb0cb448f0c1548/7c639/15314222935771.webp 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/63fef6976539d1807bb0cb448f0c1548/e25d4/15314222935771.jpg 293w,
/static/63fef6976539d1807bb0cb448f0c1548/bc12b/15314222935771.jpg 585w,
/static/63fef6976539d1807bb0cb448f0c1548/711ea/15314222935771.jpg 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/63fef6976539d1807bb0cb448f0c1548/711ea/15314222935771.jpg&quot;
          alt=&quot;15314222935771&quot;
          title=&quot;15314222935771&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex-flow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;row wrap&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; 
  &lt;span class=&quot;token property&quot;&gt;justify-content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; space-between&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 800px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ad520689bd871a162d266c8dd99477ad/711ea/15314222996390.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 19.125%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAEABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAIF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAdwJYX//xAAWEAADAAAAAAAAAAAAAAAAAAAAARD/2gAIAQEAAQUCFP/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAABD/2gAIAQEABj8Cf//EABcQAQEBAQAAAAAAAAAAAAAAAAERABD/2gAIAQEAAT8hSC14N//aAAwDAQACAAMAAAAQc8//xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAwEBPxAn/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGRABAQEBAQEAAAAAAAAAAAAAAREAMYGR/9oACAEBAAE/EJhTvdSgr9whK+7/2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/ad520689bd871a162d266c8dd99477ad/8ffb1/15314222996390.webp 293w,
/static/ad520689bd871a162d266c8dd99477ad/17bf8/15314222996390.webp 585w,
/static/ad520689bd871a162d266c8dd99477ad/7c639/15314222996390.webp 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/ad520689bd871a162d266c8dd99477ad/e25d4/15314222996390.jpg 293w,
/static/ad520689bd871a162d266c8dd99477ad/bc12b/15314222996390.jpg 585w,
/static/ad520689bd871a162d266c8dd99477ad/711ea/15314222996390.jpg 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/ad520689bd871a162d266c8dd99477ad/711ea/15314222996390.jpg&quot;
          alt=&quot;15314222996390&quot;
          title=&quot;15314222996390&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex-flow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;row-reverse wrap&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0c3ec2a57bcdfb822b761d50bdba1468/d17c2/15314223071439.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 19.166666666666664%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAEABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAEDBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAC/9oADAMBAAIQAxAAAAHcgTYFf//EABUQAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAEBAAEFAm//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAY/An//xAAZEAEAAwEBAAAAAAAAAAAAAAABABExIUH/2gAIAQEAAT8hFdua6wK9Z//aAAwDAQACAAMAAAAQhA//xAAWEQEBAQAAAAAAAAAAAAAAAAAAATH/2gAIAQMBAT8QTH//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAZEAEBAQADAAAAAAAAAAAAAAABEQAhUXH/2gAIAQEAAT8QjQquKI83TopT13//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/0c3ec2a57bcdfb822b761d50bdba1468/8ffb1/15314223071439.webp 293w,
/static/0c3ec2a57bcdfb822b761d50bdba1468/17bf8/15314223071439.webp 585w,
/static/0c3ec2a57bcdfb822b761d50bdba1468/e2c1c/15314223071439.webp 1170w,
/static/0c3ec2a57bcdfb822b761d50bdba1468/b3c81/15314223071439.webp 1200w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/0c3ec2a57bcdfb822b761d50bdba1468/e25d4/15314223071439.jpg 293w,
/static/0c3ec2a57bcdfb822b761d50bdba1468/bc12b/15314223071439.jpg 585w,
/static/0c3ec2a57bcdfb822b761d50bdba1468/d8f19/15314223071439.jpg 1170w,
/static/0c3ec2a57bcdfb822b761d50bdba1468/d17c2/15314223071439.jpg 1200w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/0c3ec2a57bcdfb822b761d50bdba1468/d8f19/15314223071439.jpg&quot;
          alt=&quot;15314223071439&quot;
          title=&quot;15314223071439&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex-flow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;row-reverse wrap-reverse&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 800px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b3300747e092aa4f9dca04ff13881090/711ea/15314223197263.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 22.499999999999996%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAFABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAd2AsD//xAAXEAEAAwAAAAAAAAAAAAAAAAAAAREx/9oACAEBAAEFAsQp/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAEP/aAAgBAQAGPwJ//8QAFxABAAMAAAAAAAAAAAAAAAAAAQAQIf/aAAgBAQABPyFALFtP/9oADAMBAAIAAwAAABCDz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABsQAQACAgMAAAAAAAAAAAAAAAEAIRFBYXGR/9oACAEBAAE/EAAX3M5LvlgDb7P/2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/b3300747e092aa4f9dca04ff13881090/8ffb1/15314223197263.webp 293w,
/static/b3300747e092aa4f9dca04ff13881090/17bf8/15314223197263.webp 585w,
/static/b3300747e092aa4f9dca04ff13881090/7c639/15314223197263.webp 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/b3300747e092aa4f9dca04ff13881090/e25d4/15314223197263.jpg 293w,
/static/b3300747e092aa4f9dca04ff13881090/bc12b/15314223197263.jpg 585w,
/static/b3300747e092aa4f9dca04ff13881090/711ea/15314223197263.jpg 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/b3300747e092aa4f9dca04ff13881090/711ea/15314223197263.jpg&quot;
          alt=&quot;15314223197263&quot;
          title=&quot;15314223197263&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex-flow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;row wrap&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; 
  &lt;span class=&quot;token property&quot;&gt;justify-content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; space-between&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/caf974c0df29c381fc0a6a59c9cf21cb/03e5a/15314815802685.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 63.1875%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHXm1VXAA//xAAcEAABAwUAAAAAAAAAAAAAAAABAAIxAxAREjL/2gAIAQEAAQUCfLn62wCqvQj/xAAYEQACAwAAAAAAAAAAAAAAAAACAxAhIv/aAAgBAwEBPwFY6uP/xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAgEBPwEn/8QAFhAAAwAAAAAAAAAAAAAAAAAAACAx/9oACAEBAAY/AiL/AP/EABoQAQEAAwEBAAAAAAAAAAAAAAEAESExcZH/2gAIAQEAAT8hb8wIHPUclmzMNPLhf//aAAwDAQACAAMAAAAQMA//xAAWEQEBAQAAAAAAAAAAAAAAAAABEEH/2gAIAQMBAT8QBWJ//8QAFhEBAQEAAAAAAAAAAAAAAAAAARAh/9oACAECAQE/ECLs/8QAGxABAAICAwAAAAAAAAAAAAAAAQARIWExQaH/2gAIAQEAAT8QJipoxQDQ3iMShVkuBrctqrj1PAT/2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/caf974c0df29c381fc0a6a59c9cf21cb/8ffb1/15314815802685.webp 293w,
/static/caf974c0df29c381fc0a6a59c9cf21cb/17bf8/15314815802685.webp 585w,
/static/caf974c0df29c381fc0a6a59c9cf21cb/e2c1c/15314815802685.webp 1170w,
/static/caf974c0df29c381fc0a6a59c9cf21cb/cc386/15314815802685.webp 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/caf974c0df29c381fc0a6a59c9cf21cb/e25d4/15314815802685.jpg 293w,
/static/caf974c0df29c381fc0a6a59c9cf21cb/bc12b/15314815802685.jpg 585w,
/static/caf974c0df29c381fc0a6a59c9cf21cb/d8f19/15314815802685.jpg 1170w,
/static/caf974c0df29c381fc0a6a59c9cf21cb/03e5a/15314815802685.jpg 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/caf974c0df29c381fc0a6a59c9cf21cb/d8f19/15314815802685.jpg&quot;
          alt=&quot;15314815802685&quot;
          title=&quot;15314815802685&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex-direction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; column&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex-direction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; column-reverse&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lorsque nous changeons la direction du flex en colonne, la propriÃ©tÃ© &lt;strong&gt;flex-flow&lt;/strong&gt; se comporte exactement de la mÃªme maniÃ¨re que dans les exemples prÃ©cÃ©dents. Sauf cette fois, ils suivent la direction verticale dâ€™une colonne.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b42368a719fa2e5da2f4406e739d4295/d17c2/15314223335135.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 30.5%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAGABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAMF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAgP/2gAMAwEAAhADEAAAAdcKlwZ//8QAGBAAAwEBAAAAAAAAAAAAAAAAAAECERL/2gAIAQEAAQUCcPpTSFp//8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQMBAT8Bp//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABcQAAMBAAAAAAAAAAAAAAAAAAABESH/2gAIAQEABj8CtMaNP//EABkQAQACAwAAAAAAAAAAAAAAAAEAESFhsf/aAAgBAQABPyFiEdgQUyL1P//aAAwDAQACAAMAAAAQgB//xAAXEQADAQAAAAAAAAAAAAAAAAAAAREx/9oACAEDAQE/ELkHp//EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAgEBPxDar//EABoQAQEAAgMAAAAAAAAAAAAAAAERAEEhMVH/2gAIAQEAAT8QPYD0V8w+VbhcIaNo4z//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/b42368a719fa2e5da2f4406e739d4295/8ffb1/15314223335135.webp 293w,
/static/b42368a719fa2e5da2f4406e739d4295/17bf8/15314223335135.webp 585w,
/static/b42368a719fa2e5da2f4406e739d4295/e2c1c/15314223335135.webp 1170w,
/static/b42368a719fa2e5da2f4406e739d4295/b3c81/15314223335135.webp 1200w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/b42368a719fa2e5da2f4406e739d4295/e25d4/15314223335135.jpg 293w,
/static/b42368a719fa2e5da2f4406e739d4295/bc12b/15314223335135.jpg 585w,
/static/b42368a719fa2e5da2f4406e739d4295/d8f19/15314223335135.jpg 1170w,
/static/b42368a719fa2e5da2f4406e739d4295/d17c2/15314223335135.jpg 1200w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/b42368a719fa2e5da2f4406e739d4295/d8f19/15314223335135.jpg&quot;
          alt=&quot;15314223335135&quot;
          title=&quot;15314223335135&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex-wrap&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; wrap-reverse
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h1&gt;justify-content&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 800px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/91dac269a61c455e2310fc7d8a840a07/711ea/15314223514996.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 69.75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAECAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB3U4pYIX/xAAXEAADAQAAAAAAAAAAAAAAAAAAARAR/9oACAEBAAEFAqzJ/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGRABAQEBAQEAAAAAAAAAAAAAAQARIUFx/9oACAEBAAE/IX7akPIbafYOX//aAAwDAQACAAMAAAAQoM//xAAWEQADAAAAAAAAAAAAAAAAAAABEBH/2gAIAQMBAT8QNX//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAbEAEAAgMBAQAAAAAAAAAAAAABABEhMUFhkf/aAAgBAQABPxBo1Y9qCMAPV7Lgu/kUOaI4jlyCA3U//9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/91dac269a61c455e2310fc7d8a840a07/8ffb1/15314223514996.webp 293w,
/static/91dac269a61c455e2310fc7d8a840a07/17bf8/15314223514996.webp 585w,
/static/91dac269a61c455e2310fc7d8a840a07/7c639/15314223514996.webp 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/91dac269a61c455e2310fc7d8a840a07/e25d4/15314223514996.jpg 293w,
/static/91dac269a61c455e2310fc7d8a840a07/bc12b/15314223514996.jpg 585w,
/static/91dac269a61c455e2310fc7d8a840a07/711ea/15314223514996.jpg 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/91dac269a61c455e2310fc7d8a840a07/711ea/15314223514996.jpg&quot;
          alt=&quot;15314223514996&quot;
          title=&quot;15314223514996&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex-direction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;row&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;justify-content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; flex-start | flex-end | center | space-between | space-around | space-evenly&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Dans cet exemple, nous nâ€™utilisons que 3 Ã©lÃ©ments par ligne. Il nâ€™y a aucune limite sur le nombre dâ€™articles que vous souhaitez utiliser en flex. Ces diagrammes montrent uniquement le comportement des Ã©lÃ©ments lorsque lâ€™une des valeurs rÃ©pertoriÃ©es est appliquÃ©e Ã  la propriÃ©tÃ© &lt;strong&gt;justify-content&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 800px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0b38edf9a16a4b7a92d8d37f29dfa83d/711ea/15314223629978.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 69.75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAECAwX/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAQL/2gAMAwEAAhADEAAAAe3OiZZQv//EABkQAQACAwAAAAAAAAAAAAAAABEAARAhMf/aAAgBAQABBQJjquEMf//EABURAQEAAAAAAAAAAAAAAAAAABAh/9oACAEDAQE/Aaf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAZEAEBAQEBAQAAAAAAAAAAAAABEQAhMaH/2gAIAQEAAT8he097rOH5mtOabmyK6b//2gAMAwEAAgADAAAAEHMf/8QAFREBAQAAAAAAAAAAAAAAAAAAAQD/2gAIAQMBAT8QSF//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAbEAEBAQACAwAAAAAAAAAAAAABEQAhYUGR0f/aAAgBAQABPxBKDwHRlZN4tep9xpK1w1esKJXi3ADf/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/0b38edf9a16a4b7a92d8d37f29dfa83d/8ffb1/15314223629978.webp 293w,
/static/0b38edf9a16a4b7a92d8d37f29dfa83d/17bf8/15314223629978.webp 585w,
/static/0b38edf9a16a4b7a92d8d37f29dfa83d/7c639/15314223629978.webp 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/0b38edf9a16a4b7a92d8d37f29dfa83d/e25d4/15314223629978.jpg 293w,
/static/0b38edf9a16a4b7a92d8d37f29dfa83d/bc12b/15314223629978.jpg 585w,
/static/0b38edf9a16a4b7a92d8d37f29dfa83d/711ea/15314223629978.jpg 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/0b38edf9a16a4b7a92d8d37f29dfa83d/711ea/15314223629978.jpg&quot;
          alt=&quot;15314223629978&quot;
          title=&quot;15314223629978&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex-direction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;column&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;justify-content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; flex-start | flex-end | center | space-between | space-around | space-evenly&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;la mÃªme propiÃ©tÃ© &lt;strong&gt;justify-content&lt;/strong&gt; est utilisÃ©e pour aligner les Ã©lÃ©ments lorsque &lt;strong&gt;flex-direction&lt;/strong&gt; est en colonne.&lt;/p&gt;
&lt;h1&gt;Packing flex lines (selon la spÃ©cification Flex)&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/07e3bc026d912fed15180086928ffceb/03e5a/15314236292664.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 69.75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAECBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHemkjGH//EABgQAAIDAAAAAAAAAAAAAAAAAAABEBEx/9oACAEBAAEFAoWFCP/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABgQAQEBAQEAAAAAAAAAAAAAAAEAEUFh/9oACAEBAAE/IXRXmQ9JqVk1vTDDL//aAAwDAQACAAMAAAAQMB//xAAXEQADAQAAAAAAAAAAAAAAAAAAAREx/9oACAEDAQE/EIxYf//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABkQAQEBAQEBAAAAAAAAAAAAAAERACExUf/aAAgBAQABPxBIHnwe5Ao9PEcgFU05sjc09E+YTHZv/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/07e3bc026d912fed15180086928ffceb/8ffb1/15314236292664.webp 293w,
/static/07e3bc026d912fed15180086928ffceb/17bf8/15314236292664.webp 585w,
/static/07e3bc026d912fed15180086928ffceb/e2c1c/15314236292664.webp 1170w,
/static/07e3bc026d912fed15180086928ffceb/cc386/15314236292664.webp 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/07e3bc026d912fed15180086928ffceb/e25d4/15314236292664.jpg 293w,
/static/07e3bc026d912fed15180086928ffceb/bc12b/15314236292664.jpg 585w,
/static/07e3bc026d912fed15180086928ffceb/d8f19/15314236292664.jpg 1170w,
/static/07e3bc026d912fed15180086928ffceb/03e5a/15314236292664.jpg 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/07e3bc026d912fed15180086928ffceb/d8f19/15314236292664.jpg&quot;
          alt=&quot;15314236292664&quot;
          title=&quot;15314236292664&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex-direction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; row&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;align-content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; flex-start | flex-end | center | baseline | stretch&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;La spÃ©cification Flex se rÃ©fÃ¨re Ã  ceci comme â€&lt;strong&gt;packing flex lines&lt;/strong&gt;â€. Fondamentalement, cela fonctionne exactement comme les exemples que nous avons vu dans les images prÃ©cÃ©dentes. Sauf cette fois, notez que lâ€™espacement est entre les ensembles entiers dâ€™articles. Ceci est utile lorsque vous souhaitez crÃ©er des vides autour dâ€™un lot de plusieurs Ã©lÃ©ments.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/982add1c5d9ecef3a8a1d57b0742ca49/03e5a/15314236681469.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 69.75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAECAwX/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAQL/2gAMAwEAAhADEAAAAe5GiZoYv//EABkQAAMAAwAAAAAAAAAAAAAAAAABERASMf/aAAgBAQABBQJsouQ1x//EABURAQEAAAAAAAAAAAAAAAAAABAh/9oACAEDAQE/Aaf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAWEAEBAQAAAAAAAAAAAAAAAAABABH/2gAIAQEAAT8hYW0T0LO2xBhl/9oADAMBAAIAAwAAABBwH//EABYRAQEBAAAAAAAAAAAAAAAAAAEAMf/aAAgBAwEBPxBIZf/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABoQAQADAAMAAAAAAAAAAAAAAAEAITERQcH/2gAIAQEAAT8QCBqvYKp6iahITK7xLNYZjCf/2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/982add1c5d9ecef3a8a1d57b0742ca49/8ffb1/15314236681469.webp 293w,
/static/982add1c5d9ecef3a8a1d57b0742ca49/17bf8/15314236681469.webp 585w,
/static/982add1c5d9ecef3a8a1d57b0742ca49/e2c1c/15314236681469.webp 1170w,
/static/982add1c5d9ecef3a8a1d57b0742ca49/cc386/15314236681469.webp 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/982add1c5d9ecef3a8a1d57b0742ca49/e25d4/15314236681469.jpg 293w,
/static/982add1c5d9ecef3a8a1d57b0742ca49/bc12b/15314236681469.jpg 585w,
/static/982add1c5d9ecef3a8a1d57b0742ca49/d8f19/15314236681469.jpg 1170w,
/static/982add1c5d9ecef3a8a1d57b0742ca49/03e5a/15314236681469.jpg 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/982add1c5d9ecef3a8a1d57b0742ca49/d8f19/15314236681469.jpg&quot;
          alt=&quot;15314236681469&quot;
          title=&quot;15314236681469&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex-direction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; column&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;align-content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; flex-start | flex-end | center | baseline | stretch&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;Packing Flex Lines (suite.) Mais maintenant avec flex-direction: column.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;align-items&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f1f164a73d67c8557249c5edb416e0e1/03e5a/15314237212173.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 94.5625%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAATABQDASIAAhEBAxEB/8QAGQABAQEAAwAAAAAAAAAAAAAAAAECAwQF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAAID/9oADAMBAAIQAxAAAAH3M3jZ9hDSQTsK/8QAGRAAAwADAAAAAAAAAAAAAAAAAQIQABIx/9oACAEBAAEFAmrQcIzUT//EABYRAAMAAAAAAAAAAAAAAAAAAAEgMf/aAAgBAwEBPwE1P//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABsQAAEEAwAAAAAAAAAAAAAAAAAQESAxMkFC/9oACAEBAAY/AtnSU5jH/8QAGxAAAwACAwAAAAAAAAAAAAAAAAExEUEhkeH/2gAIAQEAAT8hy10FAoahyYCnRYPRQ//aAAwDAQACAAMAAAAQFMd8/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAEREP/aAAgBAwEBPxBoERXP/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPxAf/8QAHBAAAgMAAwEAAAAAAAAAAAAAAREAITFBUZHR/9oACAEBAAE/EEAb3r7GRhuZnuc7BJoesdSoTemdBVnUA0PpEQUfUBABgn//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/f1f164a73d67c8557249c5edb416e0e1/8ffb1/15314237212173.webp 293w,
/static/f1f164a73d67c8557249c5edb416e0e1/17bf8/15314237212173.webp 585w,
/static/f1f164a73d67c8557249c5edb416e0e1/e2c1c/15314237212173.webp 1170w,
/static/f1f164a73d67c8557249c5edb416e0e1/cc386/15314237212173.webp 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/f1f164a73d67c8557249c5edb416e0e1/e25d4/15314237212173.jpg 293w,
/static/f1f164a73d67c8557249c5edb416e0e1/bc12b/15314237212173.jpg 585w,
/static/f1f164a73d67c8557249c5edb416e0e1/d8f19/15314237212173.jpg 1170w,
/static/f1f164a73d67c8557249c5edb416e0e1/03e5a/15314237212173.jpg 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/f1f164a73d67c8557249c5edb416e0e1/d8f19/15314237212173.jpg&quot;
          alt=&quot;15314237212173&quot;
          title=&quot;15314237212173&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;align-items&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; flex-start | flex-end | center | baseline | stretch&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;align-items contrÃ´le lâ€™alignement des Ã©lÃ©ments horizontalement par rapport au conteneur parent&lt;/p&gt;
&lt;h1&gt;flex-basis&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/445f37e19ff507683b9213055f9de07b/03e5a/15314224014856.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 17.125%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAADABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAIDBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAC/9oADAMBAAIQAxAAAAHaiIvC/wD/xAAXEAADAQAAAAAAAAAAAAAAAAAAAQIh/9oACAEBAAEFArE9P//EABURAQEAAAAAAAAAAAAAAAAAABBB/9oACAEDAQE/Aaf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAY/An//xAAZEAABBQAAAAAAAAAAAAAAAAABABARITH/2gAIAQEAAT8h0Eakt//aAAwDAQACAAMAAAAQ98//xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAwEBPxBY/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAFxABAAMAAAAAAAAAAAAAAAAAAQARMf/aAAgBAQABPxBpTFjC6yGT/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/445f37e19ff507683b9213055f9de07b/8ffb1/15314224014856.webp 293w,
/static/445f37e19ff507683b9213055f9de07b/17bf8/15314224014856.webp 585w,
/static/445f37e19ff507683b9213055f9de07b/e2c1c/15314224014856.webp 1170w,
/static/445f37e19ff507683b9213055f9de07b/cc386/15314224014856.webp 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/445f37e19ff507683b9213055f9de07b/e25d4/15314224014856.jpg 293w,
/static/445f37e19ff507683b9213055f9de07b/bc12b/15314224014856.jpg 585w,
/static/445f37e19ff507683b9213055f9de07b/d8f19/15314224014856.jpg 1170w,
/static/445f37e19ff507683b9213055f9de07b/03e5a/15314224014856.jpg 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/445f37e19ff507683b9213055f9de07b/d8f19/15314224014856.jpg&quot;
          alt=&quot;15314224014856&quot;
          title=&quot;15314224014856&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.item&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex-basis&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &amp;lt;length&gt; | auto&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;/* default auto */&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;flex-basis&lt;/strong&gt; fonctionne de maniÃ¨re similaire Ã  une autre propriÃ©tÃ© CSS: min-width outside of flex. Il va augmenter la taille dâ€™un objet en fonction du contenu interne. Sinon, la valeur de base par dÃ©faut sera utilisÃ©e.&lt;/p&gt;
&lt;h1&gt;flex-grow&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 800px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7ae5235ba63ec3ae8e79b26298d0f3ba/711ea/15314224076177.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 36%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAHABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAdyCAf/EABYQAQEBAAAAAAAAAAAAAAAAAAAhIv/aAAgBAQABBQKq0//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/AUf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAY/An//xAAZEAADAAMAAAAAAAAAAAAAAAAAEVFBobH/2gAIAQEAAT8hV7Fj0VH/2gAMAwEAAgADAAAAEAQP/8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQMBAT8Qg//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABgQAAMBAQAAAAAAAAAAAAAAAAABIUGh/9oACAEBAAE/EFswk6Dy6P/Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/7ae5235ba63ec3ae8e79b26298d0f3ba/8ffb1/15314224076177.webp 293w,
/static/7ae5235ba63ec3ae8e79b26298d0f3ba/17bf8/15314224076177.webp 585w,
/static/7ae5235ba63ec3ae8e79b26298d0f3ba/7c639/15314224076177.webp 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/7ae5235ba63ec3ae8e79b26298d0f3ba/e25d4/15314224076177.jpg 293w,
/static/7ae5235ba63ec3ae8e79b26298d0f3ba/bc12b/15314224076177.jpg 585w,
/static/7ae5235ba63ec3ae8e79b26298d0f3ba/711ea/15314224076177.jpg 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/7ae5235ba63ec3ae8e79b26298d0f3ba/711ea/15314224076177.jpg&quot;
          alt=&quot;15314224076177&quot;
          title=&quot;15314224076177&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.item&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; none | [ &amp;lt;&lt;span class=&quot;token string&quot;&gt;&apos;flex-grow&apos;&lt;/span&gt;&gt; &amp;lt;&lt;span class=&quot;token string&quot;&gt;&apos;flex-shrink&apos;&lt;/span&gt;&gt;? || &amp;lt;&lt;span class=&quot;token string&quot;&gt;&apos;flex-basis&apos;&lt;/span&gt;&gt; ]
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;flex-grow&lt;/strong&gt;, lorsquâ€™il est appliquÃ© Ã  un Ã©lÃ©ment, il est mis Ã  lâ€™Ã©chelle par rapport Ã  la somme de la taille de tous les autres Ã©lÃ©ments de la mÃªme ligne, qui sont automatiquement ajustÃ©s en fonction de la valeur spÃ©cifiÃ©e. Dans chaque exemple, la valeur flex-grow de lâ€™Ã©lÃ©ment a Ã©tÃ© dÃ©finie sur 1, 7 et (3 et 5) dans le dernier exemple.&lt;/p&gt;
&lt;h1&gt;flex-shrink&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/26ad07529d3ea3e098238399b5d57e31/ed042/15314223926451.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 14.551607445008461%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAADABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAdwJQf/EABYQAAMAAAAAAAAAAAAAAAAAAAABEf/aAAgBAQABBQKIiIj/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAWEAADAAAAAAAAAAAAAAAAAAAAEDH/2gAIAQEABj8CUP/EABgQAAMBAQAAAAAAAAAAAAAAAAABYREx/9oACAEBAAE/IXtxEESH/9oADAMBAAIAAwAAABAH3//EABYRAAMAAAAAAAAAAAAAAAAAAAABEf/aAAgBAwEBPxCIiP/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABoQAAICAwAAAAAAAAAAAAAAAAABETFRwfH/2gAIAQEAAT8QQiqsHKFHoP/Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/26ad07529d3ea3e098238399b5d57e31/8ffb1/15314223926451.webp 293w,
/static/26ad07529d3ea3e098238399b5d57e31/17bf8/15314223926451.webp 585w,
/static/26ad07529d3ea3e098238399b5d57e31/e2c1c/15314223926451.webp 1170w,
/static/26ad07529d3ea3e098238399b5d57e31/d7ba1/15314223926451.webp 1755w,
/static/26ad07529d3ea3e098238399b5d57e31/0d1de/15314223926451.webp 1773w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/26ad07529d3ea3e098238399b5d57e31/e25d4/15314223926451.jpg 293w,
/static/26ad07529d3ea3e098238399b5d57e31/bc12b/15314223926451.jpg 585w,
/static/26ad07529d3ea3e098238399b5d57e31/d8f19/15314223926451.jpg 1170w,
/static/26ad07529d3ea3e098238399b5d57e31/fd9a8/15314223926451.jpg 1755w,
/static/26ad07529d3ea3e098238399b5d57e31/ed042/15314223926451.jpg 1773w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/26ad07529d3ea3e098238399b5d57e31/d8f19/15314223926451.jpg&quot;
          alt=&quot;15314223926451&quot;
          title=&quot;15314223926451&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.item&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex-shrink&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &amp;lt;number&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;/* default 1 */&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;flex-shrink est le contraire de flex-grow. Dans cet exemple, une valeur de 7 a Ã©tÃ© utilisÃ©e pour â€œrÃ©duireâ€ lâ€™Ã©lÃ©ment sÃ©lectionnÃ© dans la quantitÃ© Ã©gale Ã  1/7 de la taille de ses Ã©lÃ©ments environnants - qui seront Ã©galement ajustÃ©s automatiquement.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/47c3acb7a1f9204cb6634279b23065c8/e5861/15314239254436.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 12.605042016806722%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAADABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB3QUH/8QAFBABAAAAAAAAAAAAAAAAAAAAEP/aAAgBAQABBQJ//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAEP/aAAgBAQAGPwJ//8QAFBABAAAAAAAAAAAAAAAAAAAAEP/aAAgBAQABPyF//9oADAMBAAIAAwAAABDwD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABgQAAIDAAAAAAAAAAAAAAAAAAABIUGB/9oACAEBAAE/ELZonB//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/47c3acb7a1f9204cb6634279b23065c8/8ffb1/15314239254436.webp 293w,
/static/47c3acb7a1f9204cb6634279b23065c8/17bf8/15314239254436.webp 585w,
/static/47c3acb7a1f9204cb6634279b23065c8/e2c1c/15314239254436.webp 1170w,
/static/47c3acb7a1f9204cb6634279b23065c8/d7ba1/15314239254436.webp 1755w,
/static/47c3acb7a1f9204cb6634279b23065c8/849bc/15314239254436.webp 1785w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/47c3acb7a1f9204cb6634279b23065c8/e25d4/15314239254436.jpg 293w,
/static/47c3acb7a1f9204cb6634279b23065c8/bc12b/15314239254436.jpg 585w,
/static/47c3acb7a1f9204cb6634279b23065c8/d8f19/15314239254436.jpg 1170w,
/static/47c3acb7a1f9204cb6634279b23065c8/fd9a8/15314239254436.jpg 1755w,
/static/47c3acb7a1f9204cb6634279b23065c8/e5861/15314239254436.jpg 1785w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/47c3acb7a1f9204cb6634279b23065c8/d8f19/15314239254436.jpg&quot;
          alt=&quot;15314239254436&quot;
          title=&quot;15314239254436&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Lorsque vous traitez des Ã©lÃ©ments individuels, vous pouvez utiliser la propriÃ©tÃ© flex comme raccourci pour &lt;strong&gt;flex-grow&lt;/strong&gt;, &lt;strong&gt;flex-shrink&lt;/strong&gt; et &lt;strong&gt;flex-basis&lt;/strong&gt; en utilisant un seul nom de propiÃ©tÃ©.&lt;/p&gt;
&lt;h1&gt;order&lt;/h1&gt;
&lt;p&gt;En utilisant la propriÃ©tÃ© order, il est possible de rÃ©organiser lâ€™ordre naturel des objets.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 800px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b8d23ff6b558a36b500a7d2512827e38/711ea/15314224155902.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 95.375%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAATABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAECAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAABAP/aAAwDAQACEAMQAAAB9yWBsNnIPQN//8QAFhABAQEAAAAAAAAAAAAAAAAAARAx/9oACAEBAAEFAmGMMYZ//8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAFxAAAwEAAAAAAAAAAAAAAAAAABBBIP/aAAgBAQAGPwIqpc//xAAdEAACAgEFAAAAAAAAAAAAAAAAMRCBcQERIVHB/9oACAEBAAE/IW1ccljeI5rGNub7FH//2gAMAwEAAgADAAAAEBAfAP/EABgRAAIDAAAAAAAAAAAAAAAAAAABECEx/9oACAEDAQE/EGLB3H//xAAXEQEBAQEAAAAAAAAAAAAAAAABECEx/9oACAECAQE/EDsAHJ//xAAdEAACAgIDAQAAAAAAAAAAAAAAASExEUFhgeFx/9oACAEBAAE/EESdPhCSThWKvQWTz8sZy6SdFHoJPox2dtjlds//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/b8d23ff6b558a36b500a7d2512827e38/8ffb1/15314224155902.webp 293w,
/static/b8d23ff6b558a36b500a7d2512827e38/17bf8/15314224155902.webp 585w,
/static/b8d23ff6b558a36b500a7d2512827e38/7c639/15314224155902.webp 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/b8d23ff6b558a36b500a7d2512827e38/e25d4/15314224155902.jpg 293w,
/static/b8d23ff6b558a36b500a7d2512827e38/bc12b/15314224155902.jpg 585w,
/static/b8d23ff6b558a36b500a7d2512827e38/711ea/15314224155902.jpg 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/b8d23ff6b558a36b500a7d2512827e38/711ea/15314224155902.jpg&quot;
          alt=&quot;15314224155902&quot;
          title=&quot;15314224155902&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.item&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &amp;lt;integer&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;/* default is 0 */&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h1&gt;justify-items&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9c7f3e8c6fba55b25f59e45632d9ba52/03e5a/15314224258603.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50.5%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAgABBf/EABYBAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAAB7aOsqMv/xAAXEAADAQAAAAAAAAAAAAAAAAAAICFB/9oACAEBAAEFAqmH/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAHhAAAQMEAwAAAAAAAAAAAAAAAAERQRAhMWFxgZH/2gAIAQEAAT8hbQjHlGv2IVjg/9oADAMBAAIAAwAAABD3z//EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAwEBPxCVr//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABwQAAIBBQEAAAAAAAAAAAAAAAABMREhQXGxUf/aAAgBAQABPxDBwUSqd0ti3jKMFLhDp8IaD//Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/9c7f3e8c6fba55b25f59e45632d9ba52/8ffb1/15314224258603.webp 293w,
/static/9c7f3e8c6fba55b25f59e45632d9ba52/17bf8/15314224258603.webp 585w,
/static/9c7f3e8c6fba55b25f59e45632d9ba52/e2c1c/15314224258603.webp 1170w,
/static/9c7f3e8c6fba55b25f59e45632d9ba52/cc386/15314224258603.webp 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/9c7f3e8c6fba55b25f59e45632d9ba52/e25d4/15314224258603.jpg 293w,
/static/9c7f3e8c6fba55b25f59e45632d9ba52/bc12b/15314224258603.jpg 585w,
/static/9c7f3e8c6fba55b25f59e45632d9ba52/d8f19/15314224258603.jpg 1170w,
/static/9c7f3e8c6fba55b25f59e45632d9ba52/03e5a/15314224258603.jpg 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/9c7f3e8c6fba55b25f59e45632d9ba52/d8f19/15314224258603.jpg&quot;
          alt=&quot;15314224258603&quot;
          title=&quot;15314224258603&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.item&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;justify-items&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; auto | stretch | center | start | end&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Conteneuriser des applications Node.js avec Docker]]></title><description><![CDATA[Les conteneurs dâ€™applications ont Ã©mergÃ© comme un outil puissant dans le dÃ©veloppement de logiciels modernes. Plus lÃ©gers et plus Ã©conomes en ressources que les machines virtuelles traditionnelles, les conteneurs offrent aux organisations informatiques de nouvelles opportunitÃ©s dans le contrÃ´le de version, le dÃ©ploiement, la graduation (scaling) et la sÃ©curitÃ©. Ce post traitera de ce que sont exactement les conteneurs, pourquoi ils se rÃ©vÃ¨lent si avantageux, comment les utilisateurs les utilisent et des meilleures pratiques pour conteneuriser vos applications Node.js avec Docker. Quâ€™est-ce quâ€™un conteneur ? En termes simples, les conteneurs exÃ©cutent des instances dâ€™ images de conteneur. Les images sont des alternatives en couches aux disques de machines virtuelles (VMD) qui permettent aux applications dâ€™Ãªtre extraites de lâ€™environnement dans lequel elles sont rÃ©ellement exÃ©cutÃ©es. Les images conteneur sont exÃ©cutables, logiciel isolÃ© avec accÃ¨s aux ressources de lâ€™hÃ´te, au rÃ©seau et au systÃ¨me de fichiers. Ces images sont crÃ©Ã©es avec leurs propres outils systÃ¨me, bibliothÃ¨ques, code, environnement dâ€™exÃ©cution et dÃ©pendances associÃ©es codÃ©es en dur. Cela permet aux conteneurs dâ€™Ãªtre filÃ©s indÃ©pendamment de lâ€™environnement. Cette approche â€œtout-en-unâ€ aide Ã  rÃ©soudre les problÃ¨mes dâ€™application indÃ©pendante, en amÃ©liorant la sÃ©curitÃ© des systÃ¨mes et en facilitant le dÃ©bogage. Contrairement aux machines virtuelles traditionnelles, les images de conteneur donnent Ã  chacune de ses instances un accÃ¨s partagÃ© au systÃ¨me dâ€™exploitation hÃ´te via une exÃ©cution de conteneur. Cet accÃ¨s partagÃ© aux ressources du systÃ¨me hÃ´te permet dâ€™obtenir des performances et des ressources qui ne sont pas trouvÃ©es dans dâ€™autres mÃ©thodes de virtualisation.  Imaginez une image de conteneur qui nÃ©cessite 500 Mo. Dans un environnement conteneurisÃ©, ces 500 Mo peuvent Ãªtre partagÃ©s entre des centaines de conteneurs en supposant quâ€™ils fonctionnent tous sur la mÃªme image de base. Dâ€™un autre cÃ´tÃ©, les machines virtuelles auraient besoin de 500 Mo par machine virtuelle . Cela rend les conteneurs beaucoup plus adaptÃ©s aux horizontal scaling et aux environnements restreints aux ressources. Pourquoi les conteneurs dâ€™applications ? La lÃ©gÃ¨retÃ© et la reproductibilitÃ© des conteneurs en ont fait une option de plus en plus utilisÃ©e par les entreprises souhaitant dÃ©velopper des applications logicielles Ã©volutives, hautement disponibles et contrÃ´lÃ©es par les versions. Les conteneurs offrent plusieurs avantages clÃ©s aux dÃ©veloppeurs: LÃ©ger et Ã©conome en ressources. Par rapport aux machines virtuelles, qui gÃ©nÃ¨rent des copies de leur systÃ¨me dâ€™exploitation hÃ´te pour chaque application ou processus, les conteneurs ont nettement moins dâ€™impact sur la mÃ©moire, lâ€™utilisation du processeur et lâ€™espace disque. Immuable. Les conteneurs sont gÃ©nÃ©rÃ©s Ã  partir dâ€™une seule source vÃ©rifiÃ©e, une image. Si des modifications sont validÃ©es sur une image, une nouvelle image est crÃ©Ã©e . Cela rend les changements dâ€™image de conteneur faciles Ã  suivre et les restaurations de dÃ©ploiement intuitives. La reproductibilitÃ© et la stabilitÃ© des conteneurs permettent aux Ã©quipes de dÃ©veloppement dâ€™Ã©viter la dÃ©rive de la configuration, ce qui simplifie considÃ©rablement le test de version et la mise en miroir des environnements de dÃ©veloppement et de production. Portable. La nature isolÃ©e et autonome des conteneurs en fait un excellent choix pour les applications qui doivent fonctionner sur une multitude de services, de plates-formes et dâ€™environnements. Ils peuvent fonctionner sous Linux, Windows et macOS. Fournissez-les depuis le cloud, sur site ou lÃ  oÃ¹ votre infrastructure lâ€™exige. Ã‰volutif et hautement disponible. Les conteneurs sont facilement reproductibles et peuvent rÃ©pondre dynamiquement aux demandes de trafic, grÃ¢ce aux services dâ€™orchestration tels que les instances de conteneur Azure, Google Cloud Engine et Amazon ECS, qui facilitent et accÃ©lÃ¨rent la crÃ©ation ou le retrait de conteneurs de votre infrastructure. Cas dâ€™utilisation de conteneurs dâ€™applications Toutes les applications et les organisations nâ€™auront pas les mÃªmes besoins en infrastructure. Les avantages susmentionnÃ©s des conteneurs les rendent particuliÃ¨rement aptes Ã  rÃ©pondre aux besoins suivant: DEVOPS ORGANISATIONS Pour les Ã©quipes qui travaillent Ã  pratiquer Â«lâ€™infrastructure comme codeÂ» et qui cherchent Ã  adopter le paradigme DevOps, les conteneurs offrent des opportunitÃ©s inÃ©galÃ©es. Leur portabilitÃ©, leur rÃ©sistance Ã  la dÃ©rive de configuration et leur temps de dÃ©marrage rapide font des conteneurs un excellent outil pour tester rapidement et de maniÃ¨re reproductible diffÃ©rents environnements de code, indÃ©pendamment de la machine ou de lâ€™emplacement. MICROSERVICE ET ARCHITECTURES DISTRIBUÃ‰ES Une expression courante dans le dÃ©veloppement de microservices est Â«faites une chose et faites-le bienÂ», et cela sâ€™harmonise Ã©troitement avec les conteneurs dâ€™applications. Les conteneurs offrent un excellent moyen dâ€™envelopper les microservices et de les isoler de lâ€™environnement dâ€™application plus large. Ceci est trÃ¨s utile lorsque vous souhaitez mettre Ã  jour des (micro-) services spÃ©cifiques dâ€™une suite dâ€™applications sans mettre Ã  jour lâ€™ensemble de lâ€™application. TESTS A / B Les conteneurs facilitent le dÃ©ploiement de plusieurs versions de la mÃªme application. Lorsquâ€™ils sont associÃ©s Ã  des dÃ©ploiements incrÃ©mentaux , les conteneurs peuvent maintenir votre application dans un Ã©tat dynamique et rÃ©actif aux tests. Voulez-vous tester une nouvelle fonctionnalitÃ© de performance? Faites dÃ©filer un nouveau conteneur, ajoutez des mises Ã  jour, acheminez 1% du trafic vers celui-ci et collectez des commentaires sur les utilisateurs et les performances. Ã€ mesure que les changements se stabilisent et que votre Ã©quipe dÃ©cide de lâ€™appliquer Ã  lâ€™application en gÃ©nÃ©ral, les conteneurs peuvent rendre cette transition fluide et efficace. Conteneurs et Node.js En raison de la pertinence des conteneurs dâ€™applications pour les environnements dâ€™application ciblÃ©s, Node.js est sans doute le meilleur moteur dâ€™exÃ©cution pour la conteneurisation. DÃ©pendances explicites. Les applications Node.js conteneurisÃ©es peuvent verrouiller les arborescences de dÃ©pendance et gÃ©rer des fichiers stables package.json , package-lock.json ou npm-shrinkwrap.json . DÃ©marrage rapide et redÃ©marrage. Les conteneurs sont lÃ©gers et dÃ©marrent rapidement, ce qui en fait une paire stratÃ©gique pour les applications Node.js. Lâ€™une des fonctionnalitÃ©s les plus apprÃ©ciÃ©es de Node.js est son temps de dÃ©marrage impressionnant. Cette performance de dÃ©marrage robuste obtient des processus terminÃ©s redÃ©marrÃ©s rapidement et les applications stabilisÃ©es; La conteneurisation fournit une solution Ã©volutive pour maintenir cette performance. Scaling au niveau du processus. Semblable Ã  la meilleure pratique de Node.js consistant Ã  faire tourner plus de processus au lieu de plus de threads, un environnement conteneurisÃ© augmentera le nombre de processus en augmentant le nombre de conteneurs. Cet horizontal scaling crÃ©e de la redondance et permet de maintenir les applications hautement disponibles, sans le coÃ»t significatif des ressources dâ€™une nouvelle machine virtuelle par processus. Dockeriser votre application Node.js PrÃ©sentation de Docker Docker est un systÃ¨me de fichiers en couches pour lâ€™envoi dâ€™images, et permet aux organisations dâ€™abstraire leurs applications de leur infrastructure. Avec Docker, les images sont gÃ©nÃ©rÃ©es via un fichier Docker. Ce fichier fournit des configurations et des commandes pour gÃ©nÃ©rer des images par programme. Chaque commande Docker dans un Dockerfile ajoute un â€˜calqueâ€™. Plus il y a de couches, plus le conteneur rÃ©sultant est grand. Voici un exemple simple de Dockerfile:  La commande FROM dÃ©signe lâ€™image de base qui sera utilisÃ©e; dans ce cas, il sâ€™agit de lâ€™image de la ligne de lancement Node.js 8 LTS. La commande RUN prend les commandes bash comme arguments. Dans la ligne 2, nous crÃ©ons un rÃ©pertoire pour placer lâ€™application Node.js. La ligne 3 indique Ã  Docker que le rÃ©pertoire de travail pour chaque commande aprÃ¨s la ligne 3 sera le rÃ©pertoire de lâ€™application. La ligne 5 copie tout le rÃ©pertoire courant dans le rÃ©pertoire courant de lâ€™image, qui est /home/nodejs/app prÃ©cÃ©demment dÃ©fini par la commande WORKDIR de maniÃ¨re similaire. Sur la ligne 6, nous installons lâ€™installation de production. Enfin, sur la ligne 8, nous transmettons Ã  Docker une commande et un argument pour exÃ©cuter lâ€™application Node.js Ã  lâ€™intÃ©rieur du conteneur. Lâ€™exemple ci-dessus fournit un Dockerfile de base, mais finalement problÃ©matique. Dans la section suivante, nous examinerons certaines des meilleures pratiques de Dockerfile pour exÃ©cuter Node.js en production. Meilleures pratiques Dockerfile NE PAS EXÃ‰CUTER Lâ€™APPLICATION EN TANT QUE ROOT Assurez-vous que lâ€™application exÃ©cutÃ©e dans le conteneur Docker nâ€™est pas exÃ©cutÃ©e en tant que root.  Dans lâ€™exemple ci-dessus, quelques lignes de code ont Ã©tÃ© ajoutÃ©es Ã  lâ€™exemple Dockerfile dâ€™origine pour extraire lâ€™image de la derniÃ¨re version LTS de Node.js, ainsi que pour ajouter et dÃ©finir un nouvel utilisateur, nodejs . De cette faÃ§on, dans le cas oÃ¹ une vulnÃ©rabilitÃ© de lâ€™application est exploitÃ©e, et que quelquâ€™un rÃ©ussit Ã  entrer dans le conteneur au niveau du systÃ¨me, au mieux, ce sont des utilisateurs nodejs qui nâ€™ont pas dâ€™autorisations root et nâ€™existent pas sur lâ€™hÃ´te. CACHE NODE_MODULES Docker construit chaque ligne dâ€™un Dockerfile individuellement. Cela forme les â€œcouchesâ€ de lâ€™image Docker. Au fur et Ã  mesure quâ€™une image est construite, Docker met en cache chaque couche.  Sur la ligne 9 du Dockerfile ci-dessus, le fichier package.json est copiÃ© dans le rÃ©pertoire de travail Ã©tabli sur la ligne 7. AprÃ¨s le npm install sur la ligne 10, la ligne 11 copie le rÃ©pertoire courant dans le rÃ©pertoire de travail (lâ€™image). Si aucune modification nâ€™est apportÃ©e Ã  votre package.json , Docker ne reconstruira pas la couche dâ€™image npm install, ce qui peut considÃ©rablement amÃ©liorer les temps de construction. CONFIGUREZ VOTRE ENVIRONNEMENT Il est important de dÃ©finir explicitement les variables dâ€™environnement que votre application Node.js sâ€™attend Ã  rester constante tout au long du cycle de vie du conteneur.  DockerHub fournit une ressource centralisÃ©e pour la dÃ©couverte dâ€™images de conteneur, la distribution et la gestion des modifications, la collaboration entre utilisateurs et Ã©quipes et lâ€™automatisation du flux de travail tout au long du pipeline de dÃ©veloppementâ€™.
Pour associer la CLI Docker Ã  votre compte DockerHub, utilisez la docker login  docker login [OPTIONS] [SERVER] : docker login [OPTIONS] [SERVER] COMPTES GITHUB PRIVÃ‰S ET MODULES NPM Docker exÃ©cute ses builds Ã  lâ€™intÃ©rieur dâ€™un sandbox et cet environnement sandbox nâ€™a pas accÃ¨s Ã  des informations telles que les clÃ©s ssh ou les informations dâ€™identification npm. Pour contourner cette contrainte, quelques options recommandÃ©es sont disponibles pour les dÃ©veloppeurs: Stocker les clÃ©s et les informations dâ€™identification sur le systÃ¨me CI / CD. Les problÃ¨mes de sÃ©curitÃ© dâ€™avoir des informations dâ€™identification sensibles Ã  lâ€™intÃ©rieur de la construction Docker peuvent Ãªtre Ã©vitÃ©s entiÃ¨rement en ne les mettant jamais lÃ  en premier lieu. Au lieu de cela, stockez-les et rÃ©cupÃ©rez-les dans le systÃ¨me CI / CD de votre infrastructure, et copiez manuellement les dÃ©pendances privÃ©es dans lâ€™image. Utilisez un serveur npm interne. Ã€ lâ€™aide dâ€™un outil comme Verdaccio, configurez un proxy npm qui garde le flux des modules internes et des informations dâ€™ identification privÃ©es . SOYEZ EXPLICITE AVEC LES TAGS Les balises aident Ã  diffÃ©rencier les diffÃ©rentes versions dâ€™images. Les balises peuvent Ãªtre utilisÃ©es pour identifier les builds, les Ã©quipes qui travaillent sur lâ€™image et littÃ©ralement toute autre dÃ©signation utile Ã  une organisation pour gÃ©rer le dÃ©veloppement des images. Si aucune balise nâ€™est ajoutÃ©e explicitement, Docker assignera une balise par dÃ©faut Ã  latest aprÃ¨s la docker build. En tant que tag, le dÃ©veloppement est le latest en date, mais peut Ãªtre trÃ¨s problÃ©matique dans les environnements de production et de mise en scÃ¨ne. Pour Ã©viter les problÃ¨mes latest , soyez explicites avec vos balises de construction. Voici un exemple de script attribuant des balises avec des variables dâ€™environnement pour le git sha, le nom de la branche et le numÃ©ro de build de la construction, tous les trois pouvant Ãªtre trÃ¨s utiles dans la gestion des versions, du dÃ©bogage et du dÃ©ploiement:  En savoir plus sur le marquage ici. Conteneurs et gestion des processus Les conteneurs sont conÃ§us pour Ãªtre lÃ©gers et bien adaptÃ©s au niveau du processus, ce qui contribue Ã  simplifier la gestion des processus: si le processus se termine, le conteneur se ferme. Cependant, cette cartographie 1:1 est une idÃ©alisation qui nâ€™est pas toujours maintenue dans la pratique. Comme les conteneurs Docker ne sont pas fournis avec un gestionnaire de processus, ajoutez un outil pour une gestion simple des processus. dumb-init de Yelp est un superviseur de processus simple et lÃ©ger et un systÃ¨me dâ€™initialisation conÃ§u pour fonctionner en tant que PID 1 dans des environnements de conteneur. Cette dÃ©signation PID 1 pour le processus dumb-init est normalement affectÃ©e Ã  un conteneur Linux en cours dâ€™exÃ©cution et possÃ¨de ses propres idiosyncrasies de signalisation du noyau qui compliquent la gestion des processus. Dumb-init fournit un niveau dâ€™abstraction qui lui permet dâ€™agir comme un proxy de signal, assurant le comportement attendu du processus. Ce quâ€™il faut inclure dans vos conteneurs dâ€™applications Le principal avantage des conteneurs est quâ€™ils ne fournissent que ce qui est nÃ©cessaire. Gardez cela Ã  lâ€™esprit lorsque vous ajoutez des calques Ã  vos images. Voici une liste de contrÃ´le Ã  inclure lors de la crÃ©ation dâ€™images de conteneur: Votre code dâ€™application et ses dÃ©pendances. Variables dâ€™environnement nÃ©cessaires. Un proxy de signal simple pour la gestion de processus, comme dumb-init.
Câ€™est tout. Conclusion Les conteneurs sont une solution de virtualisation moderne mieux adaptÃ©e aux infrastructures nÃ©cessitant un partage efficace des ressources, des dÃ©lais de dÃ©marrage rapides et une mise Ã  lâ€™Ã©chelle rapide. Les organisations DevOps utilisent des conteneurs dâ€™applications pour implÃ©menter â€˜lâ€™infrastructure en tant que codeâ€™, des Ã©quipes dÃ©veloppant des microservices et sâ€™appuyant sur des architectures distribuÃ©es et des groupes dâ€™assurance qualitÃ© (QA) tirant parti de stratÃ©gies telles que les tests A/B et les dÃ©ploiements incrÃ©mentaux en production. Tout comme lâ€™approche recommandÃ©e pour Node.js monothread est 1 processus: 1 application, la meilleure pratique pour les conteneurs dâ€™applications est 1 processus: 1 conteneur. Cette relation en miroir fait sans doute de Node.js lâ€™environnement dâ€™exÃ©cution le plus appropriÃ© pour le dÃ©veloppement de conteneurs. Docker est une plate-forme ouverte pour le dÃ©veloppement, lâ€™expÃ©dition et lâ€™exÃ©cution dâ€™applications conteneurisÃ©es. Docker vous permet de sÃ©parer vos applications de votre infrastructure afin de pouvoir livrer des logiciels rapidement. Lorsque vous utilisez Docker avec Node.js, gardez Ã  lâ€™esprit: Ne lancez pas lâ€™application en tant que root Cache node_modules Utilisez votre systÃ¨me CI / CD ou un serveur interne pour conserver les informations dâ€™identification sensibles hors de lâ€™image du conteneur Soyez explicite avec les balises de construction Gardez les rÃ©cipients lÃ©gers !]]></description><link>https://ludovicwyffels.dev/docker-nodejs/</link><guid isPermaLink="false">https://ludovicwyffels.dev/docker-nodejs/</guid><pubDate>Fri, 11 May 2018 08:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Les conteneurs dâ€™applications ont Ã©mergÃ© comme un outil puissant dans le dÃ©veloppement de logiciels modernes. Plus lÃ©gers et plus Ã©conomes en ressources que les machines virtuelles traditionnelles, les conteneurs offrent aux organisations informatiques de nouvelles opportunitÃ©s dans le contrÃ´le de version, le dÃ©ploiement, la graduation (scaling) et la sÃ©curitÃ©.&lt;/p&gt;
&lt;p&gt;Ce post traitera de ce que sont exactement les conteneurs, pourquoi ils se rÃ©vÃ¨lent si avantageux, comment les utilisateurs les utilisent et des meilleures pratiques pour conteneuriser vos applications Node.js avec Docker.&lt;/p&gt;
&lt;h2&gt;Quâ€™est-ce quâ€™un conteneur ?&lt;/h2&gt;
&lt;p&gt;En termes simples, les conteneurs &lt;strong&gt;exÃ©cutent des instances dâ€™ images de conteneur&lt;/strong&gt;. Les images sont des alternatives en couches aux disques de machines virtuelles (VMD) qui permettent aux applications dâ€™Ãªtre extraites de lâ€™environnement dans lequel elles sont rÃ©ellement exÃ©cutÃ©es. Les images conteneur sont exÃ©cutables, logiciel isolÃ© avec accÃ¨s aux ressources de lâ€™hÃ´te, au rÃ©seau et au systÃ¨me de fichiers. Ces images sont crÃ©Ã©es avec leurs propres outils systÃ¨me, bibliothÃ¨ques, code, environnement dâ€™exÃ©cution et dÃ©pendances associÃ©es codÃ©es en dur. Cela permet aux conteneurs dâ€™Ãªtre filÃ©s indÃ©pendamment de lâ€™environnement. Cette approche â€œtout-en-unâ€ aide Ã  rÃ©soudre les problÃ¨mes dâ€™application indÃ©pendante, en amÃ©liorant la sÃ©curitÃ© des systÃ¨mes et en facilitant le dÃ©bogage.&lt;/p&gt;
&lt;p&gt;Contrairement aux machines virtuelles traditionnelles, les images de conteneur donnent Ã  chacune de ses instances un accÃ¨s partagÃ© au systÃ¨me dâ€™exploitation hÃ´te via une exÃ©cution de conteneur. Cet accÃ¨s partagÃ© aux ressources du systÃ¨me hÃ´te permet dâ€™obtenir des performances et des ressources qui ne sont pas trouvÃ©es dans dâ€™autres mÃ©thodes de virtualisation.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/eeb2dd2a094646b08033d318d1f85001/3112c/vm-vs-containers.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAABFElEQVQoz6VS7W4EIQjc93/WO9ddBATB67h77Y+mSZOW+DHADBJ1e/3DNsyYERmZ+QYTAFvMOX8Rg/SspdS9MmYtx37IWY6KoJiC4TFHTlTCukDOO/IWU2vcmKRhB2h9rUTNh3cfz30H3knKXo+TKivOAIJ+iU9Qm5xLrI2VlBtcYhtuI+pJxEJiB2owaFaJIIklnkHWMJpL0frQHaAZH50szPN19miWh+aDR+Fx9qQOCW5ntZ02hl9D1ES7+8LmHsumWbhntxAZqoinXyNxMpbF9mHmLCpQd/S73HX1kQDDQ7utrGK3mw/hhvfIy8YYrMoi7n4H52V3Fj3wVTg/Dant69HgmBkKg/fjqyKLA75/kj/bB4nJhY/JKPpZAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/eeb2dd2a094646b08033d318d1f85001/8ffb1/vm-vs-containers.webp 293w,
/static/eeb2dd2a094646b08033d318d1f85001/17bf8/vm-vs-containers.webp 585w,
/static/eeb2dd2a094646b08033d318d1f85001/e2c1c/vm-vs-containers.webp 1170w,
/static/eeb2dd2a094646b08033d318d1f85001/6ce15/vm-vs-containers.webp 1440w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/eeb2dd2a094646b08033d318d1f85001/f93ee/vm-vs-containers.png 293w,
/static/eeb2dd2a094646b08033d318d1f85001/8c0a8/vm-vs-containers.png 585w,
/static/eeb2dd2a094646b08033d318d1f85001/e1668/vm-vs-containers.png 1170w,
/static/eeb2dd2a094646b08033d318d1f85001/3112c/vm-vs-containers.png 1440w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/eeb2dd2a094646b08033d318d1f85001/e1668/vm-vs-containers.png&quot;
          alt=&quot;Virtual Machines vs Containers&quot;
          title=&quot;Virtual Machines vs Containers&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Imaginez une image de conteneur qui nÃ©cessite 500 Mo. Dans un environnement conteneurisÃ©, ces 500 Mo peuvent Ãªtre partagÃ©s entre des centaines de conteneurs en supposant quâ€™ils fonctionnent tous sur la mÃªme image de base. Dâ€™un autre cÃ´tÃ©, les machines virtuelles auraient besoin de 500 Mo par machine virtuelle . Cela rend les conteneurs beaucoup plus adaptÃ©s aux &lt;em&gt;horizontal scaling&lt;/em&gt; et aux environnements restreints aux ressources.&lt;/p&gt;
&lt;h2&gt;Pourquoi les conteneurs dâ€™applications ?&lt;/h2&gt;
&lt;p&gt;La lÃ©gÃ¨retÃ© et la reproductibilitÃ© des conteneurs en ont fait une option de plus en plus utilisÃ©e par les entreprises souhaitant dÃ©velopper des applications logicielles Ã©volutives, hautement disponibles et contrÃ´lÃ©es par les versions.&lt;/p&gt;
&lt;p&gt;Les conteneurs offrent plusieurs avantages clÃ©s aux dÃ©veloppeurs:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;LÃ©ger et Ã©conome en ressources&lt;/strong&gt;. Par rapport aux machines virtuelles, qui gÃ©nÃ¨rent des copies de leur systÃ¨me dâ€™exploitation hÃ´te pour chaque application ou processus, les conteneurs ont nettement moins dâ€™impact sur la mÃ©moire, lâ€™utilisation du processeur et lâ€™espace disque.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Immuable&lt;/strong&gt;. Les conteneurs sont gÃ©nÃ©rÃ©s Ã  partir dâ€™une seule source vÃ©rifiÃ©e, une image. Si des modifications sont validÃ©es sur une image, une nouvelle image est crÃ©Ã©e . Cela rend les changements dâ€™image de conteneur faciles Ã  suivre et les restaurations de dÃ©ploiement intuitives. La reproductibilitÃ© et la stabilitÃ© des conteneurs permettent aux Ã©quipes de dÃ©veloppement dâ€™Ã©viter la dÃ©rive de la configuration, ce qui simplifie considÃ©rablement le test de version et la mise en miroir des environnements de dÃ©veloppement et de production.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Portable&lt;/strong&gt;. La nature isolÃ©e et autonome des conteneurs en fait un excellent choix pour les applications qui doivent fonctionner sur une multitude de services, de plates-formes et dâ€™environnements. Ils peuvent fonctionner sous Linux, Windows et macOS. Fournissez-les depuis le cloud, sur site ou lÃ  oÃ¹ votre infrastructure lâ€™exige.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Ã‰volutif et hautement disponible&lt;/strong&gt;. Les conteneurs sont facilement reproductibles et peuvent rÃ©pondre dynamiquement aux demandes de trafic, grÃ¢ce aux services dâ€™orchestration tels que les instances de conteneur &lt;a href=&quot;https://azure.microsoft.com/en-us/services/container-instances/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Azure&lt;/a&gt;, &lt;a href=&quot;https://cloud.google.com/compute/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Google Cloud Engine&lt;/a&gt; et &lt;a href=&quot;https://aws.amazon.com/ecs/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Amazon ECS&lt;/a&gt;, qui facilitent et accÃ©lÃ¨rent la crÃ©ation ou le retrait de conteneurs de votre infrastructure.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Cas dâ€™utilisation de conteneurs dâ€™applications&lt;/h2&gt;
&lt;p&gt;Toutes les applications et les organisations nâ€™auront pas les mÃªmes besoins en infrastructure. Les avantages susmentionnÃ©s des conteneurs les rendent particuliÃ¨rement aptes Ã  rÃ©pondre aux besoins suivant:&lt;/p&gt;
&lt;h3&gt;DEVOPS ORGANISATIONS&lt;/h3&gt;
&lt;p&gt;Pour les Ã©quipes qui travaillent Ã  pratiquer Â«lâ€™infrastructure comme codeÂ» et qui cherchent Ã  adopter le paradigme DevOps, les conteneurs offrent des opportunitÃ©s inÃ©galÃ©es. Leur portabilitÃ©, leur rÃ©sistance Ã  la dÃ©rive de configuration et leur temps de dÃ©marrage rapide font des conteneurs un excellent outil pour tester rapidement et de maniÃ¨re reproductible diffÃ©rents environnements de code, indÃ©pendamment de la machine ou de lâ€™emplacement.&lt;/p&gt;
&lt;h3&gt;MICROSERVICE ET ARCHITECTURES DISTRIBUÃ‰ES&lt;/h3&gt;
&lt;p&gt;Une expression courante dans le dÃ©veloppement de microservices est Â«faites une chose et faites-le bienÂ», et cela sâ€™harmonise Ã©troitement avec les conteneurs dâ€™applications. Les conteneurs offrent un excellent moyen dâ€™envelopper les microservices et de les isoler de lâ€™environnement dâ€™application plus large. Ceci est trÃ¨s utile lorsque vous souhaitez mettre Ã  jour des (micro-) services spÃ©cifiques dâ€™une suite dâ€™applications sans mettre Ã  jour lâ€™ensemble de lâ€™application.&lt;/p&gt;
&lt;h3&gt;TESTS A / B&lt;/h3&gt;
&lt;p&gt;Les conteneurs facilitent le dÃ©ploiement de plusieurs versions de la mÃªme application. Lorsquâ€™ils sont associÃ©s Ã  des dÃ©ploiements incrÃ©mentaux , les conteneurs peuvent maintenir votre application dans un Ã©tat dynamique et rÃ©actif aux tests. Voulez-vous tester une nouvelle fonctionnalitÃ© de performance? Faites dÃ©filer un nouveau conteneur, ajoutez des mises Ã  jour, acheminez 1% du trafic vers celui-ci et collectez des commentaires sur les utilisateurs et les performances. Ã€ mesure que les changements se stabilisent et que votre Ã©quipe dÃ©cide de lâ€™appliquer Ã  lâ€™application en gÃ©nÃ©ral, les conteneurs peuvent rendre cette transition fluide et efficace.&lt;/p&gt;
&lt;h2&gt;Conteneurs et Node.js&lt;/h2&gt;
&lt;p&gt;En raison de la pertinence des conteneurs dâ€™applications pour les environnements dâ€™application ciblÃ©s, Node.js est sans doute le meilleur moteur dâ€™exÃ©cution pour la conteneurisation.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;DÃ©pendances explicites&lt;/strong&gt;. Les applications Node.js conteneurisÃ©es peuvent verrouiller les arborescences de dÃ©pendance et gÃ©rer des fichiers stables package.json , package-lock.json ou npm-shrinkwrap.json .&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;DÃ©marrage rapide et redÃ©marrage&lt;/strong&gt;. Les conteneurs sont lÃ©gers et dÃ©marrent rapidement, ce qui en fait une paire stratÃ©gique pour les applications Node.js. Lâ€™une des fonctionnalitÃ©s les plus apprÃ©ciÃ©es de Node.js est son temps de dÃ©marrage impressionnant. Cette performance de dÃ©marrage robuste obtient des processus terminÃ©s redÃ©marrÃ©s rapidement et les applications stabilisÃ©es; La conteneurisation fournit une solution Ã©volutive pour maintenir cette performance.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Scaling au niveau du processus&lt;/strong&gt;. Semblable Ã  la meilleure pratique de Node.js consistant Ã  faire tourner plus de processus au lieu de plus de threads, un environnement conteneurisÃ© augmentera le nombre de processus en augmentant le nombre de conteneurs. Cet &lt;em&gt;horizontal scaling&lt;/em&gt; crÃ©e de la redondance et permet de maintenir les applications hautement disponibles, sans le coÃ»t significatif des ressources dâ€™une nouvelle machine virtuelle par processus.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Dockeriser votre application Node.js&lt;/h1&gt;
&lt;h2&gt;PrÃ©sentation de Docker&lt;/h2&gt;
&lt;p&gt;Docker est un systÃ¨me de fichiers en couches pour lâ€™envoi dâ€™images, et permet aux organisations dâ€™abstraire leurs applications de leur infrastructure.&lt;/p&gt;
&lt;p&gt;Avec Docker, les images sont gÃ©nÃ©rÃ©es via un fichier Docker. Ce fichier fournit des configurations et des commandes pour gÃ©nÃ©rer des images par programme.&lt;/p&gt;
&lt;p&gt;Chaque commande Docker dans un Dockerfile ajoute un â€˜calqueâ€™. Plus il y a de couches, plus le conteneur rÃ©sultant est grand.&lt;/p&gt;
&lt;p&gt;Voici un exemple simple de Dockerfile:&lt;/p&gt;
&lt;p&gt;&lt;div id=&quot;gist90346269&quot; class=&quot;gist&quot;&gt;
    &lt;div class=&quot;gist-file&quot;&gt;
      &lt;div class=&quot;gist-data&quot;&gt;
        &lt;div class=&quot;js-gist-file-update-container js-task-list-container file-box&quot;&gt;
  &lt;div id=&quot;file-docker-nodeapp-basic&quot; class=&quot;file&quot;&gt;
    

  &lt;div itemprop=&quot;text&quot; class=&quot;Box-body p-0 blob-wrapper data type-text &quot;&gt;
      
&lt;table class=&quot;highlight tab-size js-file-line-container&quot; data-tab-size=&quot;8&quot;&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-basic-L1&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-basic-LC1&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;FROM node:8&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-basic-L2&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;2&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-basic-LC2&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-basic-L3&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;3&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-basic-LC3&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;WORKDIR /home/nodejs/app&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-basic-L4&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;4&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-basic-LC4&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-basic-L5&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;5&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-basic-LC5&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;COPY . .&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-basic-L6&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;6&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-basic-LC6&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;RUN npm install --production&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-basic-L7&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;7&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-basic-LC7&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-basic-L8&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;8&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-basic-LC8&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;CMD [â€œnodeâ€, â€œindex.jsâ€]&lt;/td&gt;
      &lt;/tr&gt;
&lt;/table&gt;


  &lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;

      &lt;/div&gt;
      &lt;div class=&quot;gist-meta&quot;&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/319ac2d2b4214ca0b39981da50743a99/raw/6f10759e187398fd341f8e3ffb373332b8b36a29/docker-nodeApp-basic&quot; style=&quot;float:right&quot;&gt;view raw&lt;/a&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/319ac2d2b4214ca0b39981da50743a99#file-docker-nodeapp-basic&quot;&gt;docker-nodeApp-basic&lt;/a&gt;
        hosted with &amp;#10084; by &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;La commande &lt;code&gt;FROM&lt;/code&gt; dÃ©signe lâ€™image de base qui sera utilisÃ©e; dans ce cas, il sâ€™agit de lâ€™image de la ligne de lancement Node.js 8 LTS.&lt;/p&gt;
&lt;p&gt;La commande &lt;code&gt;RUN&lt;/code&gt; prend les commandes bash comme arguments. Dans la ligne 2, nous crÃ©ons un rÃ©pertoire pour placer lâ€™application Node.js. La ligne 3 indique Ã  Docker que le rÃ©pertoire de travail pour chaque commande aprÃ¨s la ligne 3 sera le rÃ©pertoire de lâ€™application. La ligne 5 copie tout le rÃ©pertoire courant dans le rÃ©pertoire courant de lâ€™image, qui est &lt;code&gt;/home/nodejs/app&lt;/code&gt; prÃ©cÃ©demment dÃ©fini par la commande WORKDIR de maniÃ¨re similaire. Sur la ligne 6, nous installons lâ€™installation de production.&lt;/p&gt;
&lt;p&gt;Enfin, sur la ligne 8, nous transmettons Ã  Docker une commande et un argument pour exÃ©cuter lâ€™application Node.js Ã  lâ€™intÃ©rieur du conteneur.&lt;/p&gt;
&lt;p&gt;Lâ€™exemple ci-dessus fournit un Dockerfile de base, mais finalement problÃ©matique.&lt;/p&gt;
&lt;p&gt;Dans la section suivante, nous examinerons certaines des meilleures pratiques de Dockerfile pour exÃ©cuter Node.js en production.&lt;/p&gt;
&lt;h2&gt;Meilleures pratiques Dockerfile&lt;/h2&gt;
&lt;h3&gt;NE PAS EXÃ‰CUTER Lâ€™APPLICATION EN TANT QUE ROOT&lt;/h3&gt;
&lt;p&gt;Assurez-vous que lâ€™application exÃ©cutÃ©e dans le conteneur Docker nâ€™est pas exÃ©cutÃ©e en tant que &lt;code&gt;root&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;div id=&quot;gist90346317&quot; class=&quot;gist&quot;&gt;
    &lt;div class=&quot;gist-file&quot;&gt;
      &lt;div class=&quot;gist-data&quot;&gt;
        &lt;div class=&quot;js-gist-file-update-container js-task-list-container file-box&quot;&gt;
  &lt;div id=&quot;file-docker-nodeapp-secure-part1&quot; class=&quot;file&quot;&gt;
    

  &lt;div itemprop=&quot;text&quot; class=&quot;Box-body p-0 blob-wrapper data type-text &quot;&gt;
      
&lt;table class=&quot;highlight tab-size js-file-line-container&quot; data-tab-size=&quot;8&quot;&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part1-L1&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part1-LC1&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;FROM node:8 &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part1-L2&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;2&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part1-LC2&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part1-L3&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;3&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part1-LC3&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;RUN groupadd -r nodejs &amp;amp;&amp;amp; useradd -m -r -g -s /bin/bash nodejs nodejs &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part1-L4&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;4&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part1-LC4&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part1-L5&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;5&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part1-LC5&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;USER nodejs&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part1-L6&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;6&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part1-LC6&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part1-L7&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;7&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part1-LC7&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;...&lt;/td&gt;
      &lt;/tr&gt;
&lt;/table&gt;


  &lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;

      &lt;/div&gt;
      &lt;div class=&quot;gist-meta&quot;&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/6237f74e2cfebbbbd6247c27c4fa1310/raw/a514481490028932ce5615be92070547df63d09f/docker-nodeApp-secure-part1&quot; style=&quot;float:right&quot;&gt;view raw&lt;/a&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/6237f74e2cfebbbbd6247c27c4fa1310#file-docker-nodeapp-secure-part1&quot;&gt;docker-nodeApp-secure-part1&lt;/a&gt;
        hosted with &amp;#10084; by &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;Dans lâ€™exemple ci-dessus, quelques lignes de code ont Ã©tÃ© ajoutÃ©es Ã  lâ€™exemple Dockerfile dâ€™origine pour extraire lâ€™image de la derniÃ¨re version LTS de Node.js, ainsi que pour ajouter et dÃ©finir un nouvel utilisateur, &lt;code&gt;nodejs&lt;/code&gt; . De cette faÃ§on, dans le cas oÃ¹ une vulnÃ©rabilitÃ© de lâ€™application est exploitÃ©e, et que quelquâ€™un rÃ©ussit Ã  entrer dans le conteneur au niveau du systÃ¨me, au mieux, ce sont des utilisateurs &lt;code&gt;nodejs&lt;/code&gt; qui nâ€™ont pas dâ€™autorisations root et nâ€™existent pas sur lâ€™hÃ´te.&lt;/p&gt;
&lt;h3&gt;CACHE NODE_MODULES&lt;/h3&gt;
&lt;p&gt;Docker construit chaque ligne dâ€™un Dockerfile individuellement. Cela forme les â€œcouchesâ€ de lâ€™image Docker. Au fur et Ã  mesure quâ€™une image est construite, Docker met en cache chaque couche.&lt;/p&gt;
&lt;p&gt;&lt;div id=&quot;gist90346342&quot; class=&quot;gist&quot;&gt;
    &lt;div class=&quot;gist-file&quot;&gt;
      &lt;div class=&quot;gist-data&quot;&gt;
        &lt;div class=&quot;js-gist-file-update-container js-task-list-container file-box&quot;&gt;
  &lt;div id=&quot;file-docker-nodeapp-secure-part2&quot; class=&quot;file&quot;&gt;
    

  &lt;div itemprop=&quot;text&quot; class=&quot;Box-body p-0 blob-wrapper data type-text &quot;&gt;
      
&lt;table class=&quot;highlight tab-size js-file-line-container&quot; data-tab-size=&quot;8&quot;&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-L1&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-LC1&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;FROM node:8 &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-L2&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;2&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-LC2&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-L3&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;3&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-LC3&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;RUN groupadd -r nodejs &amp;amp;&amp;amp; useradd -m -r -g -s /bin/bash nodejs nodejs &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-L4&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;4&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-LC4&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-L5&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;5&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-LC5&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;USER nodejs&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-L6&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;6&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-LC6&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-L7&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;7&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-LC7&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;WORKDIR /home/nodejs/app &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-L8&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;8&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-LC8&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-L9&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;9&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-LC9&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;COPY package.json . &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-L10&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;10&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-LC10&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;RUN npm install --production&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-L11&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;11&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-LC11&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;COPY . .&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-L12&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;12&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-LC12&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-L13&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;13&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-LC13&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;...&lt;/td&gt;
      &lt;/tr&gt;
&lt;/table&gt;


  &lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;

      &lt;/div&gt;
      &lt;div class=&quot;gist-meta&quot;&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/b010c5e5ab987804b89dff82ed98cf45/raw/cedda0ca8f7164223f2056eaff9c25d60ac4a5fd/docker-nodeApp-secure-part2&quot; style=&quot;float:right&quot;&gt;view raw&lt;/a&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/b010c5e5ab987804b89dff82ed98cf45#file-docker-nodeapp-secure-part2&quot;&gt;docker-nodeApp-secure-part2&lt;/a&gt;
        hosted with &amp;#10084; by &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;Sur la ligne 9 du Dockerfile ci-dessus, le fichier package.json est copiÃ© dans le rÃ©pertoire de travail Ã©tabli sur la ligne 7. AprÃ¨s le &lt;code&gt;npm install&lt;/code&gt; sur la ligne 10, la ligne 11 copie le rÃ©pertoire courant dans le rÃ©pertoire de travail (lâ€™image).&lt;/p&gt;
&lt;p&gt;Si aucune modification nâ€™est apportÃ©e Ã  votre package.json , Docker ne reconstruira pas la couche dâ€™image &lt;code&gt;npm install&lt;/code&gt;, ce qui peut considÃ©rablement amÃ©liorer les temps de construction.&lt;/p&gt;
&lt;h3&gt;CONFIGUREZ VOTRE ENVIRONNEMENT&lt;/h3&gt;
&lt;p&gt;Il est important de dÃ©finir explicitement les variables dâ€™environnement que votre application Node.js sâ€™attend Ã  rester constante tout au long du cycle de vie du conteneur.&lt;/p&gt;
&lt;p&gt;&lt;div id=&quot;gist90346446&quot; class=&quot;gist&quot;&gt;
    &lt;div class=&quot;gist-file&quot;&gt;
      &lt;div class=&quot;gist-data&quot;&gt;
        &lt;div class=&quot;js-gist-file-update-container js-task-list-container file-box&quot;&gt;
  &lt;div id=&quot;file-docker-nodeapp-secure&quot; class=&quot;file&quot;&gt;
    

  &lt;div itemprop=&quot;text&quot; class=&quot;Box-body p-0 blob-wrapper data type-text &quot;&gt;
      
&lt;table class=&quot;highlight tab-size js-file-line-container&quot; data-tab-size=&quot;8&quot;&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-L1&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-LC1&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;FROM node:8 &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-L2&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;2&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-LC2&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-L3&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;3&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-LC3&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;RUN groupadd -r nodejs &amp;amp;&amp;amp; useradd -m -r -g -s /bin/bash nodejs nodejs &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-L4&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;4&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-LC4&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-L5&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;5&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-LC5&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;USER nodejs&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-L6&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;6&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-LC6&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-L7&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;7&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-LC7&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;WORKDIR /home/nodejs/app &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-L8&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;8&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-LC8&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-L9&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;9&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-LC9&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;COPY package.json . &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-L10&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;10&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-LC10&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;RUN npm install --production&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-L11&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;11&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-LC11&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;COPY . .&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-L12&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;12&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-LC12&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-L13&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;13&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-LC13&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;ENV NODE_ENV production&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-L14&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;14&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-LC14&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-L15&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;15&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-LC15&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;CMD [&amp;quot;node.js&amp;quot;, &amp;quot;index.js&amp;quot;]&lt;/td&gt;
      &lt;/tr&gt;
&lt;/table&gt;


  &lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;

      &lt;/div&gt;
      &lt;div class=&quot;gist-meta&quot;&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/27412e8ac874b059a5a509acfe757705/raw/4c3864831f4bd30de5a4556d7e6df01226235b58/docker-nodeApp-secure&quot; style=&quot;float:right&quot;&gt;view raw&lt;/a&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/27412e8ac874b059a5a509acfe757705#file-docker-nodeapp-secure&quot;&gt;docker-nodeApp-secure&lt;/a&gt;
        hosted with &amp;#10084; by &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://hub.docker.com/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;DockerHub&lt;/a&gt; fournit une ressource centralisÃ©e pour la dÃ©couverte dâ€™images de conteneur, la distribution et la gestion des modifications, la collaboration entre utilisateurs et Ã©quipes et lâ€™automatisation du flux de travail tout au long du pipeline de dÃ©veloppementâ€™.
Pour associer la CLI Docker Ã  votre compte DockerHub, utilisez la &lt;code&gt;docker login&lt;/code&gt; &lt;/p&gt;
&lt;p&gt;&lt;code&gt;docker login [OPTIONS] [SERVER]&lt;/code&gt; : &lt;code&gt;docker login [OPTIONS] [SERVER]&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;COMPTES GITHUB PRIVÃ‰S ET MODULES NPM&lt;/h3&gt;
&lt;p&gt;Docker exÃ©cute ses builds Ã  lâ€™intÃ©rieur dâ€™un sandbox et cet environnement sandbox nâ€™a pas accÃ¨s Ã  des informations telles que les clÃ©s ssh ou les informations dâ€™identification npm. Pour contourner cette contrainte, quelques options recommandÃ©es sont disponibles pour les dÃ©veloppeurs:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Stocker les clÃ©s et les informations dâ€™identification sur le systÃ¨me CI / CD&lt;/strong&gt;. Les problÃ¨mes de sÃ©curitÃ© dâ€™avoir des informations dâ€™identification sensibles Ã  lâ€™intÃ©rieur de la construction Docker peuvent Ãªtre Ã©vitÃ©s entiÃ¨rement en ne les mettant jamais lÃ  en premier lieu. Au lieu de cela, stockez-les et rÃ©cupÃ©rez-les dans le systÃ¨me CI / CD de votre infrastructure, et copiez manuellement les dÃ©pendances privÃ©es dans lâ€™image.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Utilisez un serveur npm interne&lt;/strong&gt;. Ã€ lâ€™aide dâ€™un outil comme Verdaccio, configurez un proxy npm qui garde le flux des modules internes et des informations dâ€™ identification privÃ©es .&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;SOYEZ EXPLICITE AVEC LES TAGS&lt;/h3&gt;
&lt;p&gt;Les balises aident Ã  diffÃ©rencier les diffÃ©rentes versions dâ€™images. Les balises peuvent Ãªtre utilisÃ©es pour identifier les builds, les Ã©quipes qui travaillent sur lâ€™image et littÃ©ralement toute autre dÃ©signation utile Ã  une organisation pour gÃ©rer le dÃ©veloppement des images. Si aucune balise nâ€™est ajoutÃ©e explicitement, Docker assignera une balise par dÃ©faut Ã  &lt;code&gt;latest&lt;/code&gt; aprÃ¨s la &lt;code&gt;docker build&lt;/code&gt;. En tant que tag, le dÃ©veloppement est le latest en date, mais peut Ãªtre trÃ¨s problÃ©matique dans les environnements de production et de mise en scÃ¨ne.&lt;/p&gt;
&lt;p&gt;Pour Ã©viter les problÃ¨mes &lt;code&gt;latest&lt;/code&gt; , &lt;strong&gt;soyez explicites avec vos balises de construction&lt;/strong&gt;. Voici un exemple de script attribuant des balises avec des variables dâ€™environnement pour le git sha, le nom de la branche et le numÃ©ro de build de la construction, tous les trois pouvant Ãªtre trÃ¨s utiles dans la gestion des versions, du dÃ©bogage et du dÃ©ploiement:&lt;/p&gt;
&lt;p&gt;&lt;div id=&quot;gist90346485&quot; class=&quot;gist&quot;&gt;
    &lt;div class=&quot;gist-file&quot;&gt;
      &lt;div class=&quot;gist-data&quot;&gt;
        &lt;div class=&quot;js-gist-file-update-container js-task-list-container file-box&quot;&gt;
  &lt;div id=&quot;file-docker-tag&quot; class=&quot;file&quot;&gt;
    

  &lt;div itemprop=&quot;text&quot; class=&quot;Box-body p-0 blob-wrapper data type-text &quot;&gt;
      
&lt;table class=&quot;highlight tab-size js-file-line-container&quot; data-tab-size=&quot;8&quot;&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-tag-L1&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-tag-LC1&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;# !/bin/sh &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-tag-L2&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;2&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-tag-LC2&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;docker tag helloworld:latest yourorg/helloworld:$SHA1 &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-tag-L3&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;3&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-tag-LC3&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;docker tag helloworld:latest yourorg/helloworld:$BRANCH_NAME &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-tag-L4&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;4&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-tag-LC4&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;docker tag helloworld:latest yourorg/build_$BUILD_NUM&lt;/td&gt;
      &lt;/tr&gt;
&lt;/table&gt;


  &lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;

      &lt;/div&gt;
      &lt;div class=&quot;gist-meta&quot;&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/70fdd653abba16c4451c0781f6dd9fc5/raw/1d49ac14e5a358a84bb1afdf5695b5ea95d3811e/docker-tag&quot; style=&quot;float:right&quot;&gt;view raw&lt;/a&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/70fdd653abba16c4451c0781f6dd9fc5#file-docker-tag&quot;&gt;docker-tag&lt;/a&gt;
        hosted with &amp;#10084; by &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;En savoir plus sur le marquage &lt;a href=&quot;https://docs.docker.com/get-started/part2/#tag-the-image&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;ici&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Conteneurs et gestion des processus&lt;/h2&gt;
&lt;p&gt;Les conteneurs sont conÃ§us pour Ãªtre lÃ©gers et bien adaptÃ©s au niveau du processus, ce qui contribue Ã  simplifier la gestion des processus: si le processus se termine, le conteneur se ferme. Cependant, cette cartographie 1:1 est une idÃ©alisation qui nâ€™est pas toujours maintenue dans la pratique.&lt;/p&gt;
&lt;p&gt;Comme les conteneurs Docker ne sont pas fournis avec un gestionnaire de processus, ajoutez un outil pour une gestion simple des processus.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/Yelp/dumb-init&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;dumb-init&lt;/a&gt; de Yelp est un superviseur de processus simple et lÃ©ger et un systÃ¨me dâ€™initialisation conÃ§u pour fonctionner en tant que &lt;code&gt;PID 1&lt;/code&gt; dans des environnements de conteneur. Cette dÃ©signation &lt;code&gt;PID 1&lt;/code&gt; pour le processus dumb-init est normalement affectÃ©e Ã  un conteneur Linux en cours dâ€™exÃ©cution et possÃ¨de ses propres idiosyncrasies de signalisation du noyau qui compliquent la gestion des processus. Dumb-init fournit un niveau dâ€™abstraction qui lui permet dâ€™agir comme un proxy de signal, assurant le comportement attendu du processus.&lt;/p&gt;
&lt;h2&gt;Ce quâ€™il faut inclure dans vos conteneurs dâ€™applications&lt;/h2&gt;
&lt;p&gt;Le principal avantage des conteneurs est quâ€™ils ne fournissent que ce qui est nÃ©cessaire. Gardez cela Ã  lâ€™esprit lorsque vous ajoutez des calques Ã  vos images.&lt;/p&gt;
&lt;p&gt;Voici une liste de contrÃ´le Ã  inclure lors de la crÃ©ation dâ€™images de conteneur:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Votre code dâ€™application et ses dÃ©pendances.&lt;/li&gt;
&lt;li&gt;Variables dâ€™environnement nÃ©cessaires.&lt;/li&gt;
&lt;li&gt;Un proxy de signal simple pour la gestion de processus, comme dumb-init.
Câ€™est tout.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Les conteneurs sont une solution de virtualisation moderne mieux adaptÃ©e aux infrastructures nÃ©cessitant un partage efficace des ressources, des dÃ©lais de dÃ©marrage rapides et une mise Ã  lâ€™Ã©chelle rapide.&lt;/p&gt;
&lt;p&gt;Les organisations DevOps utilisent des conteneurs dâ€™applications pour implÃ©menter â€˜lâ€™infrastructure en tant que codeâ€™, des Ã©quipes dÃ©veloppant des microservices et sâ€™appuyant sur des architectures distribuÃ©es et des groupes dâ€™assurance qualitÃ© (QA) tirant parti de stratÃ©gies telles que les tests A/B et les dÃ©ploiements incrÃ©mentaux en production.&lt;/p&gt;
&lt;p&gt;Tout comme lâ€™approche recommandÃ©e pour Node.js monothread est 1 processus: 1 application, la meilleure pratique pour les conteneurs dâ€™applications est 1 processus: 1 conteneur. Cette relation en miroir fait sans doute de Node.js lâ€™environnement dâ€™exÃ©cution le plus appropriÃ© pour le dÃ©veloppement de conteneurs.&lt;/p&gt;
&lt;p&gt;Docker est une plate-forme ouverte pour le dÃ©veloppement, lâ€™expÃ©dition et lâ€™exÃ©cution dâ€™applications conteneurisÃ©es. Docker vous permet de sÃ©parer vos applications de votre infrastructure afin de pouvoir livrer des logiciels rapidement. Lorsque vous utilisez Docker avec Node.js, gardez Ã  lâ€™esprit:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ne lancez pas lâ€™application en tant que &lt;code&gt;root&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Cache &lt;code&gt;node_modules&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Utilisez votre systÃ¨me CI / CD ou un serveur interne pour conserver les informations dâ€™identification sensibles hors de lâ€™image du conteneur&lt;/li&gt;
&lt;li&gt;Soyez explicite avec les balises de construction&lt;/li&gt;
&lt;li&gt;Gardez les rÃ©cipients &lt;em&gt;lÃ©gers&lt;/em&gt; !&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item></channel></rss>