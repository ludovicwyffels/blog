<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Software on the road]]></title><description><![CDATA[Software on the road]]></description><link>https://ludovicwyffels.dev</link><generator>GatsbyJS</generator><lastBuildDate>Thu, 16 Jan 2020 16:02:38 GMT</lastBuildDate><item><title><![CDATA[Gestion des environnements Angular en livraison continue]]></title><description><![CDATA[Dans les applications m√©tiers, nous rencontrons souvent une configuration de livraison continue comportant plusieurs stages. Chaque √©tape a‚Ä¶]]></description><link>https://ludovicwyffels.dev/angular-dynamic-environment/</link><guid isPermaLink="false">https://ludovicwyffels.dev/angular-dynamic-environment/</guid><pubDate>Sun, 08 Sep 2019 17:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Dans les applications m√©tiers, nous rencontrons souvent une configuration de livraison continue comportant plusieurs stages. Chaque √©tape a sa configuration pour acc√©der aux syst√®mes p√©riph√©riques sp√©cifiques √† l‚Äôenvironnement. Pour ce faire, nous devons g√©rer les configurations bas√©es sur les stages.&lt;/p&gt;
&lt;p&gt;Angular CLI est livr√© avec certains concepts int√©gr√©s permettant de g√©rer diff√©rents environnements.&lt;/p&gt;
&lt;p&gt;Mais quelle est leur fiabilit√© dans un environnement de livraison continu ? ü§î&lt;/p&gt;
&lt;h2&gt;Livraison continue - une courte introduction&lt;/h2&gt;
&lt;p&gt;La livraison continue r√©sulte du mouvement agile. La r√©troaction it√©rative est √† la base. Il est essentiel d‚Äôapprendre des exp√©riences pratiques et d‚Äôint√©grer ces commentaires.&lt;/p&gt;
&lt;p&gt;La livraison continue prend des id√©es agiles et d√©finit une approche pour livrer des logiciels test√©s automatiquement dans des cycles courts.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;La diffusion continue consiste √† cr√©er un pipeline pour automatiser le processus de publication du logiciel&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;√âtapes de livraison continue&lt;/h2&gt;
&lt;p&gt;Un sch√©ma typique dans la livraison continue est le &lt;em&gt;steging&lt;/em&gt;. Dans une configuration de livraison continue typique, nous avons diff√©rents stages avec des objectifs diff√©rents.
Chaque validation entra√Æne une ex√©cution du pipeline sur notre serveur CI. Les ex√©cutions r√©ussies sur la branche &lt;code&gt;master&lt;/code&gt; entra√Ænent un d√©ploiement sur l‚Äôun de nos stages.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1000px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/13c78901660c3a1ee09b0f1d126463e2/c0a24/continuous-deployment.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 74%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsSAAALEgHS3X78AAACM0lEQVQoz41Ty27TQBS1+BV+hb9gyZIFX9AVG8QXFLHogkWlImVXJCgooikNIYQmcRInsePHeDx+x287fozDddNGgpaHNbKu7txz7rmPYbb/8dV1XZRlXW/Lsko3ebbJwQA/czcO/hDaZRfIsHdOCE2yjaBiP4qQbo95CfCU1r+DKSTJC8VeP3xzctDpbeutHyd5UWNrdfD68SX7LozLMS9WFa0oZeprAMCAW7fXimE5a59VyYPDoyfv2zTLJd0KohyZ3MmXR4PlW9cvWEEqq6oB76VKWJ8KSpSkjc6qaqvayvObW2CndRCHPO7ZniYTey6pUZIBivGiTZjkYMmGB0E75fWvtYAobLo1bWw/ih0/hLwQw7Dc1dPnL047/ePW8bOXh1le7LRU1xSa6QiIYMsBLeDf5IVmu3tyRhY6n85bIjbap6+6o4lMLBHrXhiZrqc7awMaECWgJYgTkDoTVXCGSRrE6T2jgiGNltLFcAbaojQDCsDziHC8hDDpDqdXs4WqkdGcz4uSadpBG420af5NvQtZO/s6XCoa0i3L9cM4lTRDt90fHL+QVKhFISbddfvOntw0CRICRjVsoFghTUC4Mxj3xpyEyVJWoQvMvftIb/dsCiDTBbyMiYLJxYDtDifEsFYyKco/gPfDB8kzEblBKGFDJuY3dsGtVIHgFvdhYLLM397DrcGJaCnK5/3h2eX3j91BfzL7PO/Lnsb88z014y0KzXJU00aGBQebtuUEcPUTlGpFB9V0AEcAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/13c78901660c3a1ee09b0f1d126463e2/14b47/continuous-deployment.webp 293w,
/static/13c78901660c3a1ee09b0f1d126463e2/91928/continuous-deployment.webp 585w,
/static/13c78901660c3a1ee09b0f1d126463e2/e00f7/continuous-deployment.webp 1000w&quot;
          sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/13c78901660c3a1ee09b0f1d126463e2/b6dd9/continuous-deployment.png 293w,
/static/13c78901660c3a1ee09b0f1d126463e2/037e5/continuous-deployment.png 585w,
/static/13c78901660c3a1ee09b0f1d126463e2/c0a24/continuous-deployment.png 1000w&quot;
          sizes=&quot;(max-width: 1000px) 100vw, 1000px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/13c78901660c3a1ee09b0f1d126463e2/c0a24/continuous-deployment.png&quot;
          alt=&quot;Continuous Deployment&quot;
          title=&quot;Continuous Deployment&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Dans l‚Äôexemple ci-dessus, la phase de &lt;code&gt;test&lt;/code&gt; contient une snapshot de la branche &lt;code&gt;master&lt;/code&gt;. √Ä certains intervalles, par exemple, apr√®s chaque sprint, nous pouvons d√©ployer au stade interm√©diaire (&lt;code&gt;staging&lt;/code&gt;). C‚Äôest √† ce stade que les tests de r√©ception finaux sont effectu√©s. Une fois accept√©, l‚Äôartefact est d√©plac√© en production.&lt;/p&gt;
&lt;p&gt;Bien s√ªr, certaines entreprises ont un temps de production plus rapide. Certains d√©ploient m√™me chaque commit directement en production.&lt;/p&gt;
&lt;p&gt;Mais dans la plupart des applications li√©es aux entreprises, il est bon d‚Äôavoir une √©tape avant la production. Cela permet √† nos &lt;em&gt;product owners&lt;/em&gt;, repr√©sentants commerciaux et testeurs d‚Äôavoir un dernier aper√ßu et de v√©rifier la logique m√©tier.&lt;/p&gt;
&lt;h2&gt;Build une fois - d√©ployer partout&lt;/h2&gt;
&lt;p&gt;Il est essentiel de ne construire votre artefact qu‚Äôune seule fois et de le d√©placer d‚Äôune √©tape √† l‚Äôautre.
Cette approche garantit que le m√™me artefact qui a √©t√© test√© entre √©galement en production.&lt;/p&gt;
&lt;h2&gt;Les environnements Angular et livraison continue, sont-il adapt√© ? ü§î&lt;/h2&gt;
&lt;p&gt;Angular CLI est livr√©e avec un m√©canisme int√©gr√© de fichier d‚Äôenvironnement. Voyons comment ils fonctionnent.&lt;/p&gt;
&lt;p&gt;Lors de la g√©n√©ration d‚Äôun tout nouveau projet, il existe un &lt;code&gt;environment.ts&lt;/code&gt;et un &lt;code&gt;envrironment.prod.ts&lt;/code&gt;. De plus, nous pouvons toujours ajouter √† ces fichiers de nouveaux fichiers d‚Äôenvironnement dans le dossier &lt;code&gt;environment&lt;/code&gt; et les configurer dans votre fichier &lt;code&gt;angular.json&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Pendant le build, l‚Äôenvironnement souhait√© est ensuite transmis en tant qu‚Äôargument √† la commande de build. Le CLI utilise ensuite le fichier d‚Äôenvironnement correct et remplace le fichier par d√©faut pendant le build, que nous pouvons ensuite importer avec la ligne suivante&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;environment&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../environments/environment&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Maintenant que nous connaissons le concept int√©gr√© de la CLI angulaire. Voyons en quoi cela correspond aux principes de la livraison continue.&lt;/p&gt;
&lt;p&gt;Il est donc essentiel de noter que Angular CLI d√©finit l‚Äôenvironnement pendant la construction. Cela signifie que nous devons cr√©er notre application avant chaque d√©ploiement sur une √©tape sp√©cifique.&lt;/p&gt;
&lt;p&gt;Cette approche comporte quelques risques.&lt;/p&gt;
&lt;p&gt;Si vous cr√©ez votre application √† chaque fois avant de d√©ployer, il se peut que l‚Äôartefact que vous avez test√© ne soit pas le m√™me que celui qui entre en production.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Il est important de r√©aliser qu‚Äôun processus de build n‚Äôest pas toujours d√©terministe. M√™me si le m√™me code entre dans la construction, il n‚Äôest pas garanti que le m√™me artefact sortira.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;L‚Äôartefact ne d√©pend pas seulement de votre code, il d√©pend √©galement des biblioth√®ques tierces, des mises √† jour du syst√®me d‚Äôexploitation ou d‚Äôautres modifications de l‚Äôenvironnement qui se produisent avec le temps.&lt;/p&gt;
&lt;p&gt;Rappelez-vous √† l‚Äô√©poque o√π nous avions un &lt;code&gt;package.lock.json&lt;/code&gt;. √Ä l‚Äô√©poque, les builds √©taient encore moins pr√©dictives. Les biblioth√®ques tierces apparaissent souvent avec un &lt;code&gt;^&lt;/code&gt; dans notre &lt;code&gt;package.json&lt;/code&gt;. Malgr√© &lt;code&gt;semver&lt;/code&gt;, les nouvelles versions d‚Äôune biblioth√®que tierce produisaient parfois une incompatibilit√© avec une autre d√©pendance qui entra√Ænait la rupture de votre application.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Plus vous pouvez maintenir la coh√©rence entre les d√©ploiements, plus le d√©ploiement en production est susceptible de se d√©rouler sans heurts.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;La livraison continue et les fichiers d‚Äôenvironnement fournis par Angular CLI ne conviennent pas!&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Dans la livraison continue, votre artefact doit obtenir des configurations sp√©cifiques √† l‚Äôenvironnement au d√©marrage ou √† l‚Äôex√©cution. Angular CLI, en revanche, obtient ces configurations au moment du build.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Alors, comment combiner les id√©es de la livraison continue avec notre application angulaire?&lt;/p&gt;
&lt;p&gt;Il existe diff√©rentes approches pour combiner les id√©es de livraison continue avec Angular CLI. Chacun comporte des avantages et des inconv√©nients.&lt;/p&gt;
&lt;p&gt;Regardons-les.&lt;/p&gt;
&lt;h2&gt;Configurer l‚Äôh√¥te comme assets - Monter les fichiers de configuration par environnement&lt;/h2&gt;
&lt;p&gt;Au lieu d‚Äôextraire la configuration sur un endpoint REST, nous extrayons directement un fichier JSON avec des configurations situ√©es dans notre dossier &lt;code&gt;assets&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Nous allons donc cr√©er un dossier de &lt;code&gt;config&lt;/code&gt; √† l‚Äôint√©rieur &lt;code&gt;assets&lt;/code&gt; et y placer un &lt;code&gt;JSON&lt;/code&gt; contenant les configurations sp√©cifiques √† l‚Äôenvironnement local.&lt;/p&gt;
&lt;p&gt;Mais comment charge-t-on le fichier &lt;code&gt;configuration.json&lt;/code&gt;? Au travers d‚Äôun service au travers duquel nous r√©cup√©rons le fichier √† partir du dossier &lt;code&gt;assets&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;Injectable&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;@angular/core&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;HttpClient&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;@angular/common/http&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;Observable&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;rxjs&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;shareReplay&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;rxjs/operators&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Configuration&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  resourceServerA&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  resourceServerB&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  stage&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

@&lt;span class=&quot;token function&quot;&gt;Injectable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;providedIn&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;root&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ConfigAssetLoaderService&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;readonly&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;CONFIG_URL&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;assets/config/config.json&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; configuration$&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Observable&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Configuration&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; http&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; HttpClient&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;loadConfigurations&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;configuration$&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;configuration$ &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;http&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Configuration&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;CONFIG_URL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pipe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;shareReplay&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;configuration$&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code&gt;ConfigurationAssetsLoaderService&lt;/code&gt; charge maintenant notre fichier &lt;code&gt;assets/config/config.json&lt;/code&gt; qui contient toutes les configurations. Mais comment pouvons-nous changer ces configurations par rapport √† l‚Äôenvironnement actuel dans lequel nous nous trouvons?&lt;/p&gt;
&lt;p&gt;Nous allons simplement h√©berger notre configuration sur chaque √©tape, puis monter le fichier &lt;code&gt;configuration.json&lt;/code&gt; dans le dossier &lt;code&gt;assets&lt;/code&gt;. Lorsque votre pod d√©marre, nous montons votre configuration dans le r√©pertoire &lt;code&gt;assets/config&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Il est important de noter que vous cr√©ez un dossier &lt;code&gt;config&lt;/code&gt; √† l‚Äôint√©rieur du dossier &lt;code&gt;assets&lt;/code&gt;. Nous ne pouvons pas utiliser une hi√©rarchie √† plat. Lors du montage, tous les fichiers du dossier mont√© sont supprim√©s.&lt;/p&gt;
&lt;p&gt;La mani√®re concr√®te de monter des volumes d√©pend de votre outil de CI. Sur mon projet, nous utilisons Kubernetes pour nos d√©ploiements. Kubernetes nous fournit des &lt;code&gt;ConfigMaps&lt;/code&gt; qui peuvent √™tre une propri√©t√© ou m√™me un fichier de configuration complet. Donc, sur Kubernetes, nous avons diff√©rents stages. Chaque stage h√©berge ensuite des configurations sp√©cifiques et les monte dans notre dossier &lt;code&gt;assets/config&lt;/code&gt; au d√©marrage du pod.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-yaml line-numbers&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;volumeMounts&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;mountPath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; /usr/share/nginx/html/assets/config
    &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; yourVolumeName&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nous avons maintenant vu deux approches dont la mise en oeuvre c√¥t√© client est tr√®s similaire. Nous avons cr√©√© un service qui r√©cup√®re les configurations √† partir d‚Äôun endpoint REST ou du dossier &lt;code&gt;assets&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Nous avons donc vu deux mani√®res d‚Äôutiliser un service pour acc√©der √† des configurations. Mais quand appelons-nous ces services?&lt;/p&gt;
&lt;p&gt;Eh bien, r√©ponse courte, c‚Äôest √† vous de voir. Il y a des moments diff√©rents o√π il est logique de les appeler. Chacun vient avec des avantages et des inconv√©nients.&lt;/p&gt;
&lt;h2&gt;Remplacer les configurations par environnement&lt;/h2&gt;
&lt;p&gt;Dans cet exemple, nous utilisons les fichiers d‚Äôenvironnement Angular tels quels. Un &lt;code&gt;environment.ts&lt;/code&gt;et un &lt;code&gt;environment.prod.ts&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;M√™me si nous avons plus de stages que la production et le d√©veloppement, nous distinguons seulement ces deux-l√†. Pour le d√©veloppement local, nous utilisons le fichier &lt;code&gt;environment.ts&lt;/code&gt;. Tous les autres stages sont g√©r√©s par &lt;code&gt;environment.prod.ts&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Mais comment ?&lt;/p&gt;
&lt;p&gt;Notre &lt;code&gt;environment.prod.ts&lt;/code&gt; ne contient pas les valeurs r√©elles; il contient des valeurs d‚Äôespace r√©serv√© qui seront √©cras√©es √† chaque √©tape par un script de construction.&lt;/p&gt;
&lt;p&gt;Un exemple de fichier &lt;code&gt;environment.prod.ts&lt;/code&gt; pourrait ressembler √† ceci:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; environment &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  resourceServerA&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;REPLACED_BY_BUILD_RESOURCEA&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  resourceServerB&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;REPLACED_BY_BUILD_RESOURCEB&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  stage&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;REPLACED_BY_BUILD_STAGE&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lorsque nous d√©marrons notre serveur Web, nous pouvons ensuite utiliser un script &lt;code&gt;start.sh&lt;/code&gt; qui remplacera les espaces r√©serv√©s.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token shebang important&quot;&gt;#!/bin/sh&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;# replace static values with environment-variables&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; -n &lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token variable&quot;&gt;$RESOURCEA&lt;/span&gt;&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;then&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;sed&lt;/span&gt; -i &lt;span class=&quot;token string&quot;&gt;&quot;s#REPLACED_BY_BUILD_RESOURCEA#&lt;span class=&quot;token variable&quot;&gt;$AUTHSERVER_URL&lt;/span&gt;#g&quot;&lt;/span&gt; /usr/share/nginx/html/main.*.bundle.js
&lt;span class=&quot;token keyword&quot;&gt;fi&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;# start webserver&lt;/span&gt;
&lt;span class=&quot;token builtin class-name&quot;&gt;exec&lt;/span&gt; nginx&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nous ex√©cutons ensuite ce script au d√©marrage. Par exemple, dans notre fichier Docker.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;dockerfile&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-dockerfile line-numbers&quot;&gt;&lt;code class=&quot;language-dockerfile&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# Dockerfile&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# Start nginx via script, which replaces static urls with environment variables&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;ADD&lt;/span&gt; start.sh /usr/share/nginx/start.sh
&lt;span class=&quot;token keyword&quot;&gt;RUN&lt;/span&gt; chmod +x /usr/share/nginx/start.sh
&lt;span class=&quot;token keyword&quot;&gt;CMD&lt;/span&gt; /usr/share/nginx/start.sh&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Cette approche, du moins pour moi, est un peu ‚Äúhacky‚Äù. Remplacer des cha√Ænes dans un paquet n‚Äôest probablement pas le moyen le plus agr√©able. Il comporte en outre le risque de remplacer quelque chose qui ne devrait pas √™tre remplac√©.&lt;/p&gt;
&lt;p&gt;Si vous d√©cidez quand m√™me d‚Äôutiliser cette approche, il est extr√™mement important d‚Äôavoir de bons espaces r√©serv√©s. Utilisez des caract√®res sp√©ciaux que vous n‚Äôutilisez g√©n√©ralement pas dans les noms de variables.&lt;/p&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Angular est livr√© avec des fichiers d‚Äôenvironnement qui nous permettent de g√©rer des configurations sp√©cifiques √† l‚Äôenvironnement. Ils ne r√©pondent pas aux exigences d‚Äôune configuration de livraison continue.&lt;/p&gt;
&lt;p&gt;Les fichiers d‚Äôenvironnement Angular sont utilis√©s pendant la phase de build. En mode de livraison continue, il est essentiel de d√©ployer le m√™me artefact √† diff√©rents stages. Par cons√©quent, nous devons transmettre les configurations d‚Äôenvironnement au d√©marrage ou √† l‚Äôex√©cution.&lt;/p&gt;
&lt;p&gt;En fonction de votre configuration, nous pouvons charger des configurations via un service. Soit directement √† partir d‚Äôun backend ou de notre dossier d‚Äôactifs.&lt;/p&gt;
&lt;p&gt;Il est donc recommand√© de les mettre en cache.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Un des gros d√©fauts de la fa√ßon dont Angular CLI traite les environnements, dans la culture DevOps c‚Äôest mieux de &lt;strong&gt;build une seule fois et de d√©ployer sur plusieurs environnements&lt;/strong&gt;, hors Angular CLI veut que vous cr√©er un buildnpm s√©par√© par environnement.&lt;/p&gt;
&lt;p&gt;Pourquoi devriez-vous build une seule fois et r√©utiliser cette version dans tous les environnements?&lt;/p&gt;
&lt;p&gt;La raison pour laquelle vous ne souhaitez pas cr√©er une version distincte pour chaque environnement est la suivante:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Cela ralentit les pipelines d‚Äôint√©gration continue (CI), car il doit cr√©er un build pour chaque environnement.&lt;/li&gt;
&lt;li&gt;Cela augmente le risque d‚Äôerreurs / de diff√©rences dans diff√©rents environnements, car les versions sont s√©par√©es&lt;/li&gt;
&lt;li&gt;Il ajoute des informations inutiles sur d‚Äôautres environnements dans le code&lt;/li&gt;
&lt;li&gt;Pour des raisons de s√©curit√©, vous pourriez ne pas vouloir afficher d‚Äôinformations confidentielles dans la configuration de l‚Äôenvironnement, qui est enregistr√©e dans Git.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Tous ces probl√®mes me font me demander pourquoi &lt;strong&gt;Angular CLI opte pour une version par environnement&lt;/strong&gt;. Je voulais bien s√ªr une solution √† ces probl√®mes.&lt;/p&gt;
&lt;p&gt;Comment ces probl√®mes sont-ils r√©solus ?&lt;/p&gt;
&lt;p&gt;En faisant en sorte que le serveur de d√©ploiement &lt;strong&gt;substitue un fichier config.json, charg√© au moment de l‚Äôex√©cution&lt;/strong&gt; par l‚Äôapplication.&lt;/p&gt;
&lt;h2&gt;Faire en sorte qu‚Äôune application Angular utilise des configurations dynamiques&lt;/h2&gt;
&lt;p&gt;Nous voulons que l‚Äôapplication Angular ne comporte que deux fichiers d‚Äôenvironnement: &lt;code&gt;environment.ts&lt;/code&gt; et &lt;code&gt;environment.prod.ts&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Pourquoi deux environnements, vous pouvez demander? Un pour les d√©veloppeurs locaux, o√π vous pouvez mettre ce que vous voulez pour servir localement et un autre pour cr√©er l‚Äôapplication. Ces fichiers d‚Äôenvironnement tirent l‚Äôessentiel de ses valeurs d‚Äôun fichier &lt;code&gt;app-config.json&lt;/code&gt; charg√© lors de l‚Äôex√©cution, contrairement √† la codification en dur de toutes les informations sur l‚Äôenvironnement dans les fichiers d‚Äôenvironnement.&lt;/p&gt;
&lt;h2&gt;Cr√©er une nouvelle application Angular&lt;/h2&gt;
&lt;p&gt;La premi√®re √©tape consiste √† cr√©er une nouvelle application Angular en ouvrant le terminal, acc√©der au r√©pertoire souhait√© pour l‚Äôapplication et taper:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;ng new dynamic-config-demo&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Et cela devrait cr√©er une nouvelle application Angular pour vous.&lt;/p&gt;
&lt;h2&gt;Chargement du fichier config.json au d√©marrage&lt;/h2&gt;
&lt;p&gt;Toute la configuration de l‚Äôenvironnement va √™tre stock√©e dans un fichier &lt;code&gt;app-config.json&lt;/code&gt; utilis√© par le fichier &lt;code&gt;environment.ts&lt;/code&gt; pour r√©f√©rencer ces valeurs en toute s√©curit√©.&lt;/p&gt;
&lt;p&gt;Nous cr√©ons simplement un fichier JSON vide dans le dossier &lt;code&gt;assets&lt;/code&gt; appel√© &lt;code&gt;app-config.json&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;L‚Äô√©tape suivante consiste √† &lt;strong&gt;charger le fichier config.json&lt;/strong&gt; √† l‚Äôaide d‚Äôun service d‚Äôinitialisation &lt;code&gt;app.init.ts&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Injectable &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;@angular/core&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;rxjs&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; filter&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; map&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; switchMap&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; tap &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;rxjs/operators&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;declare&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; window&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

@&lt;span class=&quot;token function&quot;&gt;Injectable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AppInitService&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// This is the method you want to call at bootstrap&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// Important: It should return a Promise&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;fetch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;assets/app-config.json&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pipe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;config &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; config&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toPromise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ce service s‚Äôex√©cutera au d√©marrage et garantira que la configuration de l‚Äôapplication est r√©cup√©r√©e en utilisant &lt;code&gt;fetch&lt;/code&gt; pour obtenir le fichier de configuration, puis enregistrez-le dans &lt;code&gt;window&lt;/code&gt; pour le rendre globalement disponible pour l‚Äôapplication. Notez que lorsque vous utilisez &lt;code&gt;fetch&lt;/code&gt;, vous aurez peut-√™tre besoin de polyfills pour la prise en charge du navigateur IE.&lt;/p&gt;
&lt;p&gt;Le service d‚Äôinitialisation d‚Äôapplication est configur√© dans le module &lt;code&gt;app.module&lt;/code&gt; comme suit:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;init_app&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;appLoadService&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; AppInitService&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; appLoadService&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
@&lt;span class=&quot;token function&quot;&gt;NgModule&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  declarations&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;AppComponent&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ComponentAComponent&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ComponentBComponent&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  imports&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;BrowserModule&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; CoreModule&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; HttpClientModule&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  providers&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    AppInitService&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      provide&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;APP_INITIALIZER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      useFactory&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; init_app&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      deps&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;AppInitService&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      multi&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  bootstrap&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;AppComponent&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AppModule&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;L‚Äôutilisation d‚Äôun service d‚Äôinitialisation d‚Äôapplication cr√©e un l√©ger retard sur le temps de d√©marrage de l‚Äôapplication, mais des √©l√©ments simples comme celui-ci n‚Äôauront pas d‚Äôimpact consid√©rable sur le temps de d√©marrage. N√©anmoins, je vous recommande d‚Äôindiquer √† vos utilisateurs d‚Äôattendre avec une spinner de chargement.&lt;/p&gt;
&lt;h2&gt;Faire en sorte que les fichiers d‚Äôenvironnement utilisent des valeurs dynamiques&lt;/h2&gt;
&lt;p&gt;Maintenant que nous chargeons le JSON de configuration de mani√®re dynamique et que nous les enregistrons dans &lt;code&gt;window&lt;/code&gt;, nous voulons pouvoir les r√©f√©rencer en toute s√©curit√©. Pour ce faire, nous devrions avoir trois fichiers d‚Äôenvironnement: &lt;code&gt;environment&lt;/code&gt;, &lt;code&gt;environment.prod&lt;/code&gt; et &lt;code&gt;dynamic-environment&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;environment&lt;/code&gt; est destin√© √† √™tre utilis√© localement, &lt;code&gt;environment.prod&lt;/code&gt; est destin√© √† la production et &lt;code&gt;dynamic-environment&lt;/code&gt; est partag√© avec &lt;code&gt;environment&lt;/code&gt; et &lt;code&gt;environment.prod&lt;/code&gt; afin de fournir une configuration dynamique.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;dynamic-environment&lt;/code&gt; ressemble √† ceci:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;declare&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; window&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DynamicEnvironment&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;environment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;environment&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ceci est utilis√© dans &lt;code&gt;environnement&lt;/code&gt; comme celui-ci:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; DynamicEnvironment &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./dynamic-environment&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Environment&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DynamicEnvironment&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; production&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;boolean&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;production &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; environment &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Environment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Vous pouvez trouver une d√©monstration compl√®te d‚Äôune application angulaire √† configuration dynamique sur mon Github ici.&lt;/p&gt;
&lt;h2&gt;Substitution du fichier config.json sur le serveur de d√©ploiement&lt;/h2&gt;
&lt;p&gt;Maintenant que nous avons configur√© l‚Äôapplication pour la configuration dynamique, la prochaine √©tape consiste √† configurer le remplacement du fichier de configuration sur le serveur de d√©ploiement.&lt;/p&gt;
&lt;p&gt;Vous pouvez faire cela en utilisant &lt;strong&gt;Octopus&lt;/strong&gt;, qui a une fonction intelligente pour &lt;strong&gt;remplacer un fichier JSON&lt;/strong&gt; par des valeurs de configuration pour l‚Äôenvironnement. Les autres serveurs de d√©ploiement devraient avoir des fonctionnalit√©s similaires pour substituer un fichier JSON juste avant de d√©ployer l‚Äôapplication sur le serveur frontal.&lt;/p&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Nous avons discut√© des probl√®mes pos√©s par la m√©thode de ‚ÄúAngular CLI‚Äù pour g√©rer la configuration de l‚Äôenvironnement avec &lt;strong&gt;un build par environnement&lt;/strong&gt;. Nous avons √©galement cherch√© √† d√©terminer l‚Äôint√©r√™t de &lt;strong&gt;build une version √† la fois&lt;/strong&gt;. Nous avons examin√© comment impl√©menter cela √† l‚Äôaide d‚Äôun service app.init qui chargeait un fichier de configuration dynamique lors de l‚Äôinitialisation, avec des valeurs d√©finies par le serveur de d√©ploiement.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Journalisation: quelques r√®gles pratique]]></title><description><![CDATA[La journalisation est quelque chose que chaque d√©veloppeur fait depuis ses d√©buts en programmation, mais tr√®s peu connaissent la valeur qu‚Ä¶]]></description><link>https://ludovicwyffels.dev/node-logging/</link><guid isPermaLink="false">https://ludovicwyffels.dev/node-logging/</guid><pubDate>Sat, 07 Sep 2019 08:00:00 GMT</pubDate><content:encoded>&lt;p&gt;La journalisation est quelque chose que chaque d√©veloppeur fait depuis ses d√©buts en programmation, mais tr√®s peu connaissent la valeur qu‚Äôelle peut produire et les meilleures pratiques.&lt;/p&gt;
&lt;p&gt;Dans ce billet, nous aborderons les sujets suivants :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Quels sont les journaux et quelle est leur importance ?&lt;/li&gt;
&lt;li&gt;Meilleures pratiques √† consigner&lt;/li&gt;
&lt;li&gt;Parties importantes de la journalisation&lt;/li&gt;
&lt;li&gt;Utilisation correcte des niveaux de journalisation&lt;/li&gt;
&lt;li&gt;Pourquoi Winston ?&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Quels sont les journaux et leur importance ?&lt;/h2&gt;
&lt;p&gt;Les journaux sont les √©v√©nements qui refl√®tent les diff√©rents aspects de votre application, c‚Äôest le mode le plus facile de d√©pannage et de diagnostic de votre application, si elle est correctement √©crite par l‚Äô√©quipe.&lt;/p&gt;
&lt;p&gt;Lorsque vous d√©marrez un serveur Node.Js et que la base de donn√©es ne fonctionne pas ou s‚Äôarr√™te brusquement en raison d‚Äôun probl√®me ou que le port du serveur est d√©j√† utilis√©, s‚Äôil n‚Äôy a pas de journaux, vous ne saurez jamais pourquoi le serveur a √©chou√©.&lt;/p&gt;
&lt;p&gt;Souvent, en tant que d√©veloppeur, vous avez besoin de d√©boguer un probl√®me, nous utilisons volontiers le d√©bogueur et les points d‚Äôarr√™t pour comprendre o√π et ce qui a cass√©.&lt;/p&gt;
&lt;p&gt;Que feriez-vous lorsque votre application est en production ? Pouvez-vous y attacher un d√©bogueur et rejouer autour du bogue ? √âvidemment non. C‚Äôest donc ici que l‚Äôenregistrement vous aidera.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Vous n‚Äôobtiendrez une configuration de journalisation id√©ale que si, sans utiliser le d√©bogueur, vous pouvez trouver un probl√®me en parcourant les journaux et que vous savez ce qui s‚Äôest mal pass√© et o√π.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Meilleures pratiques&lt;/h2&gt;
&lt;h3&gt;1) Trois parties importantes des billes de bois&lt;/h3&gt;
&lt;p&gt;Les journaux d‚Äôapplication sont √† la fois pour l‚Äôhomme et pour les machines. Les humains se r√©f√®rent aux journaux pour d√©boguer le probl√®me et les machines utilisent les journaux pour g√©n√©rer divers tableaux de bord et graphiques et pour l‚Äôanalyse des donn√©es afin de produire diverses conclusions sur les usages des clients.&lt;/p&gt;
&lt;p&gt;Chaque b√ªche doit contenir les trois parties les plus importantes :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Source du log&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Quand nous avons une architecture de microservices, il devient vraiment crucial de conna√Ætre la source du journal, les informations comme le nom du service, la zone, le nom d‚Äôh√¥te, etc.&lt;/p&gt;
&lt;p&gt;Les m√©tadonn√©es d√©taill√©es sur la source sont principalement g√©r√©es par l‚Äôagent exp√©diteur de logs, qui transf√®re les logs de tous les microservices vers le syst√®me de logging centralis√©.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Timestamp&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Le moment o√π un √©v√©nement s‚Äôest produit ou un journal a √©t√© g√©n√©r√© est vraiment important. Par cons√©quent, assurez-vous que chaque journal a un timestamp afin que nous puissions trier et filtrer.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Niveau et contexte&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Lorsque vous parcourez les journaux pour trouver l‚Äôerreur, si le journal ne fournit pas suffisamment d‚Äôinformations et si vous devez vous r√©f√©rer au code pour comprendre, ce serait tr√®s frustrant. Par cons√©quent, lors de la journalisation, nous devrions passer suffisamment de contexte.&lt;/p&gt;
&lt;p&gt;Par exemple, un journal sans contexte ressemblerait √† ce qui suit : &lt;code&gt;The operation failed!&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Le meilleur exemple avec un contexte significatif serait : &lt;code&gt;Failed to create user, as the user id already exist&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;2) Que faut-il consigner et comment le faire ?&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Enregistrement des m√©thodes et des donn√©es d‚Äôentr√©e :&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;En d√©boguant le probl√®me, si nous apprenons √† savoir quelle fonction a √©t√© appel√©e et quels param√®tres ont √©t√© pass√©s, cela nous aidera vraiment.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;div id=&quot;gist98157681&quot; class=&quot;gist&quot;&gt;
    &lt;div class=&quot;gist-file&quot;&gt;
      &lt;div class=&quot;gist-data&quot;&gt;
        &lt;div class=&quot;js-gist-file-update-container js-task-list-container file-box&quot;&gt;
  &lt;div id=&quot;file-log-entry-function-ts&quot; class=&quot;file&quot;&gt;
    

  &lt;div itemprop=&quot;text&quot; class=&quot;Box-body p-0 blob-wrapper data type-typescript &quot;&gt;
      
&lt;table class=&quot;highlight tab-size js-file-line-container&quot; data-tab-size=&quot;8&quot;&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-entry-function-ts-L1&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-entry-function-ts-LC1&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=pl-k&gt;import&lt;/span&gt; &lt;span class=pl-s1&gt;logger&lt;/span&gt; &lt;span class=pl-k&gt;from&lt;/span&gt; &lt;span class=pl-s&gt;&amp;#39;../logSetup&amp;#39;&lt;/span&gt;&lt;span class=pl-kos&gt;;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-entry-function-ts-L2&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;2&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-entry-function-ts-LC2&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-entry-function-ts-L3&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;3&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-entry-function-ts-LC3&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=pl-en&gt;getInstallment&lt;/span&gt;&lt;span class=pl-kos&gt;(&lt;/span&gt;&lt;span class=pl-s1&gt;month&lt;/span&gt;: &lt;span class=pl-s1&gt;number&lt;/span&gt;&lt;span class=pl-kos&gt;,&lt;/span&gt; &lt;span class=pl-s1&gt;count&lt;/span&gt;: &lt;span class=pl-s1&gt;number&lt;/span&gt; &lt;span class=pl-kos&gt;)&lt;/span&gt;: number &lt;span class=pl-kos&gt;{&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-entry-function-ts-L4&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;4&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-entry-function-ts-LC4&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=pl-s1&gt;logger&lt;/span&gt;&lt;span class=pl-kos&gt;.&lt;/span&gt;&lt;span class=pl-en&gt;debug&lt;/span&gt;&lt;span class=pl-kos&gt;(&lt;/span&gt;&lt;span class=pl-s&gt;`&amp;gt;&amp;gt;&amp;gt;&amp;gt; Entering getInstallment(month = &lt;span class=pl-s1&gt;&lt;span class=pl-kos&gt;${&lt;/span&gt;&lt;span class=pl-s1&gt;month&lt;/span&gt;&lt;span class=pl-kos&gt;}&lt;/span&gt;&lt;/span&gt;, count= &lt;span class=pl-s1&gt;&lt;span class=pl-kos&gt;${&lt;/span&gt;&lt;span class=pl-s1&gt;count&lt;/span&gt;&lt;span class=pl-kos&gt;}&lt;/span&gt;&lt;/span&gt;`&lt;/span&gt;&lt;span class=pl-kos&gt;)&lt;/span&gt;&lt;span class=pl-kos&gt;;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-entry-function-ts-L5&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;5&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-entry-function-ts-LC5&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-entry-function-ts-L6&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;6&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-entry-function-ts-LC6&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=pl-c&gt;// process&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-entry-function-ts-L7&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;7&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-entry-function-ts-LC7&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-entry-function-ts-L8&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;8&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-entry-function-ts-LC8&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=pl-k&gt;const&lt;/span&gt; &lt;span class=pl-s1&gt;installment&lt;/span&gt;: &lt;span class=pl-smi&gt;number&lt;/span&gt; &lt;span class=pl-c1&gt;=&lt;/span&gt; &lt;span class=pl-c1&gt;3&lt;/span&gt;&lt;span class=pl-kos&gt;;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-entry-function-ts-L9&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;9&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-entry-function-ts-LC9&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=pl-s1&gt;log&lt;/span&gt;&lt;span class=pl-kos&gt;.&lt;/span&gt;&lt;span class=pl-en&gt;debug&lt;/span&gt;&lt;span class=pl-kos&gt;(&lt;/span&gt;&lt;span class=pl-s&gt;&amp;#39;&amp;lt;&amp;lt;&amp;lt;&amp;lt; Exiting getIntallment()&amp;#39;&lt;/span&gt;&lt;span class=pl-kos&gt;)&lt;/span&gt;&lt;span class=pl-kos&gt;;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-entry-function-ts-L10&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;10&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-entry-function-ts-LC10&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=pl-k&gt;return&lt;/span&gt; &lt;span class=pl-s1&gt;installment&lt;/span&gt;&lt;span class=pl-kos&gt;;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-entry-function-ts-L11&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;11&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-entry-function-ts-LC11&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=pl-kos&gt;}&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
&lt;/table&gt;


  &lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;

      &lt;/div&gt;
      &lt;div class=&quot;gist-meta&quot;&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/a6e045f81aada8de51b4c67b3f706cdf/raw/833776e296372f329e5359de3806875b9cf50da6/log-entry-function.ts&quot; style=&quot;float:right&quot;&gt;view raw&lt;/a&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/a6e045f81aada8de51b4c67b3f706cdf#file-log-entry-function-ts&quot;&gt;log-entry-function.ts&lt;/a&gt;
        hosted with &amp;#10084; by &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;En parcourant les journaux &lt;code&gt;&gt;&gt;&gt;&gt;&gt;&lt;/code&gt; et &lt;code&gt;&amp;#x3C;&amp;#x3C;&amp;#x3C;&amp;#x3C;&amp;#x3C;&lt;/code&gt;, vous obtiendrez un aper√ßu de haut niveau de l‚Äôentr√©e et de la sortie d‚Äôune fonction. Ceci est inspir√© par le conflit de merge de git.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Le journal ne doit pas √™tre √©valu√© pour supprimer une exception&lt;/p&gt;
&lt;p&gt;Dans la ligne #8, le &lt;code&gt;userService.getUser()&lt;/code&gt; peut retourner null et &lt;code&gt;.getId()&lt;/code&gt; peut lancer une exception, donc veuillez √©viter ce genre de sc√©narios.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;div id=&quot;gist98157735&quot; class=&quot;gist&quot;&gt;
    &lt;div class=&quot;gist-file&quot;&gt;
      &lt;div class=&quot;gist-data&quot;&gt;
        &lt;div class=&quot;js-gist-file-update-container js-task-list-container file-box&quot;&gt;
  &lt;div id=&quot;file-log-exception-function-ts&quot; class=&quot;file&quot;&gt;
    

  &lt;div itemprop=&quot;text&quot; class=&quot;Box-body p-0 blob-wrapper data type-typescript &quot;&gt;
      
&lt;table class=&quot;highlight tab-size js-file-line-container&quot; data-tab-size=&quot;8&quot;&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-exception-function-ts-L1&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-exception-function-ts-LC1&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=pl-k&gt;import&lt;/span&gt; &lt;span class=pl-s1&gt;logger&lt;/span&gt; &lt;span class=pl-k&gt;from&lt;/span&gt; &lt;span class=pl-s&gt;&amp;#39;../logSetup&amp;#39;&lt;/span&gt;&lt;span class=pl-kos&gt;;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-exception-function-ts-L2&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;2&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-exception-function-ts-LC2&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-exception-function-ts-L3&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;3&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-exception-function-ts-LC3&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=pl-en&gt;processLoan&lt;/span&gt;&lt;span class=pl-kos&gt;(&lt;/span&gt;...&lt;span class=pl-kos&gt;)&lt;/span&gt; &lt;span class=pl-kos&gt;{&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-exception-function-ts-L4&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;4&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-exception-function-ts-LC4&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  logger&lt;span class=pl-kos&gt;&lt;span class=pl-kos&gt;&lt;/span&gt;.&lt;/span&gt;&lt;span class=pl-en&gt;debug&lt;/span&gt;&lt;span class=pl-kos&gt;(&lt;/span&gt;&lt;span class=pl-s&gt;&amp;quot;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Entering processLoan()&amp;quot;&lt;/span&gt;&lt;span class=pl-kos&gt;)&lt;/span&gt;&lt;span class=pl-kos&gt;&lt;/span&gt;&lt;span class=pl-kos&gt;;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-exception-function-ts-L5&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;5&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-exception-function-ts-LC5&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-exception-function-ts-L6&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;6&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-exception-function-ts-LC6&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=pl-c&gt;// ... process&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-exception-function-ts-L7&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;7&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-exception-function-ts-LC7&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-exception-function-ts-L8&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;8&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-exception-function-ts-LC8&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=pl-s1&gt;logger&lt;/span&gt;&lt;span class=pl-kos&gt;.&lt;/span&gt;&lt;span class=pl-en&gt;debug&lt;/span&gt;&lt;span class=pl-kos&gt;(&lt;/span&gt;&lt;span class=pl-s&gt;`Processing user loan with id &lt;span class=pl-s1&gt;&lt;span class=pl-kos&gt;${&lt;/span&gt;&lt;span class=pl-s1&gt;userService&lt;/span&gt;&lt;span class=pl-kos&gt;.&lt;/span&gt;&lt;span class=pl-en&gt;getUser&lt;/span&gt;&lt;span class=pl-kos&gt;(&lt;/span&gt;&lt;span class=pl-kos&gt;)&lt;/span&gt;&lt;span class=pl-kos&gt;.&lt;/span&gt;&lt;span class=pl-en&gt;getId&lt;/span&gt;&lt;span class=pl-kos&gt;(&lt;/span&gt;&lt;span class=pl-kos&gt;)&lt;/span&gt;&lt;span class=pl-kos&gt;}&lt;/span&gt;&lt;/span&gt;`&lt;/span&gt;&lt;span class=pl-kos&gt;)&lt;/span&gt;&lt;span class=pl-kos&gt;;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-exception-function-ts-L9&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;9&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-exception-function-ts-LC9&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=pl-c&gt;// this might throw error, when getUser returns undefined&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-exception-function-ts-L10&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;10&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-exception-function-ts-LC10&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-exception-function-ts-L11&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;11&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-exception-function-ts-LC11&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=pl-s1&gt;logger&lt;/span&gt;&lt;span class=pl-kos&gt;.&lt;/span&gt;&lt;span class=pl-en&gt;debug&lt;/span&gt;&lt;span class=pl-kos&gt;(&lt;/span&gt;&lt;span class=pl-s&gt;&amp;quot;&amp;lt;&amp;lt;&amp;lt;&amp;lt; Exiting processLoan()&amp;quot;&lt;/span&gt;&lt;span class=pl-kos&gt;)&lt;/span&gt;&lt;span class=pl-kos&gt;;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-exception-function-ts-L12&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;12&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-exception-function-ts-LC12&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=pl-k&gt;return&lt;/span&gt; &lt;span class=pl-c1&gt;true&lt;/span&gt;&lt;span class=pl-kos&gt;;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-exception-function-ts-L13&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;13&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-exception-function-ts-LC13&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=pl-kos&gt;}&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
&lt;/table&gt;


  &lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;

      &lt;/div&gt;
      &lt;div class=&quot;gist-meta&quot;&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/93fcfffae2d53af76462b13fdd0f35df/raw/915ad6707490339e4a54f8a0cc8bd8d922eeece6/log-exception-function.ts&quot; style=&quot;float:right&quot;&gt;view raw&lt;/a&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/93fcfffae2d53af76462b13fdd0f35df#file-log-exception-function-ts&quot;&gt;log-exception-function.ts&lt;/a&gt;
        hosted with &amp;#10084; by &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;Vous devez utiliser &lt;a href=&quot;https://github.com/mgechev/aspect.js&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;aspect.js&lt;/a&gt; pour automatiser les journaux des niveaux de fonction.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;La journalisation ne doit pas produire d‚Äôeffet secondaire&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Le journal doit √™tre anonyme et ne doit produire aucun effet secondaire. Par exemple, la ligne d‚Äôenregistrement #8 suivante cr√©era une nouvelle ressource dans la base de donn√©es.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;div id=&quot;gist98157751&quot; class=&quot;gist&quot;&gt;
    &lt;div class=&quot;gist-file&quot;&gt;
      &lt;div class=&quot;gist-data&quot;&gt;
        &lt;div class=&quot;js-gist-file-update-container js-task-list-container file-box&quot;&gt;
  &lt;div id=&quot;file-log-stateless-function-ts&quot; class=&quot;file&quot;&gt;
    

  &lt;div itemprop=&quot;text&quot; class=&quot;Box-body p-0 blob-wrapper data type-typescript &quot;&gt;
      
&lt;table class=&quot;highlight tab-size js-file-line-container&quot; data-tab-size=&quot;8&quot;&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-stateless-function-ts-L1&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-stateless-function-ts-LC1&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=pl-k&gt;import&lt;/span&gt; &lt;span class=pl-s1&gt;logger&lt;/span&gt; &lt;span class=pl-k&gt;from&lt;/span&gt; &lt;span class=pl-s&gt;&amp;#39;../logSetup&amp;#39;&lt;/span&gt;&lt;span class=pl-kos&gt;;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-stateless-function-ts-L2&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;2&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-stateless-function-ts-LC2&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-stateless-function-ts-L3&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;3&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-stateless-function-ts-LC3&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=pl-en&gt;createUser&lt;/span&gt;&lt;span class=pl-kos&gt;(&lt;/span&gt;&lt;span class=pl-kos&gt;)&lt;/span&gt;&lt;span class=pl-kos&gt;&lt;/span&gt; &lt;span class=pl-kos&gt;{&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-stateless-function-ts-L4&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;4&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-stateless-function-ts-LC4&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=pl-s1&gt;logger&lt;/span&gt;&lt;span class=pl-kos&gt;.&lt;/span&gt;&lt;span class=pl-en&gt;debug&lt;/span&gt;&lt;span class=pl-kos&gt;(&lt;/span&gt;&lt;span class=pl-s&gt;&amp;quot;&amp;gt;&amp;gt;&amp;gt;&amp;gt; Entering createUser&amp;quot;&lt;/span&gt;&lt;span class=pl-kos&gt;)&lt;/span&gt;&lt;span class=pl-kos&gt;;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-stateless-function-ts-L5&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;5&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-stateless-function-ts-LC5&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-stateless-function-ts-L6&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;6&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-stateless-function-ts-LC6&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=pl-c&gt;// ... process&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-stateless-function-ts-L7&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;7&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-stateless-function-ts-LC7&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-stateless-function-ts-L8&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;8&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-stateless-function-ts-LC8&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=pl-s1&gt;logger&lt;/span&gt;&lt;span class=pl-kos&gt;.&lt;/span&gt;&lt;span class=pl-en&gt;debug&lt;/span&gt;&lt;span class=pl-kos&gt;(&lt;/span&gt;&lt;span class=pl-s&gt;&amp;quot;Saving user loan {}&amp;quot;&lt;/span&gt;&lt;span class=pl-kos&gt;,&lt;/span&gt; &lt;span class=pl-s1&gt;userInfoRepository&lt;/span&gt;&lt;span class=pl-kos&gt;.&lt;/span&gt;&lt;span class=pl-en&gt;save&lt;/span&gt;&lt;span class=pl-kos&gt;(&lt;/span&gt;&lt;span class=pl-s1&gt;userInfo&lt;/span&gt;&lt;span class=pl-kos&gt;)&lt;/span&gt;&lt;span class=pl-kos&gt;)&lt;/span&gt; &lt;span class=pl-c&gt;// don&amp;#39;t do this&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-stateless-function-ts-L9&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;9&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-stateless-function-ts-LC9&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-stateless-function-ts-L10&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;10&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-stateless-function-ts-LC10&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=pl-k&gt;return&lt;/span&gt; &lt;span class=pl-c1&gt;true&lt;/span&gt;&lt;span class=pl-kos&gt;;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-stateless-function-ts-L11&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;11&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-stateless-function-ts-LC11&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=pl-kos&gt;}&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
&lt;/table&gt;


  &lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;

      &lt;/div&gt;
      &lt;div class=&quot;gist-meta&quot;&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/04e7fd5e9994f56c8634eb53bb0f4851/raw/f6c766a4f8b2a337f32e6ccd35a0006fb55cab6c/log-stateless-function.ts&quot; style=&quot;float:right&quot;&gt;view raw&lt;/a&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/04e7fd5e9994f56c8634eb53bb0f4851#file-log-stateless-function-ts&quot;&gt;log-stateless-function.ts&lt;/a&gt;
        hosted with &amp;#10084; by &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Enregistrer les erreurs avec d√©tails&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Lorsqu‚Äôil y a une erreur, soyez descriptif, mentionnez ce qui a √©t√© tent√© et pourquoi elle a √©chou√©.&lt;/p&gt;
&lt;p&gt;Consigner ce qui a √©chou√© et ce que vous faites ensuite.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;div id=&quot;gist98157794&quot; class=&quot;gist&quot;&gt;
    &lt;div class=&quot;gist-file&quot;&gt;
      &lt;div class=&quot;gist-data&quot;&gt;
        &lt;div class=&quot;js-gist-file-update-container js-task-list-container file-box&quot;&gt;
  &lt;div id=&quot;file-log-error-function-ts&quot; class=&quot;file&quot;&gt;
    

  &lt;div itemprop=&quot;text&quot; class=&quot;Box-body p-0 blob-wrapper data type-typescript &quot;&gt;
      
&lt;table class=&quot;highlight tab-size js-file-line-container&quot; data-tab-size=&quot;8&quot;&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-error-function-ts-L1&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-error-function-ts-LC1&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=pl-k&gt;import&lt;/span&gt; &lt;span class=pl-s1&gt;logger&lt;/span&gt; &lt;span class=pl-k&gt;from&lt;/span&gt; &lt;span class=pl-s&gt;&amp;#39;../logSetup&amp;#39;&lt;/span&gt;&lt;span class=pl-kos&gt;;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-error-function-ts-L2&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;2&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-error-function-ts-LC2&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-error-function-ts-L3&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;3&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-error-function-ts-LC3&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=pl-en&gt;processLoan&lt;/span&gt;&lt;span class=pl-kos&gt;(&lt;/span&gt;&lt;span class=pl-s1&gt;id&lt;/span&gt;: &lt;span class=pl-s1&gt;number&lt;/span&gt;&lt;span class=pl-kos&gt;,&lt;/span&gt; &lt;span class=pl-s1&gt;userId&lt;/span&gt;: &lt;span class=pl-s1&gt;number&lt;/span&gt;&lt;span class=pl-kos&gt;)&lt;/span&gt;&lt;span class=pl-kos&gt;&lt;/span&gt; &lt;span class=pl-kos&gt;{&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-error-function-ts-L4&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;4&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-error-function-ts-LC4&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=pl-k&gt;try&lt;/span&gt; &lt;span class=pl-kos&gt;{&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-error-function-ts-L5&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;5&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-error-function-ts-LC5&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=pl-en&gt;getLoanDeatilsById&lt;/span&gt;&lt;span class=pl-kos&gt;(&lt;/span&gt;&lt;span class=pl-kos&gt;)&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-error-function-ts-L6&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;6&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-error-function-ts-LC6&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=pl-kos&gt;}&lt;/span&gt; &lt;span class=pl-k&gt;catch&lt;/span&gt;&lt;span class=pl-kos&gt;(&lt;/span&gt;&lt;span class=pl-s1&gt;error&lt;/span&gt;&lt;span class=pl-kos&gt;)&lt;/span&gt; &lt;span class=pl-kos&gt;{&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-error-function-ts-L7&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;7&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-error-function-ts-LC7&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=pl-s1&gt;log&lt;/span&gt;&lt;span class=pl-kos&gt;.&lt;/span&gt;&lt;span class=pl-en&gt;error&lt;/span&gt;&lt;span class=pl-kos&gt;(&lt;/span&gt;&lt;span class=pl-s&gt;`Failed to do getLoanDetails with id &lt;span class=pl-s1&gt;&lt;span class=pl-kos&gt;${&lt;/span&gt;&lt;span class=pl-s1&gt;id&lt;/span&gt;&lt;span class=pl-kos&gt;}&lt;/span&gt;&lt;/span&gt;, ignoring it and trying to getLoanDetailsByUserId`&lt;/span&gt;&lt;span class=pl-kos&gt;,&lt;/span&gt; &lt;span class=pl-s1&gt;error&lt;/span&gt;&lt;span class=pl-kos&gt;)&lt;/span&gt;&lt;span class=pl-kos&gt;;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-error-function-ts-L8&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;8&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-error-function-ts-LC8&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=pl-c&gt;// good example: provide what failed, and how you are handling. &lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-error-function-ts-L9&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;9&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-error-function-ts-LC9&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=pl-c&gt;// e.g here on fail I am trying to call other function&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-error-function-ts-L10&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;10&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-error-function-ts-LC10&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=pl-en&gt;getLoanDetailsByUserId&lt;/span&gt;&lt;span class=pl-kos&gt;(&lt;/span&gt;&lt;span class=pl-kos&gt;)&lt;/span&gt;&lt;span class=pl-kos&gt;;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-error-function-ts-L11&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;11&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-error-function-ts-LC11&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=pl-kos&gt;}&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-error-function-ts-L12&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;12&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-error-function-ts-LC12&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=pl-kos&gt;}&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
&lt;/table&gt;


  &lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;

      &lt;/div&gt;
      &lt;div class=&quot;gist-meta&quot;&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/fdd1c48e9075058256bd5c7cc42b50f1/raw/4f412485df26690e2bdefe00c06aa02a6a661536/log-error-function.ts&quot; style=&quot;float:right&quot;&gt;view raw&lt;/a&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/fdd1c48e9075058256bd5c7cc42b50f1#file-log-error-function-ts&quot;&gt;log-error-function.ts&lt;/a&gt;
        hosted with &amp;#10084; by &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;Dans le cas o√π vous renvoyez l‚Äôerreur dans la section &lt;code&gt;catch&lt;/code&gt;, veuillez noter quelle op√©ration a √©chou√© et mentionner que vous renvoyez l‚Äôerreur telle quelle.&lt;/p&gt;
&lt;p&gt;&lt;div id=&quot;gist98157810&quot; class=&quot;gist&quot;&gt;
    &lt;div class=&quot;gist-file&quot;&gt;
      &lt;div class=&quot;gist-data&quot;&gt;
        &lt;div class=&quot;js-gist-file-update-container js-task-list-container file-box&quot;&gt;
  &lt;div id=&quot;file-log-exception-trow-function-ts&quot; class=&quot;file&quot;&gt;
    

  &lt;div itemprop=&quot;text&quot; class=&quot;Box-body p-0 blob-wrapper data type-typescript &quot;&gt;
      
&lt;table class=&quot;highlight tab-size js-file-line-container&quot; data-tab-size=&quot;8&quot;&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-exception-trow-function-ts-L1&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-exception-trow-function-ts-LC1&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=pl-k&gt;import&lt;/span&gt; &lt;span class=pl-s1&gt;logger&lt;/span&gt; &lt;span class=pl-k&gt;from&lt;/span&gt; &lt;span class=pl-s&gt;&amp;#39;../logSetup&amp;#39;&lt;/span&gt;&lt;span class=pl-kos&gt;;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-exception-trow-function-ts-L2&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;2&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-exception-trow-function-ts-LC2&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-exception-trow-function-ts-L3&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;3&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-exception-trow-function-ts-LC3&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=pl-en&gt;processLoan&lt;/span&gt;&lt;span class=pl-kos&gt;(&lt;/span&gt;&lt;span class=pl-s1&gt;id&lt;/span&gt;: &lt;span class=pl-s1&gt;number&lt;/span&gt;&lt;span class=pl-kos&gt;,&lt;/span&gt; &lt;span class=pl-s1&gt;userId&lt;/span&gt;: &lt;span class=pl-s1&gt;number&lt;/span&gt;&lt;span class=pl-kos&gt;)&lt;/span&gt;&lt;span class=pl-kos&gt;&lt;/span&gt; &lt;span class=pl-kos&gt;{&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-exception-trow-function-ts-L4&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;4&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-exception-trow-function-ts-LC4&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=pl-k&gt;try&lt;/span&gt; &lt;span class=pl-kos&gt;{&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-exception-trow-function-ts-L5&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;5&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-exception-trow-function-ts-LC5&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=pl-en&gt;getLoanDeatilsById&lt;/span&gt;&lt;span class=pl-kos&gt;(&lt;/span&gt;&lt;span class=pl-kos&gt;)&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-exception-trow-function-ts-L6&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;6&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-exception-trow-function-ts-LC6&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=pl-kos&gt;}&lt;/span&gt; &lt;span class=pl-k&gt;catch&lt;/span&gt;&lt;span class=pl-kos&gt;(&lt;/span&gt;&lt;span class=pl-s1&gt;error&lt;/span&gt;&lt;span class=pl-kos&gt;)&lt;/span&gt; &lt;span class=pl-kos&gt;{&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-exception-trow-function-ts-L7&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;7&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-exception-trow-function-ts-LC7&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=pl-s1&gt;log&lt;/span&gt;&lt;span class=pl-kos&gt;.&lt;/span&gt;&lt;span class=pl-en&gt;error&lt;/span&gt;&lt;span class=pl-kos&gt;(&lt;/span&gt;&lt;span class=pl-s&gt;`Failed to do getLoanDetails with id &lt;span class=pl-s1&gt;&lt;span class=pl-kos&gt;${&lt;/span&gt;&lt;span class=pl-s1&gt;id&lt;/span&gt;&lt;span class=pl-kos&gt;}&lt;/span&gt;&lt;/span&gt; hence throwing error`&lt;/span&gt;&lt;span class=pl-kos&gt;,&lt;/span&gt; &lt;span class=pl-s1&gt;error&lt;/span&gt;&lt;span class=pl-kos&gt;)&lt;/span&gt;&lt;span class=pl-kos&gt;;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-exception-trow-function-ts-L8&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;8&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-exception-trow-function-ts-LC8&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=pl-c&gt;// good example: provide what failed, and how you are handling. &lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-exception-trow-function-ts-L9&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;9&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-exception-trow-function-ts-LC9&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=pl-c&gt;// e.g here on fail I am throwing&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-exception-trow-function-ts-L10&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;10&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-exception-trow-function-ts-LC10&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=pl-k&gt;throw&lt;/span&gt; &lt;span class=pl-s1&gt;error&lt;/span&gt;&lt;span class=pl-kos&gt;;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-exception-trow-function-ts-L11&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;11&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-exception-trow-function-ts-LC11&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=pl-kos&gt;}&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-exception-trow-function-ts-L12&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;12&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-exception-trow-function-ts-LC12&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=pl-kos&gt;}&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
&lt;/table&gt;


  &lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;

      &lt;/div&gt;
      &lt;div class=&quot;gist-meta&quot;&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/a1a490f44de0713146543b7281ae18c6/raw/77136e06a7f9d3c206201a4e36196af2a12d8073/log-exception-trow-function.ts&quot; style=&quot;float:right&quot;&gt;view raw&lt;/a&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/a1a490f44de0713146543b7281ae18c6#file-log-exception-trow-function-ts&quot;&gt;log-exception-trow-function.ts&lt;/a&gt;
        hosted with &amp;#10084; by &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;h3&gt;3) Informations sensibles&lt;/h3&gt;
&lt;p&gt;La s√©rie de log devrait refl√©ter les activit√©s d‚Äôun utilisateur dans l‚Äôapplication afin que le d√©bogage puisse √™tre plus facile et devrait enregistrer les erreurs afin que l‚Äôaction puisse √™tre prise d√®s que possible. Les journaux contiennent des informations telles que la fonction appel√©e avec quelles entr√©es, o√π et quelle erreur s‚Äôest produite, etc.&lt;/p&gt;
&lt;p&gt;Lors de l‚Äôenregistrement, nous devons nous assurer de ne pas enregistrer les informations sensibles comme le nom d‚Äôutilisateur et le mot de passe, les informations financi√®res comme le num√©ro de carte, le num√©ro CVV, etc.
En tant que d√©veloppeurs, nous devrions demander et consulter l‚Äô√©quipe produit pour pr√©parer une liste d‚Äôinformations sensibles et les masquer avant de les enregistrer.&lt;/p&gt;
&lt;h3&gt;4) Utilisation correcte des niveaux de notation&lt;/h3&gt;
&lt;p&gt;Si les applications de production ont un nombre raisonnablement √©lev√© de transactions d‚Äôutilisateurs, par jour, la configuration id√©ale des logs peut g√©n√©rer des gigaoctets de logs, d‚Äôo√π la n√©cessit√© de classer nos logs en plusieurs groupes. Ainsi, en fonction de l‚Äôaudience, nous pouvons activer le niveau de journalisation en temps r√©el, et n‚Äôobtenir que les journaux appropri√©s.&lt;/p&gt;
&lt;p&gt;Par exemple, si un chef de produit veut voir combien de transactions clients sont r√©ussies ou √©chou√©es dans notre tableau de bord de journalisation, il ne devrait pas se voir afficher des informations encombr√©es d‚Äôappels de fonction sur divers qui est seulement pour les d√©veloppeurs. Et quand il y a un bogue dans la production, le d√©veloppeur devrait voir les journaux d√©taill√©s des diff√©rentes fonctions qui ont √©t√© ex√©cut√©es avec succ√®s et qui ont √©chou√©. Pour que le probl√®me puisse √™tre identifi√© et corrig√© le plus rapidement possible.&lt;/p&gt;
&lt;p&gt;Pour r√©aliser ce type d‚Äôinstallation, nous avons besoin d‚Äôavoir une meilleure compr√©hension de chaque niveau de journalisation.&lt;/p&gt;
&lt;p&gt;Discutons des niveaux les plus importants et de leurs usages :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;INFO&lt;/strong&gt;: Quelques messages importants, des messages d‚Äô√©v√©nements qui d√©crivent quand une t√¢che est termin√©e. Par exemple : &lt;code&gt;New User creaded with id xxx&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Il s‚Äôagit d‚Äôun simple journal d‚Äôinformation sur l‚Äôavancement des travaux.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;DEBUG&lt;/strong&gt;: Ce niveau est destin√© aux d√©veloppeurs, c‚Äôest similaire √† l‚Äôenregistrement des informations que vous voyez lorsque vous utilisez le d√©bogueur ou le point d‚Äôarr√™t, comme quelle fonction a √©t√© appel√©e et quels param√®tres ont √©t√© pass√©s, etc. Il devrait avoir l‚Äô√©tat actuel de sorte qu‚Äôil puisse √™tre utile lors du d√©bogage et de la recherche du probl√®me exact.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;WARN&lt;/strong&gt;: Ces journaux sont les avertissements et ne bloquent pas l‚Äôapplication pour continuer, ils fournissent des alertes lorsque quelque chose ne va pas et que la solution de contournement est utilis√©e, par exemple une entr√©e utilisateur erron√©e, des tentatives r√©p√©t√©es, etc. Les administrateurs devraient corriger ces avertissements √† l‚Äôavenir.&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ERROR&lt;/strong&gt; : Quelque chose de mal s‚Äôest produit et devrait faire l‚Äôobjet d‚Äôune enqu√™te prioritaire. Par exemple, la base de donn√©es est en panne, la communication avec d‚Äôautres microservices a √©chou√© ou l‚Äôentr√©e requise n‚Äôa pas √©t√© d√©finie.&lt;/p&gt;
&lt;p&gt;Les principaux publics vis√©s sont les op√©rateurs syst√®me ou les syst√®mes de surveillance.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Id√©alement, l‚Äôapplication de production devrait avoir des journaux d‚Äôerreurs proches de z√©ro.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;5) Ne pas utiliser &lt;code&gt;console.log&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;La plupart des d√©veloppeurs ont utilis√© le module de console comme premier outil pour obtenir les logs ou d√©boguer le code, car il est facile √† utiliser, disponible globalement et aucune configuration n‚Äôest n√©cessaire. Dans Node.Js, la console est impl√©ment√©e diff√©remment que dans les navigateurs, le module de console imprime le message dans stdout lorsque vous utilisez &lt;code&gt;console.log&lt;/code&gt; et si vous utilisez &lt;code&gt;console.error&lt;/code&gt;, il imprimera dans stderr.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;console.log&lt;/code&gt;, &lt;code&gt;console.debug&lt;/code&gt; et &lt;code&gt;console.info&lt;/code&gt; s‚Äôimprime dans stdout, donc nous ne pourrons pas d√©sactiver ou sur debug et info. De m√™me, &lt;code&gt;console.warn&lt;/code&gt; et &lt;code&gt;console.error&lt;/code&gt; s‚Äôimpriment tous deux dans stderr.
La bascule des diff√©rents niveaux est difficile pour l‚Äôapplication de production.&lt;/p&gt;
&lt;p&gt;Nous avons √©galement besoin de diff√©rents types de configuration comme le format standard, le format de sortie JSON √† envoyer √† la stack ELK, et ceux-ci ne sont pas disponibles dans la console pr√™te √† l‚Äôemploi.&lt;/p&gt;
&lt;p&gt;Pour surmonter tous ces probl√®mes, nous allons utiliser &lt;a href=&quot;https://www.npmjs.com/package/winston&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Winston&lt;/a&gt; framework de journalisation, d‚Äôautres options sont √©galement disponibles comme &lt;a href=&quot;https://www.npmjs.com/package/log4js&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;log4js&lt;/a&gt;, &lt;a href=&quot;https://github.com/trentm/node-bunyan&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Bunyan&lt;/a&gt;, &lt;a href=&quot;https://getpino.io/#/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Pino&lt;/a&gt;, etc&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Pourquoi avons-nous besoin d‚Äôune biblioth√®que de journalisation comme Winston ?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Comme dans la derni√®re section, nous avons discut√© de quelques d√©fauts de la console, √©num√©rons quelques fonctionnalit√©s importantes fournies par Winston :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Niveaux&lt;/strong&gt;: Winston est livr√© avec quelques jeux de niveaux de logs et imprime √©galement le niveau comme la partie du log, ce qui nous permettra de filtrer les logs dans notre tableau de bord centralis√©.&lt;/p&gt;
&lt;p&gt;Par exemple &lt;code&gt;{message : &quot;something wrong&quot;, level : &quot;error&quot;}&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Vous pouvez √©galement cr√©er des niveaux personnalis√©s si n√©cessaire.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Formats&lt;/strong&gt;: Winston a quelques configurations avanc√©es, comme donner des couleurs aux logs, formatage en JSON, etc.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Modifier dynamiquement les niveaux de journalisation&lt;/strong&gt;: Nous aurons l‚Äôavertissement et l‚Äôerreur activ√©s dans notre application de production, et quand n√©cessaire, nous avons besoin de la fonctionnalit√© pour changer le niveau de journal pour d√©boguer et revenir √† l‚Äôerreur, selon le besoin, sans red√©marrer l‚Äôapplication. L‚Äôenregistreur Winston est livr√© avec cette fonction pr√™te √† l‚Äôemploi.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;div id=&quot;gist98159515&quot; class=&quot;gist&quot;&gt;
    &lt;div class=&quot;gist-file&quot;&gt;
      &lt;div class=&quot;gist-data&quot;&gt;
        &lt;div class=&quot;js-gist-file-update-container js-task-list-container file-box&quot;&gt;
  &lt;div id=&quot;file-log-change-level-dynamically-ts&quot; class=&quot;file&quot;&gt;
    

  &lt;div itemprop=&quot;text&quot; class=&quot;Box-body p-0 blob-wrapper data type-typescript &quot;&gt;
      
&lt;table class=&quot;highlight tab-size js-file-line-container&quot; data-tab-size=&quot;8&quot;&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-change-level-dynamically-ts-L1&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-change-level-dynamically-ts-LC1&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=pl-c&gt;// log setup&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-change-level-dynamically-ts-L2&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;2&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-change-level-dynamically-ts-LC2&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=pl-k&gt;import&lt;/span&gt; &lt;span class=pl-s1&gt;winston&lt;/span&gt; &lt;span class=pl-k&gt;from&lt;/span&gt; &lt;span class=pl-s&gt;&amp;#39;winston&amp;#39;&lt;/span&gt;&lt;span class=pl-kos&gt;;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-change-level-dynamically-ts-L3&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;3&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-change-level-dynamically-ts-LC3&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-change-level-dynamically-ts-L4&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;4&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-change-level-dynamically-ts-LC4&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=pl-k&gt;const&lt;/span&gt; &lt;span class=pl-s1&gt;transports&lt;/span&gt; &lt;span class=pl-c1&gt;=&lt;/span&gt; &lt;span class=pl-kos&gt;{&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-change-level-dynamically-ts-L5&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;5&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-change-level-dynamically-ts-LC5&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=pl-c1&gt;console&lt;/span&gt;: &lt;span class=pl-k&gt;new&lt;/span&gt; &lt;span class=pl-s1&gt;winston&lt;/span&gt;&lt;span class=pl-kos&gt;.&lt;/span&gt;&lt;span class=pl-c1&gt;transports&lt;/span&gt;&lt;span class=pl-kos&gt;.&lt;/span&gt;&lt;span class=pl-en&gt;Console&lt;/span&gt;&lt;span class=pl-kos&gt;(&lt;/span&gt;&lt;span class=pl-kos&gt;{&lt;/span&gt; &lt;span class=pl-c1&gt;level&lt;/span&gt;: &lt;span class=pl-s&gt;&amp;#39;warn&amp;#39;&lt;/span&gt; &lt;span class=pl-kos&gt;}&lt;/span&gt;&lt;span class=pl-kos&gt;)&lt;/span&gt;&lt;span class=pl-kos&gt;,&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-change-level-dynamically-ts-L6&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;6&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-change-level-dynamically-ts-LC6&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=pl-kos&gt;}&lt;/span&gt;&lt;span class=pl-kos&gt;;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-change-level-dynamically-ts-L7&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;7&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-change-level-dynamically-ts-LC7&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-change-level-dynamically-ts-L8&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;8&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-change-level-dynamically-ts-LC8&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=pl-k&gt;const&lt;/span&gt; &lt;span class=pl-s1&gt;logger&lt;/span&gt; &lt;span class=pl-c1&gt;=&lt;/span&gt; &lt;span class=pl-s1&gt;winston&lt;/span&gt;&lt;span class=pl-kos&gt;.&lt;/span&gt;&lt;span class=pl-en&gt;createLogger&lt;/span&gt;&lt;span class=pl-kos&gt;(&lt;/span&gt;&lt;span class=pl-kos&gt;{&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-change-level-dynamically-ts-L9&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;9&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-change-level-dynamically-ts-LC9&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=pl-c1&gt;transports&lt;/span&gt;: &lt;span class=pl-kos&gt;[&lt;/span&gt;&lt;span class=pl-s1&gt;transports&lt;/span&gt;&lt;span class=pl-kos&gt;.&lt;/span&gt;&lt;span class=pl-c1&gt;console&lt;/span&gt;&lt;span class=pl-kos&gt;,&lt;/span&gt; &lt;span class=pl-s1&gt;transports&lt;/span&gt;&lt;span class=pl-kos&gt;.&lt;/span&gt;&lt;span class=pl-c1&gt;file&lt;/span&gt;&lt;span class=pl-kos&gt;]&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-change-level-dynamically-ts-L10&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;10&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-change-level-dynamically-ts-LC10&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=pl-kos&gt;}&lt;/span&gt;&lt;span class=pl-kos&gt;)&lt;/span&gt;&lt;span class=pl-kos&gt;;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-change-level-dynamically-ts-L11&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;11&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-change-level-dynamically-ts-LC11&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-change-level-dynamically-ts-L12&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;12&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-change-level-dynamically-ts-LC12&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=pl-s1&gt;logger&lt;/span&gt;&lt;span class=pl-kos&gt;.&lt;/span&gt;&lt;span class=pl-en&gt;info&lt;/span&gt;&lt;span class=pl-kos&gt;(&lt;/span&gt;&lt;span class=pl-s&gt;&amp;#39;This will not be logged in console transport because warn is set!&amp;#39;&lt;/span&gt;&lt;span class=pl-kos&gt;)&lt;/span&gt;&lt;span class=pl-kos&gt;;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-change-level-dynamically-ts-L13&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;13&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-change-level-dynamically-ts-LC13&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-change-level-dynamically-ts-L14&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;14&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-change-level-dynamically-ts-LC14&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=pl-s1&gt;transports&lt;/span&gt;&lt;span class=pl-kos&gt;.&lt;/span&gt;&lt;span class=pl-c1&gt;console&lt;/span&gt;&lt;span class=pl-kos&gt;.&lt;/span&gt;&lt;span class=pl-c1&gt;level&lt;/span&gt; &lt;span class=pl-c1&gt;=&lt;/span&gt; &lt;span class=pl-s&gt;&amp;#39;info&amp;#39;&lt;/span&gt;&lt;span class=pl-kos&gt;;&lt;/span&gt; &lt;span class=pl-c&gt;// changed the level&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-change-level-dynamically-ts-L15&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;15&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-change-level-dynamically-ts-LC15&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-change-level-dynamically-ts-L16&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;16&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-change-level-dynamically-ts-LC16&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=pl-s1&gt;logger&lt;/span&gt;&lt;span class=pl-kos&gt;.&lt;/span&gt;&lt;span class=pl-en&gt;info&lt;/span&gt;&lt;span class=pl-kos&gt;(&lt;/span&gt;&lt;span class=pl-s&gt;&amp;#39;This will be logged in now!&amp;#39;&lt;/span&gt;&lt;span class=pl-kos&gt;)&lt;/span&gt;&lt;span class=pl-kos&gt;;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-change-level-dynamically-ts-L17&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;17&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-change-level-dynamically-ts-LC17&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-change-level-dynamically-ts-L18&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;18&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-change-level-dynamically-ts-LC18&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=pl-k&gt;export&lt;/span&gt; &lt;span class=pl-k&gt;default&lt;/span&gt; &lt;span class=pl-kos&gt;{&lt;/span&gt;logger&lt;span class=pl-kos&gt;,&lt;/span&gt; transport&lt;span class=pl-kos&gt;}&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
&lt;/table&gt;


  &lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;

      &lt;/div&gt;
      &lt;div class=&quot;gist-meta&quot;&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/83041af3c695c6fb4aa5604c95ac77ec/raw/06527308192962338ec4c917d7e35c5feb728b94/log-change-level-dynamically.ts&quot; style=&quot;float:right&quot;&gt;view raw&lt;/a&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/83041af3c695c6fb4aa5604c95ac77ec#file-log-change-level-dynamically-ts&quot;&gt;log-change-level-dynamically.ts&lt;/a&gt;
        hosted with &amp;#10084; by &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;Nous pouvons aussi exposer une API pour changer le niveau dynamiquement, exposer l‚ÄôAPI REST et dans le handler ex√©cuter la ligne #14 pour changer le niveau.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Transport&lt;/strong&gt;: Pour notre environnement de production, nous aimerions avoir un syst√®me de journalisation centralis√© o√π tous nos microservices poussent les logs, et nous aurons le tableau de bord, le filtrage et la recherche des logs. Il s‚Äôagit de la configuration standard ELK ou d‚Äôune configuration √©quivalente.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;div id=&quot;gist98159533&quot; class=&quot;gist&quot;&gt;
    &lt;div class=&quot;gist-file&quot;&gt;
      &lt;div class=&quot;gist-data&quot;&gt;
        &lt;div class=&quot;js-gist-file-update-container js-task-list-container file-box&quot;&gt;
  &lt;div id=&quot;file-log-transport-file-ts&quot; class=&quot;file&quot;&gt;
    

  &lt;div itemprop=&quot;text&quot; class=&quot;Box-body p-0 blob-wrapper data type-typescript &quot;&gt;
      
&lt;table class=&quot;highlight tab-size js-file-line-container&quot; data-tab-size=&quot;8&quot;&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-transport-file-ts-L1&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-transport-file-ts-LC1&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=pl-k&gt;import&lt;/span&gt; &lt;span class=pl-s1&gt;winston&lt;/span&gt; &lt;span class=pl-k&gt;from&lt;/span&gt; &lt;span class=pl-s&gt;&amp;#39;winston&amp;#39;&lt;/span&gt;&lt;span class=pl-kos&gt;;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-transport-file-ts-L2&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;2&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-transport-file-ts-LC2&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-transport-file-ts-L3&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;3&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-transport-file-ts-LC3&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=pl-k&gt;const&lt;/span&gt; &lt;span class=pl-s1&gt;logger&lt;/span&gt; &lt;span class=pl-c1&gt;=&lt;/span&gt; &lt;span class=pl-s1&gt;winston&lt;/span&gt;&lt;span class=pl-kos&gt;.&lt;/span&gt;&lt;span class=pl-en&gt;createLogger&lt;/span&gt;&lt;span class=pl-kos&gt;(&lt;/span&gt;&lt;span class=pl-kos&gt;{&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-transport-file-ts-L4&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;4&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-transport-file-ts-LC4&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=pl-c1&gt;level&lt;/span&gt;: &lt;span class=pl-s&gt;&amp;#39;info&amp;#39;&lt;/span&gt;&lt;span class=pl-kos&gt;,&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-transport-file-ts-L5&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;5&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-transport-file-ts-LC5&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=pl-c1&gt;format&lt;/span&gt;: &lt;span class=pl-s1&gt;winston&lt;/span&gt;&lt;span class=pl-kos&gt;.&lt;/span&gt;&lt;span class=pl-c1&gt;format&lt;/span&gt;&lt;span class=pl-kos&gt;.&lt;/span&gt;&lt;span class=pl-en&gt;json&lt;/span&gt;&lt;span class=pl-kos&gt;(&lt;/span&gt;&lt;span class=pl-kos&gt;)&lt;/span&gt;&lt;span class=pl-kos&gt;,&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-transport-file-ts-L6&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;6&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-transport-file-ts-LC6&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=pl-c1&gt;transports&lt;/span&gt;: &lt;span class=pl-kos&gt;[&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-transport-file-ts-L7&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;7&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-transport-file-ts-LC7&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;    &lt;span class=pl-k&gt;new&lt;/span&gt; &lt;span class=pl-s1&gt;winston&lt;/span&gt;&lt;span class=pl-kos&gt;.&lt;/span&gt;&lt;span class=pl-c1&gt;transports&lt;/span&gt;&lt;span class=pl-kos&gt;.&lt;/span&gt;&lt;span class=pl-en&gt;File&lt;/span&gt;&lt;span class=pl-kos&gt;(&lt;/span&gt;&lt;span class=pl-kos&gt;{&lt;/span&gt; &lt;span class=pl-c1&gt;filename&lt;/span&gt;: &lt;span class=pl-s&gt;&amp;#39;stdout.log&amp;#39;&lt;/span&gt; &lt;span class=pl-kos&gt;}&lt;/span&gt;&lt;span class=pl-kos&gt;)&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-transport-file-ts-L8&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;8&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-transport-file-ts-LC8&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=pl-kos&gt;]&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-transport-file-ts-L9&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;9&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-transport-file-ts-LC9&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=pl-kos&gt;}&lt;/span&gt;&lt;span class=pl-kos&gt;)&lt;/span&gt;&lt;span class=pl-kos&gt;;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-transport-file-ts-L10&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;10&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-transport-file-ts-LC10&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-log-transport-file-ts-L11&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;11&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-log-transport-file-ts-LC11&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=pl-k&gt;export&lt;/span&gt; &lt;span class=pl-k&gt;default&lt;/span&gt; &lt;span class=pl-s1&gt;logger&lt;/span&gt;&lt;span class=pl-kos&gt;;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
&lt;/table&gt;


  &lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;

      &lt;/div&gt;
      &lt;div class=&quot;gist-meta&quot;&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/bf2d41e1833699baf1fc2b28901f8a44/raw/4c373e0f5002e7c4feae2b9ffccbce78ed5be555/log-transport-file.ts&quot; style=&quot;float:right&quot;&gt;view raw&lt;/a&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/bf2d41e1833699baf1fc2b28901f8a44#file-log-transport-file-ts&quot;&gt;log-transport-file.ts&lt;/a&gt;
        hosted with &amp;#10084; by &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;Winston est livr√© avec la configuration pour √©crire nos journaux dans un fichier de sorte que tout agent exp√©diteur de journaux puisse pousser les journaux vers le syst√®me centralis√©.&lt;/p&gt;
&lt;h3&gt;6) Incidence sur le rendement&lt;/h3&gt;
&lt;p&gt;Si la fr√©quence d‚Äô√©criture du journal de l‚Äôapplication est √©lev√©e, cela peut avoir un impact direct sur les performances de l‚Äôapplication.&lt;/p&gt;
&lt;p&gt;Le niveau debug et info contribue √† plus de 95% des logs, c‚Äôest pourquoi nous devrions seulement activer le niveau d‚Äôerreur et d‚Äôavertissement, et changer le niveau pour d√©boguer quand nous voulons r√©soudre le probl√®me et le ramener sur l‚Äôerreur.&lt;/p&gt;
&lt;p&gt;Les journaux sont un sauveur de vie quand il y a un probl√®me sur l‚Äôapplication. Si vous n‚Äôavez pas actuellement de pratiques d‚Äôenregistrement, encadrez une pratique d‚Äôenregistrement et ajoutez les enregistrements obligatoires dans la liste de contr√¥le de l‚Äôexamen du code.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Mocking de la date actuelle dans les tests de Jest]]></title><description><![CDATA[Il y a des situations o√π new Date() ou Date.now est utilis√©e dans le code de l‚Äôapplication. Ce code doit √™tre test√©, et il est toujours‚Ä¶]]></description><link>https://ludovicwyffels.dev/jest-mocking-current-date/</link><guid isPermaLink="false">https://ludovicwyffels.dev/jest-mocking-current-date/</guid><pubDate>Sun, 25 Aug 2019 09:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Il y a des situations o√π &lt;code&gt;new Date()&lt;/code&gt; ou &lt;code&gt;Date.now&lt;/code&gt; est utilis√©e dans le code de l‚Äôapplication. Ce code doit √™tre test√©, et il est toujours difficile de se rappeler comment le moquer.&lt;/p&gt;
&lt;h2&gt;L‚Äôutilisation de &lt;code&gt;Date.now&lt;/code&gt; vs &lt;code&gt;new Date()&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;Date.now()&lt;/code&gt; retourne le temps au format &lt;a href=&quot;https://en.wikipedia.org/wiki/Unix_time&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;unix&lt;/a&gt;, c‚Äôest √† dire ‚Äúle nombre de millisecondes √©coul√©es depuis le 1er janvier 1970 00:00:00 UTC‚Äù. (voir &lt;code&gt;Date.now&lt;/code&gt; sur &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/now&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;MDN&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;&lt;code&gt;new Date()&lt;/code&gt; retourne un nouvel objet Date, et se comporte diff√©remment en fonction de l‚Äôentr√©e qui lui est pass√©e. S‚Äôil est appel√© sans rien, il retourne la date actuelle.&lt;/p&gt;
&lt;p&gt;Les valeurs suivantes sont √©quivalentes, bien que les valeurs stock√©es dans les deux variables soient strictement diff√©rentes.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; now &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; explicitNow &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Date&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Les valeurs sont strictement diff√©rentes parce que le ‚Äúnow‚Äù est calcul√© √† des moments diff√©rents, mais comme le constructeur Date (new Date()) supporte le passage d‚Äôun temps unix √† celui-ci, les deux sont √©quivalents.&lt;/p&gt;
&lt;p&gt;L‚Äôutilisation de la &lt;code&gt;new Date(Date.now())&lt;/code&gt; rend le code beaucoup plus facile √† tester. Mocker une fonction qui retourne un nombre (comme Date.now) est beaucoup plus facile que se moquer d‚Äôun constructeur.&lt;/p&gt;
&lt;p&gt;Par exemple, le code complet du paquet jest-mock-now est le suivant (voir le code sur github.com/mattiaerre/jest-mock-now) :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NOW&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./constants&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;date&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; now &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; date &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; date&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getTime&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;NOW&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  Date&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;now &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; jest&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;spyOn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Date&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;now&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;mockImplementation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; now&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; now&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Remplacer &lt;code&gt;Date.now&lt;/code&gt; par un substitut&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;literallyJustDateNow&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; Date&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;It should call and return Date.now()&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; realDateNow &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Date&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;global&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Date&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; dateNowStub &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; jest&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1530518207007&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  global&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Date&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;now &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; dateNowStub&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;literallyJustDateNow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toBe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1530518207007&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;dateNowStub&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toHaveBeenCalled&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  global&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Date&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;now &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; realDateNow&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ce n‚Äôest pas vraiment une astuce sp√©cifique √† Jest, nous acc√©dons simplement √† l‚Äôobjet &lt;code&gt;global&lt;/code&gt; de Node et rempla√ßons &lt;code&gt;Date.now&lt;/code&gt; par un stub.&lt;/p&gt;
&lt;h2&gt;Espionnez Date.now et ajoutez une impl√©mentation fictive&lt;/h2&gt;
&lt;p&gt;Une impl√©mentation simplifi√©e d‚Äôun test similaire serait d‚Äôutiliser &lt;code&gt;jest.spyOn(global.Date,&apos;now&apos;).mockImplementation()&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Notre impl√©mentation du mock utilisera une date cod√©e en dur initialis√©e √† l‚Äôaide de la &lt;code&gt;new Date(&apos;valid-date-string&apos;)&lt;/code&gt; et return &lt;code&gt;valueOf()&lt;/code&gt;, qui correspond √† l‚Äôheure unix de cette date.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;getNow&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Date&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;It should create correct now Date&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  jest
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;spyOn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;global&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Date&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;now&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;mockImplementationOnce&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;2019-08-24T11:01:58.135Z&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;valueOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getNow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toEqual&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;2019-08-24T11:01:58.135Z&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Cela a l‚Äôavantage de ne pas avoir √† remplacer la date r√©elle ou √† la remettre √† plus tard.&lt;/p&gt;
&lt;h2&gt;Mocker toute la classe Date avec une instance √† date fixe&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;getCurrentDate&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; realDate&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;It should create new date&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// Setup&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; currentDate &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;2019-08-24T11:01:58.135Z&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  realDate &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Date&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  global&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Date &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;extends&lt;/span&gt; Date &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;date&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;date&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; currentDate&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getCurrentDate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toEqual&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;2019-08-24T11:01:58.135Z&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// Cleanup&lt;/span&gt;
  global&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Date &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; realDate&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;Source Github: &lt;a href=&quot;https://github.com/facebook/jest/issues/2234#issuecomment-445867096&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;‚ÄúMocking current time for Date‚Äù&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Comme nous l‚Äôavons mentionn√© dans l‚Äôintroduction, se moquer de toute la classe est tr√®s brutal.&lt;/p&gt;
&lt;h2&gt;Espionnez le nouveau constructeur Date() et ajoutez une impl√©mentation fictive&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;getCurrentDate&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;It should create new date&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  jest
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;spyOn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;global&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Date&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;mockImplementationOnce&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;2019-08-24T11:01:58.135Z&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getCurrentDate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toEqual&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;2019-08-24T11:01:58.135Z&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;C‚Äôest joli et concis, mais repose sur JavaScript hisser la folie et de savoir que Jest vous permet de simuler global.date.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Jest ignore ou exclure le fichier/fonction/√©tat de la couverture de test]]></title><description><![CDATA[En g√©nie logiciel, la couverture de code est une mesure utilis√©e pour d√©crire le taux de code source ex√©cut√© d‚Äôun programme quand une suite‚Ä¶]]></description><link>https://ludovicwyffels.dev/jest-exclude-coverage/</link><guid isPermaLink="false">https://ludovicwyffels.dev/jest-exclude-coverage/</guid><pubDate>Sun, 18 Aug 2019 09:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;En g√©nie logiciel, la couverture de code est une mesure utilis√©e pour d√©crire le taux de code source ex√©cut√© d‚Äôun programme quand une suite de test est lanc√©e. Un programme avec une haute couverture de code, mesur√©e en pourcentage, a davantage de code ex√©cut√© durant les tests ce qui laisse √† penser qu‚Äôil a moins de chance de contenir de bugs logiciels non d√©tect√©s, comparativement √† un programme avec une faible couverture de code1,2. Diff√©rentes m√©triques peuvent √™tre utilis√©es pour calculer la couverture de code ; les plus basiques sont le pourcentage de sous routine et le pourcentage d‚Äôinstructions appel√©es durant l‚Äôex√©cution de la suite de test.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://fr.wikipedia.org/wiki/Couverture_de_code&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Couverture de code - Wikipedia&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;La couverture de code est g√©n√©ralement utilis√©e comme mesure de qualit√© pour les logiciels, par exemple: ‚ÄòNotre code doit avoir une couverture de tests de 80% et plus.‚Äù La collection de la couverture de test avec Jest est aussi simple que l‚Äôutilisation de l‚Äôindicateur &lt;code&gt;--coverage&lt;/code&gt; sur l‚Äôinvocation.&lt;/p&gt;
&lt;p&gt;Cet article explique comment ignorer les fichiers, fonctions, lignes et d√©clarations de la couverture dans Jest en utilisant la configuration ou istanbul pragmas. Ainsi que les raisons et les limites du pourquoi/comment vous feriez une telle chose.&lt;/p&gt;
&lt;h2&gt;Comment Jest calcule-t-il la couverture ?&lt;/h2&gt;
&lt;p&gt;Jest utilise istanbul sous le capot pour calculer la couverture. La plupart du temps, Jest fait abstraction de cela pour l‚Äôutilisateur final, tout ce que vous avez √† faire dans votre application est d‚Äôappeler &lt;code&gt;jest --coverage&lt;/code&gt; (et configurer les champs de configuration de couverture appropri√©s). Le fait qu‚Äôistanbul soit utilis√© en interne montre, par exemple, que la &lt;a href=&quot;https://jestjs.io/docs/en/configuration.html#coveragereporters-array-string&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;documentation pour coverageReporters&lt;/a&gt; mentionne que ‚Äútout &lt;a href=&quot;https://github.com/istanbuljs/istanbuljs/tree/master/packages/istanbul-reports/lib&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;reporter d‚Äôistanbul&lt;/a&gt; peut √™tre utilis√©‚Äù, ce sont en fait les donn√©es de couverture collect√©es et produites qui sont pr√©sent√©es dans les rapports.&lt;/p&gt;
&lt;h2&gt;Pourquoi voudrais-je exclure ou ignorer des fichiers ou lignes de la couverture ?&lt;/h2&gt;
&lt;p&gt;Comme l‚Äôont d√©clar√© les responsables et les auteurs de la biblioth√®que de couverture d‚Äôistanbul :&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Some branches in JS code are typically hard, if not impossible to test. Examples are a hasOwnProperty check, UMD wrappers and so on. Istanbul now has a facility by which coverage can be excluded for certain sections of code.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/gotwarlost/istanbul/blob/master/ignoring-code-for-coverage.md#ignoring-code-for-coverage-purposes&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Istanbul - Ignore code for coverage purposes&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;De plus, une couverture √† 100 % n‚Äôest pas n√©cessaire ou m√™me raisonnable dans la plupart des cas. Certains fichiers ne contiennent pas de logique (m√©tier). Ou ils contiennent une logique qui √©chouerait d‚Äôune mani√®re tr√®s √©vidente (par exemple, un crash au d√©marrage).&lt;/p&gt;
&lt;p&gt;Par exemple, le script qui d√©marrerait une application pourrait se lier √† un port, ce qui la rend difficile √† tester. Le fichier qui importe toutes les diff√©rentes d√©pendances et &lt;code&gt;app.use()&lt;/code&gt; dans un param√®tre Express serait un autre candidat pour peut-√™tre √©viter l‚Äôenfer du test unitaire/du mock de d√©pendance.&lt;/p&gt;
&lt;p&gt;Une autre classe de fichiers/fonctions que vous pourriez vouloir ignorer √† des fins de couverture sont les ‚Äòhelpers‚Äô sp√©cifiques aux tests. Peu importe que certains d‚Äôentre eux ne soient pas ex√©cut√©s dans le cadre de tests, car ce n‚Äôest pas le code √† tester.&lt;/p&gt;
&lt;p&gt;Comme pour beaucoup de choses dans les logiciels, il s‚Äôagit de compromis.&lt;/p&gt;
&lt;h2&gt;Exclure/ignorer le(s) fichier(s) de la couverture Jest en n‚Äôex√©cutant pas les tests pertinents √† l‚Äôaide de la configuration&lt;/h2&gt;
&lt;p&gt;Il y a une option de configuration Jest option &lt;code&gt;testPathIgnorePatterns&lt;/code&gt; (&lt;a href=&quot;https://jestjs.io/docs/en/configuration.html#testpathignorepatterns-array-string&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;voir la documentation pour testPathIgnorePatterns&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;La fa√ßon la plus simple de configurer ceci est de le faire via le fichier &lt;code&gt;package.json&lt;/code&gt; :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-json line-numbers&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;jest&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;testPathIgnorePatterns&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&quot;&amp;lt;rootDir&gt;/ignore/this/path/&quot;&lt;/span&gt; 
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Exclure/ignorer le(s) fichier(s) de la couverture en ne l‚Äôincluant pas dans la configuration de la collection de couvertures&lt;/h2&gt;
&lt;p&gt;Comme alternative ou augmentation √† ne pas ex√©cuter de tests (comme vu pr√©c√©demment) de la couverture de Jest en ne l‚Äôincluant pas dans les rapports de couverture, cela est contr√¥l√© par l‚Äôoption de configuration &lt;code&gt;collectCoverageFrom&lt;/code&gt; Jest (&lt;a href=&quot;https://jestjs.io/docs/en/configuration.html#collectcoveragefrom-array&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;voir les documents pour Jest collectCoverageFrom&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Utilisez quelque chose comme ce qui suit :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-json line-numbers&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;jest&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;collectCoverageFrom&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&quot;src/**/{!(ignore-me),}.js&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Important&lt;/strong&gt;: assurez-vous d‚Äôentourer le nom du fichier ignor√© avec ().&lt;/p&gt;
&lt;h2&gt;Exclure/ignorer un fichier de la couverture Jest au niveau du fichier&lt;/h2&gt;
&lt;p&gt;Nous pouvons utiliser istanbul pragmas pour ignorer les fichiers en utilisant le commentaire suivant en haut de chaque fichier :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* istanbul ignore file */&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Exclure/ignorer la fonction de la couverture Jest&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* istanbul ignore next */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;myFunc&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;Not covered but won&apos;t appear on coverage reports as such&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Exclure/ignorer une ou plusieurs lignes de la couverture Jest&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;√âvitez ceci si vous le pouvez, si vous testez du code, vous devriez probablement tester tout ce code.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;istanbul ignore next&lt;/code&gt; fonctionne √©galement √† ignorer les d√©clarations, d√©finitions et expressions de JS, ce qui √©quivaut √† ignorer/exclure la ligne de la couverture :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// this function will appear as uncovered&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ignoreLine&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;/* istanbul ignore next */&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;This line won\&apos;t appear as uncovered&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Exclure/ignorer l‚Äô√©nonc√© ou la clause de la couverture Jest&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;√âvitez ceci si vous le pouvez, si vous testez du code, vous devriez probablement tester tout ce code.&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;myFunc&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;/* istanbul ignore else */&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// do some work&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// do some other work&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Lectures compl√©mentaires&lt;/h2&gt;
&lt;p&gt;Consultez la &lt;a href=&quot;https://github.com/gotwarlost/istanbul/blob/master/ignoring-code-for-coverage.md&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;documentation originale d‚Äôistanbul sur ignorer du code pour la couverture&lt;/a&gt; pour un examen plus approfondi de la fa√ßon de proc√©der dans diff√©rentes situations.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Convertissez vos fonction callback en promise]]></title><description><![CDATA[Mais qu‚Äôest-ce qu‚Äôune Promise en Javascript et pourquoi vous devez l‚Äôutiliser? Si vous abusez du callback, vous tomberez dans un anti‚Ä¶]]></description><link>https://ludovicwyffels.dev/node-callback-promise/</link><guid isPermaLink="false">https://ludovicwyffels.dev/node-callback-promise/</guid><pubDate>Thu, 15 Aug 2019 21:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;Mais qu‚Äôest-ce qu‚Äôune Promise en Javascript et pourquoi vous devez l‚Äôutiliser?&lt;/h2&gt;
&lt;p&gt;Si vous abusez du callback, vous tomberez dans un anti-pattern, ‚Äúcallback hell‚Äù vu dans le code des programmeurs qui ne sont pas sages dans les voies de la programmation asynchrone.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token function&quot;&gt;getUser&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; user&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   &lt;span class=&quot;token function&quot;&gt;getProduct&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;productId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; product&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;createOrder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;user&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; product&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; order&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;// Welcome to callback hell&lt;/span&gt;
       &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;L‚Äôapproche de la promesse&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token function&quot;&gt;getUser&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getProduct&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;user&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;product&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
       &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createOrder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;user&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; wallet&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; product&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Woops!&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;En utilisant l‚Äôextrait de code suivant, vous serez en mesure d‚Äôutiliser la promesse javascript avec des fonctions de style callback.&lt;/p&gt;
&lt;p&gt;Vous n‚Äôavez besoin d‚Äôaucune biblioth√®que externe, en fait, vous n‚Äôavez besoin que de 13 lignes de code.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Needs spread operator (... notation)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;promisify&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;args&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;resolve&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; reject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;args&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;reject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Polified version&lt;/span&gt;
&lt;span class=&quot;token string&quot;&gt;&quot;use strict&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;promisify&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;promisify&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; _len &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; arguments&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; args &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;_len&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; _key &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; _key &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; _len&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; _key&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      args&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;_key&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; arguments&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;_key&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;resolve&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; reject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;apply&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; args&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;concat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;reject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Maintenant, allez et ‚Äúpromisify‚Äù toutes vos fonctions en callback.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Bien g√©rer ses textes de commit (partie 2)]]></title><description><![CDATA[Nous sommes tous pass√©s par l√†. Qu‚Äôil s‚Äôagisse d‚Äôun calendrier serr√©, de corrections constantes ou simplement de la cr√©ation de messages‚Ä¶]]></description><link>https://ludovicwyffels.dev/git-manage-commit-text-part2/</link><guid isPermaLink="false">https://ludovicwyffels.dev/git-manage-commit-text-part2/</guid><pubDate>Sun, 11 Aug 2019 18:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Nous sommes tous pass√©s par l√†. Qu‚Äôil s‚Äôagisse d‚Äôun calendrier serr√©, de corrections constantes ou simplement de la cr√©ation de messages avec notre propre mod√®le d√©fini; nous avons tous fait de mauvais messages de commit. Heureusement pour nous, la sp√©cification Conventional Commits existe, et avec elle un ensemble d‚Äôoutils puissants pour nous aider.&lt;/p&gt;
&lt;h2&gt;Application d‚Äôune norme&lt;/h2&gt;
&lt;p&gt;Pour faire respecter une norme √† chaque fois que nous nous faisons un commit, nous avons &lt;a href=&quot;https://github.com/typicode/husky&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;husky&lt;/a&gt; et &lt;a href=&quot;https://github.com/conventional-changelog/commitlint&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;commitling&lt;/a&gt;. Husky √©coute les git hooks, et nous l‚Äôutiliserons pour d√©clencher le commitlint lorsque nous tapons un message de commit. Maintenant, installons les paquets :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; --save-dev husky @commitlint/cli @commitlint/config-conventional&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Apr√®s avoir install√© ces paquets, vous devez cr√©er un fichier &lt;strong&gt;commitlint.config.js&lt;/strong&gt; dans le m√™me dossier que votre package.json :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;@commitlint/config-conventional&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Et modifier votre package.json:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-json line-numbers&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  ...&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;husky&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;hooks&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;commit-msg&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;commitlint -E HUSKY_GIT_PARAMS&quot;&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Tout est pr√™t! Maintenant, vos messages seront linted.&lt;/p&gt;
&lt;h2&gt;Nous les commitons avec commitizen&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/commitizen/cz-cli&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Commitizen&lt;/a&gt; est un paquet qui facilite la cr√©ation de messages de commit selon la sp√©cification pr√©c√©dente. Pour ce faire, vous devez l‚Äôinstaller globalement et configurer votre projet.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; --global commitizen

&lt;span class=&quot;token comment&quot;&gt;# Inside your project&lt;/span&gt;
commitizen init cz-conventional-changelog --save-dev --save-exact&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Maintenant, faites un changement, ajoutez-le et lancez &lt;code&gt;git cz&lt;/code&gt;.&lt;/p&gt;
&lt;hr&gt;
&lt;h2&gt;Automatisation&lt;/h2&gt;
&lt;p&gt;Nous avons ajout√© des outils pour assurer et faciliter la validation des messages de commit selon les sp√©cifications conventionnelles de commit. Non seulement nous avons re√ßu des messages standard sur l‚Äôensemble du projet que les humains peuvent lire, mais aussi des machines. Oui, des machines. Le respect de ces normes a permis aux machines de comprendre le motif, et avec cela, de mettre √† jour automatiquement la version de nos paquets et de g√©n√©rer des changelogs.&lt;/p&gt;
&lt;h3&gt;Version bumping et CHANGELOG&lt;/h3&gt;
&lt;p&gt;Pour faire les deux actions, nous n‚Äôavons besoin que d‚Äôun seul paquet, &lt;code&gt;standard-version&lt;/code&gt;. Ce paquet le fera:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Analyser vos engagements depuis votre derni√®re version (tag)&lt;/li&gt;
&lt;li&gt;Version bump votre paquet.json&lt;/li&gt;
&lt;li&gt;G√©n√©rer ou mettre √† jour un fichier CHANGELOG.md&lt;/li&gt;
&lt;li&gt;G√©n√©rer un message de livraison&lt;/li&gt;
&lt;li&gt;G√©n√©rer une nouvelle balise&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Utilisons-la donc :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; --save-dev standard-version&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Mettez √† jour votre paquet.json :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-json line-numbers&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  ...&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;scripts&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;release&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;standard-version&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Et maintenant vous n‚Äôavez plus qu‚Äô√† lancer &lt;code&gt;npm run release&lt;/code&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Alternativement, si vous souhaitez simplement g√©n√©rer un fichier changelog, je vous recommande le fichier &lt;a href=&quot;https://github.com/conventional-changelog/conventional-changelog/tree/master/packages/conventional-changelog-cli&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;conventionnel-changelog-cli&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h2&gt;Quelle est la prochaine √©tape?&lt;/h2&gt;
&lt;p&gt;Apr√®s avoir gagn√© en lisibilit√© et en automatisation des t√¢ches quotidiennes douloureuses, vous pouvez cr√©er votre propre standard bas√© sur les sp√©cifications conventionnelles de commit. La famille d‚Äôoutils conventionnel-changelog vous permet et vous facilite la cr√©ation de votre propre version si vous le souhaitez.&lt;/p&gt;
&lt;p&gt;J‚Äôesp√®re que ce message vous a aid√©. S‚Äôil y a quoi que ce soit, partagez de l‚Äôinformation qui pourrait l‚Äôam√©liorer et la rendre meilleure pour les autres!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Bien g√©rer ses textes de commit (partie 1)]]></title><description><![CDATA[Que l‚Äôon soit backend ou frontend, il y a une chose qui nous rassemble, c‚Äôest notre gestionnaire de source et son utilisation. Dans cet‚Ä¶]]></description><link>https://ludovicwyffels.dev/git-manage-commit-text-part1/</link><guid isPermaLink="false">https://ludovicwyffels.dev/git-manage-commit-text-part1/</guid><pubDate>Sun, 11 Aug 2019 08:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Que l‚Äôon soit backend ou frontend, il y a une chose qui nous rassemble, c‚Äôest notre gestionnaire de source et son utilisation.&lt;/p&gt;
&lt;p&gt;Dans cet article, je vais vous pr√©senter le conventional-changelog qui vous permettra de produire un historique de super qualit√© üôå!&lt;/p&gt;
&lt;h2&gt;Le probl√®me&lt;/h2&gt;
&lt;p&gt;Combien d‚Äôentre vous sont tomb√©s sur des projets avec un historique qui ressemble √† cela: ü§ï&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;e60930a9 (HEAD -&amp;gt; developundefined origin/develop) Modification front
49ff1d07 Fix an error
59a4d13e Add log
44e2f204 Update conf
03d00e2e Types
10d42648 Lots of things...
bab7be76 General linting
a62f7880 No comment
26f99ee0 ...
31409e82 Add test
815485dd Issue #782&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Comment s‚Äôy retrouver? Comment exploiter un historique qui ne vous donne quasiment jamais d‚Äôinformation.&lt;/p&gt;
&lt;p&gt;La solution, c‚Äôest d‚Äôutiliser le Conventional-Changelog (oui, on dirait une pub de t√©l√©-achat üòù).&lt;/p&gt;
&lt;h2&gt;Qu‚Äôest-ce que le conventional-changelog?&lt;/h2&gt;
&lt;p&gt;C‚Äôest bien de vous vendre une solution, mais il faudrait peut-√™tre expliquer ce que c‚Äôest‚Ä¶ en vrai.&lt;/p&gt;
&lt;p&gt;Le Conventional-Changelog est une mani√®re d‚Äô√©crire ses commits dans les projets. Il existe plusieurs ‚Äúflavours‚Äù, je vais vous d√©tailler la version Angular.&lt;/p&gt;
&lt;p&gt;Le format est le suivant:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;txt&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-txt line-numbers&quot;&gt;&lt;code class=&quot;language-txt&quot;&gt;&amp;lt;type&amp;gt;(&amp;lt;scope&amp;gt;): &amp;lt;subject&amp;gt;

&amp;lt;body&amp;gt;

&amp;lt;footer&amp;gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Si ce format est bien appliqu√©, cela peut donner ce type de texte de commit :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;txt&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-txt line-numbers&quot;&gt;&lt;code class=&quot;language-txt&quot;&gt;feat(users): add user management page

In order to add users into the systemundefined a management page has been added. The route and services are integrated into the UserModule. A mock has been added due to back-end limitation.

Closes #456 and PRJ-345&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;C‚Äôest un peu plus agr√©able √† lire non ?&lt;/p&gt;
&lt;p&gt;Je vais vous d√©crire les diff√©rentes parties de cette convention et comment bien les utiliser.&lt;/p&gt;
&lt;h2&gt;Type&lt;/h2&gt;
&lt;p&gt;Le type permet de repr√©senter de mani√®re succincte le &lt;strong&gt;type&lt;/strong&gt; d‚Äôaction que vous avez fait sur le projet :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;feat&lt;/code&gt;: Ajout d‚Äôune fonctionnalit√©&lt;/li&gt;
&lt;li&gt;&lt;code&gt;fix&lt;/code&gt;: Correction&lt;/li&gt;
&lt;li&gt;&lt;code&gt;perf&lt;/code&gt;: Am√©lioration des performances&lt;/li&gt;
&lt;li&gt;&lt;code&gt;docs&lt;/code&gt;: Ajout de documentation&lt;/li&gt;
&lt;li&gt;&lt;code&gt;style&lt;/code&gt;: Linting du code&lt;/li&gt;
&lt;li&gt;&lt;code&gt;refactor&lt;/code&gt;: Modification du code, mutualisation et autres modifs afin d‚Äôam√©liorer le projet&lt;/li&gt;
&lt;li&gt;&lt;code&gt;test&lt;/code&gt;: Ajout de tests unitaires, int√©gration, end-to-end&lt;/li&gt;
&lt;li&gt;&lt;code&gt;chore&lt;/code&gt;: T√¢che &lt;em&gt;m√©nag√®re&lt;/em&gt;, comme mettre √† jour les d√©pendances, reconfigurer la CI‚Ä¶&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;On ne peut mettre qu‚Äôun seul type par commit, donc finis les commits qui contiennent une feature et un fix en m√™me temps‚Ä¶&lt;/p&gt;
&lt;h2&gt;Scope&lt;/h2&gt;
&lt;p&gt;Ici, pas de liste impos√©e, juste le titre de l‚Äô√©l√©ment sur lequel une modification a √©t√© faite. Nous avons tendance √† d√©finir clairement les scopes du projet √† l‚Äôavance afin que tout le monde commit avec les m√™mes scopes.&lt;/p&gt;
&lt;p&gt;Pour exemple, sur une application orient√©e ‚Äúe-commerce‚Äù, on pourrait avoir les scopes suivants :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;homepage&lt;/li&gt;
&lt;li&gt;search&lt;/li&gt;
&lt;li&gt;my-account&lt;/li&gt;
&lt;li&gt;product-details&lt;/li&gt;
&lt;li&gt;order&lt;/li&gt;
&lt;li&gt;admin&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Parfois, ce scope peut √™tre omis‚Ä¶ car il n‚Äôy en a pas forc√©ment ou vous avez touch√© √† l‚Äôapplication de mani√®re globale. Dans ce cas, laissez vide üòÖ&lt;/p&gt;
&lt;p&gt;Et par contre, comme pour le type, il ne peut y avoir qu‚Äôun seul scope. Donc si vous pensez avoir deux scopes‚Ä¶ faites deux commit diff√©rents&lt;/p&gt;
&lt;h2&gt;Subject&lt;/h2&gt;
&lt;p&gt;Le sujet doit contenir une description courte du changement effectu√© dans le commit.&lt;/p&gt;
&lt;p&gt;Quelques conseils pour formater le message :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Utiliser l‚Äôimp√©ratif&lt;/li&gt;
&lt;li&gt;Utiliser le pr√©sent&lt;/li&gt;
&lt;li&gt;Pas de 1er lettre en majuscule&lt;/li&gt;
&lt;li&gt;Pas de point &lt;code&gt;.&lt;/code&gt; √† la fin du sujet&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Body&lt;/h2&gt;
&lt;p&gt;Le body est la partie ‚Äúprincipale‚Äù du commit. J‚Äôai tendance √† dire qu‚Äôelle doit contenir le ‚ÄúPourquoi‚Äù du commit.&lt;/p&gt;
&lt;p&gt;Si vous avez fait une modification structurante ou si la m√©thode d‚Äôimpl√©mentation est particuli√®re, √©crivez-le dans le body !&lt;/p&gt;
&lt;p&gt;C‚Äôest un point de vue qui est personnel, mais je pense que le body est le meilleur endroit pour accueillir un commentaire‚Ä¶ car un message de commit ne se d√©synchronise jamais du code.&lt;/p&gt;
&lt;h2&gt;Footer&lt;/h2&gt;
&lt;p&gt;Cette derni√®re partie permet de placer les r√©f√©rences vers toutes les issues, User stories &amp;#x26; co. On s‚Äôen sert g√©n√©ralement pour lier (&lt;code&gt;Linked to&lt;/code&gt;) ou cl√¥turer (&lt;code&gt;Closes&lt;/code&gt;) les issues directement depuis git.&lt;/p&gt;
&lt;p&gt;Autre √©l√©ment qui peut √™tre ajout√© dans ce footer est la notion de ‚ÄúBreaking Change‚Äù. Il suffit d‚Äôajouter &lt;code&gt;BREAKING CHANGE:&lt;/code&gt; suivi du d√©tail de ce fameux breaking change.&lt;/p&gt;
&lt;h2&gt;Je suis oblig√© d‚Äô√©crire tout cela √† chaque fois?&lt;/h2&gt;
&lt;p&gt;Non, rassurez-vous, vous n‚Äô√™tes pas oblig√©‚Ä¶ m√™me s‚Äôil est bien de mettre un max d‚Äôinformations dans le message de commit.&lt;/p&gt;
&lt;p&gt;La convention veut que seule la 1√®re ligne soit obligatoire. Donc, libre √† vous, de ne pas mettre de body et de footer&lt;/p&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Avec cette convention, vous prendrez plaisir √† fouiller dans l‚Äôhistorique de votre projet, trouver la source d‚Äôune modification et surtout savoir ‚ÄúPourquoi cela a √©t√© fait comme cela !‚Äù&lt;/p&gt;
&lt;p&gt;Et quand l‚Äôon regarde, la diff√©rence entre l‚Äôancienne version :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;e60930a9 (HEAD -&amp;gt; developundefined origin/develop) Front modification
49ff1d07 Error correction
59a4d13e Add log
44e2f204 Update config
03d00e2e Fix typos&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;et la nouvelle (certes, sur des projets diff√©rents):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;b1365d1fa (HEAD -&amp;gt; masterundefined origin/masterundefined origin/HEAD) refactor(ivy): remove directiveRefresh instruction (#22745)
4ac606b41 docs(compiler): fix spelling errors (#22704)
51027d73c fix(ivy): Update rollup rule to prevent inlining symbols in debug. (#22747)
48636f3e8 chore(aio): compute stability and deprecate `@stable` tag (#22674)
bd9d4df73 refactor(ivy): remove inputsPropertyName (#22716)&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Cela est quand m√™me bien plus clair !&lt;/p&gt;
&lt;h2&gt;R√©f√©rence&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://git.wiki.kernel.org/index.php/CommitMessageConventions&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Git Commit Message Conventions&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Automatisez les mises √† jour des d√©pendances]]></title><description><![CDATA[Une application Node raisonnablement grande aura des centaines de d√©pendances. Les garder tous √† jour est une chose qu‚Äôun d√©veloppeur doit‚Ä¶]]></description><link>https://ludovicwyffels.dev/node-automate-dependency-updates/</link><guid isPermaLink="false">https://ludovicwyffels.dev/node-automate-dependency-updates/</guid><pubDate>Sat, 10 Aug 2019 14:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Une application Node raisonnablement grande aura des centaines de d√©pendances. Les garder tous √† jour est une chose qu‚Äôun d√©veloppeur doit r√©aliser √† un moment ou √† un autre. Soit vous ignorez les mises √† jour des d√©pendances jusqu‚Äô√† ce que vous soyez coinc√© avec un tr√®s ancien ensemble de d√©pendances qui entravent votre progression avec les vuln√©rabilit√©s de s√©curit√© ou vous passez votre pr√©cieux temps de d√©veloppement d‚Äôapplication √† tester manuellement les mises √† jour sur une cadence raisonnable.&lt;/p&gt;
&lt;p&gt;Voyons comment automatiser ce processus dans un environnement d‚Äôentreprise en supposant que vous ayez un environnement CI/CD et un repo GitHub priv√©.&lt;/p&gt;
&lt;h2&gt;Ingr√©dients&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Tests unitaires solides pour votre code. Points bonus si vous avez des tests de e2e et des tests snapshot pour les composants de l‚Äôinterface utilisateur.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;next-update&lt;/code&gt; &lt;em&gt;Un paquet npm qui teste si vos d√©pendances peuvent √™tre mises √† jour sans casser les tests&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;hub&lt;/code&gt; CLI Il s‚Äôagit d‚Äôune application en ligne de commande de Git ‚ÄúHub‚Äù qui peut interagir avec votre GitHub repo. &lt;code&gt;hub&lt;/code&gt; est exactement similaire √† &lt;code&gt;git&lt;/code&gt; CLI et constitue un remplacement imm√©diat, mais dispose des fonctionnalit√©s suppl√©mentaires pour interagir avec GitHub. Pratique pour ouvrir une Pull Request apr√®s l‚Äôop√©ration de mise √† jour.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Recette&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;npm install next-update --save-dev&lt;/code&gt;
Installez next-update en tant que dev-dependency.&lt;/li&gt;
&lt;li&gt;Configurez un script npm &lt;code&gt;dep:update&lt;/code&gt; dans votre section de scripts du fichier &lt;code&gt;package.json&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-json line-numbers&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// package.json&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;a-sample-node-project&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;0.0.1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;description&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;A sample node project&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;scripts&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;jest&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;start&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;node app.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;dep:update&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;next-update&quot;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Configure an npm script&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;devDependencies&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;next-update&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;^3.6.0&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;dependencies&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;npm run dep:update&lt;/code&gt;
Ex√©cutez le script. &lt;code&gt;next-update&lt;/code&gt; ira de l‚Äôavant et trouvera tous les nouveaux paquets. Les met √† jour en s√©quence et conserve la mise √† jour si vos tests r√©ussissent.&lt;/li&gt;
&lt;li&gt;T√©l√©chargez et installez le &lt;code&gt;hub&lt;/code&gt; cli&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# download-hub.sh&lt;/span&gt;
&lt;span class=&quot;token assign-left variable&quot;&gt;HUB_CLI&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;/opt/hub-linux/bin/hub

&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; -f &lt;span class=&quot;token variable&quot;&gt;$HUB_CLI&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;then&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;wget&lt;/span&gt; https://github.com/github/hub/releases/download/v2.12.2/hub-linux-amd64-2.12.2.tgz
  &lt;span class=&quot;token function&quot;&gt;tar&lt;/span&gt; zxvf hub-linux-amd64-2.12.2.tgz
  &lt;span class=&quot;token function&quot;&gt;rm&lt;/span&gt; -rf hub-linux-amd64-2.12.2.tgz /opt/hub-linux
  &lt;span class=&quot;token function&quot;&gt;mv&lt;/span&gt; hub-linux-amd64-2.12.2 /opt/hub-linux
&lt;span class=&quot;token keyword&quot;&gt;fi&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Configurez hub&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; config --global --replace-all hub.host github.yourdomain.com
&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; config --global --replace-all hub.protocol &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Demander au bot d‚Äôouvrir une Pull Request&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;$HUB_CLI&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt; package.json package-lock.json
&lt;span class=&quot;token variable&quot;&gt;$HUB_CLI&lt;/span&gt; commit -m &lt;span class=&quot;token string&quot;&gt;&quot;[BOT] Automated dependency update&quot;&lt;/span&gt;
&lt;span class=&quot;token variable&quot;&gt;$HUB_CLI&lt;/span&gt; pull-request &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  --push &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  -m &lt;span class=&quot;token string&quot;&gt;&quot;Pull Request Subject&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  -m &lt;span class=&quot;token string&quot;&gt;&quot;Pull Request Description&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  --no-edit &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
  --reviewer user-id1,user-id2&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Raccordez ce script dans votre environnement CI/CD pour qu‚Äôil s‚Äôex√©cute quotidiennement&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Prise en main de PM2, le gestionnaire de processus Node.js]]></title><description><![CDATA[Utilisations de PM2 PM2 a beaucoup d‚Äôutilisations, jetons un coup d‚Äôoeil √† quelques-unes d‚Äôentre elles: Red√©marrage apr√®s un crash: PM2 nous‚Ä¶]]></description><link>https://ludovicwyffels.dev/node-pm2/</link><guid isPermaLink="false">https://ludovicwyffels.dev/node-pm2/</guid><pubDate>Thu, 01 Aug 2019 21:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;Utilisations de PM2&lt;/h2&gt;
&lt;p&gt;PM2 a beaucoup d‚Äôutilisations, jetons un coup d‚Äôoeil √† quelques-unes d‚Äôentre elles:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Red√©marrage apr√®s un crash: PM2 nous permet de maintenir les processus en cours d‚Äôex√©cution&lt;/li&gt;
&lt;li&gt;Suivi et gestion des processus √† distance: un portail web vous permet de garder un oeil sur les precessus distants et de les g√©rer.&lt;/li&gt;
&lt;li&gt;Il ne se contente pas d‚Äôex√©cuter des applications Node: PM2 n‚Äôest pas limit√© aux seuls processus Node.js, c‚Äôest vrai, vous pouvez m√™me l‚Äôutiliser pour garder votre serveur Minecraft en ligne.&lt;/li&gt;
&lt;li&gt;PM2 peut m√©moriser tous vos processus et les red√©marrer apr√®s un red√©marrage du syst√®me.&lt;/li&gt;
&lt;li&gt;Et bien plus encore.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Pour commencer&lt;/h2&gt;
&lt;p&gt;La premi√®re chose que nous devons faire est d‚Äôinstaller PM2 globalement sur votre machine :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sh&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sh line-numbers&quot;&gt;&lt;code class=&quot;language-sh&quot;&gt;npm i -g pm2&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Commandes de base&lt;/h2&gt;
&lt;p&gt;Venons-en aux principe de base de son utilisation. Pour d√©marrer un processus sous PM2, il suffit de lancer &lt;code&gt;pm2 start &amp;#x3C;app&gt;&lt;/code&gt;. &lt;em&gt;App&lt;/em&gt; √©tant le nom du fihier que vous ex√©cutez. PM2 produira quelque chose comme ceci&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;[PM2] Starting /Users/ludovicwyffels/myApp/app.js in fork_mode (1 instance)
[PM2] Done.

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Name ‚îÇ id ‚îÇ mode ‚îÇ status ‚îÇ restart ‚îÇ cpu ‚îÇ memory    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ app  ‚îÇ 0  ‚îÇ fork ‚îÇ online ‚îÇ 0       ‚îÇ 0%  ‚îÇ 35.1 MB   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Faites attention √† ce qu‚Äôil dis sous &lt;code&gt;id&lt;/code&gt;. Si vous oubliez, lancez &lt;code&gt;pm2 list&lt;/code&gt;. Si vous voulez ajouter un nom au processus lorsque vous le lancez, vous pouvez utiliser le param√®tre &lt;code&gt;--name&lt;/code&gt; (&lt;code&gt;pm2 start app.js --name my-api&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;Votre application fonctionne maintenant sous PM2, si elle plante, PM2 la red√©marrera.&lt;/p&gt;
&lt;h2&gt;Red√©marrage en cas de modification de fichier&lt;/h2&gt;
&lt;p&gt;Une autre fonctionnalit√© impressionnante que PM2 a est de red√©marrer quand un fichier dans le r√©pertoire de travail change. Pour que PM2 regarde notre r√©pertoire et red√©mmarre les changements de fichier, incluez &lt;code&gt;--watch&lt;/code&gt; lorsque vous d√©marrez votre application.&lt;/p&gt;
&lt;h2&gt;Persistance jusqu‚Äôau red√©marrage&lt;/h2&gt;
&lt;p&gt;PM2 nous permet √©galement de d√©marrer nos processus lorsque notre serveur (re)d√©marre. Commencez tout ce que vous voulez avoir en cours d‚Äôex√©cution tout le temps √† travers &lt;code&gt;pm2 start&lt;/code&gt; et puis ex√©cutez &lt;code&gt;pm2 save&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Maintenant, quand notre syst√®me red√©marre, PM2 d√©marrera tous les processus que nous avions en cours d‚Äôex√©cution lorsque nous avons lanc√© &lt;code&gt;pm2 save&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;PM2 fait beaucoup de choses, je vais vous laisser d√©couvrir le reste par vous m√™me d‚Äôautres fonctions&lt;/p&gt;
&lt;h3&gt;Le mode cluster&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Commandes&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;pm2 start app.js -i 0&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;D√©marre un maximum de processus avec LB en fonction des CPU disponibles.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3&gt;Listen&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Commandes&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;pm2 list&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Afficher l‚Äô√©tat de tous les processus&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;pm2 jlist&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Impression de la liste des processus en JSON brut&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;pm2 prettylist&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Impression de la liste des processus en JSON embelli&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;pm2 describe 0&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Afficher toutes les informations concernant&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;pm2 monit&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Surveiller tous les processus&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3&gt;Logs&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Commandes&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;pm2 logs [--raw]&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Afficher tous les journaux de processus en streaming&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;pm2 flush&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Vider tous les fichiers logs&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;pm2 reloadLogs&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Recharger tous les logs&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3&gt;Actions&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Commandes&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;pm2 stop all&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Arr√™ter tous les processus&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;pm2 restart all&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Red√©marrer tous les processus&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;pm2 reload all&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Rechargement des temps d‚Äôarr√™t 0s (pour les applications NETWORKED)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;pm2 stop 0&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Arr√™t d‚Äôun id de processus sp√©cifique&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;pm2 restart 0&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Red√©marrer un id de processus sp√©cifique&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;pm2 delete 0&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Supprimer le processus de la liste&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;pm2 delete all&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Supprimer tous les processus de la liste&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;PM2 fait beaucoup de choses, dont la plupart sortent du cadre de cette br√®ve introduction. A l‚Äôavenir, nous pourrions couvrir le mode cluster de PM2, la gestion des processus √† distance et plus encore. Merci de votre lecture !&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Loopback 4 - Configuration de la base de donn√©es]]></title><description><![CDATA[Introduction Presque toutes les applications Web ont besoin de conserver des donn√©es sous une forme ou une autre. LoopBack a toujours‚Ä¶]]></description><link>https://ludovicwyffels.dev/node-loopback-database/</link><guid isPermaLink="false">https://ludovicwyffels.dev/node-loopback-database/</guid><pubDate>Sat, 29 Jun 2019 21:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;Introduction&lt;/h2&gt;
&lt;p&gt;Presque toutes les applications Web ont besoin de conserver des donn√©es sous une forme ou une autre. LoopBack a toujours abstrait le moteur de base de donn√©es de l‚Äôapplication en nous fournissant plusieurs connecteurs √† utiliser, tels que : MySQL, Postgres et In-memory. LoopBack 4 utilise les m√™mes biblioth√®ques sous-jacentes que LoopBack 3 pour passer la configuration aux moteurs. Cependant, les structures du projet sont l√©g√®rement diff√©rentes, comme indiqu√© ci-dessous.&lt;/p&gt;
&lt;h2&gt;Configuration de LoopBack 3&lt;/h2&gt;
&lt;p&gt;Dans LoopBack 3, vous d√©finiriez un ensemble d‚Äôobjets JSON √† l‚Äôint√©rieur d‚Äôun fichier &lt;code&gt;datasources.json&lt;/code&gt; stock√© dans le dossier serveur, ce qui permettrait √† l‚Äôapplication de r√©cup√©rer la configuration. Le fichier ressemblerait √† ceci :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-json line-numbers&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;db&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;db&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;connector&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;memory&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ce fichier d√©finit une nouvelle source de donn√©es appel√©e ‚Äúdb‚Äù, qui est configur√©e pour utiliser le connecteur de base de donn√©es en m√©moire. Dans la plupart des applications, c‚Äôest une excellente source de donn√©es par d√©faut pour les mod√®les, car elle √©limine le besoin de configurer un serveur de base de donn√©es lors du premier d√©marrage avec un prototype. Vous pouvez simplement configurer les mod√®les pour utiliser la source de donn√©es ‚Äúdb‚Äù et continuer avec le code.&lt;/p&gt;
&lt;p&gt;Le fichier &lt;code&gt;model-config.json&lt;/code&gt;, dans le m√™me dossier, relierait un mod√®le √† une source de donn√©es et ressemblerait √† ceci :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-json line-numbers&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;_meta&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;sources&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&quot;loopback/common/models&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&quot;loopback/server/models&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&quot;../common/models&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&quot;./models&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;mixins&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&quot;loopback/common/mixins&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&quot;loopback/server/mixins&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&quot;../common/mixins&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&quot;./mixins&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;Person&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;dataSource&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;db&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;public&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  ...
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Une fois que vous avez la base de votre application en place et en cours d‚Äôex√©cution par rapport √† la configuration de la base de donn√©es en m√©moire, vous pouvez vous concentrer sur la configuration d‚Äôun serveur de base de donn√©es, tel que MySQL ou Postgres, installer le bon connecteur et simplement modifier la configuration &lt;code&gt;datasources.json&lt;/code&gt; comme suit :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-json line-numbers&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;db&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;db&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;connector&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;mysql&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;hostname&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;port&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3306&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;user&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;root&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;password&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;root&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;database&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;app_database&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;C‚Äôest excellent pour le d√©veloppement local. Mais, lorsque vous travaillez au sein d‚Äôune √©quipe plus importante ou avec plusieurs environnements, un seul fichier de configuration JSON ne va pas le couper. LoopBack 3 a r√©solu la configuration sp√©cifique √† l‚Äôenvironnement en nous permettant de cr√©er des fichiers de sources de donn√©es sp√©cifiques √† l‚Äôenvironnement. Le nom du fichier de source de donn√©es sp√©cifique √† l‚Äôenvironnement devait √™tre dans une certaine structure : &lt;code&gt;datasources.&amp;#x3C;environment&gt;.js&lt;/code&gt;. Un projet avec 3 environnements aurait les fichiers suivants :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;datasources.json (une configuration de serveur de base de donn√©es locale)&lt;/li&gt;
&lt;li&gt;datasources.test.js (une configuration de serveur de base de donn√©es de test)&lt;/li&gt;
&lt;li&gt;datasources.production.js (une configuration de serveur de base de donn√©es de production)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;La version JavaScript du fichier de configuration nous a donn√© une flexibilit√© suppl√©mentaire, car nous avons pu d√©terminer la configuration √† l‚Äôaide de code. Le fichier de configuration le plus courant utilise les variables d‚Äôenvironnement syst√®me. Un exemple de fichier de configuration d‚Äôune source de donn√©es de production serait le suivant :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  db&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;db&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    connector&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;mysql&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    hostname&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DB_HOST&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    port&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DB_PORT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    user&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DB_USER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    password&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DB_PASSWORD&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    database&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DB_DATABASE&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;C‚Äôest g√©nial, car cela √©limine le besoin de stocker les r√©f√©rences de production dans notre code. Nous pourrions livrer ces fichiers de configuration et configurer la configuration sur le serveur, en toute s√©curit√©.&lt;/p&gt;
&lt;p&gt;Par d√©faut, le framework utiliserait la variable d‚Äôenvironnement syst√®me NODE_ENV pour choisir le fichier source √† utiliser. Un serveur de production aurait les variables d‚Äôenvironnement suivantes :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;NODE_ENV=production&lt;/li&gt;
&lt;li&gt;DB_HOST=aws-rds-mysql-host.example.com&lt;/li&gt;
&lt;li&gt;DB_PORT=3306&lt;/li&gt;
&lt;li&gt;DB_USER=super-secret-user&lt;/li&gt;
&lt;li&gt;DB_PASSWORD=super-secret-password&lt;/li&gt;
&lt;li&gt;DB&lt;em&gt;DATABASE=app&lt;/em&gt;database&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Configuration LoopBack 4&lt;/h2&gt;
&lt;p&gt;LoopBack 4 ne lit plus automatiquement les fichiers de configuration des sources de donn√©es. Au lieu de cela, le framework nous laisse d√©cider comment nous voulons configurer notre application. Pour l‚Äôinstant, il ne semble pas qu‚Äôil existe de meilleures pratiques document√©es pour la mise en place d‚Äôun tel syst√®me. Une approche est sugg√©r√©e ci-dessous.&lt;/p&gt;
&lt;h3&gt;D√©pendance Injection&lt;/h3&gt;
&lt;p&gt;Avant de nous plonger dans la configuration de la base de donn√©es, nous devons comprendre l‚Äôun des concepts cl√©s de LoopBack 4 : &lt;a href=&quot;https://loopback.io/doc/en/lb4/Dependency-injection.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Injection de d√©pendance&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Essentiellement, l‚Äôapplication peut enregistrer des valeurs sur une liste de cl√©s uniques. Ces valeurs peuvent contenir des variables normales ou des d√©finitions de classes, que l‚Äôapplication peut ensuite utiliser pour g√©rer la cr√©ation de ces objets pour nous, en reprenant les d√©pendances requises.&lt;/p&gt;
&lt;p&gt;Par exemple, on peut enregistrer une valeur,‚Äòbar‚Äô sur une cl√© ‚Äòfoo‚Äô.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;foo&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;bar&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Maintenant l‚Äôapplication sait que la cl√© ‚Äòfoo‚Äô, contient la valeur ‚Äòbar‚Äô. Nous pouvons demander cette valeur √† partir de l‚Äôapplication n‚Äôimporte o√π dans notre code. √Ä titre d‚Äôexemple :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;@&lt;span class=&quot;token function&quot;&gt;inject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;foo&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; foo&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;En plus de lier une valeur √† une cl√©, nous pouvons lier une classe √† une cl√© et laisser l‚Äôapplication calculer r√©cursivement ses d√©pendances lors de l‚Äôinstanciation de l‚Äôobjet sur demande.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Foo&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;@&lt;span class=&quot;token function&quot;&gt;inject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;bar&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; bar&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;someMethod&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;bar&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;bar&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Bar&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;foo&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toClass&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Foo&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Quand nous demandons une instance de la classe Foo, comme suit:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;@&lt;span class=&quot;token function&quot;&gt;inject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;foo&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; foo&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Foo&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Le conteneur d‚Äôapplication verra que la classe Foo d√©pend de la valeur de la barre. Il le recherchera dans le conteneur de d√©pendances, le trouvera (s‚Äôil est li√©) et l‚Äôinjectera ensuite dans la classe. D‚Äôo√π l‚Äô&lt;strong&gt;injection de d√©pendance&lt;/strong&gt;.&lt;/p&gt;
&lt;h2&gt;Cr√©er un nouveau projet&lt;/h2&gt;
&lt;p&gt;On peut utiliser la CLI pour cr√©er un nouveau projet en appelant la commande suivante :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;lb4 app&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;? Project name: my-api
? Project description: My API
? Project root directory: my-api
? Application class name: MyApiApplication
? Select features to enable in the project Enable tslintundefined Enable prettierundefined Enable mochaundefined Enable loopbackBuildundefined Enable vscodeundefined Enable repositoriesundefined Enable services&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; ./my-api&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;LoopBack 4 ajoute un dossier datasources au projet.&lt;/p&gt;
&lt;p&gt;Initialement, on supposerait que ce dossier est configur√© pour √™tre lu de la m√™me mani√®re que les fichiers JSON des sources de donn√©es LoopBack 3. Cependant, c‚Äôest juste le dossier par d√©faut utilis√© par le CLI pour y d√©poser les nouveaux fichiers.&lt;/p&gt;
&lt;h2&gt;Ajout d‚Äôune source de donn√©es √† l‚Äôaide de l‚Äôinterface CLI&lt;/h2&gt;
&lt;p&gt;Utilisez le CLI pour cr√©er une nouvelle source de donn√©es en ex√©cutant la commande suivante :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;lb4 datasource&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;? Datasource name: db
? Select the connector for db: In-memory db (supported by StrongLoop)
? window.localStorage key to use for persistence (browser only):
? Full path to file for persistence (server only):
create src/datasources/db.datasource.json
create src/datasources/db.datasource.ts
update src/datasources/index.ts
Datasource db was created in src/datasources/&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;La premi√®re chose que vous remarquerez est que le fichier db.datasource.json est exactement le m√™me que le fichier LoopBack 3 datasources.json. Dans l‚Äôassistant CLI, j‚Äôai choisi le connecteur en m√©moire, qui est l‚Äôun des nombreux connecteurs disponibles dans LoopBack 3 et LoopBack 4.&lt;/p&gt;
&lt;p&gt;Le nouvel ajout √† la famille de fichiers de source de donn√©es LoopBack est le fichier &lt;code&gt;datasource.ts&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;inject&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;@loopback/core&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;juggler&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;@loopback/repository&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; config &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./db.datasource.json&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DbDataSource&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;juggler&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;DataSource&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; dataSourceName &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;db&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    @&lt;span class=&quot;token function&quot;&gt;inject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;datasources.config.db&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;optional&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    dsConfig&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; object &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; config&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;dsConfig&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;La classe √©tend un type &lt;code&gt;juggler.DataSource&lt;/code&gt;, qui est le m√™me type que celui utilis√© dans LoopBack 3 (sauf que c‚Äôest la version de d√©finition TypeScript). Il n√©cessite la m√™me structure de configuration JSON que LoopBack 3. Dans cette version, nous devons passer la configuration √† la super m√©thode du constructeur.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; config &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./db.datasource.json&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  @&lt;span class=&quot;token function&quot;&gt;inject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;datasources.config.db&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;optional&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  dsConfig&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; object &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; config
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Le fichier importe la configuration par d√©faut du fichier &lt;code&gt;db.datasource.json&lt;/code&gt; et l‚Äôinclut comme valeur par d√©faut dans le param√®tre &lt;code&gt;dsConfig&lt;/code&gt; du constructeur. Cela signifie que nous n‚Äôaurons jamais besoin de passer quoi que ce soit dans le constructeur de la classe DbDataSource lors de l‚Äôinstanciation d‚Äôune instance de l‚Äôobjet, √† moins de l‚Äô√©craser‚Ä¶ peut-√™tre pour un environnement diff√©rent (nous y reviendrons).&lt;/p&gt;
&lt;p&gt;L‚Äôautre d√©corateur d‚Äôinjection peu familier permet au framework d‚Äôinjecter la valeur du param√®tre depuis le conteneur d‚Äôinjection de d√©pendance (s‚Äôil est li√©).&lt;/p&gt;
&lt;p&gt;Dans cette optique, il existe de nombreuses fa√ßons d‚Äôinstancier cette nouvelle classe DataSource :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// 1. With the default configuration from db.datasource.json&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; dbDataSource &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DbDataSource&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 2. Overwriting the default configuration&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; dbDataSource &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DbDataSource&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;db&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  connector&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;mysql&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  hostname&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DB_HOST&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  port&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DB_PORT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  user&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DB_USER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  password&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DB_PASSWORD&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  database&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DB_DATABASE&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nous avons maintenant une instance de notre dbDataSource. Mais, comment l‚Äôutilise-t-on r√©ellement ? Comment notre nouvelle application conna√Æt-elle notre source de donn√©es ?&lt;/p&gt;
&lt;p&gt;De la m√™me mani√®re que nous pouvons enregistrer (ou lier) des valeurs (ou classes) contre les applications Dependency Container, nous pouvons lier l‚Äôinstance de la source de donn√©es √† une cl√© du conteneur.&lt;/p&gt;
&lt;p&gt;Dans notre fichier &lt;code&gt;application.ts&lt;/code&gt;, nous pouvons utiliser la fonction de liaison des applications dans le constructeur pour lier notre instance √† l‚Äôapplication :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;datasources.db&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DbDataSource&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;En outre, LoopBack 4 a une fonction sp√©ciale appel√©e source de donn√©es :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;dataSource&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DbDataSource&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Il existe une derni√®re m√©thode pour lier notre source de donn√©es √† l‚Äôapplication:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;datasources.config.db&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;db&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  connector&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;mysql&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  hostname&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DB_HOST&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  port&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DB_PORT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  user&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DB_USER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  password&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DB_PASSWORD&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  database&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DB_DATABASE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;datasources.db&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toClass&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;DbDataSource&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;L‚Äôextrait de code ci-dessus lie d‚Äôabord la configuration √† la cl√© de d√©pendance ‚Äô
&lt;code&gt;datasources.config.db&lt;/code&gt;. Cette cl√© de d√©pendance est r√©f√©renc√©e dans le constructeur de la classe DbDataSource via le d√©corateur inject. En liant la cl√© &lt;code&gt;datasources.db&lt;/code&gt; √† la d√©finition de classe ‚ÄúDbDataSource‚Äù, le conteneur de d√©pendances va rechercher toutes ses d√©pendances et les instancier pour nous.&lt;/p&gt;
&lt;p&gt;Maintenant que le conteneur de d√©pendances de l‚Äôapplication conna√Æt notre source de donn√©es, nous pouvons la lier √† un r√©f√©rentiel et un mod√®le.&lt;/p&gt;
&lt;p&gt;Note : vous devez d‚Äôabord g√©n√©rer un mod√®le avant de g√©n√©rer un r√©f√©rentiel. Pour ce faire, utilisez la commande mod√®le lb4 :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;lb4 model&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;? Model class name: Person
? Please select the model base class Entity
Let&amp;#39;s add a property to Person
Enter an empty property name when done
? Enter the property name: id
? Property type: number
? Is id the ID property? Yes
? Is it required?: Yes
? Default value [leave blank for none]:
Let&amp;#39;s add another property to Person
Enter an empty property name when done
? Enter the property name:
create src/models/person.model.ts
update src/models/index.ts
Model Person was created in src/models/&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Apr√®s avoir cr√©√© un mod√®le, relions-le √† un nouveau r√©f√©rentiel. Utilisez la commande lb4 repository :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;lb4 repository&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;? Please select the datasource DbDatasource
? Select the model(s) you want to generate a repository Person
? Please enter the name of the ID property for Person: id
create src/repositories/person.repository.ts
update src/repositories/index.ts
Repository Person was created in src/repositories/&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Une fois que vous avez utilis√© le mod√®le lb4 et la commande lb4 repository, vous devriez vous retrouver avec un r√©f√©rentiel li√© √† un mod√®le qui injecte la classe DbDataSource :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PersonRepository&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DefaultCrudRepository&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;
  Person&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Person&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id
&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  
  &lt;span class=&quot;token keyword&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    @&lt;span class=&quot;token function&quot;&gt;inject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;datasources.db&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; dataSource&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; DbDataSource&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Person&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; dataSource&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Notez que le constructeur PersonRepository utilise √† nouveau le d√©corateur inject mais cette fois-ci il fait r√©f√©rence √† la cl√© &lt;code&gt;datasources.db&lt;/code&gt; que nous avons d√©finie pr√©c√©demment. Le r√©f√©rentiel est responsable de la connexion du mod√®le √† la source de donn√©es et fournit les fonctions CRUD (Create, Read, Update and Delete), gr√¢ce √† la classe &lt;code&gt;DefaultCrudRepository&lt;/code&gt; dont nous h√©ritons.&lt;/p&gt;
&lt;p&gt;De la m√™me mani√®re que nous avons li√© la source de donn√©es √† l‚Äôapplication, nous devons lier le r√©f√©rentiel √† l‚Äôapplication :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;repository&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;PersonRepository&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Une fois enregistr√©, nous pouvons utiliser la commande contr√¥leur lb4 pour cr√©er un nouveau contr√¥leur REST pour nous, qui utilise notre nouveau mod√®le de configuration, source de donn√©es et r√©f√©rentiel :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;lb4 controller&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;? Controller class name: People
? What kind of controller would you like to generate? REST Controller with CRUD functions
? What is the name of the model to use with this CRUD repository? Person
? What is the name of your CRUD repository? PersonRepository
? What is the type of your ID? number
? What is the base HTTP path name of the CRUD operations? /people
create src/controllers/people.controller.ts
update src/controllers/index.ts
Controller People was created in src/controllers/&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Vous pouvez enregistrer le contr√¥leur contre l‚Äôapplication de la m√™me mani√®re que nous avons la source de donn√©es et le r√©f√©rentiel. En plus d‚Äôutiliser les fonctions de r√©f√©rentiel et de contr√¥leur pour lier nos classes √† notre application, LoopBack les lie automatiquement pour nous. Ceci peut √™tre configur√© dans le constructeur de classe d‚Äôapplication :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;bootOptions &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  controllers&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// Customize ControllerBooter Conventions here&lt;/span&gt;
    dirs&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;controllers&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    extensions&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;.controller.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    nested&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ceci indique √† notre application de regarder √† l‚Äôint√©rieur du dossier Contollers pour tous nos contr√¥leurs et appelle automatiquement this.controller pour nous. Vous pouvez √©galement configurer la valeur du r√©f√©rentiel bootOptions pour faire de m√™me avec les r√©f√©rentiels.&lt;/p&gt;
&lt;p&gt;Nous n‚Äôanalyserons pas ici l‚Äôensemble du fichier du contr√¥leur pour gagner de la place. Les sections importantes seront soulign√©es :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token parameter&quot;&gt;@&lt;span class=&quot;token function&quot;&gt;repository&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;PersonRepository&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; personRepository &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; PersonRepository&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Le d√©corateur du r√©f√©rentiel s‚Äôenroule autour du d√©corateur d‚Äôinjection. C‚Äôest la m√™me chose que de faire ce qui suit :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  @&lt;span class=&quot;token function&quot;&gt;inject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;repositories.PersonRepository&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; personRepository &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; PersonRepository&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nous pouvons maintenant utiliser le r√©f√©rentiel pour acc√©der √† nos donn√©es de mod√®le dans notre source de donn√©es configur√©e.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;@&lt;span class=&quot;token function&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/people&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  responses&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&apos;200&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      description&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Person model instance&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      content&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;application/json&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;x-ts-type&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Person&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;@&lt;span class=&quot;token function&quot;&gt;requestBody&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; person&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Person&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Person&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;personRepository&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;person&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Cet article compare les diff√©rences entre la configuration d‚Äôune source de donn√©es de base de donn√©es et une application LoopBack 3 et LoopBack 4. En plus de comprendre comment configurer une source de donn√©es, nous avons examin√© comment configurer la configuration en fonction de divers environnements en permettant aux donn√©es de configuration d‚Äô√™tre d√©finies par les variables d‚Äôenvironnement syst√®me, auxquelles nous acc√©dons par &lt;code&gt;process.env.ENV_VARIABLE&lt;/code&gt;.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Premiers pas avec LoopBack 4]]></title><description><![CDATA[LoopBack 4 est un framework d‚ÄôAPI open-source pour Node.js. La derni√®re version a adopt√© les derni√®res fonctionnalit√©s de ES2016/2017/201‚Ä¶]]></description><link>https://ludovicwyffels.dev/node-loopback/</link><guid isPermaLink="false">https://ludovicwyffels.dev/node-loopback/</guid><pubDate>Sat, 29 Jun 2019 08:00:00 GMT</pubDate><content:encoded>&lt;p&gt;LoopBack 4 est un framework d‚ÄôAPI open-source pour Node.js. La derni√®re version a adopt√© les derni√®res fonctionnalit√©s de ES2016/2017/2018, supporte TypeScript et int√®gre de nouveaux standards tels que OpenAPI Spec et GraphQL, parmi d‚Äôautres.&lt;/p&gt;
&lt;p&gt;Cet article a pour but de guider les d√©butants √† travers la documentation et d‚Äôexpliquer les points cruciaux n√©cessaires pour commencer √† construire un projet d‚ÄôAPI LoopBack 4 maintenable.&lt;/p&gt;
&lt;h2&gt;Installation&lt;/h2&gt;
&lt;p&gt;Assurez-vous d‚Äôavoir Node.js version 8+ install√© sur votre machine. Le monorepo LoopBack inclut un package CLI, qui nous aidera dans l‚Äô√©chafaudage de notre application LoopBack 4. Pour l‚Äôinstaller, ex√©cutez la commande suivante sur votre terminal :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; -g @loopback/cli&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Cr√©er un nouveau projet&lt;/h2&gt;
&lt;p&gt;Une fois que l‚Äôoutil LoopBack 4 CLI a √©t√© install√© en global sur notre machine locale, nous pouvons √©chafauder notre application en utilisant la commande suivante :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;lb4 app&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Le terminal pr√©sentera les demandes d‚Äôentr√©e suivantes, que j‚Äôai remplies ci-dessous et qui formeront la base de notre exemple d‚ÄôAPI pour l‚Äôavenir.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;? Project name: (projects) payment-api
? Project description: (projects) A simple Payment API
? Project root directory: (payment-api)
? Application class name: (PaymentApiApplication)
? Select project build settings: (Press &amp;lt;space&amp;gt; to selectundefined &amp;lt;a&amp;gt; to toggle allundefined &amp;lt;i&amp;gt; to invert selection) ... Press enter for default selection&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Apr√®s avoir parcouru l‚Äôassistant CLI ci-dessus, il cr√©era un tas de r√©pertoires et de fichiers boilerplate ainsi que lancera &lt;code&gt;npm install&lt;/code&gt; √† notre place. Nous pouvons alors naviguer dans notre r√©pertoire nouvellement cr√©√© et d√©marrer l‚Äôapplication.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; payment-api
&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; start&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Si tout s‚Äôest bien d√©roul√©, vous devriez voir le r√©sultat suivant :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Server is running at http://127.0.0.1:3000
Try http://127.0.0.1:3000/ping&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Le projet expose un simple endpoint &lt;strong&gt;GET&lt;/strong&gt; &lt;em&gt;/ping&lt;/em&gt;. Ce qui n‚Äôest pas clair dans la sortie du terminal, ou dans la documentation de d√©marrage, c‚Äôest que l‚Äôapplication LoopBack 4 expose √©galement un endpoint qui rendra la documentation OpenAPI Spec. Pour y acc√©der, il vous suffit d‚Äôouvrir votre navigateur et d‚Äôaller √† l‚Äôurl suivante : &lt;a href=&quot;http://localhost:3000/swagger-ui&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;http://localhost:3000/swagger-ui&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;&quot; alt=&quot;LoopBack 4 OpenAPI&quot;&gt;&lt;/p&gt;
&lt;p&gt;Cette fonctionnalit√© permet aux d√©veloppeurs d‚ÄôAPI de documenter facilement leurs services Web au fur et √† mesure que le code est √©crit et de tester les endpoints d‚Äôune mani√®re conviviale.&lt;/p&gt;
&lt;h2&gt;Exploration de l‚Äôexpression standard&lt;/h2&gt;
&lt;p&gt;Le LoopBack CLI cr√©e beaucoup de fichiers et de dossiers pour nous. R√©duisons le bruit et concentrons-nous sur les √©l√©ments dont nous avons besoin pour mettre en place et faire fonctionner un nouveau endpoint.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;&quot; alt=&quot;LoopBack 4 Structure du projet&quot;&gt;&lt;/p&gt;
&lt;p&gt;Un fichier &lt;strong&gt;ping.controller.ts&lt;/strong&gt; initial est cr√©√© pour nous. C‚Äôest la convention de nommage par d√©faut que l‚Äôapplication LoopBack applique par configuration, qui peut √™tre modifi√©e dans le fichier &lt;strong&gt;application.ts&lt;/strong&gt; et qui sera explor√©e dans de futurs articles.&lt;/p&gt;
&lt;p&gt;Apr√®s avoir ouvert le fichier &lt;strong&gt;ping.controller.ts&lt;/strong&gt;, nous pouvons voir que le code utilise des d√©corateurs TypeScript pour fournir des m√©tadonn√©es HTTP √† la fonction ping() TypeScript dans la classe PingController.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;@&lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/ping&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ce d√©corateur permet √† l‚Äôapplication LoopBack de savoir que toute requ√™te HTTP GET doit invoquer la fonction &lt;code&gt;ping()&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  greeting&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Hello from LoopBack&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  date&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  url&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;url&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  headers&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;headers&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;La fonction &lt;code&gt;ping()&lt;/code&gt; renvoie un objet JSON simple. L‚Äôapplication LoopBack s‚Äôoccupe de la s√©rialisation automatique des donn√©es de r√©ponse, qui est dans ce cas JSON.&lt;/p&gt;
&lt;p&gt;Cr√©ation d‚Äôun nouveau Endpoint
Un nouveau point final peut √™tre cr√©√© en √©crivant une nouvelle fonction d√©cor√©e sur le PingController dans le fichier ping.controller.ts en se r√©f√©rant √† la fonction ping() existante. LoopBack nous permet √©galement de cr√©er facilement de nouveaux contr√¥leurs en utilisant le CLI :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;txt&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-txt line-numbers&quot;&gt;&lt;code class=&quot;language-txt&quot;&gt;lb4 controller
? Controller class name: Payment
? What kind of controller would you like to generate? (Use arrow keys)
&amp;gt; Empty Controller
  REST Controller with CRUD functions&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Afin d‚Äôutiliser le contr√¥leur REST avec l‚Äôoption de fonctions CRUD, nous devons d‚Äôabord avoir un &lt;strong&gt;r√©f√©rentiel&lt;/strong&gt; que nous examinerons dans les prochains articles.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PaymentController&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Si nous ex√©cutons notre serveur avec npm, d√©marrez et rafra√Æchissez notre navigateur OpenAPI, remarquez qu‚Äôil n‚Äôy a pas encore de mention d‚Äôun PaymentController. C‚Äôest parce que nous n‚Äôavons pas encore mapp√© de fonctions aux chemins HTTP pour l‚Äôapplication LoopBack √† documenter en utilisant les sp√©cifications OpenAPI.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;@&lt;span class=&quot;token function&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/payments&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;pay&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;@&lt;span class=&quot;token function&quot;&gt;requestBody&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; payment&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Object &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  payment&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;status &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;success&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; payment&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Une fonction appel√©e paye accepte un seul param√®tre paiement de type &lt;code&gt;any&lt;/code&gt; et retourne un &lt;code&gt;Object&lt;/code&gt;. Nous utilisons deux d√©corateurs :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;@&lt;span class=&quot;token function&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/payments&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ce qui dit √† LoopBack de mapper la fonction &lt;code&gt;pay()&lt;/code&gt; √† une m√©thode HTTP POST sur les requ√™tes entrantes &lt;code&gt;/payments&lt;/code&gt; et&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;@&lt;span class=&quot;token function&quot;&gt;requestBody&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;qui indique √† LoopBack de mapper le corps de requ√™te HTTP POST au param√®tre de paiement de la fonction &lt;code&gt;pay()&lt;/code&gt;. LoopBack analysera automatiquement le corps de requ√™te HTTP JSON en fonction du type requis, ce qui est le cas dans ce cas.&lt;/p&gt;
&lt;p&gt;En r√©ex√©cutant le serveur (&lt;code&gt;npm start&lt;/code&gt;) et en rafra√Æchissant le navigateur OpenAPI Spec, le &lt;em&gt;PaymentController&lt;/em&gt; sera pr√©sent avec un endpoint POST /payments.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;&quot; alt=&quot;PaymentController - POST /payments&quot;&gt;&lt;/p&gt;
&lt;p&gt;Le navigateur OpenAPI Spec affiche les param√®tres disponibles que nous pouvons utiliser pour interagir avec l‚ÄôAPI, qui est juste un corps de requ√™te HTTP pour le moment. Nous pouvons tester ce endpoint en appuyant sur le bouton ‚ÄúTry it out‚Äù en haut √† droite.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;&quot; alt=&quot;Test POST /payments&quot;&gt;&lt;/p&gt;
&lt;p&gt;La &lt;em&gt;valeur d‚Äôexemple&lt;/em&gt; a √©t√© initialis√©e avec un objet JSON vide. Ce n‚Äôest pas tr√®s utile, car cela ne communique pas les valeurs attendues par le endpoint. Gr√¢ce √† des normes REST simples, nous pouvons √©tablir que nous pouvons probablement utiliser ce endpoint pour effectuer un paiement, mais quelles sont les propri√©t√©s exactes que nous pouvons transmettre ici? Valeur? Devise? Montant?&lt;/p&gt;
&lt;h2&gt;Param√®tres du document √† l‚Äôaide des d√©finitions de mod√®le&lt;/h2&gt;
&lt;p&gt;Dans LoopBack 3.x, tout √©tait pilot√© par un mod√®le, qui √©tait un simple fichier de configuration JSON d√©crivant les propri√©t√©s du mod√®le et leurs types.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-json line-numbers&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Payment&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;base&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;PersistedModel&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;options&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;validateUpsert&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;mysql&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;table&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;payment&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;properties&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;paymentId&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;string&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;required&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;defaultFn&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;uuid&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;mysql&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;columnName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;payment_id&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;amount&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;number&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;required&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;mysql&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;columnName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;amount&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;createdOn&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;date&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;defaultFn&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;now&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;mysql&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;columnName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;created_on&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;updatedOn&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;date&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;mysql&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;columnName&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;updated_on&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;validations&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;relations&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;acls&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;methods&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Les fichiers de d√©finition de mod√®le permettaient √©galement aux d√©veloppeurs de sp√©cifier si le mod√®le √©tait persistant ou non et de mapper les propri√©t√©s JSON sur des colonnes sp√©cifiques aux bases de donn√©es (si n√©cessaire). Le fichier permettait √©galement de configurer des validations, des relations, des acls (Access Control Lists) et des m√©thodes √† distance.&lt;/p&gt;
&lt;p&gt;LoopBack 4 a pour but de d√©coupler beaucoup de ces √©l√©ments afin de permettre une plus grande flexibilit√©. Nous pouvons toutefois r√©utiliser une grande partie de la structure syntaxique des m√©tadonn√©es dans LoopBack 4, en cons√©quence.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; property&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; model&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Model &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;@loopback/repository&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
@&lt;span class=&quot;token function&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PaymentRequest&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Model&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  @&lt;span class=&quot;token function&quot;&gt;property&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;number&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    required&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  amount&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  @&lt;span class=&quot;token function&quot;&gt;property&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;string&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    required&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  status&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nous utilisons la classe &lt;code&gt;Model&lt;/code&gt; ci-dessus pour d√©clarer que la classe &lt;code&gt;PaymentRequest&lt;/code&gt; n‚Äôest pas persistante, car elle n‚Äôest pas conforme √† l‚Äôinterface &lt;code&gt;Persistable&lt;/code&gt; (qui se trouve dans le paquet LoopBack Repository). La classe &lt;code&gt;Entity&lt;/code&gt;, utilis√©e dans les articles ult√©rieurs, impl√©mente l‚Äôinterface &lt;code&gt;Persistable&lt;/code&gt; et inclut une fonction qui est utilis√©e pour d√©finir quelle propri√©t√© d√©termine son caract√®re unique, c‚Äôest-√†-dire qu‚Äôelle a un identifiant unique et peut √™tre stock√©e/persist√©e dans une source de donn√©es (Data Source).&lt;/p&gt;
&lt;p&gt;La classe &lt;code&gt;PaymentRequest&lt;/code&gt; est utilis√©e pour mod√©liser les donn√©es de notre module POST /payments HTTP Request.&lt;/p&gt;
&lt;p&gt;Le d√©corateur &lt;code&gt;@model()&lt;/code&gt; peut √™tre utilis√© pour inclure des m√©tadonn√©es suppl√©mentaires pour le mod√®le. Dans ce cas, il est juste utilis√© pour faire savoir √† LoopBack qu‚Äôil s‚Äôagit d‚Äôun mod√®le et qu‚Äôil doit √™tre utilis√© pour rendre la documentation dans la sp√©cification OpenAPI.&lt;/p&gt;
&lt;p&gt;Le d√©corateur &lt;code&gt;@property&lt;/code&gt; est utilis√© pour fournir des m√©tadonn√©es suppl√©mentaires aux propri√©t√©s individuelles de notre mod√®le. Ces m√©tadonn√©es permettent d‚Äôafficher les propri√©t√©s dans les fichiers de d√©finition de mod√®le LoopBack 3 et leur but principal est de permettre aux sp√©cifications OpenAPI de documenter facilement les propri√©t√©s ainsi que les propri√©t√©s de mapper aux noms de colonnes sp√©cifiques √† la base de donn√©es.&lt;/p&gt;
&lt;p&gt;Nous pouvons utiliser cette classe de mod√®le comme type de param√®tre dans la fonction &lt;em&gt;PaymentController#pay&lt;/em&gt; :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;@&lt;span class=&quot;token function&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/payments&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;pay&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;@&lt;span class=&quot;token function&quot;&gt;requestBody&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; payment&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; PaymentRequest&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Object &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  payment&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;status &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;success&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; payment&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Avec une classe TypeScript sp√©cifique utilis√©e comme type de param√®tre, LoopBack peut maintenant fournir des d√©tails suppl√©mentaires √† la sp√©cification OpenAPI et notre navigateur rend maintenant ce qui suit (apr√®s avoir red√©marr√© le serveur et actualis√© la page):&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;&quot; alt=&quot;POST /payments Documentation Request Body&quot;&gt;&lt;/p&gt;
&lt;p&gt;Nos d√©veloppeurs frontaux peuvent maintenant facilement lire la documentation interactive et commencer √† int√©grer leurs applications avec un minimum d‚Äôeffort.&lt;/p&gt;
&lt;p&gt;L‚Äôex√©cution de cette op√©ration apr√®s avoir appuy√© sur le bouton ‚ÄúTry it out‚Äù et modifi√© certains des param√®tres permet d‚Äôobtenir un code de r√©ponse HTTP 200 avec le corps de r√©ponse JSON suivant:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;&quot; alt=&quot;200 Success&quot;&gt;&lt;/p&gt;
&lt;p&gt;Nous avons chang√© la propri√©t√© de statut √† ‚Äúsucc√®s‚Äù dans la fonction pay() plus t√¥t, ce qui est vu dans la sortie JSON ci-dessus.&lt;/p&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Cet article a introduit LoopBack 4 en √©chafaudant une API de paiement simple par l‚Äôinterm√©diaire du CLI. Nous avons examin√© √† quel point il est facile de documenter et de tester les endpoints de l‚ÄôAPI √† l‚Äôaide des sp√©cifications OpenAPI int√©gr√©es en utilisant les contr√¥leurs LoopBack 4 et les fonctions TypeScript d√©cor√©es. Enfin, nous avons explor√© l‚Äô√©volution des fichiers de d√©finition de mod√®le LoopBack 2/3 en d√©tail.&lt;/p&gt;
&lt;p&gt;LoopBack 4 est toujours en cours de d√©veloppement, avec de nombreuses nouvelles fonctionnalit√©s construites par l‚Äôimpressionnante communaut√© open-source. Dans les articles suivants, nous les explorerons tous plus en d√©tail au fur et √† mesure que nous construirons notre API de paiement simple.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Vim est vuln√©rable - Mise √† jour de Vim sur macOS]]></title><description><![CDATA[Si vous travaillez dans le terminal, vous utilisez probablement Vim fr√©quemment. Beaucoup de gens ont une relation d‚Äôamour/haine avec Vim‚Ä¶]]></description><link>https://ludovicwyffels.dev/vim-modelines-vulnerable/</link><guid isPermaLink="false">https://ludovicwyffels.dev/vim-modelines-vulnerable/</guid><pubDate>Sun, 23 Jun 2019 19:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Si vous travaillez dans le terminal, vous utilisez probablement Vim fr√©quemment. Beaucoup de gens ont une relation d‚Äôamour/haine avec Vim, mais personnellement c‚Äôest mon √©diteur de ligne de commande pr√©f√©r√©, surtout quand je suis sur une machine Linux, et je l‚Äôutilise aussi fr√©quemment sur mon Mac, aussi.&lt;/p&gt;
&lt;p&gt;R√©cemment, une &lt;a href=&quot;https://nvd.nist.gov/vuln/detail/CVE-2019-12735&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;vuln√©rabilit√©&lt;/a&gt; a √©t√© &lt;a href=&quot;https://github.com/numirias/security/blob/master/doc/2019-06-04_ace-vim-neovim.md&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;identifi√©e&lt;/a&gt; √† Vim. La vuln√©rabilit√© concerne l‚Äôutilisation malveillante de la fonction &lt;code&gt;modelines&lt;/code&gt; de Vim.&lt;/p&gt;
&lt;p&gt;Cette vuln√©rabilit√© affecte toutes les versions de Vim ant√©rieures √† la version 8.1.1365, ce qui signifie qu‚Äôelle affecte aussi votre Mac, si vous utilisez la version fournie avec macOS 10.14.5, qui est 8.0.1283. Au moment d‚Äô√©crire ces lignes, la version que nous installons est la 8.1.1573, ce qui permettra de corriger la vuln√©rabilit√©.&lt;/p&gt;
&lt;p&gt;Nous allons discuter comment mettre √† jour Vim √† la derni√®re version pour √©viter ce probl√®me et aussi couvrir bri√®vement ce que signifie cette vuln√©rabilit√©.&lt;/p&gt;
&lt;p&gt;Parlons d‚Äôabord des mauvaises choses.&lt;/p&gt;
&lt;h2&gt;Que sont les &lt;em&gt;modelines&lt;/em&gt; et pourquoi devrais-je m‚Äôen soucier?&lt;/h2&gt;
&lt;p&gt;Sans vous ennuyer avec les d√©tails pr√©cis, nous pouvons dire que les &lt;em&gt;modelines&lt;/em&gt; sont un moyent de configurer les pr√©r√©glages dans Vim en ajoutant des commandes en haut des fichier qui d√©finissent ces pr√©r√©glages lors de l‚Äôex√©cution du fichier.&lt;/p&gt;
&lt;p&gt;Alors qu‚Äôest-ce que cela signifie?&lt;/p&gt;
&lt;p&gt;En termes de vuln√©rabilit√©, cela signifie que bien que les &lt;em&gt;modelines&lt;/em&gt; aient des cas d‚Äôutilisation l√©gitimes, si vous avez une version vuln√©rable de Vim, il est possible d‚Äôabuser de cette fonctionnalit√© et d‚Äô√©chapper √† la sandbox d‚Äôex√©cution de Vim, ce qui permet d‚Äôex√©cuter du code arbitraire de mani√®re non s√©curis√©e.&lt;/p&gt;
&lt;h2&gt;Comment fonctionne cette vuln√©rabilit√©?&lt;/h2&gt;
&lt;p&gt;Imaginez un sc√©nario dans lequel un acteur malveillant a charg√© un script contenant des &lt;em&gt;modelines&lt;/em&gt; dans GitHub et a r√©ussi √† valider le fichier dans un r√©f√©rentiel que vous utilisez. L‚Äôattaquant a ajout√© quelques lignes de commandes &lt;em&gt;modeline&lt;/em&gt; en haut d‚Äôun script cens√© √™tre un script Bash standard. Vous d√©cidez d‚Äôouvrir le fichier dans Vim pour lire le code avant de l‚Äôex√©cuter (toujours une bonne id√©e‚Ä¶ en g√©n√©ral).&lt;/p&gt;
&lt;p&gt;C‚Äôest tout ce dont nous avons besoin; le code malveillant s‚Äôex√©cute car tout ce que Vim doit faire est de lire le fichier et les &lt;em&gt;modelines&lt;/em&gt; sont ex√©cut√©es, c‚Äôest ainsi que les &lt;em&gt;modelines&lt;/em&gt; sont suppos√©es fonctionner. Malheureusement pour vous, votre version de Vim est obsol√®te et vous avez √©t√© infect√© car ce code malveillant peut maintenant √™tre ex√©cut√© en dehors de Vim.&lt;/p&gt;
&lt;p&gt;Ou peut-√™tre pas, parce que vous avez lu cet article en premier, puis vous avez mis √† jour Vim.&lt;/p&gt;
&lt;h2&gt;Liste de pr√©-installation&lt;/h2&gt;
&lt;p&gt;Il convient de discuter de certaines mises en garde avant de poursuivre. Chaque fois que vous apportez des modifications √† macOS en utilisant un terminal, et en particulier en ex√©cutant des commandes utilisant &lt;code&gt;sudo&lt;/code&gt;, vous devez faire &lt;strong&gt;attention car il est facile de casser des choses&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Premi√®rement&lt;/strong&gt;, nous ne pouvons pas supprimer la version de Vim install√©e avec macOS. Au lieu de cela, nous allons installer la derni√®re version et nous assurer que c‚Äôest celle utilis√©e lorsque vous acc√©dez au terminal.&lt;/p&gt;
&lt;p&gt;La raison pour laquelle nous ne pouvons pas supprimer la version de Vim fournie avec macOS est due √† la configuration des autorisations dans macOS. Apple a configur√© en toute s√©curit√© les autorisations de sorte que l‚Äôutilisateur ne puisse plus modifier (ni m√™me casser les composants) du syst√®me principal, y compris Vim.&lt;/p&gt;
&lt;p&gt;De plus, nous ne souhaitons pas vraiment supprimer les logiciels de base afin de ne pas causer de conflits. Nous apportons un changement qui peut facilement √™tre annul√© si quelque chose se passait mal ou devait √™tre chang√© √† l‚Äôavenir.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Deuxi√®mement&lt;/strong&gt;, nous allons ex√©cuter quelques commandes en utilisant &lt;em&gt;sudo&lt;/em&gt;. Cela signifie que vous allez ex√©cuter ces commandes comme si vous √©tiez l‚Äôutilisateur &lt;em&gt;root&lt;/em&gt;. Cela pourrait poser probl√®me &lt;em&gt;si vous ne lisez pas et ne suivez pas les instructions √† la lettre&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Cela signifie √©galement que vous devez avoir un acc√®s administrateur dans macOS et que vous devrez fournir votre mot de passe lors de l‚Äôex√©cution de la commande.&lt;/p&gt;
&lt;p&gt;Tu as √©t√© pr√©venu.&lt;/p&gt;
&lt;p&gt;Mais ne vous inqui√©tez pas, ce que nous faisons est assez simple, et utiliser &lt;code&gt;sudo&lt;/code&gt; n‚Äôest pas mauvais, c‚Äôest juste que vous voulez vous rappeler qu‚Äôun grand pouvoir implique de grandes responsabilit√©s, et que &lt;code&gt;sudo&lt;/code&gt; a d√©finitivement un grand pouvoir.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Un grand pouvoir implique de grandes responsabilit√©s.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Oncle Ben&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Cela dit, passons √† autre chose et commen√ßons √† mettre √† jour Vim.&lt;/p&gt;
&lt;h2&gt;Compiler Vim sur macOS&lt;/h2&gt;
&lt;p&gt;Pour commencer, ouvrons l‚Äôapplication Terminal. Vous pouvez rechercher cela en utilisant Spotlight (Cmd + Space) ou ouvrir votre dossier Applications, cliquez sur Utilitaires, puis sur Terminal.&lt;/p&gt;
&lt;p&gt;Tout d‚Äôabord, nous devons r√©cup√©rer la derni√®re version de Vim dans le d√©p√¥t officiel GitHub, puis nous allons changer de r√©pertoire dans le r√©pertoire &lt;code&gt;vim&lt;/code&gt; qui vient d‚Äô√™tre cr√©√©.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; clone https://github.com/vim/vim.git
&lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;vim&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nous venons de t√©l√©charger le code source de Vim, ce qui signifie que nous devrons le compiler avant de pouvoir l‚Äôinstaller. Pour ce faire, tapez simplement &lt;code&gt;make&lt;/code&gt; dans le m√™me r√©pertoire.&lt;/p&gt;
&lt;p&gt;Vous allez voir un mur de texte en cours de cr√©ation lors de la compilation de l‚Äôapplication. Cela prendra probablement quelques minutes, en fonction de la vitesse de votre Mac. Une fois termin√©, vous serez renvoy√© √† l‚Äôinvite de commande.&lt;/p&gt;
&lt;h2&gt;Installer le dernier Vim sur macOS&lt;/h2&gt;
&lt;p&gt;Maintenant que nous avons compil√© Vim, il est temps de terminer l‚Äôinstallation. Pour ex√©cuter la commande d‚Äôinstallation, vous devrez utiliser &lt;code&gt;sudo&lt;/code&gt;. C‚Äôest une consid√©ration importante car cela signifie que nous installons dans un r√©pertoire syst√®me et, comme je l‚Äôai mentionn√© ci-dessus, nous souhaitons faire attention, veillez √† ex√©cuter correctement la commande suivante.&lt;/p&gt;
&lt;p&gt;Ex√©cutez ce qui suit dans le m√™me dossier vim que nous utilisions. Votre mot de passe vous sera demand√©, indiquez-le et la commande sera ex√©cut√©e.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;make&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Encore une fois, vous verrez un mur de texte semblable √† celui que vous avez vu lors de la compilation de Vim. Une fois ce processus termin√©, Vim sera install√© et vous reviendrez √† l‚Äôinvite de commande, mais &lt;strong&gt;nous ne l‚Äôavons pas encore termin√©e&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Comme je l‚Äôai mentionn√© plus t√¥t, nous installons une installation suppl√©mentaire de Vim. Nous voulons √™tre certains que lorsque nous ex√©cutons &lt;code&gt;vim&lt;/code&gt; √† partir du terminal, nous obtenons vraiment la bonne version.&lt;/p&gt;
&lt;p&gt;Lisez la suite pour voir comment configurer ceci correctement.&lt;/p&gt;
&lt;h2&gt;Configurer le bon Vim&lt;/h2&gt;
&lt;p&gt;Lorsque nous avons install√© Vim, l‚Äôapplication binaire ex√©cutable a √©t√© plac√©e dans &lt;code&gt;/usr/local/bin/vim&lt;/code&gt;. Toutefois, l‚Äôinstallation initiale de MacOS se trouve toujours dans &lt;code&gt;/usr/bin/vim&lt;/code&gt;. Cela ne posera aucun probl√®me lorsque nous utiliserons &lt;code&gt;vim&lt;/code&gt; depuis le terminal, mais cela posera des probl√®mes si nous ex√©cutons &lt;code&gt;vi&lt;/code&gt;, ce qui est tr√®s courant pour les utilisateurs de longue date de Vim, car Vi est l‚Äôapplication sur laquelle Vim est bas√©.&lt;/p&gt;
&lt;p&gt;Sur macOS, la commande &lt;code&gt;vi&lt;/code&gt; est un lien symbolique vers &lt;code&gt;/usr/bin/vim&lt;/code&gt; et cela n‚Äôa pas chang√© apr√®s notre installation. Vous remarquerez que la version affich√©e sur l‚Äô√©cran d‚Äôaccueil de Vim est diff√©rente si vous ex√©cutez &lt;code&gt;vim&lt;/code&gt; vs. &lt;code&gt;vi&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Cela pourrait causer des probl√®mes plus tard. Voyons ce qui se passe.&lt;/p&gt;
&lt;p&gt;Que se passe t-il ici? Le probl√®me est notre &lt;code&gt;PATH&lt;/code&gt; - il sait toujours que le lien symbolique vi existe et lit le r√©pertoire &lt;code&gt;/usr/bin&lt;/code&gt; lorsque notre profil est charg√©. Cependant, par d√©faut, &lt;code&gt;/usr/local/bin&lt;/code&gt; est lu en premier, puis &lt;code&gt;/usr/bin&lt;/code&gt;, ce qui signifie que nous devons simplement fournir un lien symbolique vers le chemin de l‚Äôapplication que nous voulons ex√©cuter lorsque nous ex√©cutons &lt;code&gt;vi&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Faisons-le maintenant. Cr√©ez un lien symbolique √† l‚Äôaide de la commande suivante, puis red√©marrez votre terminal.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ln&lt;/span&gt; -s /usr/local/bin/vim /usr/local/bin/vi&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;C‚Äôest tout! Une fois que vous aurez red√©marr√© votre terminal, que vous utilisiez Vi ou Vim, vous obtiendrez la m√™me installation mise √† jour de Vim.&lt;/p&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;J‚Äôesp√®re que cela a √©t√© une exp√©rience √©ducative, mais simple, mettant √† jour l‚Äô√©diteur de texte en ligne de commande pr√©f√©r√© de tout le monde.&lt;/p&gt;
&lt;p&gt;Merci d‚Äôavoir lu!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Strat√©gie de d√©ploiement de Kubernetes]]></title><description><![CDATA[Dans Kubernetes, il existe plusieurs fa√ßons de publier une application. Il est donc n√©cessaire de choisir la bonne strat√©gie pour rendre‚Ä¶]]></description><link>https://ludovicwyffels.dev/k8s-deployement-strategies/</link><guid isPermaLink="false">https://ludovicwyffels.dev/k8s-deployement-strategies/</guid><pubDate>Sat, 25 May 2019 08:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Dans Kubernetes, il existe plusieurs fa√ßons de publier une application. Il est donc n√©cessaire de choisir la bonne strat√©gie pour rendre votre infrastructure fiable lors de la mise √† jour d‚Äôune application.&lt;/p&gt;
&lt;p&gt;Le choix de la proc√©dure de d√©ploiement appropri√©e d√©pend des besoins. Nous avons √©num√©r√© ci-dessous certaines des strat√©gies possibles √† adopter:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#recreate&quot;&gt;Recreate&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#rollingupdate&quot;&gt;RollingUpdate&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#bluegreen&quot;&gt;Blue/Green&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#canary&quot;&gt;Canary&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#abtesting&quot;&gt;A/B testing&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Vous pouvez exp√©rimenter chacune de ces strat√©gies avec Minikube, les manifestes et les √©tapes √† suivre sont expliqu√©s dans ce &lt;a href=&quot;https://github.com/ludovicwyffels/k8s-deployment-demo&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;github&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Examinons chaque strat√©gie et voyons quel type d‚Äôapplication vous conviendrez le mieux.&lt;/p&gt;
&lt;p&gt;&lt;a name=&quot;recreate&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Recreate - id√©al pour l‚Äôenvironnement de d√©veloppement&lt;/h2&gt;
&lt;p&gt;Un d√©ploiement d√©fini avec une strat√©gie de type &lt;strong&gt;recreate&lt;/strong&gt; mettra fin √† toutes les instances en cours d‚Äôex√©cution, puis les recr√©era avec la version la plus r√©cente.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f27c880058cf7fa455879ae4b9ba03ab/6ca50/recreate.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 33.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsTAAALEwEAmpwYAAABF0lEQVQY01WRPU8CQRCG+Yla+D80FvaWJhZaWNlAggmBqMWduUI99aIGEBqjNBoUbYhcDtmF/ZrZdfc+kJtsJps3+8ybd7ZiikJEBWiMNiulFAKAKZcEgejESorZBk1PVpuWRK1Nduyg2sHHjffjbk5xkhBiy19rjy4drEFxEiPMH3syarspboBigsQK2N3FeND7TVkDnAiaMMar/b33+NXBs+HD88km58l5APVT+0ZZddJvvJztco2No88omGTw9/X+W3hMhd4JNrpfYepsXUgixey+K6LO0pkvSMI5Cb3x4Cl11gbEgtEppfN/5yIztnxZa+WZs5C21Q+Ht34ps1Ry21/vjK5yuNhwRi63nYva4MqmS3/xB4u5hgWcC5SXAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/f27c880058cf7fa455879ae4b9ba03ab/14b47/recreate.webp 293w,
/static/f27c880058cf7fa455879ae4b9ba03ab/91928/recreate.webp 585w,
/static/f27c880058cf7fa455879ae4b9ba03ab/384f8/recreate.webp 1170w,
/static/f27c880058cf7fa455879ae4b9ba03ab/68fc1/recreate.webp 1200w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/f27c880058cf7fa455879ae4b9ba03ab/b6dd9/recreate.png 293w,
/static/f27c880058cf7fa455879ae4b9ba03ab/037e5/recreate.png 585w,
/static/f27c880058cf7fa455879ae4b9ba03ab/0f291/recreate.png 1170w,
/static/f27c880058cf7fa455879ae4b9ba03ab/6ca50/recreate.png 1200w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/f27c880058cf7fa455879ae4b9ba03ab/0f291/recreate.png&quot;
          alt=&quot;recreate&quot;
          title=&quot;recreate&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yml&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-yml line-numbers&quot;&gt;&lt;code class=&quot;language-yml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;replicas&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;strategy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Recreate&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;Vous trouverez un exemple complet et les √©tapes de d√©ploiement √† l‚Äôadresse &lt;a href=&quot;https://github.com/ludovicwyffels/k8s-deployment-demo/tree/master/recreate&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://github.com/ludovicwyffels/k8s-deployment-demo/tree/master/recreate&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Avantage&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;√âtat d‚Äôapplication enti√®rement renouvel√©&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Inconv√©nients&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Temps d‚Äôarr√™t qui d√©pend √† la fois de la dur√©e d‚Äôarr√™t et du d√©marrage de l‚Äôapplication&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a name=&quot;rollingupdate&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;RollingUpdate - d√©ploiement lent&lt;/h2&gt;
&lt;p&gt;Ce d√©ploiement met √† jour les pods de fa√ßon progressive. Un &lt;strong&gt;ReplicaSet&lt;/strong&gt; secondaire est cr√©√© avec la nouvelle version de l‚Äôapplication, puis le nombre de r√©pliques de l‚Äôancienne version est r√©duit et la nouvelle version est augment√©e jusqu‚Äô√† ce que le nombre correct de r√©pliques soit atteint.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1d809290f395c4681a3991173760108e/6ca50/ramped.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 62.583333333333336%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB5klEQVQoz5VS227TQBD1X/KA4I1voK0AiXcKFaoUJNSHigS1EhJRK0MrJ6Q0oTEBp0raNEoapS4Rwc3VTROv9zK7jO1eHN4YeY93d+aMZs6spgKTUgopIUQBgChV3AKHkEooBfEADSDwbm7LD7pa21BGXq2sqcFIhJQbrlLry+fZz5eJlNrJqcQ7vICQLID1a0XT+Vn1981pqTzc3Zt4REb1IAKdXXYqBcNu1Ce5b9Pij36hRKKkGqdeO71w5VRBMsEmhLgA3m21CN5Fs/VxgfkzLJh4I/usoSS9Jt+Eyfke77bBAvnceFTqfME98X2BXYfdRmQJgJ8KEQVR83IFqZPlV/WLQ3RwIRgTcfJ/2V1mLRLl2HJPrPFhYdhqeF+/y9ksrrYEwc1c//TItQrj0+OJlR9FKTQZjmo79UvfcDbf4DxGL97CYMjjnQsh1lfaOX3wftXOpP+kVs+uyZwSe2tx6jSDKJA9x3HdQVw30mu2t5YE9TGeUdrrdm9Lx0fCye+aeaKXz839xqdqq0wJj/SIYoR/NbatbC1d71b26nr+KHPQzkReDdXF/+viYqL0bMm4f9DZwSPj7B+JHu/eS1ZePs0+TFaXnxgPYnOWQBnlApePNOxwbux4APAZwXtELjhlfuT5CyyL0zs2zLkzAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/1d809290f395c4681a3991173760108e/14b47/ramped.webp 293w,
/static/1d809290f395c4681a3991173760108e/91928/ramped.webp 585w,
/static/1d809290f395c4681a3991173760108e/384f8/ramped.webp 1170w,
/static/1d809290f395c4681a3991173760108e/68fc1/ramped.webp 1200w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/1d809290f395c4681a3991173760108e/b6dd9/ramped.png 293w,
/static/1d809290f395c4681a3991173760108e/037e5/ramped.png 585w,
/static/1d809290f395c4681a3991173760108e/0f291/ramped.png 1170w,
/static/1d809290f395c4681a3991173760108e/6ca50/ramped.png 1200w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/1d809290f395c4681a3991173760108e/0f291/ramped.png&quot;
          alt=&quot;ramped&quot;
          title=&quot;ramped&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yml&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-yml line-numbers&quot;&gt;&lt;code class=&quot;language-yml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;replicas&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;strategy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; RollingUpdate
    &lt;span class=&quot;token key atrule&quot;&gt;rollingUpdate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;maxSurge&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2        &lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;# how many pods we can add at a time&lt;/span&gt;
      &lt;span class=&quot;token key atrule&quot;&gt;maxUnavailable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0  &lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;# maxUnavailable define how many pods can be unavailable during the rolling update&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;Vous trouverez un exemple complet et les √©tapes de d√©ploiement √† l‚Äôadresse &lt;a href=&quot;https://github.com/ludovicwyffels/k8s-deployment-demo/tree/master/ramped&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://github.com/ludovicwyffels/k8s-deployment-demo/tree/master/ramped&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Lors de la configuration avec la mise √† l‚Äô √©chelle automatique du pod horizontal, il peut √™tre pratique d‚Äôutiliser une valeur en pourcentage au lieu d‚Äôun nombre pour maxSurge et maxUnavailable .&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;maxSurge&lt;/code&gt; permet d‚Äôindiquez combien de Pod il peut cr√©er en plus du nombre de r√©pliqua actuellement configurer&lt;/li&gt;
&lt;li&gt;&lt;code&gt;maxUnavailable&lt;/code&gt; permet d‚Äôindiquer combien de Pod peuvent √™tre ‚Äúnon disponible‚Äù pendant la mise √† jour, toujours en fonction du nombre de r√©pliqua configur√©&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Si vous d√©clenchez un d√©ploiement alors qu‚Äôun d√©ploiement existant est en cours, le d√©ploiement mettra le d√©ploiement en pause et passera √† une nouvelle version en rempla√ßant le d√©ploiement.&lt;/p&gt;
&lt;p&gt;Avantages&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;la version est lentement publi√©e sur toutes les instances&lt;/li&gt;
&lt;li&gt;pratique pour les applications avec √©tat pouvant g√©rer le r√©√©quilibrage des donn√©es&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Inconv√©nients&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;le d√©ploiement/la restauration peut prendre du temps&lt;/li&gt;
&lt;li&gt;la prise en charge de plusieurs API est difficile&lt;/li&gt;
&lt;li&gt;aucun contr√¥le sur le trafic&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a name=&quot;bluegreen&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Blue/Green - mieux √©viter les probl√®mes de versioning de l‚ÄôAPI&lt;/h2&gt;
&lt;p&gt;Un d√©ploiement blue/green diff√®re d‚Äôun d√©ploiement parce que la version ‚Äúgreen‚Äù de l‚Äôapplication est d√©ploy√©e en parall√®le de la version ‚Äúblue‚Äù. Apr√®s avoir v√©rifi√© que la nouvelle version r√©ponde aux exigences, nous mettons √† jour l‚Äôobjet Kubernetes Service qui joue le r√¥le d‚Äô√©quilibreur de charge pour envoyer du trafic vers la nouvelle version en rempla√ßant l‚Äô√©tiquette de version dans le champ &lt;code&gt;selector&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/403f058c1985c38bd1357cea1f175a03/6ca50/bluegreen.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 62.583333333333336%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB90lEQVQoz41Sz08TQRTeP9GbJz15NyEmIpGLN6KisSoaNGgsAkJSwawtNLXt0thtSNtsKW5coF1/bApsEd1u98fMvBlndqUsnHyZ+TLvzXwz731vJCaMUkoohQgJAEfKEsbdKHjxgAQgtpc+0BWZvVxk+U324AXr/yIR55TMWOoVy5XY87TAmTc8ABGZALJ3quphvRWUPzu1en+jNPB8Gj/IEULX+dnKFe32Vy9XshXVKqmD+FIJh17n/bjT04Aif3i8v6cPXXuULgfv0NjLjOPQFWvHsUyTAf5Hjs4AwiJPAtTzfMQdQthZyoy7U+Xrq/rcXWVssfn0nnIjSaYIEYyBDwDKMUGOLgB420xVutl32kzFzC5rz87I542y/zYpqos027ilQ60Bxj4oKrjDpNoUCFaLtrF9slU53t3+vaXYp2oLpAuraFmmswtELoT3Z9GFVvEqXj/sFOX+fKq7kbHSj7txglxt31ybcA8M0RWEj6weDsKk2v6R0VmbIGEg1q5/8MMaVcZfxr61U/0iN76pZf2jouVz2oqPvFGfSTA4MeuFdkbvaXkt86mRreyuR9pQCajI8FH11pPa7TvFa0vt1Fj2Uu/P9xE51vDm+uW0Nj1ZuDrfmp7MX0moTSFEISZ8Bgjz6Z/729HP5kFeOUdMcIiCeOcvi/zJygjaGccAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/403f058c1985c38bd1357cea1f175a03/14b47/bluegreen.webp 293w,
/static/403f058c1985c38bd1357cea1f175a03/91928/bluegreen.webp 585w,
/static/403f058c1985c38bd1357cea1f175a03/384f8/bluegreen.webp 1170w,
/static/403f058c1985c38bd1357cea1f175a03/68fc1/bluegreen.webp 1200w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/403f058c1985c38bd1357cea1f175a03/b6dd9/bluegreen.png 293w,
/static/403f058c1985c38bd1357cea1f175a03/037e5/bluegreen.png 585w,
/static/403f058c1985c38bd1357cea1f175a03/0f291/bluegreen.png 1170w,
/static/403f058c1985c38bd1357cea1f175a03/6ca50/bluegreen.png 1200w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/403f058c1985c38bd1357cea1f175a03/0f291/bluegreen.png&quot;
          alt=&quot;bluegreen&quot;
          title=&quot;bluegreen&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yml&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-yml line-numbers&quot;&gt;&lt;code class=&quot;language-yml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v1
&lt;span class=&quot;token key atrule&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Service
&lt;span class=&quot;token key atrule&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
 &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; my&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;app
 &lt;span class=&quot;token key atrule&quot;&gt;labels&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
   &lt;span class=&quot;token key atrule&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; my&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;app
&lt;span class=&quot;token key atrule&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
 &lt;span class=&quot;token key atrule&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; NodePort
 &lt;span class=&quot;token key atrule&quot;&gt;ports&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; http
   &lt;span class=&quot;token key atrule&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8080&lt;/span&gt;
   &lt;span class=&quot;token key atrule&quot;&gt;targetPort&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8080&lt;/span&gt;
 
 &lt;span class=&quot;token comment&quot;&gt;# Note here that we match both the app and the version.&lt;/span&gt;
 &lt;span class=&quot;token comment&quot;&gt;# When switching traffic, we update the label ‚Äúversion‚Äù with&lt;/span&gt;
 &lt;span class=&quot;token comment&quot;&gt;# the appropriate value, ie: v2.0.0&lt;/span&gt;
 &lt;span class=&quot;token key atrule&quot;&gt;selector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
   &lt;span class=&quot;token key atrule&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; my&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;app
   &lt;span class=&quot;token key atrule&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v1.0.0&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;Vous trouverez un exemple complet et les √©tapes de d√©ploiement √† l‚Äôadresse &lt;a href=&quot;https://github.com/ludovicwyffels/k8s-deployment-demo/tree/master/blue-green&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://github.com/ludovicwyffels/k8s-deployment-demo/tree/master/blue-green&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Avantages&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;d√©ploiement instantan√©&lt;/li&gt;
&lt;li&gt;√©viter le probl√®me de versioning, changer l‚Äô√©tat du cluster en une fois&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Inconv√©nients&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;n√©cessite le double des ressources&lt;/li&gt;
&lt;li&gt;le bon test de toute la plate-forme doit √™tre effectu√© avant la mise en production&lt;/li&gt;
&lt;li&gt;la gestion des applications avec √©tat peut √™tre difficile&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a name=&quot;canary&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Canary - laissez le consommateur faire le test&lt;/h2&gt;
&lt;p&gt;Le d√©ploiement &lt;strong&gt;Canary&lt;/strong&gt; consiste √† router un sous-ensemble d‚Äôutilisateurs vers une nouvelle fonctionnalit√©. Dans Kubernetes, un d√©ploiement canary peut √™tre effectu√© en utilisant deux d√©ploiements avec des √©tiquettes de pods communes. Une r√©plique de la nouvelle version est publi√©e √† c√¥t√© de l‚Äôancienne version. Ensuite, apr√®s un certain temps et si aucune erreur n‚Äôest d√©tect√©e, augmentez le nombre de r√©pliques de la nouvelle version et supprimez l‚Äôancien d√©ploiement.&lt;/p&gt;
&lt;p&gt;L‚Äôutilisation de cette technique &lt;strong&gt;ReplicaSet&lt;/strong&gt; n√©cessite de faire tourner autant de pod que n√©cessaire pour obtenir le bon pourcentage de trafic. Cela dit, si vous voulez envoyer 1% du trafic vers la version B, vous devez avoir un pod fonctionnant avec la version B et 99 pods fonctionnant avec la version A. Cela peut √™tre assez peu pratique √† g√©rer donc si vous recherchez une meilleure r√©partition du trafic, regarder les √©quilibreurs de charge tels que &lt;a href=&quot;http://www.haproxy.org/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;HAProxy&lt;/a&gt; ou les mailles de service comme &lt;a href=&quot;https://linkerd.io/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Linkerd&lt;/a&gt;, qui offrent un meilleur contr√¥le du trafic.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/eb6ae0806d639a4d47f11a6eb498ddde/6ca50/canary.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 84.83333333333333%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAAsTAAALEwEAmpwYAAACY0lEQVQ4y41S32/SUBTu3+iD2YvPPvtifJjxZQ8mmvhgXGY0M8a5aTaQOMbvFRgYEMavwRjQMrAyNpCfbWlvb++99bZFVjZNvGlvbr+e73znnu8whnMRQjdFJfIM04/lX+YrShhCvMCYW1y0uw+3PTQCE+LEDQC0p69QpW7mtRFmkRYBcXSeAeokkYGJ72ROtqLUQWsslEVZcfmwcHGDbEcMW7Uvq7I8DMawNzInE2IW2S+4ePa1pOI3HxF3flPZWR7ws5qfNZbKtnZZnr3dQXwb/Y1MEWwKZoo4dUycZMPSRwgFo6R79Q9lUw5TjrnowdFpM1ZHcC25ctI7sqrCS2QabF2S6Dqmj518Dhr2GYcb7u5UsMiI3Fa2Kjf+E2TsLuk6OoiQemucAycLh6iAN4xr/LQIKxqGFEVYp0V8Lq2XhOQxrM+VRUne2jOKzUlESeI/OgAo73dR8Wwa09Iq0mxQA3A99Tj1IxzW8kw/u81HN0TVeLdt5M6GB90ApY7K+1zkpQrx5hbJFsf+qzDVnZz6a75nsma8SD741vJ5OlFG7fO9dn44lTx+UmkOvd0QJWsjodfOTRXpE1spcS3/ZRQYGI473Xp6MlE+5J8XOkfun4eM1Ub913i8sWlkykPvZRAhuwu6OJOexFaiDXfgIgWIZnsmS/Iaez/e9LiFKGPPD9BBrMFyI/5Qyi4cNr3h9rhBNa4UAJ7fGWow0nBxg9MgyDK2hypUH4XuxJtfk6CCMFoMx8PAXbbuSmtVBakLk1ZD90LVnQSuXPuMEB0NNIWS00w6VTSXCGVyPasU1Ck4geJvNkiziLji4QYAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/eb6ae0806d639a4d47f11a6eb498ddde/14b47/canary.webp 293w,
/static/eb6ae0806d639a4d47f11a6eb498ddde/91928/canary.webp 585w,
/static/eb6ae0806d639a4d47f11a6eb498ddde/384f8/canary.webp 1170w,
/static/eb6ae0806d639a4d47f11a6eb498ddde/68fc1/canary.webp 1200w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/eb6ae0806d639a4d47f11a6eb498ddde/b6dd9/canary.png 293w,
/static/eb6ae0806d639a4d47f11a6eb498ddde/037e5/canary.png 585w,
/static/eb6ae0806d639a4d47f11a6eb498ddde/0f291/canary.png 1170w,
/static/eb6ae0806d639a4d47f11a6eb498ddde/6ca50/canary.png 1200w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/eb6ae0806d639a4d47f11a6eb498ddde/0f291/canary.png&quot;
          alt=&quot;canary&quot;
          title=&quot;canary&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Dans l‚Äôexemple suivant, nous utilisons deux ReplicaSets c√¥te √† c√¥te, la version A avec trois r√©pliques (75% du trafic), la version B avec un r√©pliqua (25% du trafic).&lt;/p&gt;
&lt;p&gt;Manifeste de d√©ploiement tronqu√© version A:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yml&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-yml line-numbers&quot;&gt;&lt;code class=&quot;language-yml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;replicas&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Manifeste de d√©ploiement tronqu√© version B, notez que ous ne d√©marrons qu‚Äôun seul r√©pliqua de l‚Äôapplication:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yml&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-yml line-numbers&quot;&gt;&lt;code class=&quot;language-yml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;replicas&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;Vous trouverez un exemple complet et les √©tapes de d√©ploiement √† l‚Äôadresse &lt;a href=&quot;https://github.com/ludovicwyffels/k8s-deployment-demo/tree/master/canary&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://github.com/ludovicwyffels/k8s-deployment-demo/tree/master/canary&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Avantages&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;version publi√©e pour un sous-ensemble d‚Äôutilisateurs&lt;/li&gt;
&lt;li&gt;pratique pour la surveillance du taux d‚Äôerreur et des performances&lt;/li&gt;
&lt;li&gt;rollback rapide&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Inconv√©nients&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;d√©ploiement lent&lt;/li&gt;
&lt;li&gt;la r√©partition du trafic ajust√©e peut √™tre co√ªteuse (99% A / 1% B = 99 pod A, 1 pod B)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;La proc√©dure utilis√©e ci-dessus est native de Kubernetes, nous ajustons le nombre de r√©pliques g√©r√©es par un ReplicaSet pour distribuer le trafic entre les versions.&lt;/p&gt;
&lt;p&gt;Si vous n‚Äô√™tes pas s√ªr de l‚Äôimpact que la sortie d‚Äôune nouvelle fonctionnalit√© pourrait avoir sur la stabilit√© de la plate-forme, une strat√©gie de sortie canari est sugg√©r√©e.&lt;/p&gt;
&lt;p&gt;&lt;a name=&quot;abtesting&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;A/B testing - id√©al pour testes les fonctionnalit√©s sur un sous-ensemble d‚Äôutilisateurs&lt;/h2&gt;
&lt;p&gt;Le test A/B est en fait une technique permettant de prendre des d√©cisions d‚Äôaffaires bas√©es sur des statistiques, plut√¥t qu‚Äôune strat√©gie de d√©ploiement. Cependant, il est apparent√© et peut √™tre mis en oeuvre √† l‚Äôaide d‚Äôun d√©ploiement canari, c‚Äôest pourquoi nous en parlerons bri√®vement ici.&lt;/p&gt;
&lt;p&gt;En plus de r√©partir le trafic entre les versions en fonction du poids, vous pouvez cibler pr√©cis√©ment un groupe donn√© d‚Äôutilisateurs en fonction de quelques param√®tres (cookie, user agent, etc.). Cette technique est largement utilis√©e pour tester la conversion d‚Äôune fonctionnalit√© donn√©e et ne d√©ployer que la version qui convient le plus.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://istio.io/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Istio&lt;/a&gt;, comme les autres maillages de service, fournis un moyen plus fin de subdiviser les instances de service avec un routage dynamique des requ√™tes bas√© sur des poids et/ou des en-t√™tes HTTP.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/159c113c9cbb5b8dadfdfd540f888ee9/6ca50/abtesting.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 41.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABUElEQVQY041Qy07CQBTtz7n0W9z7E27cQYgJgcQYiDERcWciD6HQUgoIWoQU28qk0gJtp495OEMBXXqTmdx7cs65Z0agaZE4U4jrImEdxnts6wUXWaLN2UwIYYfzlFGQyVHJHXajV8G3BqZ4E4SwXEnkAeNhxllrz1b/YeOjQhnrBjdDmCzFomONJ7OkfEdFoDbtnuAZ6qJ1zcSlSiKpXMyoztuT0btn4nxpL8YYmy95YKiTGSrd0vZSadiycIydLcaNzi42+Y19mSPTQ2zK8UgeeVd52jLlOugKHOevJGMNWwCnFAaxCyFcU4DtQoYkCTKNz83aWQC303d67mtnOzxs5h6IZSPpt+wswjg4q54oVo31MITtduv7y23qj+fVU8npS+HkKKYJwuj40Qe/+erdj7x00hf6VPtwfcdwZna4AvFKoP8rFiqKIggh/rPgBx1Yu9spDOmqAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/159c113c9cbb5b8dadfdfd540f888ee9/14b47/abtesting.webp 293w,
/static/159c113c9cbb5b8dadfdfd540f888ee9/91928/abtesting.webp 585w,
/static/159c113c9cbb5b8dadfdfd540f888ee9/384f8/abtesting.webp 1170w,
/static/159c113c9cbb5b8dadfdfd540f888ee9/68fc1/abtesting.webp 1200w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/159c113c9cbb5b8dadfdfd540f888ee9/b6dd9/abtesting.png 293w,
/static/159c113c9cbb5b8dadfdfd540f888ee9/037e5/abtesting.png 585w,
/static/159c113c9cbb5b8dadfdfd540f888ee9/0f291/abtesting.png 1170w,
/static/159c113c9cbb5b8dadfdfd540f888ee9/6ca50/abtesting.png 1200w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/159c113c9cbb5b8dadfdfd540f888ee9/0f291/abtesting.png&quot;
          alt=&quot;abtesting&quot;
          title=&quot;abtesting&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Vous trouverez ci-dessous un exemple d‚Äôinstallation de r√®gles √† l‚Äôaide d‚ÄôIstio.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yml&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-yml line-numbers&quot;&gt;&lt;code class=&quot;language-yml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;route&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;tags&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  version&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v1.0.0
  weight&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;90&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token key atrule&quot;&gt;tags&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  version&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v2.0.0
  weight&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Vous trouverez un exemple complet et les √©tapes de d√©ploiement √† l‚Äôadresse &lt;a href=&quot;https://github.com/ludovicwyffels/k8s-deployment-demo/tree/master/ab-testing&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://github.com/ludovicwyffels/k8s-deployment-demo/tree/master/ab-testing&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;D‚Äôautres outils comme &lt;a href=&quot;https://linkerd.io/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Linkerd&lt;/a&gt;, &lt;a href=&quot;https://traefik.io/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Traefik&lt;/a&gt;, &lt;a href=&quot;https://www.nginx.com/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;NGINX&lt;/a&gt;, &lt;a href=&quot;http://www.haproxy.org/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;HAProxy&lt;/a&gt;, vous permettent √©galement de le faire.&lt;/p&gt;
&lt;p&gt;Avantages&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;n√©cessite un √©quilibreur de charge intelligent&lt;/li&gt;
&lt;li&gt;plusieurs versions en parall√®le&lt;/li&gt;
&lt;li&gt;un contr√¥le total sur la r√©partition du trafic&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Inconv√©nients&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;les erreurs difficiles √† d√©panner pour une session donn√©e, le tra√ßage distribu√© deviennent obligatoires&lt;/li&gt;
&lt;li&gt;pas simple, vous devez configurer des outils suppl√©mentaires&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a name=&quot;summary&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;En r√©sum√©&lt;/h3&gt;
&lt;p&gt;Il y a diff√©rentes fa√ßons de d√©ployer une application, lors de la mise en production dans un &lt;strong&gt;environnement de d√©veloppement/staging&lt;/strong&gt;, un d√©ploiement &lt;a href=&quot;#bigbang&quot;&gt;big bang&lt;/a&gt; ou &lt;a href=&quot;#rolling&quot;&gt;progressif&lt;/a&gt; est g√©n√©ralement un bon choix. Lorsqu‚Äôil s‚Äôagit de &lt;strong&gt;production&lt;/strong&gt;, un d√©ploiement &lt;a href=&quot;#rolling&quot;&gt;progressif&lt;/a&gt; ou en &lt;a href=&quot;#bluegreen&quot;&gt;blue/green&lt;/a&gt; est g√©n√©ralement un bon choix, mais un test appropri√© de la nouvelle plate-forme est n√©cessaire. Si vous n‚Äô√™tes pas s√ªr de la stabilit√© de la plate-forme et de l‚Äôimpact que pourrait avoir la sortie d‚Äôune nouvelle version de logiciel, alors une version &lt;a href=&quot;#canary&quot;&gt;canari&lt;/a&gt; devrait √™tre la bonne solution. Ce faisant, vous laissez le consommateur tester l‚Äôapplication et son int√©gration √† la plate-forme. Enfin, si votre entreprise a besoin de tester une nouvelle fonctionnalit√© parmi un groupe sp√©cifique d‚Äôutilisateurs, par exemple, tous les utilisateurs acc√©dant √† l‚Äôapplication √† l‚Äôaide d‚Äôun t√©l√©phone mobile sont envoy√©s √† la version A, tous les utilisateurs acc√©dant via un ordinateur passent √† la version B. Vous pouvez alors utiliser la technique de &lt;a href=&quot;#abtesting&quot;&gt;test A/B&lt;/a&gt; qui en utilisant un r√©seau de services Kubernetes ou une configuration serveur personnalis√©e vous permet de d√©terminer o√π un utilisateur doit √™tre dirig√© en fonction de certains param√®tres.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Configuration locale de Kubernetes avec minikube sur MacOS X]]></title><description><![CDATA[Minikube est un outil id√©al pour configuer localement Kubernetes afin de tester et d‚Äôexp√©rimenter vos d√©ploiements. Dans ce guide, je vais‚Ä¶]]></description><link>https://ludovicwyffels.dev/k8s-minikube/</link><guid isPermaLink="false">https://ludovicwyffels.dev/k8s-minikube/</guid><pubDate>Thu, 23 May 2019 08:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://kubernetes.io/docs/setup/minikube/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Minikube&lt;/a&gt; est un outil id√©al pour configuer localement &lt;a href=&quot;https://kubernetes.io/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Kubernetes&lt;/a&gt; afin de tester et d‚Äôexp√©rimenter vos d√©ploiements.&lt;/p&gt;
&lt;p&gt;Dans ce guide, je vais essayer de vous aider √† le mettre en marche sur votre machine locale, √† donner quelques conseils sur o√π et comment effectuer certaines t√¢ches et √† le rendre aussi capable (je suppose quand vous utilisez k8s que vous veulent apprendre et utiliser Helm, etcd, istio, etc.).&lt;/p&gt;
&lt;h1&gt;Installation de minikube&lt;/h1&gt;
&lt;p&gt;Minikube fonctionne avec une machine virtuelle. Pour cela, on peut utiliser diverses options en fonction de vos pr√©f√©rences et de votre syst√®me d‚Äôexploitation. Ma pr√©f√©rence dans ce cas est Orable &lt;a href=&quot;https://www.virtualbox.org/wiki/Downloads&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;VirtualBox&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Vous pouvez utiliser &lt;strong&gt;brew&lt;/strong&gt; pour tout installer:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;brew cask &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; virtualbox minikube&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Dans ce cas, vous pourriez obtenir une erreur d‚Äôinstallation peu concluante li√©e √† l‚Äôinstallation de virtualbox, en particulier sur Mojave et problablement par la suite.&lt;/p&gt;
&lt;p&gt;Quoi qu‚Äôil en soit, il s‚Äôagit problablement d‚Äôune nouvelle fonctionnalit√© de s√©curit√© dans MacOs X qui vous g√™ne.&lt;/p&gt;
&lt;p&gt;Allez dans &lt;strong&gt;Pr√©f√©rences Syst√®me&gt; S√©curit√© et confidentialit√©&lt;/strong&gt; et sur l‚Äô√©cran &lt;strong&gt;G√©n√©ral&lt;/strong&gt;, vous verrez un (ou quelques) messages concernant certains logiciels n√©cessitant une approbation pour √™tre install√©s. Vous devez examiner attentivement la liste s‚Äôil en existe plusieurs et autoriser l‚Äôinstallation du logiciel dont vous avez besoin - dans ce cas, le logiciel &lt;strong&gt;Oracle&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Cela fait, vous pourrez relancer la commande ci-dessus et vous devrez alors √™tre pr√™t pour les √©tapes suivantes.&lt;/p&gt;
&lt;h1&gt;Ex√©cuter et acc√©der au cluster&lt;/h1&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;minikube start&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Afin d‚Äôutiliser de mani√®re optimale les ressources de votre ordinateur local, je sugg√©rerais de l‚Äôarr√™ter quand vous n‚Äôen avez plus besoin‚Ä¶ Avec VirtualBox au centre, il utilisera la batterie de votre ordinateur portable assez rapidement. Recommencer plus tard vous ram√®nera l√† o√π vous l‚Äôavez laiss√©:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;minikube stop&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Le tableau de bord Kubernetes est √©galement disponible (lorsque minikube est en cours d‚Äôex√©cution):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;minikube dashboard&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Je vais supposer que vous avez kubectl install√© localement et que vous l‚Äôutilisez d√©j√† pour certains clusters distants, vous disposez donc de plusieurs contextes. Dans ce cas, vous devez r√©pertorier les contextes et passer √† minikube.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;kubectl config get-contexts
kubectl config use-context minikube&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Vous vous trouvez maintenant dans le contexte de votre cluster k8 local qui s‚Äôex√©cute sur minikube et vous pouvez effectuer toutes les op√©rations k8 qu‚Äôil contient.&lt;/p&gt;
&lt;h1&gt;Ingress&lt;/h1&gt;
&lt;p&gt;Pour ex√©cuter vos d√©ploiements comportant un ingress, vous aurez besoin d‚Äôun add-on d‚Äôentr√©e:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;minikube addons &lt;span class=&quot;token builtin class-name&quot;&gt;enable&lt;/span&gt; ingress&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Assurez-vous que vous configurez l‚Äôingress en fonction de vos h√¥tes locaux. Cela signifie fondamentalement que tout ce que vous d√©finissez comme h√¥te dans vos r√®gles d‚Äôingress doit √™tre configur√© dans votre fichier /etc/hosts&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;[minikube ip] your.host&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;O√π &lt;code&gt;[minikube ip]&lt;/code&gt; devrait √™tre remplac√© par l‚Äôip actuel de minikube. Il fonctionne √©galement avec plusieurs h√¥tes locaux s√©par√©s par des espaces apr√®s l‚Äôadresse ip de minikube.&lt;/p&gt;
&lt;p&gt;Voici un raccourci pour le faire en bash&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;$(&lt;/span&gt;minikube &lt;span class=&quot;token function&quot;&gt;ip&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;)&lt;/span&gt;&lt;/span&gt; local.host&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;tee&lt;/span&gt; -a /etc/hosts&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h1&gt;Docker registry&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;La r√©alit√© de l‚Äôutilisation r√©elle du registre de conteneurs dans l‚Äôenvironnement local est rude. Je vais donc vous fournir une option simple, rapide et simpliste qui facilite le d√©ploiement de votre travail local sur vos k8s locaux, mais vous prive de l‚Äôexp√©rience tr√®s importante du registre de conteneurs.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Registre de conteneurs local&lt;/h2&gt;
&lt;p&gt;Obtenez le contexte de votre docker local pour pointer vers le context minikube: &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;eval&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;$(&lt;/span&gt;minikube docker-env&lt;span class=&quot;token variable&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Dans le contexte minikube, pour d√©marrer le registre docker local&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;docker run -d -p &lt;span class=&quot;token number&quot;&gt;5000&lt;/span&gt;:5000 --restart&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;always --name registry registry:2&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Donc, vous avez maintenant un registre local dans lequel pousser des choses (tant que votre docker est dans le contexte minikube)&lt;/p&gt;
&lt;p&gt;Vous pouvez maintenant faire:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;docker build &lt;span class=&quot;token builtin class-name&quot;&gt;.&lt;/span&gt; -t &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;your_tag&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
docker tag &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;your_tag&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; localhost:5000/&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;your_tag&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;:&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;version&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;A ce stade, vous pouvez utiliser &lt;code&gt;localhost:5000/&amp;#x3C;your_tag&gt;&lt;/code&gt;: comme image dans votre d√©ploiement et c‚Äôest tout.&lt;/p&gt;
&lt;h2&gt;Utilisation du r√©f√©rentiel de conteneur distant&lt;/h2&gt;
&lt;p&gt;Pour utiliser localement le r√©f√©rentiel de conteneur distant, vous devez fournir un moyen d‚Äôauthentification, qui se base sur les &lt;a href=&quot;https://kubernetes.io/docs/concepts/configuration/secret/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;secrets&lt;/a&gt; de Kubernetes.&lt;/p&gt;
&lt;p&gt;Pour la gestion des secrets locaux pour ECR, GCR and Docker registry, je recommande d‚Äôutiliser l‚Äôaddon minikube appel√© &lt;a href=&quot;https://github.com/upmc-enterprises/registry-creds&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;registry-creds&lt;/a&gt;. Je ne le consid√®re pas suffisamment s√ªr pour √™tre utilis√© ailleurs que dans l‚Äôenvironnement local.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;minikube addons configure registry-creds
minikube addons &lt;span class=&quot;token builtin class-name&quot;&gt;enable&lt;/span&gt; registry-creds&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h1&gt;Helm&lt;/h1&gt;
&lt;p&gt;Helm est un gestionnaire de paquets pour k8s et est souvent utilis√© pour la gestion de la configuration d‚Äôun d√©ploiement √† l‚Äôautre. Compte tenu de la grande popularit√© de l‚Äôoutil et de son adoption croissante, je voudrais terminer ce guide par une note sur l‚Äôajout de helm √† votre environnement Kubernetes local.&lt;/p&gt;
&lt;p&gt;C‚Äôest assez facile √† ce stade, il suffit de mettre en place minikube et:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;brew &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; kubernetes-helm
helm init&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;Helm utilise un backend appel√© &lt;strong&gt;Tiller&lt;/strong&gt;. C‚Äôest ce qui est install√©/d√©ploy√© lors de l‚Äôex√©cution de &lt;code&gt;helm init&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Une lecture pr√©cieuse: &lt;a href=&quot;https://helm.sh/docs/using_helm/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://helm.sh/docs/using_helm/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Maintenant, vous disposez d‚Äôun environnement Kubernetes local complet capable d‚Äôaccepter tous vos d√©ploiements de test avant de d√©cider de les placer dans le cloud.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Bash - V√©rifier les variables d'environnement sont d√©finies ou s'il existe des fichiers/r√©f√©rences]]></title><description><![CDATA[La configuration, le CI et les flux de d√©ploiement repr√©sente un peu l‚Äôancien script bash. Malgr√© mon profond int√©r√™t pour les subtilit√©s de‚Ä¶]]></description><link>https://ludovicwyffels.dev/bash-justeAssezPourEtreDangereux/</link><guid isPermaLink="false">https://ludovicwyffels.dev/bash-justeAssezPourEtreDangereux/</guid><pubDate>Tue, 21 May 2019 22:00:00 GMT</pubDate><content:encoded>&lt;p&gt;La configuration, le CI et les flux de d√©ploiement repr√©sente un peu l‚Äôancien script bash.&lt;/p&gt;
&lt;p&gt;Malgr√© mon profond int√©r√™t pour les subtilit√©s de Bash (&lt;em&gt;/sarcasme&lt;/em&gt;), j‚Äôai continu√© √† chercher des solution aux m√™mes situations sur  Google et StackOverflow.&lt;/p&gt;
&lt;p&gt;Pour √©viter d‚Äôavoir √† le refaire moi-m√™me et pour votre plaisir de lecture, les voici.&lt;/p&gt;
&lt;p&gt;Pour √™tre dangereux en termes d‚Äôinstallation, de CI et de flux de d√©ploiement, nous rencontrerons ce qui suit:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;azerty&lt;/li&gt;
&lt;li&gt;azerty&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;V√©rifier si un fichier existe&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; -f ./pdfgen/pdfgen &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;then&lt;/span&gt;
    &lt;span class=&quot;token builtin class-name&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Building pdfgen binary&quot;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; run --prefix pdfgen build:linux
&lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt;
    &lt;span class=&quot;token builtin class-name&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Pdfgen binary already exists, skipping build&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;fi&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;V√©rifier si un lien symbolique existe&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; -L /usr/local/bin/heroku &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;then&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;wget&lt;/span&gt; https://cli-assets.heroku.com/branches/stable/heroku-linux-amd64.tar.gz
    &lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;mkdir&lt;/span&gt; -p /usr/local/lib /usr/local/bin
    &lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;tar&lt;/span&gt; -xvzf heroku-linux-amd64.tar.gz -C /usr/local/lib
    &lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ln&lt;/span&gt; -s /usr/local/lib/heroku/bin/heroku /usr/local/bin/heroku
&lt;span class=&quot;token keyword&quot;&gt;fi&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;V√©rifier si une variable d‚Äôenvironnement est d√©finie&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# long&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; -z &lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token variable&quot;&gt;${CIRCLE_BRANCH}&lt;/span&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;then&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; run redis-cli flushall
&lt;span class=&quot;token keyword&quot;&gt;fi&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; run &lt;span class=&quot;token function&quot;&gt;sync&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;# one-liner&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;-z &lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token variable&quot;&gt;${CIRCLE_BRANCH}&lt;/span&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; run redis-cli flushall&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; run &lt;span class=&quot;token function&quot;&gt;sync&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Basculer une variable d‚Äôenvironnement&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$CIRCLE_BRANCH&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;develop&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token builtin class-name&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token assign-left variable&quot;&gt;ENVIRONMENT&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;dev&quot;&lt;/span&gt;
        &lt;span class=&quot;token builtin class-name&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token assign-left variable&quot;&gt;HEROKU_APP&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;dev-app
        &lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;staging&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token builtin class-name&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token assign-left variable&quot;&gt;ENVIRONMENT&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;staging&quot;&lt;/span&gt;
        &lt;span class=&quot;token builtin class-name&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token assign-left variable&quot;&gt;HEROKU_APP&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;staging-app
        &lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;production&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token builtin class-name&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token assign-left variable&quot;&gt;ENVIRONMENT&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;production&quot;&lt;/span&gt;
        &lt;span class=&quot;token builtin class-name&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token assign-left variable&quot;&gt;HEROKU_APP&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;production-app
        &lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;esac&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Demander √† l‚Äôutilisateur&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;read&lt;/span&gt; -p &lt;span class=&quot;token string&quot;&gt;&quot;Are you sure you want to merge &apos;develop&apos; into &apos;staging&apos;? (y/N)&quot;&lt;/span&gt; -n &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; -r
&lt;span class=&quot;token builtin class-name&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;# we like having a new line&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token environment constant&quot;&gt;$REPLY&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;~ ^&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Yy&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;$ &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;then&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; merge develop --ff-only
  &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; push
&lt;span class=&quot;token keyword&quot;&gt;fi&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Un dernier conseil, s‚Äôil s‚Äôagit de plusieurs lignes, essayez d‚Äôutiliser quelque chose comme JavaScript ou Python pour √©crire votre script.&lt;/p&gt;
&lt;h2&gt;Injecter .env dans votre session/environnement&lt;/h2&gt;
&lt;p&gt;Nous avons des fichiers &lt;code&gt;.env&lt;/code&gt;, Docker Compose traite cela avec une utilisation habituelle, mais disons que nous voulons que quelque chose tourne en dehors de Docker (et sans utiliser quelque chose comme &lt;a href=&quot;https://github.com/motdotla/dotenv&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;dotenv&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Voici l‚Äôextrait de code pour un shell UNIX&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;cat&lt;/span&gt; .env &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;xargs&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Mocking des classes ES6 dans les tests unitaires]]></title><description><![CDATA[Cet article passe en revue certains mod√®les pouvant √™tre utilis√©s pour tester les classes ES6. Les exemples utiliseront l‚Äôauto-mocking du‚Ä¶]]></description><link>https://ludovicwyffels.dev/node-sequelize-mocking/</link><guid isPermaLink="false">https://ludovicwyffels.dev/node-sequelize-mocking/</guid><pubDate>Sat, 11 May 2019 09:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Cet article passe en revue certains mod√®les pouvant √™tre utilis√©s pour tester les classes ES6.&lt;/p&gt;
&lt;p&gt;Les exemples utiliseront l‚Äôauto-mocking du module Jest mais devraient √™tre portables √† d‚Äôautres biblioth√®ques de mocking de module (par exemple Proxyquire) avec quelques modifications.&lt;/p&gt;
&lt;p&gt;Dans &lt;a href=&quot;/node-sequelize-classes&quot;&gt;cet article&lt;/a&gt;, nous avons explor√© comment d√©finir des mod√®les Sequelize en utilisant des classes ES6. Un des avantages d‚Äôune telle approche est qu‚Äôelle permet des tests unitaires faciles, elle permet d‚Äôinstancier le mod√®le sans le bagage de toute Sequelize (et/ou une base de donn√©es).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#alternative-object-assign&quot;&gt;Alternative avec &lt;code&gt;Object.assign&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Nous allons tester le mod√®le suivant (qui est une classe ES6):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Model &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;sequelize&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MyModel&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Model&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;init
      &lt;span class=&quot;token comment&quot;&gt;// Config, see &quot;Using ES6 classes for Sequelize 4 models&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;isAvailable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;Array&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isArray&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;meetings&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;meetings should be eager-loaded&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;meetings&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; startDate&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; endDate &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; startDate &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; date &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; endDate &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; date&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Au niveau des modules, nous le voulons:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;mock/stub Sequelize (et la classe de base &lt;code&gt;Model&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;importer le mod√®le&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Dans le test:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Instantaner le mod√®le que nous avons d√©fini (sans crash)&lt;/li&gt;
&lt;li&gt;D√©finissez quelques propri√©t√©s sur cette instance&lt;/li&gt;
&lt;li&gt;Ex√©cuter certaines m√©thodes&lt;/li&gt;
&lt;li&gt;Affirmer sur le rendement&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;jest&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;mock&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;sequelize&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Model &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./model&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;It should not throw when passed a model containing an empty list of meetings&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; model &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Model&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  model&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;meetings &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;model&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isAvailable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Date&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;not&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toThrow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a name=&quot;alternative-object-assign&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Alternative avec &lt;code&gt;Object.assign&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;Si nous d√©finissons plus d‚Äôune propri√©t√© d‚Äôinstance unique, l‚Äôutilisation de Object.assign peut √™tre plus simple √† g√©rer:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;jest&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;mock&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;sequelize&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Model &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./model&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;It should not throw when passed a model containing an empty list of meetings&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; model &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Model&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      meetings&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;model&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isAvailable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Date&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;not&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toThrow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Utilisation des classes ES6 pour les mod√®les Sequelize 4 ou 5]]></title><description><![CDATA[La sp√©cification ES2015 ou ES6 a introduit la class en JavaScript. Des biblioth√®ques telles que React sont pass√©es de React.createClass √† la‚Ä¶]]></description><link>https://ludovicwyffels.dev/node-sequelize-classes/</link><guid isPermaLink="false">https://ludovicwyffels.dev/node-sequelize-classes/</guid><pubDate>Fri, 10 May 2019 18:00:00 GMT</pubDate><content:encoded>&lt;p&gt;La sp√©cification ES2015 ou ES6 a introduit la &lt;code&gt;class&lt;/code&gt; en JavaScript. Des biblioth√®ques telles que React sont pass√©es de &lt;code&gt;React.createClass&lt;/code&gt; √† la &lt;code&gt;class MyComponent extends React.Component&lt;/code&gt;, c‚Äôest-√†-dire qu‚Äôils sont pass√©s de l‚Äôutilisation de leur propre constructeur √† l‚Äôutilisation d‚Äôun langage int√©gr√© pour transmettre l‚Äôintention du programmeur.&lt;/p&gt;
&lt;p&gt;Pour la couche de persistance d‚Äôune application Web Node.js, quelques bases de donn√©es me viennent √† l‚Äôesprit, comme &lt;a href=&quot;https://www.mongodb.com/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;MongoDB&lt;/a&gt; (√©ventuellement associ√© √† &lt;a href=&quot;https://mongoosejs.com/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;mongoose&lt;/a&gt;), ou une association de cl√©s-valeurs comme &lt;a href=&quot;https://redis.io/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Redis&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Pour ex√©cuter une base de donn√©es relationnelle avec une application Node, &lt;a href=&quot;http://docs.sequelizejs.com/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Sequelize&lt;/a&gt; , ‚ÄúUn ORM de dialecte multi-SQL facile √† utiliser pour Node.js‚Äù est une bonne option. Il permet √† l‚Äôapplication de fonctionner avec une instance MySQL ou PostgreSQL et offre un moyen simple de mapper la repr√©sentation des entit√©s dans la base de donn√©es vers JavaScript et inversement.&lt;/p&gt;
&lt;p&gt;Les API v4 et inf√©rieure de Sequelize pour les d√©finitions de mod√®le se pr√©sentent comme suit:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; MyModel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; sequelize&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;MyModel&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// fields and methods&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Pour ajouter des m√©thodes de classes et d‚Äôinstance, vous devez √©crire ce qui suit:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Class Method&lt;/span&gt;
MyModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;associate&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Instance Method&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;MyModel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;someMethod&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Cela est n√©cessaire avant l‚ÄôES6 car il n‚Äôexistait pas de notion d‚Äôh√©ritage classique. Maintenant, nous avons les classes, pourquoi ne pas les exploiter? Pour les d√©veloppeurs habitu√©s √† avoir des classes, les √©l√©ments suivants vous sembleront probablement familiers:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MyModel&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Sequelize&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Model&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;associate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;someMethod&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Sequelize supporte r√©ellement cela, mais la documentation manque un peu. L‚Äôun des seuls endroits o√π trouver une r√©f√©rence √† la proc√©dure √† suivre est dans un num√©ro de GitHub: &lt;a href=&quot;https://github.com/sequelize/sequelize/issues/6524&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://github.com/sequelize/sequelize/issues/6524&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Voici un aide-m√©moire sur ce que vous souhaitez faire et comment le r√©aliser √† l‚Äôaide de la classe ES6 + h√©ritage de &lt;code&gt;Sequelize.Model&lt;/code&gt;:&lt;/p&gt;
&lt;p&gt;&lt;a name=&quot;toc&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#typed-fields&quot;&gt;Initialiser le mod√®le avec le ou les champs saisis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#associations&quot;&gt;Associez votre mod√®le √† d‚Äôautres mod√®les&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#customer-table-name&quot;&gt;D√©finition d‚Äôun nom de table personnalis√© pour votre mod√®le&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#custom-model-name&quot;&gt;D√©finition d‚Äôun nom de mod√®le personnalis√© pour votre mod√®le (pour Sequelize)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#queries&quot;&gt;Les requ√™tes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#instance-methods&quot;&gt;M√©thodes d‚Äôinstance&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#initialize-all&quot;&gt;Initialisez tous vos mod√®les&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a name=&quot;typed-fields&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Initialiser le mod√®le avec le ou les champs saisis&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Sequelize &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;sequelize&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MyModel&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Sequelize&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Model&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;sequelize&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; DataTypes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        myField&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; DataTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;STRING&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; sequelize &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a name=&quot;associations&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Associez votre mod√®le √† d‚Äôautres mod√®les&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Sequelize &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;sequelize&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MyModel&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Sequelize&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Model&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;associate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;myAssociation &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;belongsTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;models&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;OtherModel&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// or&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;myAssociation &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; models&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;MyModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;belongsTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;models&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;OtherModel&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a name=&quot;customer-table-name&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;D√©finition d‚Äôun nom de table personnalis√© pour votre mod√®le&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Sequelize &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;sequelize&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MyModel&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Sequelize&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Model&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;sequelize&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; DataTypes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// field definitions&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        tableName&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;myModels&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        sequelize&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a name=&quot;custom-model-name&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;D√©finition d‚Äôun nom de mod√®le personnalis√© pour votre mod√®le (pour Sequelize)&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Sequelize &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;sequelize&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MyModel&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Sequelize&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Model&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;sequelize&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; DataTypes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// field definitions&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        modelName&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;myModel&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        sequelize&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a name=&quot;queries&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Les requ√™tes&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Sequelize &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;sequelize&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MyModel&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Sequelize&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Model&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;where&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;findOne&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      where&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      attributes&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;id&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      order&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;createdAt&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;DESC&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a name=&quot;instance-methods&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;M√©thodes d‚Äôinstance&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Sequelize &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;sequelize&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MyModel&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Sequelize&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Model&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;getFullName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;firstName&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;lastName&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a name=&quot;initialize-all&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Initialisez tous vos mod√®les&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;require()&lt;/code&gt; suivi de &lt;code&gt;model.init()&lt;/code&gt; est une alternative √† &lt;code&gt;sequelize.import(path)&lt;/code&gt;, il est un peu plus clair ce qui est import√© et non import√© et sous quel nom.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Sequelize &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;sequelize&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; sequelize &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Sequelize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// pass your sequelize config here&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; FirstModel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./first-model&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; SecondModel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./second-model&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; ThirdModel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./third-model&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; models &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  First&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; FirstModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sequelize&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Sequelize&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  Second&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; SecondModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sequelize&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Sequelize&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  Third&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ThirdModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sequelize&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Sequelize&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Run `.associate` if it exists,&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ie create relationships in the ORM&lt;/span&gt;
Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;models&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;model&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; model&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;associate &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;function&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;model&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; model&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;associate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;models&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; db &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;models&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  sequelize&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; db&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Sequelize DataTypes: guide pratique]]></title><description><![CDATA[Les DataTypes sont au coeur de la biblioth√®que Sequelize. Ceci est un guide pratique et complet pour compenser la documentation officielle‚Ä¶]]></description><link>https://ludovicwyffels.dev/node-sequelize-datatypes/</link><guid isPermaLink="false">https://ludovicwyffels.dev/node-sequelize-datatypes/</guid><pubDate>Fri, 10 May 2019 18:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Les DataTypes sont au coeur de la biblioth√®que Sequelize. Ceci est un guide pratique et complet pour compenser la documentation officielle clairsem√©e de Sequelize sur le sujet.&lt;/p&gt;
&lt;p&gt;Tout d‚Äôabord, DataTypes contient √† la fois les types et les g√©n√©rateurs pour les valeurs par d√©faut: &lt;code&gt;NOW&lt;/code&gt; , &lt;code&gt;UUIDV1&lt;/code&gt; et &lt;code&gt;UUIDV4&lt;/code&gt; sont des valeurs par d√©faut sp√©ciales.&lt;/p&gt;
&lt;p&gt;Les endroits o√π vous √™tes susceptible de rencontrer des DataTypes se trouvent dans la d√©finition du champ de mod√®le et dans les d√©finitions de migration. Notez que pour un mod√®le et un champ donn√©s, le type de donn√©es doit √™tre identique dans le mod√®le et dans la migration.&lt;/p&gt;
&lt;p&gt;Table des mati√®res:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#text-types&quot;&gt;Types de texte&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#default-values&quot;&gt;Les valeurs par d√©faut&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#number&quot;&gt;Nombre&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#fancy-primitive-types&quot;&gt;Types primitifs fantaisie&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#date-time&quot;&gt;Date/heure&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#fancy-types&quot;&gt;Types de fantaisie&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#postgres-fancy-types&quot;&gt;Types fantaisie Postgres&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;&lt;a name=&quot;text-types&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Types de texte&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;STRING&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Une cha√Æne de longueur variable.&lt;/li&gt;
&lt;li&gt;Longueur par d√©faut 255.&lt;/li&gt;
&lt;li&gt;Prend en charge &lt;code&gt;BINARY&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Utilisation: une cha√Æne binaire de 100 longueurs &lt;code&gt;DataTypes.STRING(100).BINARY&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;CHAR&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Une cha√Æne de longueur fixe.&lt;/li&gt;
&lt;li&gt;Longueur par d√©faut 255.&lt;/li&gt;
&lt;li&gt;Prend en charge &lt;code&gt;BINARY&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Utilisation: un caract√®re binaire de 100 longueurs &lt;code&gt;DataTypes.CHAR(100).BINARY&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;TEXT&lt;/code&gt; : une colonne de texte de longueur illimit√©e&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a name=&quot;default-values&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Les valeurs par d√©faut&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;NOW&lt;/code&gt; : une valeur par d√©faut de l‚Äôhorodatage actuel&lt;/li&gt;
&lt;li&gt;&lt;code&gt;UUIDV1&lt;/code&gt; : Un identifiant universel unique par d√©faut g√©n√©r√© conform√©ment √† la norme UUID v1&lt;/li&gt;
&lt;li&gt;&lt;code&gt;UUIDV4&lt;/code&gt; : Un identifiant universel unique par d√©faut g√©n√©r√© conform√©ment √† la norme UUID v2&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a name=&quot;number&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Nombre&lt;/h2&gt;
&lt;p&gt;Tous les √©l√©ments suivants prennent en charge ces propri√©t√©s: &lt;code&gt;UNSIGNED&lt;/code&gt;, &lt;code&gt;ZEROFILL&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Par exemple:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;DataTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;INTEGER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;UNSIGNED&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;ZEROFILL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// or&lt;/span&gt;
DataTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;INTEGER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;ZEROFILL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;UNSIGNED&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;La m√™me chose peut √™tre faite en utilisant &lt;code&gt;BIGINT.UNSIGNED&lt;/code&gt;, &lt;code&gt;FLOAT.UNSIGNED&lt;/code&gt;,‚Ä¶&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;INTEGER&lt;/code&gt;: Un entier de 32 bits.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;BIGINT&lt;/code&gt;: Un entier de 64 bits.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;FLOAT&lt;/code&gt;: nombre √† virgule flottante (pr√©cision sur 4 octets). Accepte un ou deux arguments de pr√©cision&lt;/li&gt;
&lt;li&gt;&lt;code&gt;REAL&lt;/code&gt;: nombre √† virgule flottante (pr√©cision sur 4 octets). Accepte un ou deux arguments de pr√©cision&lt;/li&gt;
&lt;li&gt;&lt;code&gt;DOUBLE&lt;/code&gt;: nombre √† virgule flottante (pr√©cision sur 8 octets). Accepte un ou deux arguments de pr√©cision&lt;/li&gt;
&lt;li&gt;&lt;code&gt;DECIMAL&lt;/code&gt;: nombre d√©cimal. Accepte un ou deux arguments de pr√©cision&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a name=&quot;fancy-primitive-types&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Types primitifs fantaisie&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;BOOLEAN&lt;/code&gt;: colonne bool√©enne / tinyint qui est forc√©e de devenir un bool√©en JavaScript.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;UUID&lt;/code&gt;: Une colonne contenant un identifiant universel unique, la forme est valid√©e, √† utiliser avec les valeurs par d√©faut &lt;code&gt;UUIDV1&lt;/code&gt; ou &lt;code&gt;UUIDV4&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a name=&quot;date-time&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Date/heure&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;TIME&lt;/code&gt;: une colonne de temps&lt;/li&gt;
&lt;li&gt;&lt;code&gt;DATE&lt;/code&gt;: une colonne datetime&lt;/li&gt;
&lt;li&gt;&lt;code&gt;DATEONLY&lt;/code&gt;: Une colonne de date seulement&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a name=&quot;fancy-types&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Types fantaisie&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;BLOB&lt;/code&gt;: Stockage binaire. Longueurs disponibles: &lt;code&gt;tiny&lt;/code&gt;, &lt;code&gt;medium&lt;/code&gt;, &lt;code&gt;long&lt;/code&gt;. Par exemple: &lt;code&gt;DataTypes.BLOG(&apos;tiny&apos;)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;VIRTUAL&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Une valeur virtuelle qui n‚Äôest pas stock√©e dans la base de donn√©es. Cela peut par exemple √™tre utile si vous souhaitez fournir une valeur par d√©faut dans votre mod√®le, qui est renvoy√©e √† l‚Äôutilisateur mais non stock√©e dans la base de donn√©es.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://sequelize.readthedocs.io/en/2.0/api/datatypes/#virtual&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Voir les docs&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;ENUM&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Une √©num√©ration.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;DataTypes.ENUM(&apos;value&apos;, &apos;another value&apos;)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Id√©alement, devrait √™tre utilis√© avec les cha√Ænes stock√©es dans les constantes&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;FIRST_ENUM_VALUE&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;FIRST_ENUM_VALUE&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;OTHER_ENUM_VALUE&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;OTHER_ENUM_VALUE&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// In migration or model definition&lt;/span&gt;
DataTypes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;ENUM&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;FIRST_ENUM_VALUE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;OTHER_ENUM_VALUE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a name=&quot;postgres-fancy-types&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Types fantaisie Postgres&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;HSTORE&lt;/code&gt;: une colonne cl√©/valeur&lt;/li&gt;
&lt;li&gt;&lt;code&gt;JSON&lt;/code&gt;: une colonne de cha√Æne JSON.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;JSONB&lt;/code&gt;: une colonne de donn√©es JSON pr√©-trait√©e.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;RANGE&lt;/code&gt;: Pour Postgres 9.4+, les types de plage sont des types de donn√©es repr√©sentant une plage de valeurs d‚Äôun type d‚Äô√©l√©ment (appel√© sous-type de plage).&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;ARRAY&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Un tableau de &lt;code&gt;type&lt;/code&gt;, par exemple &lt;code&gt;DataTypes.ARRAY(DataTypes.DECIMAL)&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Changer la date d'un commit]]></title><description><![CDATA[Une des choses les plus grandes et les pires avec git est que vous pouvez r√©√©crire l‚Äôhistoire. Voici une fa√ßon sournoise d‚Äôabuser de cela‚Ä¶]]></description><link>https://ludovicwyffels.dev/git-changeGitOfCommit/</link><guid isPermaLink="false">https://ludovicwyffels.dev/git-changeGitOfCommit/</guid><pubDate>Wed, 08 May 2019 09:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Une des choses les plus grandes et les pires avec git est que vous pouvez r√©√©crire l‚Äôhistoire. Voici une fa√ßon sournoise d‚Äôabuser de cela, je ne peux pas penser √† une raison l√©gitime de le faire.&lt;/p&gt;
&lt;p&gt;Comme pour tout, merci StackOverflow pour toutes les options que je peux choisir parmi&lt;/p&gt;
&lt;h2&gt;Fixe la date du dernier commit √† la date du jour&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token assign-left variable&quot;&gt;GIT_COMMITTER_DATE&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&quot;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; commit --amend --no-edit --date &lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&quot;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Fixer la date du dernier commit √† une date arbitraire&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token assign-left variable&quot;&gt;GIT_COMMITTER_DATE&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;2019-05-07T21:07:52&quot;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; commit --amend --no-edit --date &lt;span class=&quot;token string&quot;&gt;&quot;2019-05-07T21:07:52&quot;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token assign-left variable&quot;&gt;GIT_COMMITTER_DATE&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Mon 20 Aug 2018 20:19:19 BST&quot;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; commit --amend --no-edit --date &lt;span class=&quot;token string&quot;&gt;&quot;Mon 20 Aug 2018 20:19:19 BST&quot;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;D√©finir la date d‚Äôune validation arbitraire sur une date arbitraire ou courante&lt;/h2&gt;
&lt;p&gt;Rebaser avant ledit engagement et arr√™ter pour modification:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;git rebase &amp;#x3C;commit-hash&gt;^ -i&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Remplace &lt;code&gt;pick&lt;/code&gt; par &lt;code&gt;e&lt;/code&gt; (edit) sur la ligne avec ce commit (le premier)&lt;/li&gt;
&lt;li&gt;Quittez l‚Äô√©diteur (ESC suivi de &lt;code&gt;:wq&lt;/code&gt; dans VIM)&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Non plus:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;GIT_COMMITTER_DATE=&quot;$(date)&quot; git commit --amend --no-edit --date &quot;$(date)&quot;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;GIT_COMMITTER_DATE=&quot;Mon 20 Aug 2018 20:19:19 BST&quot; git commit --amend --no-edit --date &quot;Mon 20 Aug 2018 20:19:19 BST&quot;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Voir ici pour plus d‚Äôinformations sur le rebase et l‚Äô√©dition dans git: &lt;a href=&quot;/git-splitExistingCommit/&quot;&gt;Fractionner un commit git existant&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Apr√®s l‚Äôune de ces 3 options, vous voudrez ex√©cuter:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;git&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-git line-numbers&quot;&gt;&lt;code class=&quot;language-git&quot;&gt;git rebase --continue&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Fractionner un commit existant]]></title><description><![CDATA[L‚Äôune des principales diff√©rences entre git et les autres syst√®mes de contr√¥le de version est qu‚Äôil permet √† l‚Äôutilisateur de r√©√©crire l‚Ä¶]]></description><link>https://ludovicwyffels.dev/git-splitExistingCommit/</link><guid isPermaLink="false">https://ludovicwyffels.dev/git-splitExistingCommit/</guid><pubDate>Wed, 08 May 2019 08:00:00 GMT</pubDate><content:encoded>&lt;p&gt;L‚Äôune des principales diff√©rences entre &lt;code&gt;git&lt;/code&gt; et les autres syst√®mes de contr√¥le de version est qu‚Äôil permet √† l‚Äôutilisateur de r√©√©crire l‚Äôhistorique. Pour ce faire, le moyen principal consiste √† utiliser &lt;code&gt;git rebase&lt;/code&gt;, g√©n√©ralement suivi d‚Äôun &lt;code&gt;git push --force&lt;/code&gt; pour √©craser l‚Äôhistorique du serveur (remote) avec l‚Äôhistorique local.&lt;/p&gt;
&lt;p&gt;Voici comment diviser les commits existants √† l‚Äôaide de &lt;code&gt;rebase&lt;/code&gt;, &lt;code&gt;reset&lt;/code&gt; et &lt;code&gt;commit&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Supposons que vous ayez deux fichiers √©dit√©s dans un commit (A et B) et que vous souhaitiez importer les modifications d‚Äôun de ces fichiers (A) dans votre branche actuelle, mais pas celles de l‚Äôautre (B).&lt;/p&gt;
&lt;p&gt;Utiliser &lt;code&gt;git cherry-pick &amp;#x3C;commit-hash&gt;&lt;/code&gt; n‚Äôest pas une option, car cela impliquerait les modifications pour A et B.&lt;/p&gt;
&lt;p&gt;La solution consiste √† scinder le commit en 2 et √† ne s√©lectionner que le nouveau commit contenant les modifications pour A.&lt;/p&gt;
&lt;p&gt;Pour faire √ßa:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;lancez &lt;code&gt;git rebase -i &amp;#x3C;commit-hash&gt;~&lt;/code&gt; (notez le &lt;code&gt;-&lt;/code&gt;) ou &lt;code&gt;git rebase -i &amp;#x3C;hash-of-previous-commit&gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;recherchez le commit que vous voulez scinder dans l‚Äô√©cran d‚Äô√©dition du rebase, changez le &lt;code&gt;pick&lt;/code&gt; en &lt;code&gt;e&lt;/code&gt; (&lt;strong&gt;edit&lt;/strong&gt;)&lt;/li&gt;
&lt;li&gt;sauvegardez et quittez (&lt;code&gt;ESC&lt;/code&gt; suivi de &lt;code&gt;:wq&lt;/code&gt; pour fermer VIM)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;git reset HEAD~&lt;/code&gt; pour r√©initialiser les modifications planifi√©es (&lt;code&gt;stash&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;git add [files-to-add]&lt;/code&gt; tous les fichiers que nous voulons ajouter au premier commit (ici, ce serait &lt;code&gt;git add A&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;git commit&lt;/code&gt; normalement, avec un message, etc.&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Ex√©cutez autant de fois que vous le souhaitez:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;git add [other-files-to-add]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;git commit&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;git rebase -- continue&lt;/code&gt; d‚Äôindiquer que la division est termin√©e et continue la refonte&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Enfin, nous pouvons &lt;code&gt;git cherry-pick &amp;#x3C;new-commit-hash&gt;&lt;/code&gt; pour int√©grer les modifications dans notre branche.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Changer d'environnement Node.js]]></title><description><![CDATA[Si vous travaillez sur plus d‚Äôun projet √† la fois, travaillez beaucoup en open source ou si vous d√©cidez de revenir √† un projet que vous‚Ä¶]]></description><link>https://ludovicwyffels.dev/node-nvm/</link><guid isPermaLink="false">https://ludovicwyffels.dev/node-nvm/</guid><pubDate>Tue, 07 May 2019 14:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Si vous travaillez sur plus d‚Äôun projet √† la fois, travaillez beaucoup en open source ou si vous d√©cidez de revenir √† un projet que vous avez r√©alis√© il y a un an, il y a de fortes chances pour que vous deviez changer de version de Node.js. Il se peut que quelques d√©pendances ne fonctionnent que sur une version de Node.js sp√©cifique. Vous pouvez utiliser nvm pour changer vos versions de node.js en une seconde.&lt;/p&gt;
&lt;h2&gt;Installation&lt;/h2&gt;
&lt;p&gt;Si vous n‚Äôavez pas d√©j√† install√© &lt;a href=&quot;https://github.com/nvm-sh/nvm&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;NVM&lt;/a&gt;. T√©l√©chargez et installez la derni√®re version de NVM&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.34.0/install.sh &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;bash&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;V√©rifiez votre version de nvm avec&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;nvm --version&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Installer un nouvelle version&lt;/h2&gt;
&lt;p&gt;Pour t√©l√©charger et installer une nouvelle version de Node.js, ex√©cutez&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;nvm &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;12.0&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Remplacez 12.0 par le num√©ro de version dons vous avez besoin.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# Install the latest LTS (Long-Term Support)&lt;/span&gt;
nvm &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; --lts

&lt;span class=&quot;token comment&quot;&gt;# Install v4.9.1 = argon&lt;/span&gt;
nvm &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; --lts&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;argon
nvm &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;# Install v6.17.1 = boron&lt;/span&gt;
nvm &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; --lts&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;boron
nvm &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;# Install v8.16.0 = carbon&lt;/span&gt;
nvm &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; --lts&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;carbon
nvm &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;# Install v10.16.0 = dubnium&lt;/span&gt;
nvm &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; --lts&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;dubnium
nvm &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;


&lt;span class=&quot;token comment&quot;&gt;# Install the latest version of node&lt;/span&gt;
nvm &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; node&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Lister les versions&lt;/h2&gt;
&lt;p&gt;Pour v√©rifier quelles version de Node.js sont install√©es sur votre syst√®me, ex√©cutez&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;nvm &lt;span class=&quot;token function&quot;&gt;ls&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;.&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ceci listera toutes les versions que vous avez install√©es.&lt;/p&gt;
&lt;h2&gt;Utiliser une version install√©&lt;/h2&gt;
&lt;p&gt;Pour passer √† n‚Äôimporte quelle version de node.js , vous devez ex√©cuter&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;nvm use v12.0.0&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;D√©sinstaller une version&lt;/h2&gt;
&lt;p&gt;Si vous ne voulez pas de version particuli√®re de Node.js, vous devez ex√©cuter&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;nvm uninstall &lt;span class=&quot;token number&quot;&gt;12.0&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Alias&lt;/h2&gt;
&lt;p&gt;Vous pouvez d√©finir la version par d√©faut de Node.js en d√©finissant un alias.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;nvm &lt;span class=&quot;token builtin class-name&quot;&gt;alias&lt;/span&gt; default &lt;span class=&quot;token number&quot;&gt;10.15&lt;/span&gt;.3&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Mettre √† jour NPM&lt;/h2&gt;
&lt;p&gt;NVM ne vous permet pas de mettre √† jour uniquement npm, mais uniquement une version node + npm. Mais il existe un moyen tr√®s simple de le faire:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;nvm install-latest-npm&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Migration des packages global vers une autre version de node&lt;/h2&gt;
&lt;p&gt;Si vous souhaitez installer une nouvelle version de Node.js et migrer les packages npm √† partir d‚Äôune version pr√©c√©dente:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;nvm &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; node --reinstall-packages-from&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;node&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Cela utilisera d‚Äôabord ‚Äúnvm version node‚Äù pour identifier la version actuelle √† partir de laquelle vous faites migrer les packages. Il r√©sout ensuite la nouvelle version √† installer √† partir du serveur distant et l‚Äôinstalle. Enfin, il ex√©cute ‚Äúnvminstall-packages‚Äù pour r√©installer les packages npm de votre version pr√©c√©dente de Node vers la nouvelle.&lt;/p&gt;
&lt;p&gt;Vous pouvez √©galement installer et migrer des packages npm √† partir de versions sp√©cifiques de Node, comme suit:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;nvm &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt; --reinstall-packages-from&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Automatiser le changement de version&lt;/h2&gt;
&lt;p&gt;Pour automatiser le changement de versio de Node.js, il existe un package npm qui s‚Äôappelle &lt;a href=&quot;https://github.com/wbyoung/avn&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;AVN&lt;/a&gt; qui le permet&lt;/p&gt;
&lt;p&gt;Maintenant quand vous faites &lt;code&gt;cd&lt;/code&gt; dans un r√©pertoire avec un fichier &lt;code&gt;.node-version&lt;/code&gt;, avn d√©tectera automatiquement le changement et utilisera votre gestionnaire de version install√© pour passer √† cette version de node. Que contient votre fichier &lt;code&gt;.node-version&lt;/code&gt;? Un num√©ro de version &lt;a href=&quot;https://semver.org/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;semver&lt;/a&gt; correspondant √† la version de Node.js que votre projet utilise.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[3 fa√ßons de communiquer entre les composants Angular]]></title><description><![CDATA[Bien que le titre de cet article soit un peu trompeur, car nous ne souhaitons pas vraiment communiquer directement entre les composants. Nos‚Ä¶]]></description><link>https://ludovicwyffels.dev/angular-3way-communication/</link><guid isPermaLink="false">https://ludovicwyffels.dev/angular-3way-communication/</guid><pubDate>Tue, 07 May 2019 08:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Bien que le titre de cet article soit un peu trompeur, car nous ne souhaitons pas vraiment communiquer directement entre les composants. Nos composants doivent √™tre isol√©s et encapsul√©s. J‚Äôai choisi ce titre parce que je pense que les d√©veloppeurs aux prises avec ce probl√®me le googleront de cette fa√ßon.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Comment communiquer entre les composants?&lt;/strong&gt; C‚Äôest le sujet sur lequel j‚Äôai vu beaucoup de nouveaux d√©veloppeurs angular lutter pour communiquer entre les composants. Je vais vous montrer les trois approches les plus courantes, avec des exemples qui correspondent √† diff√©rents cas d‚Äôutilisation.&lt;/p&gt;
&lt;p&gt;Il y a aussi le ‚Äúmoyen de redux‚Äù que je pourrais couvrir dans un autre article √† l‚Äôavenir.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 450px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2e8ce8fad9da85cf8aa8818b8e2adc5e/cac3d/angular-communication-component.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 88.88888888888889%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAACXBIWXMAAAsSAAALEgHS3X78AAACEUlEQVQ4y4VTa4vaUBDNj+8KzUexC4JU1EaNTzYvk/iOUoXVbI2gX2QXu4ivruCrukbdnuRuhFbXHsIwN3fOnLlz71AejycajQaDwVAoFIlEGIaB/cYwt7dfXC7Xp5sb+jPt9/u/2kBYLBYLh8P44/P5KKzvbHAc53a7E4kEx92lUqlMRv7uoNlsNhoN2FqtJopiOp3udDo8z1PIJwgCPPDhQBa54/E4suVyuXw+XygUiAVkWUZ2lmU1TUO9lNfrBTOZTCIfx/GKomSzWVVRESdKIs8LkJIkKWN/2EUiBCCvpSyJwsuvl5/Pz0+Pj8Ph6M3B8XgkzuFw2L5a2O12xG63W/zs9/tUqVQioev1SlVklKDIMuTK5XJGEiHFsrFqRavX6z+Ahwe04P6+MZ1OUTmFIEI2zZ2u62gJGtPUdcNoGa1Wu92uVquDwQBlQNM0TUv8dQcKiO9klPH2AVarFXT+OQgs+kdVKpXT+nAG/JzP55PJ5JxcLBb/Il/Ecrm8SAaRwrk/IpNokMfj8TkZvbim/H8yuarr5NFodLlsNA0e7uB4BhK0WCyGwyGc/X5Puojg96u6onxq2MWyLWVVVcllrvHEHMD/bWOz2cxms5b9WgzD6Ha7sPB7vR6IVCAQQMPJ6OQcnHw8T2tCREwID5vBoMoyBgM1W2TMFwo4DR02QMAG3kDZgeaALLGFw9I0/QePsZ1byS8cEQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/2e8ce8fad9da85cf8aa8818b8e2adc5e/14b47/angular-communication-component.webp 293w,
/static/2e8ce8fad9da85cf8aa8818b8e2adc5e/8a5f6/angular-communication-component.webp 450w&quot;
          sizes=&quot;(max-width: 450px) 100vw, 450px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/2e8ce8fad9da85cf8aa8818b8e2adc5e/b6dd9/angular-communication-component.png 293w,
/static/2e8ce8fad9da85cf8aa8818b8e2adc5e/cac3d/angular-communication-component.png 450w&quot;
          sizes=&quot;(max-width: 450px) 100vw, 450px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/2e8ce8fad9da85cf8aa8818b8e2adc5e/cac3d/angular-communication-component.png&quot;
          alt=&quot;angular-communication-component&quot;
          title=&quot;angular-communication-component&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Imaginez le cas d‚Äôutilisation de la barre lat√©rale dans votre application. La barre lat√©rale est ouverte ou ferm√©e. Vous avez le composant side-bar et ensuite vous avez un composant (ou plusieurs composants) qui peuvent l‚Äôouvrir / le fermer ou demander son √©tat.&lt;/p&gt;
&lt;h2&gt;Je d√©crirai trois mani√®res de mettre en oeuvre ce comportement&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Passer la r√©f√©rence d‚Äôun composant √† un autre&lt;/li&gt;
&lt;li&gt;Communication par le composant parent&lt;/li&gt;
&lt;li&gt;Communication √† travers le service&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;1. Passer la r√©f√©rence d‚Äôun composant √† un autre&lt;/h2&gt;
&lt;p&gt;Cette solution doit √™tre utilis√©e lorsque les composants ont une d√©pendance entre eux. Par exemple, dropdown et dropdown toggle. Ils ne peuvent g√©n√©ralement pas exister l‚Äôun sans l‚Äôautre.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://stackblitz.com/edit/angular-communication-1-chjsqo&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Demo&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Nous allons cr√©er le composant &lt;code&gt;side-bar-toggle&lt;/code&gt; qui aura le composant &lt;code&gt;side-bar&lt;/code&gt; en entr√©e et en cliquant sur le bouton bascule nous ouvrirons / fermerons le composant &lt;code&gt;side-bar&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Voici le code pertinent:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-html line-numbers&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;app-side-bar-toggle&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;[sideBar]&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;sideBar&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;app-side-bar-toggle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;app-side-bar&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;#sideBar&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;app-side-bar&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;app.component.html&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;@&lt;span class=&quot;token function&quot;&gt;Component&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  selector&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;app-side-bar-toggle&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  templateUrl&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./side-bar-toggle.component.html&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  styleUrls&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./side-bar-toggle.component.css&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SideBarToggleComponent&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  @&lt;span class=&quot;token function&quot;&gt;Input&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; sideBar&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; SideBarComponent&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  @&lt;span class=&quot;token function&quot;&gt;HostListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;click&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;sideBar&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toggle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;side-bar-toggle.component.ts&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;@&lt;span class=&quot;token function&quot;&gt;Component&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  selector&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;app-side-bar&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  templateUrl&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./side-bar.component.html&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  styleUrls&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./side-bar.component.css&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SideBarComponent&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  @&lt;span class=&quot;token function&quot;&gt;HostBinding&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;class.is-open&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  isOpen &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;toggle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isOpen &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isOpen&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;side-bar.component.ts&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h2&gt;2. Communication par le composant parent&lt;/h2&gt;
&lt;p&gt;Peut √™tre utilis√© lorsqu‚Äôil est facile de contr√¥ler l‚Äô√©tat partag√© entre des composants via leur composant parent et que vous ne souhaitez pas cr√©er de nouveau service ou cr√©er du code standard, √† cause d‚Äôune variable.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://stackblitz.com/edit/angular-communication-2-7oahtg&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Demo&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;La mise en oeuvre de cette approche est presque la m√™me que la pr√©c√©dente, mais le composant &lt;code&gt;side-bar-toggle&lt;/code&gt; ne re√ßoit pas de composant &lt;code&gt;side-bar&lt;/code&gt;. Au lieu de cela, le composant parent contient la propri√©t√© &lt;code&gt;sideBarIsOpened&lt;/code&gt; qui est transmise au composant &lt;code&gt;side-bar&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-html line-numbers&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;app-side-bar-toggle&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;(toggle)&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;toggleSideBar()&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;app-side-bar-toggle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;app-side-bar&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;[isOpen]&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;sideBarIsOpened&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;app-side-bar&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;app.component.html&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;@&lt;span class=&quot;token function&quot;&gt;Component&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  selector&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;my-app&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  templateUrl&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./app.component.html&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  styleUrls&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./app.component.css&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AppComponent&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  sideBarIsOpened &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;toggleSideBar&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;shouldOpen&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;boolean&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;sideBarIsOpened &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;sideBarIsOpened&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;app.component.ts&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;@&lt;span class=&quot;token function&quot;&gt;Component&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  selector&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;app-side-bar-toggle&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  templateUrl&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./side-bar-toggle.component.html&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  styleUrls&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./side-bar-toggle.component.css&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SideBarToggleComponent&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  @&lt;span class=&quot;token function&quot;&gt;Output&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; toggle&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; EventEmitter&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;EventEmitter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  @&lt;span class=&quot;token function&quot;&gt;HostListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;click&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;toggle&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;emit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;side-bar-toggle.component.ts&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;@&lt;span class=&quot;token function&quot;&gt;Component&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  selector&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;app-side-bar&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  templateUrl&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./side-bar.component.html&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  styleUrls&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./side-bar.component.css&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SideBarComponent&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  @&lt;span class=&quot;token function&quot;&gt;HostBinding&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;class.is-open&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; @&lt;span class=&quot;token function&quot;&gt;Input&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  isOpen &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;side-bar.component.ts&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h2&gt;3. Communication √† travers le service&lt;/h2&gt;
&lt;p&gt;Enfin, cette option est utile et doit √™tre utilis√©e lorsque vous avez un composant contr√¥l√© ou que son √©tat est demand√© √† plusieurs instances.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 450px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/bfe98952691679cd400bca2daa253bd3/cac3d/angular-communication-service.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 104%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAIAAADJt1n/AAAACXBIWXMAAAsSAAALEgHS3X78AAACgUlEQVQ4y41UV28aQRC+/82rw4PzBlhClFCPZlMjEMHkgWqK4egGTBMIHbYhdBxEcb7bTQgiFs530mp2d76ZndtvlpHJZBaLRa/XG41Gs9nMsixGI8teXcnEYvHFp4vLy88ajeYLAdxsNht8tFqtUqlkDAaDx+P5SiCRSOx2O6ZOpzMQCCQJUqlULpfLZrMYE4mE1+t1u921Wg0jo1AoPG63y+VyOByYI6rVarXZrt0ezy1BkOA7gc/nQ2acNBwO46QM5hzHpdPp+/t7hIcNI5lIIOcdAQwyS1IfLsdRf/AZnKperxcKhYaAx0qlUqvVR6PRD4LZbIaVQj5fLpebzWbjsVEulXHm6XSKKhgEWC6X89l8tVrN5/PJZALjjWC/32MsFIvdbvf19eeCALTFYol1JGei0Sh1OsaeYLfbwc7n84PB4BDrYKAQJhKJUKfjjWMbx+N5/r/IJ/lp5nfJwrFjsdh5cqlUepecyWQ+JheLxXPk7XZ7+EnHoEHPkfG3KflfUDIk0O/36fQ4KAQjkHu9HgTQbndw+51OB1rAB6kMh8MzmX+Tv/n9UqlUrVKjUSBs1mhEtygUSrTBZrPBlbRaLUgNsoOEEBHKg5yEq4J6Id14PBa/i6eoejkO9VCdQ7xwooLH3VADQC0gCpkHPP/88vL0/NTtdXl+8PYR/ookFAr1el30BMquVqvtVgvtgVapVB5wzhPNnYoEmYPBW1TLsiadTntzc22zWvEk6PUGbK/XaxRJm2w8Hk//AL0kZPb7/VAvaoMrad1EktgUKAxCQAKM2MJKhgCywyIjl8vxRKlUKrwhjiPgJcKjgZ9vMpmwpdPp1GrhOvDyKAlEItEv/6YygEP5amgAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/bfe98952691679cd400bca2daa253bd3/14b47/angular-communication-service.webp 293w,
/static/bfe98952691679cd400bca2daa253bd3/8a5f6/angular-communication-service.webp 450w&quot;
          sizes=&quot;(max-width: 450px) 100vw, 450px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/bfe98952691679cd400bca2daa253bd3/b6dd9/angular-communication-service.png 293w,
/static/bfe98952691679cd400bca2daa253bd3/cac3d/angular-communication-service.png 450w&quot;
          sizes=&quot;(max-width: 450px) 100vw, 450px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/bfe98952691679cd400bca2daa253bd3/cac3d/angular-communication-service.png&quot;
          alt=&quot;angular-communication-service&quot;
          title=&quot;angular-communication-service&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Nous avons maintenant plusieurs emplacements dans l‚Äôapplication qui devront acc√©der √† notre composant &lt;code&gt;sibe-bar&lt;/code&gt;. Voyons comment nous le faisons.&lt;/p&gt;
&lt;p&gt;Nous allons maintenant cr√©er &lt;code&gt;side-bar.service.ts&lt;/code&gt; donc nous aurons:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;side-bar.service.ts&lt;/li&gt;
&lt;li&gt;side-bar.component.ts&lt;/li&gt;
&lt;li&gt;side-bar.component.html&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Les services de la barre lat√©rale auront une m√©thode et un √©v√©nement √† changer pour que chaque composant qui injectera ce service puisse √™tre averti de l‚Äôouverture ou de la bascule d‚Äôun panneau.&lt;/p&gt;
&lt;p&gt;Dans cet exemple, aucun composant lat√©ral ni composant lat√©ral ne comporte de param√®tres d‚Äôentr√©e, car ils communiquent via le service.&lt;/p&gt;
&lt;p&gt;Maintenant le code:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-html line-numbers&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;app-side-bar-toggle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;app-side-bar-toggle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;app-side-bar&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;app-side-bar&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;app.component.html&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;@&lt;span class=&quot;token function&quot;&gt;Component&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  selector&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;app-side-bar-toggle&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  templateUrl&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./side-bar-toggle.component.html&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  styleUrls&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./side-bar-toggle.component.css&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SideBarToggleComponent&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; sideBarService&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; SideBarService&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  @&lt;span class=&quot;token function&quot;&gt;HostListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;click&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;click&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;sideBarService&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toggle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;side-bar-toggle.component.ts&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;@&lt;span class=&quot;token function&quot;&gt;Component&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  selector&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;app-side-bar&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  templateUrl&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./side-bar.component.html&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  styleUrls&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./side-bar.component.css&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SideBarComponent&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  @&lt;span class=&quot;token function&quot;&gt;HostBinding&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;class.is-open&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  isOpen &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; sideBarService&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; SideBarService&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;ngOnInit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;sideBarService&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;change&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;subscribe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;isOpen&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isOpen &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; isOpen&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;side-bar.component.ts&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;@&lt;span class=&quot;token function&quot;&gt;Injectable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SideBarService&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  isOpen &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  @&lt;span class=&quot;token function&quot;&gt;Output&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; change&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; EventEmitter&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;boolean&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;EventEmitter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;toggle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isOpen &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isOpen&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;change&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;emit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isOpen&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;side-bar.service.ts&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[Comment Gatsby √©volue avec votre expertise]]></title><description><![CDATA[De nombreux utilisateurs de Gatsby ne sont pas des professionnels de React ou n‚Äô√©taient pas des professionnels de React lorsqu‚Äôils ont‚Ä¶]]></description><link>https://ludovicwyffels.dev/gatsby-expertise/</link><guid isPermaLink="false">https://ludovicwyffels.dev/gatsby-expertise/</guid><pubDate>Sun, 05 May 2019 22:00:00 GMT</pubDate><content:encoded>&lt;p&gt;De nombreux utilisateurs de Gatsby ne sont pas des professionnels de React ou n‚Äô√©taient pas des professionnels de React lorsqu‚Äôils ont commenc√© √† utiliser Gatsby. Certains ont d√©j√† utilis√© d‚Äôautres frameworks. Certains connaissaient JavaScript. D‚Äôautres encore sont peut-√™tre enti√®rement nouveaux dans la programmation!&lt;/p&gt;
&lt;p&gt;Dans tous les cas de figure, cette personne poss√©dant une exp√©rience et une expertise disparates √©tait capable d‚Äôutiliser, d‚Äôappr√©cier et d‚Äôaimer utiliser Gatsby.&lt;/p&gt;
&lt;p&gt;Je suis moi-m√™me m√™me un exemple de cette id√©e d‚Äô√©chelle g√©n√©rale. J‚Äôai commenc√© ma carri√®re en tant que d√©veloppeur iOS et Node.js depuis plusieurs ann√©es. Au fur et √† mesure que mes comp√©tences se sont √©largies, elles se sont am√©lior√©es et √©tendues en ajoutant Angular, React, Gatsby √† ma cha√Æne d‚Äôoutils de pr√©dilection.&lt;/p&gt;
&lt;p&gt;Dans cet article, je souhaite expliquer comment Gatsby m‚Äôa amen√© √† apprendre React et comment votre projet Gatsby peut √©voluer en prenant en exemple mon site personnel et mon exp√©rience. Gatsby s‚Äôadapte parfaitement √† l‚Äôutilisation de React de base aux mod√®les React complexes, du Markdown de base au CMS ‚Äúheadless‚Äù - Gatsby adapte votre expertise et votre port√©e.&lt;/p&gt;
&lt;h2&gt;Les d√©buts&lt;/h2&gt;
&lt;p&gt;Lorsque j‚Äôai d√©couvert Gatsby pour la premi√®re fois il y a un peu moins de deux ans, React √©tait d√©j√† tr√®s populaire. J‚Äôai d√©cid√© de l‚Äôapprendre pour m‚Äôinvestir davantage dans le d√©veloppement front-end moderne. Auparavant, je travaillais sur des sites Web AngularJS, Angular.&lt;/p&gt;
&lt;h2&gt;Bouge rapidement et cassez des choses&lt;/h2&gt;
&lt;p&gt;Apr√®s avoir lanc√© mon site en Vue avec Vuepress, j‚Äôai continu√© √† apprendre React et Gatsby. Comme cela ne vous limite pas √† la fa√ßon dont vous pouvez utiliser React. J‚Äôai trait√© mon site web comme une exp√©rience. J‚Äôai exp√©riment√© de nouvelles techniques en React juste pour voir comment elles fonctionnaient. Gatsby a aussi beaucoup √† apprendre: GraphQL, gatsby-images, pour n‚Äôen nommer que quelques-uns.&lt;/p&gt;
&lt;p&gt;L‚Äô√©cosyst√®me de plug-ins riche de Gatsby m‚Äôa permis d‚Äôessayer facilement d‚Äôautres packages. J‚Äôai essay√© diff√©rentes approches de style, diff√©rentes sources de donn√©es, etc. La plupart des plug-ins fonctionnent sans configuration manuelle: installez le paquet, mettez-le dans votre configuration et voyez-le fonctionner - g√©nial!&lt;/p&gt;
&lt;p&gt;Au cours des derniers mois qui ont suivi, j‚Äôai vraiment progress√© rapidement et j‚Äôai bris√© des choses, mais j‚Äôai beaucoup appris au cours du processus. Le point important ici est que: Gatsby n‚Äôa jamais √©t√© le goulet d‚Äô√©tranglement ni la raison pour laquelle je ne pouvais pas essayer quelque chose.&lt;/p&gt;
&lt;h2&gt;Les motivations pour en savoir plus&lt;/h2&gt;
&lt;p&gt;J‚Äôai expliqu√© √† quel point l‚Äôexp√©rience d‚Äôapprentissage que j‚Äôavais v√©cue avec Gatsby √©tait bonne. Mais maintenant, je veux vous dire que retirer les choses difficiles (au d√©but) peut aussi √™tre une raison pour en apprendre plus.&lt;/p&gt;
&lt;p&gt;Pourquoi? Vous obtenez une introduction douce √† des sujets tels que GraphQL. Certaines restrictions peuvent √™tre g√™nantes dans certains cas extr√™mes, mais au d√©but, il est bon de n‚Äôavoir qu‚Äôune seule fa√ßon de faire les choses. Cela signifie que vous n‚Äôavez pas besoin de bien comprendre tous les m√©canismes pour avoir un site rapide ou GraphQL pour l‚Äôinterrogation des donn√©es - mais vous avez certainement une id√©e de la fa√ßon dont cela pourrait fonctionner √† la fin.&lt;/p&gt;
&lt;p&gt;Apr√®s avoir utilis√© Gatsby, beaucoup de gens disent: ‚ÄúWaouh, GraphQL pour l‚Äôinterrogation de donn√©es est tellement g√©nial, je ne veux pas le manquer!‚Äù Et je dirais que ces personnes vont certainement essayer d‚Äôint√©grer GraphQL dans leurs autres projets par la suite.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9140fb73e84257bf363b3adaaf856403/8f529/venn-learn.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABZElEQVQoz41SSU/CUBDmf3swnrx4IG4HNpdEEQTXg6HGiMvBg6gFQhSbQuMC0paW0lLoWz6LJIS6EL/DvJd537yZ+WZC+AOkar6nisZB1RVVr6Ax1aWvtm/B+ZgTGh1jh/80vMt2Y1VsRUvNSKm3JkFxA6RvwZMYcs61erR0Fy84Sakeu/DOlImPg8EuR2UAk6HP0WUQCE5y2mVCqSYVpAskfgjhGOQenPyS2WA4dVDz8EZw5GKhRTfLtrDREJYf9JU0EnvuXbbT2e45xWCLwbL9zHEH4bq1pA+2ZG83la9kUpD2pduUWD40OwJA+c+eR64Bx7qDxXY/YpMIxZb1oFg7YEdaK3dzI8DNfxMtFNAJEAlmH19mxOqcrGUsU29mxet5SQxrLzGv+8yoz2PT1H6y3ZzWvWrbvnhkYLwrl0bz2us3tY+WKteg6lRvj6Ydwr/BOKeEgDFO6bQ588Da8F/24wufqtFqPXz7LwwAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/9140fb73e84257bf363b3adaaf856403/14b47/venn-learn.webp 293w,
/static/9140fb73e84257bf363b3adaaf856403/91928/venn-learn.webp 585w,
/static/9140fb73e84257bf363b3adaaf856403/384f8/venn-learn.webp 1170w,
/static/9140fb73e84257bf363b3adaaf856403/43d96/venn-learn.webp 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/9140fb73e84257bf363b3adaaf856403/b6dd9/venn-learn.png 293w,
/static/9140fb73e84257bf363b3adaaf856403/037e5/venn-learn.png 585w,
/static/9140fb73e84257bf363b3adaaf856403/0f291/venn-learn.png 1170w,
/static/9140fb73e84257bf363b3adaaf856403/8f529/venn-learn.png 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/9140fb73e84257bf363b3adaaf856403/0f291/venn-learn.png&quot;
          alt=&quot;venn learn&quot;
          title=&quot;venn learn&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Le diagramme de Venn tente de montrer comment l‚Äôexemple ci-dessus peut √©galement √™tre appliqu√© √† d‚Äôautres technologies/outils utilis√©es par Gatsby. En plus de GraphQL, j‚Äôai choisi React, CMS headless et les performances g√©n√©rales du site Web.&lt;/p&gt;
&lt;p&gt;Vous pouvez essayer diff√©rents frameworks / composants React, apprendre √† configurer votre propre serveur GraphQL ou am√©liorer les performances de votre site Web. CMS headless est un autre domaine tr√®s int√©ressant √† explorer. Et c‚Äôest ce que j‚Äôai fait. J‚Äôai utilis√© Next.js avec Apollo et d‚Äôautres biblioth√®ques g√©niales, Prisma pour configurer mon propre serveur GraphQL et optimis√© les performances de mon site Web (optimisation des polices, par exemple).&lt;/p&gt;
&lt;p&gt;R√©sultat: Mes projets Gatsby peuvent b√©n√©ficier des connaissances acquises!&lt;/p&gt;
&lt;h2&gt;Derni√®res pens√©es&lt;/h2&gt;
&lt;p&gt;Les applications monolithiques du CMS sont en train d‚Äô√™tre remplac√©es par des syst√®mes de contenu sp√©cialis√©s, comme Sam Bhagwat l‚Äôavait d√©j√† √©crit dans sa s√©rie &lt;a href=&quot;https://www.gatsbyjs.org/blog/2018-10-04-journey-to-the-content-mesh/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;‚ÄúDelivering Modern Website Experiences: The Journey to a Content Mesh‚Äù&lt;/a&gt;. Gatsby embrasse cette modularit√© avec son vaste √©cosyst√®me de plug-ins et la possibilit√© d‚Äôapporter vos propres donn√©es depuis n‚Äôimporte o√π. C‚Äôest cette modularit√© qui permet non seulement aux professionnels d‚Äôutiliser leurs services, techniques et pratiques avanc√©s pr√©f√©r√©s, mais √©galement aux d√©butants de se familiariser avec les √©cosyst√®mes et les normes React et GraphQL. Gatsby est une &lt;strong&gt;plate-forme incroyable&lt;/strong&gt; pour acqu√©rir une compr√©hension et une expertise dans les deux domaines. Commencez petit et d√©veloppez votre expertise et votre compr√©hension avec Gatsby.&lt;/p&gt;
&lt;p&gt;En outre, c‚Äôest √©galement une excellente plate-forme pour apprendre d‚Äôautres technologies et voir les optimisations de performances Web en direct. Sans √™tre emp√™tr√© dans une complexit√© de bas niveau, vous pouvez construire votre stack (pile) et vos connaissances sur une base solide et performante, ce qui rend Gatsby parfait pour votre passe-partout (boilerplate) React.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Push notification]]></title><description><![CDATA[Dans le pass√©, vous avez peut-√™tre utilis√© des notifications dans votre programme en utilisant quelque chose comme PubNub ou pusher ou un‚Ä¶]]></description><link>https://ludovicwyffels.dev/node-push-notification/</link><guid isPermaLink="false">https://ludovicwyffels.dev/node-push-notification/</guid><pubDate>Sat, 04 May 2019 20:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Dans le pass√©, vous avez peut-√™tre utilis√© des notifications dans votre programme en utilisant quelque chose comme PubNub ou pusher ou un autre service tiers.
Mais ce module, &lt;a href=&quot;https://github.com/web-push-libs/web-push&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;web-push&lt;/a&gt;, nous permet de le faire sans l‚Äôaide de l‚Äôun de ces services tiers.&lt;/p&gt;
&lt;p&gt;Avez-vous d√©j√† entendu parler de &lt;strong&gt;service worker&lt;/strong&gt;? Si vous ne connaissez pas ce qu‚Äôest une progressive web apps, il y a peu de chance que le terme de service worker vous parle&lt;/p&gt;
&lt;h2&gt;D√©finition d‚Äôun service worker&lt;/h2&gt;
&lt;p&gt;Les service workers jouent essentiellement le r√¥le de serveurs proxy plac√©s entre une application web, et le navigateur ou le r√©seau (lorsque disponible.) Ils sont destin√©s (entre autres choses) √† permettre la cr√©ation d‚Äôexp√©riences de navigation d√©connect√©e efficaces, en interceptant les requ√™tes r√©seau et en effectuant des actions appropri√©es selon que le r√©seau est disponible et que des ressources mises √† jour sont √† disposition sur le serveur. Ils permettront aussi d‚Äôacc√©der aux APIs de notifications du serveur (push) et de synchronisation en arri√®re-plan.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 694px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/79230e921f88318b2fdfc6f0b4da7472/82635/service-worker.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 48.847262247838614%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABlklEQVQoz31SSYoCQRCs/wleFPEN3vUZik8Ql4OCKILgRRBUPCjuG664oIK74q4xREI77cwwCUl3ZUVFVUSmOh6PmE6nmEwmWK/X+C/a7Tbi8TharZasX6+XpD5ULpdDKBSC3+9HNBrF5XL5lafTScA+nw8ulwtutxuz2Uxqz+fzg1T1ej0Mh0MMBgPU63V55eFwwH6//0iSxmIxOVQul1EqlT4INVLV7/dFwmg0QrPZxPV6/VMuCakglUohHA6j0+m8CfXy1WKxQD6fRyaTERnai263GzabjUjmmv8kKRaLoE3z+fxN9ng8viXf73cB85VsEINNcjgcsNlssNvtGI/HUqcdy+USq9UKu91OapFIBB6PR87zAvWXPHpqMplgMBhgsVjE25/yGLSJ8r1eL5xOp5xTmnYNzKAcs9kMo9EIq9UqQL1P+s4GAgEkk0nUajWxRulv3G63Ip9dpqfBYBCJREJqlHo+n99Yful/t9tFNpsVm2jFByFHh5scCw5xtVqVrFQqSKfTsq/HFwoFaRDxjUZD1l/ypNjpCfgKGwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/79230e921f88318b2fdfc6f0b4da7472/14b47/service-worker.webp 293w,
/static/79230e921f88318b2fdfc6f0b4da7472/91928/service-worker.webp 585w,
/static/79230e921f88318b2fdfc6f0b4da7472/2aac6/service-worker.webp 694w&quot;
          sizes=&quot;(max-width: 694px) 100vw, 694px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/79230e921f88318b2fdfc6f0b4da7472/b6dd9/service-worker.png 293w,
/static/79230e921f88318b2fdfc6f0b4da7472/037e5/service-worker.png 585w,
/static/79230e921f88318b2fdfc6f0b4da7472/82635/service-worker.png 694w&quot;
          sizes=&quot;(max-width: 694px) 100vw, 694px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/79230e921f88318b2fdfc6f0b4da7472/82635/service-worker.png&quot;
          alt=&quot;service worker&quot;
          title=&quot;service worker&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Plus d‚Äôinformation sur son fonctionnement sur :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;un &lt;a href=&quot;https://medium.com/samsung-internet-dev/a-beginners-guide-to-service-workers-f76abf1960f6&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;guide pour d√©butant&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;la &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;documentation de mozilla&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Le service worker fonctionne avec les derni√®res versions de Chrome et Firefox, je ne crois pas que Edge le support encore. Mais ce n‚Äôest pas grave puisque Edge va bient√¥t changer son moteur pour Chromium.&lt;/p&gt;
&lt;h2&gt;Module &lt;code&gt;web-push&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;Commen√ßons un nouveau projet en installant les d√©pendances&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; init -y
&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; i web-push express body-parser&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Cr√©ons un fichier index.js&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; express &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;express&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; webpush &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;web-push&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; bodyParser &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;body-parser&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; path &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;path&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; app &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;express&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;bodyParser&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nous avons besoin de g√©n√©rer des cl√©s, pour se faire:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sh&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sh line-numbers&quot;&gt;&lt;code class=&quot;language-sh&quot;&gt;./node_modules/.bin/web-push generate-vapid-keys&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ou &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sh&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sh line-numbers&quot;&gt;&lt;code class=&quot;language-sh&quot;&gt;npm install web-push -g
web-push generate-vapid-keys&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Vous obtenez une paire de cl√©s priv√©es/public comme ceux-ci:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;=======================================

Public Key:
BCaNVf9IEdCkrBvkwk5P48lnc8LlbFlW1VlmEB3D3BjDll1jTIZ6wCMPDF_360Veqe_lhasd7PmhBUKrSGsEOpQ

Private Key:
CdYF_enPzI0y9n1bHdy2NQqmtdvaEhJkKpI6IpPHaAQ

=======================================&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;On va les utiliser tout de suite&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* index.js */&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; publicVapidKey &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;BCaNVf9IEdCkrBvkwk5P48lnc8LlbFlW1VlmEB3D3BjDll1jTIZ6wCMPDF_360Veqe_lhasd7PmhBUKrSGsEOpQ&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; privateVapidKey &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;CdYF_enPzI0y9n1bHdy2NQqmtdvaEhJkKpI6IpPHaAQ&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

webpush&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setVapidDetails&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;mailto:test@test.com&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  publicVapidKey&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  privateVapidKey
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Subscribe Route&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/subscribe&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// Get pushSubscription object&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; subscription &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;body&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// Send 201 - resource created&lt;/span&gt;
  res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;201&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// Create payload&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; payload &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; title&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Push Test&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// Pass object into sendNotification&lt;/span&gt;
  webpush
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;sendNotification&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;subscription&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; payload&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; port &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;listen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;port&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;Server started on port &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;port&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Il nous reste a configurer un dossier statique, en ajoutant la ligne suivante dans notre fichier &lt;code&gt;index.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Set static path&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;express&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;static&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__dirname&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;client&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Red√©marrer le serveur.&lt;/p&gt;
&lt;p&gt;Cr√©er le dossier &lt;code&gt;client&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;client/index.html&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-html line-numbers&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token doctype&quot;&gt;&amp;lt;!DOCTYPE html&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;html&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;lang&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;en&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;head&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;charset&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;UTF-8&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;viewport&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;width=device-width, initial-scale=1.0&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;meta&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;http-equiv&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;X-UA-Compatible&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;ie=edge&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Push Notifications Using Node&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;head&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Push Notifications Using Node&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;client.js&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;client/client.js&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; publicVapidKey &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;BCaNVf9IEdCkrBvkwk5P48lnc8LlbFlW1VlmEB3D3BjDll1jTIZ6wCMPDF_360Veqe_lhasd7PmhBUKrSGsEOpQ&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Check for service worker&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;serviceWorker&quot;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; navigator&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;send&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Register Service Worker, Register Push, Send Push&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;send&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// Register Service Worker&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Registering service worker...&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; register &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; navigator&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;serviceWorker&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;register&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/worker.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    scope&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Service Worker Registered...&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// Register Push&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Registering Push...&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; subscription &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; register&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;pushManager&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;subscribe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    userVisibleOnly&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    applicationServerKey&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;urlBase64ToUint8Array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;publicVapidKey&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Push Registered...&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// Send Push Notification&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Sending Push...&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fetch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/subscribe&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    method&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;POST&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    body&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;subscription&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    headers&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&quot;content-type&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;application/json&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Push Sent...&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;urlBase64ToUint8Array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;base64String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; padding &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;=&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;repeat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; base64String&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; base64 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;base64String &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; padding&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token regex&quot;&gt;/\-/g&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;+&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token regex&quot;&gt;/_/g&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; rawData &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;atob&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;base64&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; outputArray &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Uint8Array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;rawData&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; rawData&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    outputArray&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; rawData&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;charCodeAt&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; outputArray&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Dans le service Worker, nous allons juste √©couter les √©v√©nements &lt;code&gt;push&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;client/worker.js&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Service Worker Loaded...&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;push&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Push Recieved...&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;registration&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;showNotification&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;title&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    body&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Notified by my app :)&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    icon&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://design.firefox.com/photon/images/product-identity-assets/firefox.png&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ouvrer dans votre navigateur Chrome/Firefox, l‚ÄôURL &lt;a href=&quot;http://localhost:5000&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;localhost:5000&lt;/a&gt;, vous devriez avoir une popup vous demandant d‚Äôautoriser ou non les notifications&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Angular DevOps: CT/CI avec Travis CI et Github Pages]]></title><description><![CDATA[Cet article explique comment utiliser Travis CI pour surveiller les modifications apport√©es √† la branche principale de notre r√©f√©rentiel‚Ä¶]]></description><link>https://ludovicwyffels.dev/angular-travis-ctci/</link><guid isPermaLink="false">https://ludovicwyffels.dev/angular-travis-ctci/</guid><pubDate>Mon, 29 Apr 2019 08:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Cet article explique comment utiliser Travis CI pour surveiller les modifications apport√©es √† la branche principale de notre r√©f√©rentiel GitHub . Nous allons configurer Travis CI de mani√®re √† ce que lors de la mise en place d‚Äôun nouveau commit pour notre application Angular, celui-ci:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ex√©cuter le linter&lt;/li&gt;
&lt;li&gt;Lancer nos tests unitaires&lt;/li&gt;
&lt;li&gt;Lancer nos tests E2E&lt;/li&gt;
&lt;li&gt;Construire notre application pour la production&lt;/li&gt;
&lt;li&gt;D√©ploy√© vers GitHub Pages&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;D√©finitions&lt;/h2&gt;
&lt;h3&gt;Test continu (CT)&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Les &lt;a href=&quot;https://en.wikipedia.org/wiki/Continuous_testing&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;tests continus&lt;/a&gt;&lt;/strong&gt; consistent √† ex√©cuter des tests automatis√©s dans le cadre du pipeline de livraison de logiciels pour obtenir un retour imm√©diat sur les risques commerciaux associ√©s √† une version candidate du lociel.&lt;/p&gt;
&lt;h3&gt;Int√©gration Continue (CI)&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;L‚Äô&lt;a href=&quot;https://en.wikipedia.org/wiki/Continuous_integration&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;int√©gration continue&lt;/a&gt;&lt;/strong&gt; est un ensemble de pratiques utilis√©es en g√©nie logiciel consistant √† v√©rifier √† chaque modification de code source que le r√©sultat des modifications ne produit pas de r√©gression dans l‚Äôapplication d√©velopp√©e.&lt;/p&gt;
&lt;h3&gt;En pratique&lt;/h3&gt;
&lt;p&gt;Ok, ces d√©finitions sont bien. Mais, en pratique, qu‚Äôest-ce qu‚Äôils signifient vraiment? Pour les besoins de cet article, je vais utiliser des d√©finitions similaires, mais tr√®s pragmatiques et sp√©cifiques:&lt;/p&gt;
&lt;h3&gt;CT&lt;/h3&gt;
&lt;p&gt;Nos tests sont ex√©cut√©s automatiquement avant chaque d√©ploiement. Et notre code ne sera pas d√©ploy√© si des tests √©chouent.&lt;/p&gt;
&lt;h3&gt;CI&lt;/h3&gt;
&lt;p&gt;Transf√©rer des modifications dans une branche sp√©cifique de notre repo GitHub lance un processus de d√©ploiement automatis√©.&lt;/p&gt;
&lt;h2&gt;Cr√©er une application Angular&lt;/h2&gt;
&lt;p&gt;Pour commencer, cr√©ez une nouvelle application Angular en utilisant &lt;em&gt;Angular CLI&lt;/em&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;ng new travis-demo
&lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; travis-demo
ng serve&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Aller sur: &lt;a href=&quot;http://localhost:4200&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;http://localhost:4200&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;GitHub&lt;/h2&gt;
&lt;p&gt;Cr√©er un nouveau repo GitHub: &lt;code&gt;travis-demo&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Nous devons maintenant ajouter le repo GitHub en tant que distant de notre repo Git local. Vous devrez peut-√™tre d‚Äôabord vous engager si vous avez effectu√© des mises √† jour.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; commit -am &lt;span class=&quot;token string&quot;&gt;&quot;initial&quot;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; remote &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt; origin https://github.com/ludovicwyffels/travis-demo.git
&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; push -u origin master&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Assurez-vous de remplacer &lt;strong&gt;ludovicwyffels&lt;/strong&gt; par votre propre identifiant GitHub.&lt;/p&gt;
&lt;h2&gt;Travis CI&lt;/h2&gt;
&lt;p&gt;Inscrivez-vous √† &lt;a href=&quot;https://travis-ci.org/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Travis CI&lt;/a&gt; en utilisant votre compte GitHub.&lt;/p&gt;
&lt;p&gt;Acc√©dez √† votre profil pour voir la liste des repos.&lt;/p&gt;
&lt;p&gt;Si vous avez d√©j√† un compte, vous devrez utiliser le bouton &lt;strong&gt;Sync account&lt;/strong&gt; pour que votre nouveau repo apparaisse dans la liste. De plus, vous devrez peut-√™tre utiliser le filtre pour voir r√©ellement votre repo si vous en avez beaucoup.&lt;/p&gt;
&lt;p&gt;Vous pouvez cliquer sur le bouton Param√®tres √† droite du repo.&lt;/p&gt;
&lt;h2&gt;Ajouter une configuration Travis CI&lt;/h2&gt;
&lt;p&gt;Afin de dire √† Travis CI de faire quelque chose avec notre repo, nous devons ajouter un fichier de configuration Travis CI.&lt;/p&gt;
&lt;p&gt;Cr√©ez un fichier √† la racine de votre espace de travail appel√© &lt;code&gt;.travis.yml&lt;/code&gt; avec le contenu suivant:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yml&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-yml line-numbers&quot;&gt;&lt;code class=&quot;language-yml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;language&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; node_js
&lt;span class=&quot;token key atrule&quot;&gt;node_js&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;10&quot;&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;dist&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; trusty
&lt;span class=&quot;token key atrule&quot;&gt;sudo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; required
&lt;span class=&quot;token key atrule&quot;&gt;branches&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;only&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; master
&lt;span class=&quot;token key atrule&quot;&gt;before_script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; npm install &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;g @angular/cli
&lt;span class=&quot;token key atrule&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; ng lint
&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; ng build &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;prod &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;base&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;href https&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;//ludovicwyffels.github.io/travis&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;demo/&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Pour le &lt;code&gt;--base-ref&lt;/code&gt; vous devrez utiliser votre propre identifiant GitHub.&lt;/p&gt;
&lt;p&gt;Ce fichier indique √† Travis CI de proc√©der comme suit:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Utilisez Node.js&lt;/li&gt;
&lt;li&gt;Surveillez uniquement la branche principale pour conna√Ætre les modifications.&lt;/li&gt;
&lt;li&gt;Avant d‚Äôex√©cuter l‚Äôun des scripts, installez &lt;strong&gt;Angular CLI&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Assurez-vous que l‚Äôapplication respecte nos r√®gles en mati√®re de linting utilisant &lt;code&gt;ng lint&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Construisez notre application en utilisant &lt;code&gt;ng build&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Apr√®s avoir ajout√© le fichier de configuration Travis CI, commiter et pousser.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt; .travis.yml
&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; commit -am &lt;span class=&quot;token string&quot;&gt;&quot;Travis CI configuration&quot;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; push&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Apr√®s avoir effectu√© cette op√©ration, passez au &lt;strong&gt;tableau de bord Travis CI&lt;/strong&gt; pour afficher le journal Travis CI au fur et √† mesure de la cr√©ation de votre application. Vous devrez peut-√™tre cliquer sur l‚Äôonglet &lt;strong&gt;Current&lt;/strong&gt; pour le voir se d√©velopper. √Ä l‚Äôextr√™me droite du journal, vous pouvez cliquer sur &lt;strong&gt;Follow log&lt;/strong&gt; pour faciliter l‚Äôaffichage du journal mis √† jour.&lt;/p&gt;
&lt;p&gt;Une fois que Travis CI a termin√© notre script et cr√©√© l‚Äôapplication, vous verrez l‚Äôic√¥ne virer au vert pour vous informer que votre script s‚Äôest termin√© avec succ√®s.&lt;/p&gt;
&lt;h2&gt;Test continu&lt;/h2&gt;
&lt;p&gt;Maintenant que nous avons cr√©√© nos applications, allons dans le monde des &lt;strong&gt;tests continus&lt;/strong&gt; en laissant &lt;strong&gt;Travis CI&lt;/strong&gt; ex√©cuter nos &lt;strong&gt;tests unitaires&lt;/strong&gt; √† chaque nouveau commit.&lt;/p&gt;
&lt;p&gt;Malheureusement, nous ne pouvons pas simplement &lt;code&gt;npm run test&lt;/code&gt; sur Travis CI. En effet, nous ne pouvons pas r√©ellement lancer une interface graphique de navigateur. Nous allons donc utiliser &lt;strong&gt;Headless Chrome&lt;/strong&gt; pour ex√©cuter nos tests unitaires.&lt;/p&gt;
&lt;p&gt;Suivez les instructions pour cr√©er un nouveau script npm comme celui-ci:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;quot;test-headless&amp;quot;: &amp;quot;ng test --watch=false --browsers=ChromeHeadless&amp;quot;undefined&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nous pouvons maintenant ex√©cuter nos tests unitaires en utilisant Headless Chrome comme ceci:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; run test-headless&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Maintenant, ajouter &lt;code&gt;npm run test-headless&lt;/code&gt; √† notre fichier &lt;strong&gt;.travis.yml&lt;/strong&gt; dans la section script comme ceci:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yml&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-yml line-numbers&quot;&gt;&lt;code class=&quot;language-yml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; ng lint
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; npm run test&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;headless
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; ng build &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;prod &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;base&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;href https&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;//ludovicwyffels.github.io/travis&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;demo/&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Commiter et push sur GitHub:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt; .travis
&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; commit -am &lt;span class=&quot;token string&quot;&gt;&quot;Added unit for Travis CI using Headless Chrome&quot;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; push&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Apr√®s avoir pusher, passez au tableau de bord Travis CI pour regarder votre projet ex√©cuter les tests unitaires, puis faire le build.&lt;/p&gt;
&lt;h2&gt;Int√©gration continue&lt;/h2&gt;
&lt;p&gt;Maintenant que nous testons et buildons, nous souhaitons d√©ployer notre application.&lt;/p&gt;
&lt;p&gt;Nous devons cr√©er un jeton d‚Äôacc√®s personnel GitHub. Suivez &lt;a href=&quot;https://help.github.com/en/articles/creating-a-personal-access-token-for-the-command-line&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;ces instructions.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Dans le tableau de bord Travis CI, acc√©dez √† votre projet. En haut √† droite, cliquez sur &lt;strong&gt;Param√®tres&lt;/strong&gt;. Faites d√©filer jusqu‚Äô√† la section &lt;strong&gt;Variables d‚Äôenvironnement&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Ajoutez une nouvelle variable d‚Äôenvironnement nomm√©e: &lt;code&gt;GITHUB_TOKEN&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Pour la valeur, collez la valeur r√©elle de votre jeton d‚Äôacc√®s personnel GitHub que vous avez g√©n√©r√©. Cliquez sur &lt;strong&gt;Ajouter&lt;/strong&gt;.&lt;/p&gt;
&lt;h2&gt;D√©ploiement sur les pages GitHub&lt;/h2&gt;
&lt;p&gt;Enfin, configurons Travis CI pour le d√©ploiement sur GitHub Pages.&lt;/p&gt;
&lt;p&gt;Ajoutez une section de d√©ploiement √† votre &lt;strong&gt;.travis.yml&lt;/strong&gt;. A ce stade, votre fichier devrait resembler √† ceci:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yml&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-yml line-numbers&quot;&gt;&lt;code class=&quot;language-yml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;language&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; node_js
&lt;span class=&quot;token key atrule&quot;&gt;node_js&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;10&quot;&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;dist&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; trusty
&lt;span class=&quot;token key atrule&quot;&gt;sudo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; required
&lt;span class=&quot;token key atrule&quot;&gt;branches&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;only&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; master
&lt;span class=&quot;token key atrule&quot;&gt;before_script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; npm install &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;g @angular/cli
&lt;span class=&quot;token key atrule&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; ng lint
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; npm run test&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;headless
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; ng build &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;prod &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;base&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;href https&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;//ludovicwyffels.github.io/travis&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;demo/
&lt;span class=&quot;token key atrule&quot;&gt;deploy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;provider&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; pages
  &lt;span class=&quot;token key atrule&quot;&gt;skip_cleanup&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean important&quot;&gt;true&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;github_token&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; $GITHUB_TOKEN
  &lt;span class=&quot;token key atrule&quot;&gt;local_dir&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; dist/travis&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;demo
  &lt;span class=&quot;token key atrule&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;branch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; master&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Encore une fois, assurez-vous que vous utilisez &lt;strong&gt;votre propre identifiant GitHub&lt;/strong&gt; au lien de ludovicwyffels.&lt;/p&gt;
&lt;p&gt;Ceci indique √† Travis CI d‚Äôutiliser notre jeton GitHub √† partir de la variable d‚Äôenvironnement: &lt;code&gt;GITHUB_TOKEN&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;En outre, il sp√©cifie que les fichiers √† d√©ployer proviennent de notre dossier &lt;strong&gt;dist&lt;/strong&gt;: &lt;code&gt;dist/travis-demo&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Engagez-vous et appuyez sur GitHub:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; commit -am &lt;span class=&quot;token string&quot;&gt;&quot;Deploy to GitHub pages&quot;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; push&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nous devrions √©galement pouvoir acc√©der √† l‚ÄôURL de nos pages GitHub et voir notre application d√©ploy√©e.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;https://ludovicwyffels.github.io/travis-demo/&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Comment √©crire des applications Node.js en TypeScript]]></title><description><![CDATA[Depuis que j‚Äôai d√©couvert TypeScript, je l‚Äôutilise pour toutes mes applications JavaScript. Il y a tellement d‚Äôavantages √† utiliser‚Ä¶]]></description><link>https://ludovicwyffels.dev/node-typescript/</link><guid isPermaLink="false">https://ludovicwyffels.dev/node-typescript/</guid><pubDate>Sat, 27 Apr 2019 08:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Depuis que j‚Äôai d√©couvert TypeScript, je l‚Äôutilise pour toutes mes applications JavaScript. Il y a tellement d‚Äôavantages √† utiliser TypeScript que vous aurez besoin d‚Äôun argument convaincant pour me permettre d‚Äô√©crire quoi que ce soit en JavaScript Vanilla.&lt;/p&gt;
&lt;p&gt;Dans cet article, je vais vous montrer comment configurer un environnement de d√©veloppement simple pour √©crire une application Node.js en TypeScript.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Permettez-moi de commencer par dire qu‚Äôil existe probablement un millier de fa√ßons diff√©rentes de cr√©er des applications Node.js en TypeScript. Je vais juste montrer la fa√ßon dont j‚Äôaime le faire moi-m√™me.&lt;/p&gt;
&lt;p&gt;Si vous n‚Äôavez pas envie de lire tout cet article, vous pouvez trouver mon projet de d√©marrage ici: &lt;a href=&quot;https://github.com/toxsickcoder/node-typescript-starter&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://github.com/toxsickcoder/node-typescript-starter&lt;/a&gt; . Il contient des fonctionnalit√©s suppl√©mentaires dont nous ne discuterons pas dans cet article.&lt;/p&gt;
&lt;h2&gt;Package.json&lt;/h2&gt;
&lt;p&gt;Comme je l‚Äôai d√©j√† dit, il y a beaucoup de fa√ßons diff√©rentes de le faire. J‚Äôaime utiliser Webpack pour mes projets TypeScript. Commen√ßons par cr√©er un &lt;code&gt;package.json&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Vous pouvez g√©n√©rer un &lt;code&gt;package.json&lt;/code&gt; √† l‚Äôaide de la commande &lt;code&gt;npm init&lt;/code&gt; ou copier-coller le code ci-dessous et le modifier.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-json line-numbers&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// package.json&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;node-typescript&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;0.0.1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;author&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Ludovic Wyffels&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;license&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;MIT&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;scripts&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;dependencies&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;devDependencies&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Commen√ßons par une simple configuration Webpack pour un projet JavaScript Node.js. Apr√®s avoir termin√© la configuration de base, j‚Äôajouterai TypeScript.&lt;/p&gt;
&lt;h2&gt;L‚Äôapplication&lt;/h2&gt;
&lt;p&gt;Comme mentionn√© pr√©c√©demment, nous allons commencer par une application JavaScript, puis convertir celle-ci en TypeScript. Cr√©ons un r√©pertoire &lt;code&gt;src/&lt;/code&gt; avec un &lt;code&gt;main.js&lt;/code&gt; et &lt;code&gt;information-logger.js&lt;/code&gt; avec certaines fonctionnalit√©s de Node.js:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// src/information-logger.js&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; os &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;os&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; version&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;../package.json&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;logApplicationInformation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      application&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        version&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;logSystemInformation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      system&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        platform&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;platform&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        cpus&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; os&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;cpus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// src/main.js&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; informationLogger &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./information-logger&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
informationLogger&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;logApplicationInformation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
informationLogger&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;logSystemInformation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ce script de base enregistre certaines informations d‚Äôapplication et syst√®me sur la console. Je peux voir la sortie suivante apr√®s avoir ex√©cut√© le &lt;code&gt;node main.js&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{ application: { name: &amp;#39;node-typescript&amp;#39;undefined version: &amp;#39;0.0.1&amp;#39; } }
{ system: { platform: &amp;#39;linux&amp;#39;undefined cpus: 8 } }&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Webpack&lt;/h2&gt;
&lt;p&gt;La premi√®re chose √† faire avant d‚Äôutiliser Webpack est d‚Äôinstaller les d√©pendances n√©cessaires. N‚Äôoubliez pas d‚Äôutiliser l‚Äôindicateur &lt;code&gt;-D&lt;/code&gt; car il s‚Äôagit de devDependencies.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; i -D webpack webpack-cli&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Vous avez peut-√™tre remarqu√© que je n‚Äôai pas install√© &lt;em&gt;webpack-dev-server&lt;/em&gt;. C‚Äôest parce que nous cr√©ons une application Node.js. Plus tard, je vais utiliser nodemon qui a le m√™me objectif.&lt;/p&gt;
&lt;h3&gt;webpack.config.js&lt;/h3&gt;
&lt;p&gt;La prochaine √©tape consiste √† cr√©er un fichier &lt;code&gt;webpack.config.js&lt;/code&gt; o√π nous indiquerons √† Webpack comment il doit traiter notre code.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// webpack.config.js&lt;/span&gt;
&lt;span class=&quot;token string&quot;&gt;&apos;use strict&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;env &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; config &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    entry&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./src/main.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    mode&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;development &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;development&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;production&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    target&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;node&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    devtool&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;development &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;cheap-eval-source-map&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; config&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Comme vous pouvez le constater, il ne faut pas grand-chose pour commencer avec Webpack. Les deux seules options requises sont &lt;em&gt;entry&lt;/em&gt; et &lt;em&gt;target&lt;/em&gt;. Nous d√©clarons notre point d‚Äôentr√©e √† l‚Äôaide du champ &lt;em&gt;entry&lt;/em&gt; et nous informons Webpack que nous travaillons dans Node.js avec le champ &lt;em&gt;target&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Nous pouvons utiliser le champ &lt;em&gt;mode&lt;/em&gt; pour indiquer √† Webpack qu‚Äôil doit se concentrer sur la vitesse de compilation (d√©veloppement), ou sur l‚Äôobfuscation et la minification (production). Pour faciliter le d√©bogage, nous utilisons le champ &lt;em&gt;devtool&lt;/em&gt; pour indiquer que nous voulons des &lt;em&gt;sources maps&lt;/em&gt; si nous nous ex√©cutons en d√©veloppement. De cette fa√ßon, s‚Äôil y a une erreur, nous pouvons facilement trouver l‚Äôendroit o√π elle s‚Äôest produite dans notre code.&lt;/p&gt;
&lt;p&gt;Pour utiliser Webpack, nous allons cr√©er quelques commandes npm:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-json line-numbers&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// package.json&lt;/span&gt;
...  
  &lt;span class=&quot;token property&quot;&gt;&quot;scripts&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;start&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;webpack --progress --env.development&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;start:prod&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;webpack --progress&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
...&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nous pouvons maintenant construire notre application en ex√©cutant l‚Äôune ou l‚Äôautre de ces commandes. Il cr√©era un r√©pertoire &lt;code&gt;dist/&lt;/code&gt; avec le fichier de sortie &lt;code&gt;main.js&lt;/code&gt; √† l‚Äôint√©rieur.&lt;/p&gt;
&lt;p&gt;Notre projet devrait ressembler √† ceci maintenant:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;dist/
  main.js
node_modules/
src/
  information_logger.js
  main.js
package-lock.json
package.json
webpack.config.js&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;nodemon&lt;/h3&gt;
&lt;p&gt;Vous avez peut-√™tre remarqu√© qu‚Äôapr√®s l‚Äôex√©cution d‚Äôune commande de d√©marrage, Webpack s‚Äôarr√™te apr√®s la construction de l‚Äôapplication. Il ne surveille pas les modifications de fichiers que nous apportons. Et puisque nous travaillons avec Node.js, nous ne pouvons pas utiliser le serveur &lt;code&gt;webpack-dev-server&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Heureusement, nous pouvons utiliser &lt;strong&gt;nodemon&lt;/strong&gt; pour r√©soudre ce probl√®me. C‚Äôest un outil sp√©cialement con√ßu √† cet effet: red√©marrer les applications Node.js pendant le d√©veloppement.&lt;/p&gt;
&lt;p&gt;Commen√ßons par installer le &lt;em&gt;nodemon-webpack-plugin&lt;/em&gt;. N‚Äôoubliez pas le flag &lt;code&gt;-D&lt;/code&gt; car c‚Äôest une devDependency.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; i -D nodemon-webpack-plugin&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Cr√©ons un nouveau flag &lt;em&gt;nodemon&lt;/em&gt; et ajoutons le plug-in √† notre fichier &lt;code&gt;webpack.config.js&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// webpack.config.js&lt;/span&gt;
&lt;span class=&quot;token string&quot;&gt;&apos;use strict&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; NodemonPlugin &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;nodemon-webpack-plugin&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;env &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; config &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    entry&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./src/main.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    mode&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;development &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;development&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;production&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    target&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;node&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    devtool&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;development &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;cheap-eval-source-map&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;  
    resolve&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// tells Webpack what files to watch.&lt;/span&gt;
      modules&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;node_modules&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;src&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;package.json&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;   
    plugins&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// required for config.plugins.push(...);&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nodemon&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    config&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;watch &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    config&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;plugins&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;NodemonPlugin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; config&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lorsque nous passerons le flag nodemon, nous d√©finirons la configuration de la surveillance Webpack et nous ajouterons le plug-in nodemon . La configuration de la surveillance Webpack reconstruira l‚Äôapplication lorsque nous modifierons un fichier. Le plug-in nodemon red√©marrera l‚Äôapplication une fois la reconstruction termin√©e.&lt;/p&gt;
&lt;p&gt;Nous devrons √©galement mettre √† jour nos commandes npm. J‚Äôai √©galement cr√©√© des commandes de construction, sans le flag &lt;em&gt;nodemon&lt;/em&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-json line-numbers&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// package.json&lt;/span&gt;
...
  scripts&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;start&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;webpack --progress --env.development --env.nodemon&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;start:prod&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;webpack --progress --env.nodemon&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;build&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;webpack --progress --env.development&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;build:prod&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;webpack --progress&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;build:ci&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;webpack&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
...&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Voil√†, une configuration de base Webpack pour l‚Äôapplication Node.js. La prochaine √©tape est d‚Äôajouter TypeScript!&lt;/p&gt;
&lt;h2&gt;TypeScript&lt;/h2&gt;
&lt;p&gt;Et maintenant, au moment que nous attendions tous, ajoutons TypeScript! Commen√ßons par installer les d√©pendances dont nous avons besoin.&lt;/p&gt;
&lt;p&gt;S‚Äôagissant d‚Äôun projet Node.js, nous devons √©galement installer les typings associ√©s. Je travaille sur la version LTS de Node.js, la version 10. C‚Äôest pourquoi la version &lt;code&gt;^10.0.0&lt;/code&gt; de &lt;code&gt;@types/node&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; i -D typescript ts-loader @types/node@^10.0.0&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;ts-loader&lt;/h3&gt;
&lt;p&gt;Nous allons utiliser le plug-in Webpack &lt;em&gt;ts-loader&lt;/em&gt; pour compiler notre TypeScript. Pour ce faire, nous devons dire √† Webpack de traiter les fichiers TypeScript avec le plug-in &lt;em&gt;ts-loader&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Nous devons modifier notre extension de fichier d‚Äô entr√©e en &lt;code&gt;.ts&lt;/code&gt; et indiquer √† Webpack qu‚Äôil doit √©galement r√©soudre les fichiers &lt;em&gt;.ts&lt;/em&gt; (Webpack ne fonctionne qu‚Äôavec les fichiers &lt;code&gt;.js&lt;/code&gt; par d√©faut).&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// webpack.config.js&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; config &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    entry&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./src/main.ts&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    mode&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;development &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;development&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;production&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    target&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;node&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    devtool&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;development &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;cheap-eval-source-map&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    resolve&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// Tells Webpack what files to watch      &lt;/span&gt;
      extensions&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;.ts&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      modules&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;node_modules&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;src&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;package.json&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    module&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      rules&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          test&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token regex&quot;&gt;/\.ts$/&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          use&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;ts-loader&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    plugins&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Required for config.plugins.push(...);&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;tsconfig.json&lt;/h3&gt;
&lt;p&gt;Si nous essayons d‚Äôex√©cuter notre application maintenant, elle se plantera. Il nous manque encore un fichier tsconfig.json. Alors cr√©ons-en un.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-json line-numbers&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// tsconfig.json&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;compilerOptions&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;target&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;esnext&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;module&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;esnext&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;moduleResolution&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;node&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;lib&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;dom&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;es2018&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;allowSyntheticDefaultImports&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;noImplicitAny&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;noUnusedLocals&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;removeComments&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;    
    &lt;span class=&quot;token property&quot;&gt;&quot;resolveJsonModule&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;strict&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;typeRoots&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;node_modules/@types&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;exclude&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;node_modules&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;include&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;src/**/*.ts&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Je pr√©f√®re les fichiers tsconfig stricts, comme vous pouvez le voir ci-dessus. Tu n‚Äôas pas √† faire √ßa. J‚Äôaime √©galement d√©finir une cible √©lev√©e (&lt;em&gt;esnext&lt;/em&gt; ou &lt;em&gt;es2018&lt;/em&gt;) car Node.js offre un excellent support pour les nouvelles fonctionnalit√©s JavaScript.&lt;/p&gt;
&lt;h2&gt;L‚Äôapplication&lt;/h2&gt;
&lt;p&gt;Nous devons toujours changer l‚Äôextension des fichiers JavaScript de &lt;code&gt;.js&lt;/code&gt; √† &lt;code&gt;.ts&lt;/code&gt;. Faisons-le et essayons de lancer le projet.&lt;/p&gt;
&lt;p&gt;Apr√®s avoir ex√©cut√© le projet, nous pouvons imm√©diatement constater que nous avons commis une ‚Äúerreur‚Äù dans l‚Äôapplication de test que nous avons cr√©√©e. Nous ne pouvons pas d√©structurer notre champ &lt;em&gt;name&lt;/em&gt; du package.json car il est d√©j√† d√©fini ou nous l‚Äô√©craserions. Faisons donc quelques modifications pour cr√©er les fichiers.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-ts line-numbers&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// information-logger.ts&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; os &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;os&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; version &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../package.json&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;InformationLogger&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;logApplicationInformation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token builtin&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      application&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        version&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;logSystemInformation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token builtin&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      system&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        platform&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;platform&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        cpus&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; os&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;cpus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// main.ts&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; InformationLogger &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./information-logger&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
InformationLogger&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;logApplicationInformation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
InformationLogger&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;logSystemInformation&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Si vous avez tout suivi, voici √† quoi devrait ressembler notre structure de projet:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;dist/
  main.js
node_modules/
src/
  information-logger.ts
  main.ts
package-lock.json
package.json
tsconfig.json
webpack.config.js&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Et nous sommes pr√™ts √† √©crire des applications Node.js en TypeScript!&lt;/p&gt;
&lt;h2&gt;Note finale&lt;/h2&gt;
&lt;p&gt;Je suis s√ªr qu‚Äôil existe des milliers de fa√ßons diff√©rentes d‚Äô√©crire des applications Node.js dans TypeScript. Ce n‚Äôest en aucun cas la fa√ßon dont vous devriez le faire, c‚Äôest une fa√ßon de le faire.&lt;/p&gt;
&lt;p&gt;Les prochaines √©tapes pourraient √™tre l‚Äôint√©gration de TSLint, l‚Äôajout d‚Äôun fichier Docker, la configuration d‚Äôun pipeline CI‚Ä¶&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Comment cr√©er une timeline avec React]]></title><description><![CDATA[Ces derniers jours, je travaille sur une nouvelle page pour mon site web. Je voulais avoir une timeline pour pr√©senter certaines de mes‚Ä¶]]></description><link>https://ludovicwyffels.dev/react-timeline-component/</link><guid isPermaLink="false">https://ludovicwyffels.dev/react-timeline-component/</guid><pubDate>Fri, 26 Apr 2019 08:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Ces derniers jours, je travaille sur une nouvelle page pour mon site web. Je voulais avoir une timeline pour pr√©senter certaines de mes r√©alisations au fil des ans.&lt;/p&gt;
&lt;p&gt;Je l‚Äôai fait pour deux raisons:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Mon futur moi se retournera un jour et dira: ‚ÄúWaouh‚Ä¶ Je me souviens du jour o√π j‚Äôai fait √ßa! Quel bonheur d‚Äôavoir atteint cet objectif!‚Äù Notre succ√®s est un voyage,pas une destination, et je souhaite √©crire chaque objectif que je r√©alise en cours de route.&lt;/li&gt;
&lt;li&gt;Cela pourrait attirer plus de clients (nous verrons comment √ßa se passe)&lt;/li&gt;
&lt;li&gt;√Ä mon avis, c‚Äôest un type de portfolio diff√©rent. Un portfolio unique peut-√™tre? üòú&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;N√©anmoins‚Ä¶ Construisons quelque chose maintenant!&lt;/p&gt;
&lt;p&gt;Dans l‚Äôimage ci-dessus, vous pouvez voir ce que nous allons construire aujourd‚Äôhui avec React! Avant de commencer, d√©crivons les √©tapes √† suivre:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Cr√©er les &lt;code&gt;donn√©es&lt;/code&gt; dont nous aurons besoin&lt;/li&gt;
&lt;li&gt;Cr√©er le composant &lt;code&gt;TimelineItem&lt;/code&gt; - chaque entr√©e de timeline individuelle&lt;/li&gt;
&lt;li&gt;Cr√©er un conteneur &lt;code&gt;Timeline&lt;/code&gt; - il prendra les &lt;code&gt;donn√©es&lt;/code&gt; et les transmettra aux &lt;code&gt;TimelineItems&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Donnez du style √† tout ce que vous faites&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Cr√©er les donn√©es&lt;/h2&gt;
&lt;p&gt;Avant de cr√©er les composants React, nous devons savoir exactement √† quoi ressembleront les donn√©es pour pouvoir planifier la structure du DOM.&lt;/p&gt;
&lt;p&gt;Pour cette application Timeline, nous aurons besoin d‚Äôun &lt;em&gt;tableau d‚Äôobjets&lt;/em&gt;. Nous appellerons ce tableau: &lt;code&gt;timelineData&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Voyons √† quoi cela pourrait ressembler: &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;txt&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-txt line-numbers&quot;&gt;&lt;code class=&quot;language-txt&quot;&gt;[
    {
        text: &amp;#39;Wrote my first blog post ever on Medium&amp;#39;undefined
        date: &amp;#39;March 03 2017&amp;#39;undefined
        category: {
            tag: &amp;#39;medium&amp;#39;undefined
            color: &amp;#39;#018f69&amp;#39;
        }undefined
        link: {
            url:
                &amp;#39;https://medium.com/@popflorin1705/javascript-coding-challenge-1-6d9c712963d2&amp;#39;undefined
            text: &amp;#39;Read more&amp;#39;
        }
    }undefined
    {
        // Another object with data
    }
];&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ensuite, nous allons construire le composant &lt;code&gt;TimelineItem&lt;/code&gt;. Ceci utilisera les donn√©es de l‚Äôobjet ci-dessus: &lt;/p&gt;
&lt;h2&gt;Le composant &lt;code&gt;TimelineItem&lt;/code&gt;&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-jsx line-numbers&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;TimelineItem&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; data &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;timeline-item&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;timeline-item-content&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;tag&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; background&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;category&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;color &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;category&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;tag&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;time&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;date&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;time&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;link &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt;
                    &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;link&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;url&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
                    &lt;span class=&quot;token attr-name&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;_blank&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
                    &lt;span class=&quot;token attr-name&quot;&gt;rel&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;noopener noreferrer&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
                    &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;link&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;circle&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nous avons les tags suivants:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Div &lt;code&gt;.timeline-item&lt;/code&gt; - utilis√© comme wrapper. Cette div aura la moiti√© de la largeur de la largeur de son parent (&lt;code&gt;50%&lt;/code&gt;) et toutes les autres div &lt;code&gt;.timeline-item&lt;/code&gt; seront plac√©es du c√¥t√© droit en utilisant le s√©lecteur &lt;code&gt;:nth-child(odd)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Div &lt;code&gt;.timeline-item-content&lt;/code&gt; - un autre wrapper (plus d‚Äôinformations sur la raison pour laquelle nous en avons besoin dans la section relative au style)&lt;/li&gt;
&lt;li&gt;Span &lt;code&gt;.tag&lt;/code&gt; - cette balise aura une couleur d‚Äôarri√®re-plan personnalis√©e en fonction de la cat√©gorie&lt;/li&gt;
&lt;li&gt;&lt;code&gt;link&lt;/code&gt; - nous devrons v√©rifier si un lien est fourni parce que nous ne voulons pas toujours en avoir un&lt;/li&gt;
&lt;li&gt;Span &lt;code&gt;.circle&lt;/code&gt; - cette balise sera utilis√©e pour placer un cercle sur la ligne du milieu&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: Tout aura beaucoup plus de sens quand nous arriverons √† la partie &lt;strong&gt;CSS&lt;/strong&gt;, mais avant cela, cr√©ons le composant &lt;code&gt;Timeline&lt;/code&gt;:&lt;/p&gt;
&lt;h2&gt;Le conteneur &lt;code&gt;Timeline&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;Ce composant mappera fondamentalement sur le tableau et pour chaque objet il cr√©era un composant &lt;code&gt;TimelineItem&lt;/code&gt;. Nous ajoutons √©galement une petite v√©rification pour nous assurer qu‚Äôil y a au moins un √©l√©ment dans le tableau:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-jsx line-numbers&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; timelineData &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;_path_to_file_&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;Timeline&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;
    timelineData&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;timeline-container&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;timelineData&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;data&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; idx&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;TimelineItem&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;idx&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Comme mentionn√© ci-dessus, &lt;code&gt;timelineData&lt;/code&gt; est le tableau d‚Äôobjets contenant toutes les informations requises. Dans mon cas, j‚Äôai stock√© ce tableau dans un fichier et je l‚Äôai import√©, mais vous pouvez le prendre √† partir de votre propre base de donn√©es ou d‚Äôune API, √† vous de choisir.&lt;/p&gt;
&lt;h2&gt;Le CSS&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Remarque&lt;/strong&gt;: la plupart des wrappers seront des conteneneurs &lt;code&gt;flexbox&lt;/code&gt;, car nous pouvons jouer plus facilement avec leur positionnement.&lt;/p&gt;
&lt;p&gt;Commen√ßons par le CSS &lt;code&gt;.timeline-container&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.timeline-container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; flex&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;flex-direction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; column&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; relative&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;margin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 40px 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.timeline-container::after&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #e17b77&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; absolute&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;calc&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;50% - 2px&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 4px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nous utilisons le s√©lecteur &lt;code&gt;::after&lt;/code&gt; pour cr√©er cette ligne rouge au milieur du &lt;code&gt;.timeline-container&lt;/code&gt;. En utilisant la fonction &lt;code&gt;calc()&lt;/code&gt;, nous pouvons positionner la ligne exactement au milieur en soustrayant la moiti√© de sa taille (&lt;code&gt;2px&lt;/code&gt;) √† &lt;code&gt;50%&lt;/code&gt;. Nous devons le faire, car par d√©faut, la propri√©t√© &lt;code&gt;left&lt;/code&gt; positionne en fonction du bord gauche d‚Äôun √©l√©ment et non du milieu.&lt;/p&gt;
&lt;p&gt;Passons maintenant au wrapper &lt;code&gt;.timeline-item&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Ci-dessous, vous pouvez voir un exemple de la fa√ßon dont ils sont positionn√©s dans leur parent (le &lt;code&gt;.timeline-container&lt;/code&gt;). A des fins de d√©monstration, j‚Äôai ajout√© une bordure pour mettre en √©vidence ces wrappers.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://url.com/image.jpg&quot; alt=&quot;timeline wrapper&quot;&gt;&lt;/p&gt;
&lt;p&gt;Comme vous pouvez le constater, tous les autres wrappers vont &lt;strong&gt;√† droite&lt;/strong&gt; et le wrapper interne (le &lt;code&gt;.timeline-item-content&lt;/code&gt;) prend moins d‚Äôespace - l‚Äôespace est donn√© par la balise &lt;code&gt;p&lt;/code&gt; qui est √† l‚Äôint√©rieur (la plupart du temps).&lt;/p&gt;
&lt;p&gt;Voyons le CSS pour ceci:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.timeline-item&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; flex&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;justify-content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; flex-end&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;padding-right&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 30px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; relative&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;margin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 10px 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 50%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.timeline-item:nth-child(odd)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;align-self&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; flex-end&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;justify-content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; flex-start&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;padding-left&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 30px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;padding-right&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;La cl√© de ceci est que nous utilisons le s√©lecteur &lt;code&gt;:nth-child(odd)&lt;/code&gt; et que nous d√©finissons la propri√©t√© &lt;code&gt;align-self&lt;/code&gt; sur &lt;code&gt;flex-end&lt;/code&gt; ce qui signifie: ‚Äúallez √† droite autant que vous le pouvez!‚Äù&lt;/p&gt;
&lt;p&gt;√âtant donn√© que ces wrappers ont une largeur de &lt;code&gt;50%&lt;/code&gt;, vous pouvez voir que deux d‚Äôentre eux occupent toute la largeur. √Ä partir de maintenant, chaque fois que nous voulons styler diff√©remment quelque chose du bon c√¥t√©, nous devrons utiliser cette approche.&lt;/p&gt;
&lt;p&gt;Ensuite, le &lt;code&gt;.timeline-item-content&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.timeline-item-content&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;box-shadow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 0 0 5px &lt;span class=&quot;token function&quot;&gt;rgba&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;0&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 0.3&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;border-radius&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 5px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #fff&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; flex&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;flex-direction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; column&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;align-items&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; flex-end&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;padding&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 15px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; relative&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 400px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;max-width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 70%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;text-align&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; right&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.timeline-item-content::after&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos; &apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #fff&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;box-shadow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1px -1px 1px &lt;span class=&quot;token function&quot;&gt;rgba&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;0&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 0.2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; absolute&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;right&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; -7.5px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;top&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;calc&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;50% - 7.5px&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;transform&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;rotate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;45deg&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 15px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 15px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.timeline-item:nth-child(odd) .timeline-item-content&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;text-align&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; left&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;align-items&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; flex-start&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.timeline-item:nth-child(odd) .timeline-item-content::after&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;right&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; auto&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; -7.5px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;box-shadow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; -1px 1px 1px &lt;span class=&quot;token function&quot;&gt;rgba&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;0&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 0&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 0.2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nous avons quelques choses √† faire:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Ce wrapper a une &lt;code&gt;width&lt;/code&gt; fixe et aussi une &lt;code&gt;max-width&lt;/code&gt;. C‚Äôest parce que nous voulons qu‚Äôil y ait des limites, ce qui signifie que s‚Äôil n‚Äôy a que quelques mots, nous voulons que la box ait au moins &lt;code&gt;400px&lt;/code&gt; de large, mais s‚Äôil y a beaucoup de texte, il ne devrait pas occuper tout l‚Äôespace. (&lt;code&gt;50%&lt;/code&gt; du wrapper &lt;code&gt;.timeline-item&lt;/code&gt;) mais le texte doit passer √† la ligne suivante -&gt; c‚Äôest la raison pour laquelle nous avons utilis√© ce second wrapper: &lt;code&gt;.timeline-item-content&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Les propri√©t√©s &lt;code&gt;text-align&lt;/code&gt; et &lt;code&gt;align-items&lt;/code&gt; sont utilis√©es pour pousser les √©l√©ments internes vers la gauche ou vers la droite, en fonction du parent.&lt;/li&gt;
&lt;li&gt;La petite fl√®che qui pointe vers la ligne m√©diane est donn√©e par les styles appliqu√©s sur le s√©lecteur &lt;code&gt;::after&lt;/code&gt;. Fondamentalement, il s‚Äôagit d‚Äôune box avec une &lt;code&gt;box-shadow&lt;/code&gt; appliqu√©e sur elle qui est tourn√©e de &lt;code&gt;45deg&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Comme mentionn√© ci-dessus, nous appelons le c√¥t√© droit en s√©lectionnant le parent avec le s√©lecteur &lt;code&gt;:nth-child(odd)&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Ensuite, tous les √©l√©ments internes:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.timeline-item-content .tag&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #fff&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;font-size&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 12px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;font-weight&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; bold&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;top&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 5px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 5px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;letter-spacing&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;padding&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 5px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; absolute&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;text-transform&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; uppercase&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.timeline-item:nth-child(odd) .timeline-item-content .tag&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; auto&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;right&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 5px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.timeline-item-content time&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #777&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;font-size&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 12px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;font-weight&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; bold&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.timeline-item-content p&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;font-size&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 16px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;line-height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 24px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;margin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 15px 0&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;max-width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 250px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.timeline-item-content a&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;font-size&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 14px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;font-weight&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; bold&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.timeline-item-content a::after&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos; ‚ñ∫&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;font-size&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 12px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.timeline-item-content .circle&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;background-color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; #fff&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;border&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 3px solid #e17b77&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;border-radius&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 50%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; absolute&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;top&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;calc&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;50% - 10px&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;right&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; -40px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 20px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 20px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;z-index&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token selector&quot;&gt;.timeline-item:nth-child(odd) .timeline-item-content .circle&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;right&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; auto&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; -40px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Peu de choses √† noter ici:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Comme vous l‚Äôavez peut-√™tre devin√©, le &lt;code&gt;tag&lt;/code&gt; est positionn√© en &lt;code&gt;absolute&lt;/code&gt;car nous souhaitons le conserver dans le coin sup√©rieur gauche (ou droit), quelle que soit la taille de la box.&lt;/li&gt;
&lt;li&gt;Nous voulons ajouter un petit signe apr√®s la balise a pour indiquer qu‚Äôil s‚Äôagit d‚Äôun lien.&lt;/li&gt;
&lt;li&gt;Nous cr√©ons un &lt;code&gt;.circle&lt;/code&gt;. Nous le positionnons au-dessus de la ligne m√©diane, directement devant la fl√®che.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Nous avons presque fini! üòÑ La seule chose qui reste √† faire est d‚Äôajouter le CSS pour que tout soit r√©actif, quelle que soit la table de l‚Äô√©cran:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token atrule&quot;&gt;&lt;span class=&quot;token rule&quot;&gt;@media&lt;/span&gt; only screen and &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token property&quot;&gt;max-width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 1023px&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token selector&quot;&gt;.timeline-item-content&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;max-width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 100%&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token atrule&quot;&gt;&lt;span class=&quot;token rule&quot;&gt;@media&lt;/span&gt; only screen and &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token property&quot;&gt;max-width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 767px&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token selector&quot;&gt;.timeline-item-content,
    .timeline-item:nth-child(odd) .timeline-item-content&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;padding&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 15px 10px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;text-align&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; center&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;align-items&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; center&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token selector&quot;&gt;.timeline-item-content .tag&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;calc&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;100% - 10px&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;text-align&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; center&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token selector&quot;&gt;.timeline-item-content time&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;margin-top&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; 20px&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token selector&quot;&gt;.timeline-item-content a&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;text-decoration&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; underline&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token selector&quot;&gt;.timeline-item-content a::after&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; none&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nous avons deux media query:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Sur les petites tailles d‚Äô√©cran d‚Äôordinateur portable - &lt;code&gt;max-width: 1023px&lt;/code&gt; - nous voulons permettre au &lt;code&gt;.timeline-item-content&lt;/code&gt; de &lt;code&gt;.timeline-item-content&lt;/code&gt; sur toute la largeur de son parent, car l‚Äô√©cran est plus petit et sinon, il aurait l‚Äôair trop serr√©.&lt;/li&gt;
&lt;li&gt;Sur les t√©l√©phones - &lt;code&gt;max-width: 767px&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;param√©trez le &lt;code&gt;.tag&lt;/code&gt; sur toute la largeur (et pour cela nous n‚Äôavons pas besoin d‚Äôoublier de soustraire &lt;code&gt;10px&lt;/code&gt; du total des &lt;code&gt;100%&lt;/code&gt; - c‚Äôest parce que nous l‚Äôavons positionn√© √† &lt;code&gt;left: 5px&lt;/code&gt;, nous enlevons donc le double de ce montant)&lt;/li&gt;
&lt;li&gt;centrer tout le texte et le pousser vers le haut juste un peu&lt;/li&gt;
&lt;li&gt;supprime le curseur sur le lien et ajoute un soulignement - son apparence est meilleure sur mobile&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Nous avons termin√©!&lt;/p&gt;
&lt;p&gt;Voici le r√©sultat:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://react-timeline-qvnqqp.stackblitz.io&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://react-timeline-qvnqqp.stackblitz.io&lt;/a&gt;&lt;/p&gt;
&lt;iframe src=&quot;https://stackblitz.com/edit/react-timeline-qvnqqp?embed=1&amp;hideExplorer=0&amp;hideNavigation=1&quot; width=&quot;100%&quot; height=&quot;600px&quot;&gt;&lt;/iframe&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;S‚Äôil y a quelque chose que vous n‚Äôavez pas compris dans cet article, assurez-vous de me contacter et je me ferai un plaisir de r√©pondre √† vos questions!&lt;/p&gt;
&lt;p&gt;Bon codage! üòá&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Architecture d'un projet node.js Bulletproof]]></title><description><![CDATA[Introduction Express.js est un excellent framework pour la cr√©ation d‚Äôune API REST en node.js, mais il ne vous donne aucune indication sur‚Ä¶]]></description><link>https://ludovicwyffels.dev/node-architecture/</link><guid isPermaLink="false">https://ludovicwyffels.dev/node-architecture/</guid><pubDate>Sat, 20 Apr 2019 08:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;Introduction&lt;/h2&gt;
&lt;p&gt;Express.js est un excellent framework pour la cr√©ation d‚Äôune API REST en node.js, mais il ne vous donne aucune indication sur la mani√®re d‚Äôorganiser votre projet node.js.&lt;/p&gt;
&lt;p&gt;Bien que cela puisse para√Ætre stupide, c‚Äôest un probl√®me r√©el.&lt;/p&gt;
&lt;p&gt;Une organisation correcte de la structure de votre projet node.js √©vitera la duplication de code, am√©liorera la stabilit√© et, √©ventuellement, vous aidera √† faire √©voluer vos services si cela est effectu√© correctement.&lt;/p&gt;
&lt;p&gt;Cet article est une recherche approfondie, issue de mes ann√©es d‚Äôexp√©rience dans le traitement d‚Äôun projet node.js mal structur√©, de mauvais sch√©mas et d‚Äôinnombrables heures de refactorisation de code et de d√©placements.&lt;/p&gt;
&lt;h2&gt;Table des mati√®res&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#folder&quot;&gt;La structure du dossier üè¢&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#architecture&quot;&gt;Architecture √† 3 couches ü•™&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#service&quot;&gt;Couche service üíº&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#pubsub&quot;&gt;Couche Pub/Sub Ô∏èÔ∏èÔ∏èÔ∏èüéôÔ∏èÔ∏è&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#di&quot;&gt;Injection de d√©pendances üíâ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#test&quot;&gt;Test unitaire üïµüèª&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#cron&quot;&gt;Cron Jobs et t√¢ches r√©currentes ‚ö°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#configs&quot;&gt;Configurations et secrets ü§´&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#loaders&quot;&gt;Loaders üèóÔ∏è&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a name=&quot;folder&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;La structure du dossier üè¢&lt;/h2&gt;
&lt;p&gt;Voici la structure du projet node.js dont je parle.&lt;/p&gt;
&lt;p&gt;J‚Äôutilise ceci dans chaque service d‚ÄôAPI REST de node.js que je construis. Voyons en d√©tail ce que chaque composant fait.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;src
‚îÇ   app.js          # App entry point
‚îî‚îÄ‚îÄ‚îÄapi             # Express route controllers for all the endpoints of the app
‚îî‚îÄ‚îÄ‚îÄconfig          # Environment variables and configuration related stuff
‚îî‚îÄ‚îÄ‚îÄjobs            # Jobs definitions for agenda.js
‚îî‚îÄ‚îÄ‚îÄloaders         # Split the startup process into modules
‚îî‚îÄ‚îÄ‚îÄmodels          # Database models
‚îî‚îÄ‚îÄ‚îÄservices        # All the business logic is here
‚îî‚îÄ‚îÄ‚îÄsubscribers     # Event handlers for async task
‚îî‚îÄ‚îÄ‚îÄtypes           # Type declaration files (d.ts) for Typescript&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;C‚Äôest plus qu‚Äôun moyen de commander des fichiers JavaScript‚Ä¶&lt;/p&gt;
&lt;p&gt;&lt;a name=&quot;architecture&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Architecture √† 3 couches ü•™&lt;/h2&gt;
&lt;p&gt;L‚Äôid√©e est d‚Äôutiliser le &lt;strong&gt;principe de s√©paration des pr√©occupations&lt;/strong&gt; pour √©loigner la logique m√©tier des routes de l‚ÄôAPI node.js.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 755px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e7549783fc618ca44dcc8daef066a986/06940/server_layers.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 78.41059602649007%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsSAAALEgHS3X78AAABi0lEQVQ4y4WU646CMBCFff8X9AcCMZFE7oKKF8DufpOcCRjdbTJpaWfOzJzTsnm9XmGaptC2bei67qP1fR/O57PZNx9snuewCb/j8XgYIBvP5zOM4+jG9/V6NbDL5bLa10xBTdPY2gFx/jQISpIkbLfbsN/vw7dBwhWgMtzvd7Pb7eZrDB9M3xSgNXHEk3wDh7SKA1loj8OqqsIwDN6qzpnhi4r1zYwvWAYoYcTH6XQKWZZZIlUmUxckFIeKM0DxVNe1Z2R9OBxsTeYlBXyjOiLirxtAV4A6h2x+Gjgej0dLkuf5V/EAXonCBoOylzMgqAtomqZW2XLID14dkEVRFH5BCaIy1ohEu8y0S4WckwSuMfzg1FqWKMtsAIgChMF0GxgEItoyRmu/NlRAdsBoM4oiB3436CnL0mMknqsMh5AuNfXU2NdToypmkuMnKqS+X+y/nh687HY74yuOY7tKPEMA/n16kEvJqkY0AIoItMiMeAByrqqJ48wB9bdALSmHwdXyyelpvvvJSPIDQV3ZnsiBHJsAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/e7549783fc618ca44dcc8daef066a986/14b47/server_layers.webp 293w,
/static/e7549783fc618ca44dcc8daef066a986/91928/server_layers.webp 585w,
/static/e7549783fc618ca44dcc8daef066a986/54ad7/server_layers.webp 755w&quot;
          sizes=&quot;(max-width: 755px) 100vw, 755px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/e7549783fc618ca44dcc8daef066a986/b6dd9/server_layers.png 293w,
/static/e7549783fc618ca44dcc8daef066a986/037e5/server_layers.png 585w,
/static/e7549783fc618ca44dcc8daef066a986/06940/server_layers.png 755w&quot;
          sizes=&quot;(max-width: 755px) 100vw, 755px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/e7549783fc618ca44dcc8daef066a986/06940/server_layers.png&quot;
          alt=&quot;3 layer pattern&quot;
          title=&quot;3 layer pattern&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Parce qu‚Äôun jour, vous voudrez utiliser votre logique m√©tier sur un outil CLI, ou ne pas aller tr√®s loin, dans une t√¢che r√©currente.&lt;/p&gt;
&lt;p&gt;Et faire un appel API du serveur node.js √† lui-m√™me, ce n‚Äôest pas une bonne id√©e‚Ä¶&lt;/p&gt;
&lt;p&gt; &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 652px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8ba15b5b22a1a677396ca792a04418e3/ad6dd/server_layers_2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 81.13496932515338%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsSAAALEgHS3X78AAABd0lEQVQ4y42TWY/CMAyE+f8/ri+8tQ9V1Zaj0Isbepj9LDlKsyxaS0NC6kzG42Q1z7NM0ySv12uB5/P5FX7eMAxiPCv5CT4cDgc5n89yOp0U1+tV7ve73G63BR6Ph1wuF5fHnqZplBhSJeQPBH6QlKap5Hkum81GiqJQJEmixH7YwYQjhADpKGDsuk52u50cj0ep69qN+/1eCcLcBeE4jrqIfMC8bVvdiHIfkGRZJtvtVv9b6XBoyfyAsAQI/wo8DMteNAXZlNP3vZ6GZ6hgYwhyyLV8qgHWaechi1a+Kab7eIe/5iHfUQKYE9j0qykshsGpKC3LUkcQ2kPgpSMkASVVVbkS8A81dh99sEZDuLfMzQJ3D/2m2OgrpjQzHBCUbxb5e7UpNrGXABl3jfIo2crxX4opY84at8IOdh5Swqd7Z0ThuoE9NI1x0ZTwXtnzW6/XEsexPsMoilRZGB+fHr6ECkni7uHnN4X2qlyXqT/06r8wUmvaG9Vj2kbgv3TmAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/8ba15b5b22a1a677396ca792a04418e3/14b47/server_layers_2.webp 293w,
/static/8ba15b5b22a1a677396ca792a04418e3/91928/server_layers_2.webp 585w,
/static/8ba15b5b22a1a677396ca792a04418e3/23d72/server_layers_2.webp 652w&quot;
          sizes=&quot;(max-width: 652px) 100vw, 652px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/8ba15b5b22a1a677396ca792a04418e3/b6dd9/server_layers_2.png 293w,
/static/8ba15b5b22a1a677396ca792a04418e3/037e5/server_layers_2.png 585w,
/static/8ba15b5b22a1a677396ca792a04418e3/ad6dd/server_layers_2.png 652w&quot;
          sizes=&quot;(max-width: 652px) 100vw, 652px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/8ba15b5b22a1a677396ca792a04418e3/ad6dd/server_layers_2.png&quot;
          alt=&quot;3 layer pattern for node.js REST API&quot;
          title=&quot;3 layer pattern for node.js REST API&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;Ne placez pas votre logique m√©tier dans les contr√¥leurs !!!&lt;/h3&gt;
&lt;p&gt;Vous pouvez √™tre tent√© d‚Äôutiliser simplement les contr√¥leurs express.js pour stocker la logique m√©tier de votre application, mais cela devient rapidement du code spaghetti. D√®s que vous aurez besoin d‚Äô√©crire des tests unitaires, vous finirez par avoir affaire √† des mocks complexes pour des objets express.js tel que &lt;code&gt;req&lt;/code&gt; ou &lt;code&gt;res&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Il est difficile de distinguer quand une r√©ponse doit √™tre envoy√©e et quand continuer le traitement en ‚Äúarri√®re-plan‚Äù, disons apr√®s que la r√©ponse a √©t√© envoy√©e au client.&lt;/p&gt;
&lt;p&gt;Voici un exemple de ce qu‚Äôil ne faut pas faire.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;route&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// This should be a middleware or should be handled by a library like Joi.&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; userDTO &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;body&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; isUserValid &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; validators&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userDTO&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;isUserValid&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;400&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// Lot of business logic here...&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; userRecord &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; UserModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userDTO&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;delete&lt;/span&gt; userRecord&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;password&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;delete&lt;/span&gt; userRecord&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;salt&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; companyRecord &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; CompanyModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userRecord&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; companyDashboard &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; CompanyDashboard&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userRecord&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; companyRecord&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;whatever&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;


  &lt;span class=&quot;token comment&quot;&gt;// And here is the &apos;optimization&apos; that mess up everything.&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// The response is sent to client...&lt;/span&gt;
  res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; userRecord&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; company&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; companyRecord &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// But code execution continues :(&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; salaryRecord &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; SalaryModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userRecord&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; companyRecord&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  eventTracker&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;track&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;user_signup&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;userRecord&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;companyRecord&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;salaryRecord&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  intercom&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createUser&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userRecord&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  gaAnalytics&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;user_signup&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;userRecord&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; EmailService&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;startSignupSequence&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userRecord&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a name=&quot;service&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Utilisez une couche de service pour votre logique m√©tier üíº&lt;/h2&gt;
&lt;p&gt;Cette couche est l‚Äôendroit o√π votre logique m√©tier doit vivre.&lt;/p&gt;
&lt;p&gt;C‚Äôest juste un ensemble de classes, suivant les principes SOLID appliqu√©s √† node.js.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Dans cette couche, il ne devrait exister aucune forme de ‚Äúrequ√™te SQL‚Äù, utilisez la couche d‚Äôacc√®s aux donn√©es pour cela.&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;√âloignez votre code du routeur express.js&lt;/li&gt;
&lt;li&gt;Ne transmettez pas l‚Äôobjet req ou res √† la couche service&lt;/li&gt;
&lt;li&gt;Ne renvoyez aucun √©l√©ment li√© √† la couche de transport HTTP, tel qu‚Äôun code d‚Äô√©tat ou des en-t√™tes de la couche de service.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Exemple&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;route&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
  validators&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;userSignup&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// this middleware take care of validation&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// The actual responsability of the route layer.&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; userDTO &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;body&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// Call to service layer.&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// Abstraction on how to access the data layer and the business logic.&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; company &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; UserService&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Signup&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userDTO&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// Return a response to client.&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; company &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Voici comment votre service travaillera dans les coulisses.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; UserModel &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../models/user&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; CompanyModel &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../models/company&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;UserService&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Signup&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; userRecord &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; UserModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;user&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; companyRecord &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; CompanyModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userRecord&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// needs userRecord to have the database id &lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; salaryRecord &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; SalaryModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userRecord&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; companyRecord&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// depends on user and company to be created&lt;/span&gt;

  &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;whatever

  &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; EmailService&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;startSignupSequence&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userRecord&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;do more stuff

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; userRecord&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; company&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; companyRecord &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a name=&quot;pubsub&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Utilisez aussi un calque Pub/Sub üéôÔ∏èÔ∏è&lt;/h2&gt;
&lt;p&gt;Le mod√®le pub/sub va au-del√† de l‚Äôarchitecture classique √† 3 couches propos√©e ici, mais il est extr√™mement utile.&lt;/p&gt;
&lt;p&gt;Le simple endpoint de l‚ÄôAPI node.js qui cr√©e un utilisateur imm√©diatement, peut vouloir appeler des services tiers, peut-√™tre √† un service d‚Äôanalyse, ou peut-√™tre d√©marrer une s√©quence de courriels.&lt;/p&gt;
&lt;p&gt;T√¥t ou tard, cette simple op√©ration ‚Äúcr√©er‚Äù fera plusieurs choses, et vous obtiendrez 1000 lignes de code, le tout en une seule fonction.&lt;/p&gt;
&lt;p&gt;Cela viole le principe de la responsabilit√© unique.&lt;/p&gt;
&lt;p&gt;Il est donc pr√©f√©rable de s√©parer les responsabilit√©s d√®s le d√©part, afin que votre code reste maintenable.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; UserModel &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../models/user&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; CompanyModel &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../models/company&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; SalaryModel &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../models/salary&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;UserService&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Signup&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; userRecord &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; UserModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;user&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; companyRecord &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; CompanyModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;user&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; salaryRecord &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; SalaryModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;user&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; salary&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    eventTracker&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;track&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&apos;user_signup&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      userRecord&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      companyRecord&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      salaryRecord
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    intercom&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createUser&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      userRecord
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    gaAnalytics&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&apos;user_signup&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      userRecord
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; EmailService&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;startSignupSequence&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userRecord&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;more stuff

    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; userRecord&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; company&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; companyRecord &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Un appel imp√©ratif √† un service d√©pendant n‚Äôest pas la meilleure fa√ßon de le faire.&lt;/p&gt;
&lt;p&gt;Une meilleure approche est d‚Äô√©mettre un √©v√©nement, c‚Äôest-√†-dire ‚Äúun utilisateur s‚Äôest inscrit avec cet email‚Äù.&lt;/p&gt;
&lt;p&gt;Et vous avez termin√©, c‚Äôest maintenant la responsabilit√© des listeners de faire leur travail.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; UserModel &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../models/user&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; CompanyModel &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../models/company&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; SalaryModel &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../models/salary&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;UserService&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Signup&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; userRecord &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;userModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;user&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; companyRecord &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;companyModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;user&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;eventEmitter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;emit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;user_signup&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; userRecord&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; company&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; companyRecord &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; userRecord
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Vous pouvez maintenant scinder les gestionnaires d‚Äô√©v√©nements/listeners en plusieurs fichiers.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;eventEmitter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;user_signup&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; company &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  eventTracker&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;track&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&apos;user_signup&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    user&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    company&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  intercom&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createUser&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    user
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  gaAnalytics&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&apos;user_signup&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    user
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;eventEmitter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;user_signup&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; company &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; salaryRecord &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; SalaryModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;user&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; company&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;eventEmitter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;user_signup&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; company &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; EmailService&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;startSignupSequence&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;user&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Vous pouvez mettre les instructions en attente dans un bloc &lt;code&gt;try-catch&lt;/code&gt; ou vous pouvez simplement le laisser √©chouer et g√©rer le  ‚ÄòunhandledPromise‚Äô &lt;code&gt;process.on(&apos;unhandledRejection&apos;,cb)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;a name=&quot;di&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Injection de d√©pendances üíâ&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;Dependency Injection&lt;/code&gt; (D.I.) ou &lt;code&gt;inversion of control&lt;/code&gt; (IoC) est un mod√®le commun qui aidera l‚Äôorganisation de votre code, en ‚Äúinjectant‚Äù ou en passant par le constructeur les d√©pendances de votre classe ou fonction.&lt;/p&gt;
&lt;p&gt;De cette fa√ßon, vous aurez la possibilit√© d‚Äôinjecter une ‚Äúd√©pendance compatible‚Äù lorsque, par exemple, vous √©crirez les tests unitaires pour le service, ou lorsque le service sera utilis√© dans un autre contexte.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Code sans D.I.&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; UserModel &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../models/user&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; CompanyModel &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../models/company&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; SalaryModel &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../models/salary&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;UserService&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;Sigup&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// Caling UserMode, CompanyModel, etc&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;em&gt;Code avec injection manuelle de d√©pendance&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;UserService&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;userModel&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; companyModel&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; salaryModel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;userModel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; userModel&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;companyModel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; companyModel&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;salaryModel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; salaryModel&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;getMyUser&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;userId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// models available throug &apos;this&apos;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; user &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;userModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;findById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Vous pouvez maintenant injecter des d√©pendances personnalis√©es.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; UserService &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../services/user&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; UserModel &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../models/user&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; CompanyModel &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../models/company&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; salaryModelMock &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;calculateNetSalary&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;42&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; userServiceInstance &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;UserService&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userModel&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; companyModel&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; salaryModelMock&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; user &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; userServiceInstance&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getMyUser&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;12346&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Le nombre de d√©pendances qu‚Äôun service peut avoir est infini, et refactoriser chaque instanciation de celui-ci lorsque vous en ajoutez un nouveau est une t√¢che ennuyeuse et sujette aux  erreurs.&lt;/p&gt;
&lt;p&gt;C‚Äôest pourquoi des frameworks d‚Äôinjection de d√©pendance ont √©t√© cr√©√©s.&lt;/p&gt;
&lt;p&gt;L‚Äôid√©e est de d√©clarer vos d√©pendances dans la classe, et quand vous avez besoin d‚Äôune instance de cette classe, vous appelez simplement le &lt;code&gt;Service Locator&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Voyons un exemple utilisant &lt;a href=&quot;https://www.npmjs.com/package/typedi&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;&lt;code&gt;typedi&lt;/code&gt;, une biblioth√®que npm&lt;/a&gt; qui apporte l‚Äôinjection de d√©pendances √† node.js&lt;/p&gt;
&lt;p&gt;Pour en savoir plus sur l‚Äôutilisation de &lt;code&gt;typedi&lt;/code&gt;, consultez la &lt;a href=&quot;https://github.com/typestack/typedi&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;documentation officielle&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;AVERTISSEMENT exemple en typescript&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-typescript line-numbers&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Service &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;typedi&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
@&lt;span class=&quot;token function&quot;&gt;Service&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;UserService&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; userModel&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; companyModel&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; salaryModel&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;getMyUser&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;userId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; user &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;userModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;findById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;services/user.ts&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Maintenant &lt;em&gt;typedi&lt;/em&gt; s‚Äôoccupera de r√©soudre toute d√©pendance dont le &lt;code&gt;UserService&lt;/code&gt; a besoin.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Container &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;typedi&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; UserService &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../services/user&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; userServiceInstance &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Container&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;UserService&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; user &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; userServiceInstance&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getMyUser&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;12346&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;em&gt;L‚Äôabus d‚Äôappels de localisateur de service est un anti-pattern&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Utilisation de l‚Äôinjection de d√©pendance avec Express.js dans Node.js&lt;/p&gt;
&lt;p&gt;L‚Äôutilisation de D.I. dans express.js est la derni√®re pi√®ce du puzzle de l‚Äôarchitecture de ce projet node.js.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Couche de routage&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;route&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
  &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; userDTO &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; req&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;body&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; userServiceInstance &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Container&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;UserService&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Service locator&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; company &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; userServiceInstance&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Signup&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userDTO&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; company &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;G√©nial, le projet √† l‚Äôair g√©nial !
C‚Äôest tellement organis√© que j‚Äôai envie de coder quelque chose en ce moment.&lt;/p&gt;
&lt;p&gt;&lt;a name=&quot;test&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Un exemple de test unitaire üïµüèª&lt;/h2&gt;
&lt;p&gt;En utilisant l‚Äôinjection de d√©pendance et ces mod√®les d‚Äôorganisation, le test unitaire devient vraiment simple.&lt;/p&gt;
&lt;p&gt;Vous n‚Äôavez pas besoin de simuler des objets req/res ou de require(‚Ä¶)&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Exemple: Test unitaire pour la m√©thode d‚Äôinscription de l‚Äôutilisateur&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;tests/unit/services/user.js&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; UserService &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../../../src/services/user&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;User service unit tests&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Signup&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Should create user record and emit user_signup event&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; eventEmitterService &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        emit&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; jest&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; userModel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function-variable function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;user&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            _id&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;mock-user-id&apos;&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; companyModel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function-variable function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            owner&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_id&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            companyTaxId&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;12345&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; userInput&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        fullname&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;User Unit Test&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        email&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;test@example.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; userService &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;UserService&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userModel&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; companyModel&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; eventEmitterService&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; userRecord &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; userService&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;SignUp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;teamId&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toHexString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; userInput&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

      &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userRecord&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toBeDefined&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userRecord&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toBeDefined&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;eventEmitterService&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;emit&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toBeCalled&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a name=&quot;cron&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Cron Jobs et t√¢ches r√©currentes ‚ö°&lt;/h2&gt;
&lt;p&gt;Ainsi, maintenant que la logique m√©tier est encapsul√©e dans la couche service, il est plus facile de l‚Äôutiliser depuis un job Cron.&lt;/p&gt;
&lt;p&gt;Vous ne devriez jamais compter sur &lt;code&gt;setTimeout&lt;/code&gt; ou une autre fa√ßon primitive de retarder l‚Äôex√©cution du code, mais sur un framework qui persiste vos jobs, et l‚Äôex√©cution de ceux-ci, dans une base de donn√©es.&lt;/p&gt;
&lt;p&gt;De cette fa√ßon, vous aurez le contr√¥le sur les jobs √©chou√©s, et la r√©troaction de ceux qui r√©ussissent.&lt;/p&gt;
&lt;p&gt;&lt;a name=&quot;configs&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Configurations et secrets ü§´&lt;/h2&gt;
&lt;p&gt;Suivant les concepts √©prouv√©s de &lt;a href=&quot;https://12factor.net/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Twelve-Factor App&lt;/a&gt; pour node.js, la meilleure approche pour stocker les cl√©s API et les cha√Ænes de connexions aux base de donn√©es, c‚Äôest en utilisant &lt;strong&gt;dotenv&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Mettez un fichier &lt;code&gt;.env&lt;/code&gt;, qui ne doit jamais √™tre valid√© &lt;em&gt;(mais qui doit exister avec des valeurs par d√©faut dans votre r√©f√©rentiel)&lt;/em&gt; puis, le paquet npm &lt;code&gt;dotenv&lt;/code&gt; charge le fichier &lt;code&gt;.env&lt;/code&gt; et insert les variables dans l‚Äôobjet &lt;code&gt;process.env&lt;/code&gt; de node.js.&lt;/p&gt;
&lt;p&gt;Cela pourrait suffire, mais j‚Äôaimerais ajouter une √©tape suppl√©mentaire.
Avoir un fichier &lt;code&gt;config/index.ts&lt;/code&gt; o√π le paquet npm &lt;code&gt;dotenv&lt;/code&gt; et charge le fichier &lt;code&gt;.env&lt;/code&gt; et puis j‚Äôutilise un objet pour stocker les variables, dons nous avons une structure et un code d‚Äôautocompl√©tion.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;config/index.js&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; dotenv &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;dotenv&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// config() will read your .env file, parse the contents, assign it to process.env.&lt;/span&gt;
dotenv&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  port&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PORT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  databaseURL&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DATABASE_URI&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  paypal&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    publicKey&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PAYPAL_PUBLIC_KEY&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    secretKey&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PAYPAL_SECRET_KEY&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  paypal&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    publicKey&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PAYPAL_PUBLIC_KEY&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    secretKey&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PAYPAL_SECRET_KEY&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  mailchimp&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    apiKey&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;MAILCHIMP_API_KEY&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    sender&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;MAILCHIMP_SENDER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;De cette fa√ßon, vous √©vitez d‚Äôinonder votre code avec les instructions &lt;code&gt;process.env.MY_RANDOM_VAR&lt;/code&gt;, et en ayant l‚Äôautocompl√©tion vous n‚Äôavez pas besoin de savoir comment nommer la variable d‚Äôenvironnement.&lt;/p&gt;
&lt;p&gt;&lt;a name=&quot;loaders&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Loaders üèóÔ∏è&lt;/h2&gt;
&lt;p&gt;J‚Äôai pris ce mod√®le du &lt;a href=&quot;https://www.npmjs.com/package/microframework-w3tec&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;microframework de W3Tech&lt;/a&gt; mais sans d√©pendre de leur paquet.&lt;/p&gt;
&lt;p&gt;L‚Äôid√©e est de diviser le processus de d√©marrage de votre service node.js en modules testables.&lt;/p&gt;
&lt;p&gt;Voyons une initialisation d‚Äôapplication express.js classique&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; mongoose &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;mongoose&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; express &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;express&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; bodyParser &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;body-parser&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; session &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;express-session&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; cors &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;cors&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; errorhandler &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;errorhandler&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; app &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;express&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/status&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/status&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;cors&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;morgan&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;dev&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;bodyParser&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;urlencoded&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; extended&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;bodyParser&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;setupForStripeWebhooks&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;method-override&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;express&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;static&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__dirname &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/public&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; secret&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;SECRET&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; cookie&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; maxAge&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;60000&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; resave&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; saveUninitialized&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
mongoose&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;connect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DATABASE_URL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useNewUrlParser&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./config/passport&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./models/user&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./models/company&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./routes&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; err &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Not Found&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  err&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;status &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;404&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;status &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;500&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;errors&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    message&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; err&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;message&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    error&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;


&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; more stuff 

&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; maybe start up Redis

&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; maybe add more middlewares

&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;startServer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;    
  app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;listen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PORT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;Your server is ready !&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Run the async function to start our server&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;startServer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Comme vous le voyez, cette partie de votre application peut √™tre un vrai g√¢chis.&lt;/p&gt;
&lt;p&gt;Voici une fa√ßon efficace d‚Äôy faire face.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; loaders &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./loaders&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; express &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;express&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;startServer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; app &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;express&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; loaders&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; expressApp&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; app &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;listen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PORT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;Your server is ready !&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;startServer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Maintenant, les chargeurs ne sont plus que de minuscules fichiers avec un but concis&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;loders/index.js&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; expressLoader &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./express&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; mongooseLoader &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./mongoose&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; expressApp &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; mongoConnection &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;mongooseLoader&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;MongoDB Intialized&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;expressLoader&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; app&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; expressApp &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Express Intialized&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// ... more loaders can be here&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// ... Initialize agenda&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// ... or Redis, or whatever you want}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Le loader express&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;loaders/express.js&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; express &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;express&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; bodyParser &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;body-parser&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; cors &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;cors&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; app &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; app&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; express&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Application &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/status&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/status&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;req&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; res&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; res&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;enable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;trust proxy&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;cors&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;morgan&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;dev&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;bodyParser&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;urlencoded&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; extended&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// ...More middlewares&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// Return the express app&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; app&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Le loader mongo&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;loaders/mongoose.js&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; mongoose &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;mongoose&apos;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Promise&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;any&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; connection &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; mongoose&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;connect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DATABASE_URL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useNewUrlParser&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; connection&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;connection&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;db&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a name=&quot;conclusion&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Nous plongeons en profondeur dans la structure d‚Äôun projet node.js test√© en production, voici quelques conseils r√©sum√©s:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Utiliser une architecture √† 3 couches.&lt;/li&gt;
&lt;li&gt;Ne mettez pas votre logique m√©tier dans les contr√¥leurs express.js&lt;/li&gt;
&lt;li&gt;Ayez l‚Äôinjection de d√©pendance pour votre tranquillit√© d‚Äôesprit.&lt;/li&gt;
&lt;li&gt;Ne divulguez jamais vos mots de passe, secrets et cl√©s API, utilisez un gestionnaire de configuration.&lt;/li&gt;
&lt;li&gt;Divisez vos configurations de serveur node.js en petits modules qui peuvent √™tre charg√©s ind√©pendamment.&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Comment √©crire de meilleures conditions en JavaScript]]></title><description><![CDATA[1. Utilisez Array.includes pour plusieurs crit√®res Jetons un coup d‚Äôoeil √† l‚Äôexemple ci-dessous: √Ä premi√®re vue, l‚Äôexemple ci-dessus semble‚Ä¶]]></description><link>https://ludovicwyffels.dev/js-conditions/</link><guid isPermaLink="false">https://ludovicwyffels.dev/js-conditions/</guid><pubDate>Fri, 19 Apr 2019 08:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;1. Utilisez Array.includes pour plusieurs crit√®res&lt;/h2&gt;
&lt;p&gt;Jetons un coup d‚Äôoeil √† l‚Äôexemple ci-dessous:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// condition&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;fruit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fruit &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;apple&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; fruit &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;strawberry&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;red&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;√Ä premi√®re vue, l‚Äôexemple ci-dessus semble bon. Cependant, que se passe-t-il si nous obtenons plus de fruits rouges, par exemple des &lt;code&gt;cherry&lt;/code&gt; et des &lt;code&gt;cranberries&lt;/code&gt;? Allons-nous √©tendre la d√©claration avec plus &lt;code&gt;||&lt;/code&gt;?&lt;/p&gt;
&lt;p&gt;Nous pouvons r√©√©crire la condition ci-dessus en utilisant `Array.includes (&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/includes&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Array.includes&lt;/a&gt;):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;fruit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// extract conditions to array&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; redFruits &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;apple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;strawberry&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;cherry&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;cranberries&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;redFruits&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;includes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fruit&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;red&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;2. Moins d‚Äôembo√Ætements, retour h√¢tif&lt;/h2&gt;
&lt;p&gt;D√©veloppons l‚Äôexemple pr√©c√©dent pour inclure deux conditions suppl√©mentaires:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;si aucun fruit n‚Äôest fourni, lancer une erreur&lt;/li&gt;
&lt;li&gt;accept√©e et imprimer la quantit√© de fruits si elle d√©passe 10.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;fruit&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; quantity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; redFruits &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;apple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;strawberry&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;cherry&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;cranberries&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// condition 1: fruit must has value&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fruit&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// condition 2: must be red&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;redFruits&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;includes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fruit&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;red&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// condition 3: must be big quantity&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;quantity &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;big quantity&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;No fruit!&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// test results&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// error: No fruits&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;apple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// print: red&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;apple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// print: red, big quantity&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Regardez le code ci-dessus, nous avons:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1 instruction if / else qui filtre les conditions non valides&lt;/li&gt;
&lt;li&gt;3 niveaux de d√©clarations if imbriqu√© (conditions 1, 2 et 3)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Une r√®gle g√©n√©rale que je suis personnellement est le &lt;strong&gt;retour anticip√© lorsque des conditions invalides sont trouv√©es&lt;/strong&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token regex&quot;&gt;/_ return early when invalid conditions found _/&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;fruit&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; quantity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; redFruits &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;apple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;strawberry&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;cherry&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;cranberries&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// condition 1: throw error early&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;fruit&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;No fruit!&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// condition 2: must be red&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;redFruits&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;includes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fruit&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;red&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// condition 3: must be big quantity&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;quantity &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;big quantity&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;En faisant cela, nous avons un niveau moins de d√©clarations imbriqu√©es. Ce style de codage convient particuli√®rement lorsque vous avez une d√©claration &lt;code&gt;if&lt;/code&gt; long (imaginez que vous devez faire d√©filer l‚Äô√©cran jusqu‚Äôau bas de la page pour savoir qu‚Äôil existe une autre instruction, pas cool).&lt;/p&gt;
&lt;p&gt;Nous pouvons r√©duire davantage la nidification en inversant les conditions et en revenant plus t√¥t. Regardez la condition 2 ci-dessous pour voir comment nous proc√©dons :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token regex&quot;&gt;/_ return early when invalid conditions found _/&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;fruit&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; quantity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; redFruits &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;apple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;strawberry&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;cherry&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;cranberries&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;fruit&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;No fruit!&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// condition 1: throw error early&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;redFruits&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;includes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fruit&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// condition 2: stop when fruit is not red&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;red&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// condition 3: must be big quantity&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;quantity &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;big quantity&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;En inversant les conditions de la condition 2, notre code est maintenant exempt d‚Äôinstruction imbriqu√©e. Cette technique est utile lorsque la logique est longue et que nous voulons arr√™ter d‚Äôautres processus lorsqu‚Äôune condition n‚Äôest pas remplie.&lt;/p&gt;
&lt;p&gt;Cependant, ce n‚Äôest pas une &lt;strong&gt;r√®gle absolue&lt;/strong&gt;. Demandez-vous si cette version (sans imbrication) est meilleure / plus lisible que la pr√©c√©dente (condition 2 avec imbriqu√©e)?&lt;/p&gt;
&lt;p&gt;Pour moi, je le laisserais comme dans la version pr√©c√©dente (condition 2 avec imbriqu√©e) parce que:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;le code est court et simple, il est plus clair avec imbriqu√© si&lt;/li&gt;
&lt;li&gt;condition d‚Äôinversion peut impliquer plus de processus de pens√©e (augmentation de la charge cognitive)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Par cons√©quent, vise toujours &lt;strong&gt;moins de nidification et de retour anticip√©, mais n‚Äôen faites pas trop&lt;/strong&gt;. Il existe un article et une discussion sur StackOverflow qui approfondissent ce sujet si vous √™tes int√©ress√©:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.timoxley.com/post/47041269194/avoid-else-return-early&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Avoid Else, Return Early&lt;/a&gt; par Tim Oxley&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://softwareengineering.stackexchange.com/questions/18454/should-i-return-from-a-function-early-or-use-an-if-statement&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Discussion StackOverflow&lt;/a&gt; sur le style de programmation if/else&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;3. Utiliser les param√®tres de fonction par d√©faut et la destruction&lt;/h2&gt;
&lt;p&gt;Je suppose que le code ci-dessous pourrait vous sembler familier. Nous devons toujours v√©rifier les valeurs &lt;code&gt;null&lt;/code&gt; / &lt;code&gt;undefined&lt;/code&gt; et assigner des valeurs par d√©faut lorsque vous utilisez JavaScript:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;fruit&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; quantity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;fruit&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; q &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; quantity &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// if quantity not provided, default to one&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;We have &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;q&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;fruit&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//test results&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;banana&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// We have 1 banana!&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;apple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// We have 2 apple!&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;En fait, on peut √©liminer la variable q en assignant des param√®tres de fonction par d√©faut.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;fruit&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; quantity &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// if quantity not provided, default to one&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;fruit&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;We have &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;quantity&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;fruit&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//test results&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;banana&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// We have 1 banana!&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;apple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// We have 2 apple!&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Beaucoup plus facile et intuitif n‚Äôest-ce pas? Veuillez noter que chaque param√®tre peut avoir son propre param√®tre de fonction par d√©faut. Par exemple, nous pouvons aussi assigner une valeur par d√©faut aux fruits: &lt;code&gt;function test (fruit = &apos;unknown&apos;, quantity = 1)&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Et si notre &lt;code&gt;fruit&lt;/code&gt; est un objet? Peut-on assigner un param√®tre par d√©faut?&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;fruit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; 
  &lt;span class=&quot;token comment&quot;&gt;// printing fruit name if value provided&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fruit &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; fruit&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fruit&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;unknown&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//test results&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// unknown&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// unknown&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;apple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;red&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// apple&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Regardez l‚Äôexemple ci-dessus : nous voulons afficher le nom du fruit s‚Äôil est disponible ou nous allons afficher inconnus. Nous pouvons √©viter le contr√¥le conditionnel de &lt;code&gt;fruit &amp;#x26;&amp;#x26; fruit.name&lt;/code&gt; avec le param√®tre de fonction par d√©faut et la destruction.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// destructing - get name property only&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// assign default empty object {}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;unknown&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//test results&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// unknown&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// unknown&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;apple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;red&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// apple&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Puisque nous n‚Äôavons besoin que de la propri√©t√© &lt;code&gt;name&lt;/code&gt; de fruit, nous pouvons d√©structurer le param√®tre en utilisant &lt;code&gt;{name}&lt;/code&gt;, alors nous pouvons utiliser &lt;code&gt;name&lt;/code&gt; comme variable dans notre code au lieu de &lt;code&gt;fruit.name&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Nous assignons aussi l‚Äôobjet vide &lt;code&gt;{}&lt;/code&gt; comme valeur par d√©faut. Si nous ne le faisons pas, vous obtiendrez une erreur lors de l‚Äôex√©cution de la ligne &lt;code&gt;test(undefined)&lt;/code&gt; - &lt;code&gt;Cannot destructure property name of &apos;undefined&apos; or &apos;null&apos;.&lt;/code&gt; car il n‚Äôy a pas de propri√©t√© &lt;code&gt;name&lt;/code&gt; dans undefined.&lt;/p&gt;
&lt;p&gt;Si cela ne vous d√©range pas d‚Äôutiliser des biblioth√®ques tierces, il y a plusieurs fa√ßons de r√©duire les contr√¥les nuls:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;utiliser la &lt;a href=&quot;https://lodash.com/docs/4.17.11#get&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;fonction get de Lodash&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;utiliser la biblioth√®que open source &lt;a href=&quot;https://github.com/facebookincubator/idx&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;idx&lt;/a&gt; de Facebook (avec Babeljs)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Voici un exemple d‚Äôutilisation de Lodash:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Include lodash library, you will get _&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;fruit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fruit&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;name&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;unknown&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// get property name, if not available, assign default value &apos;unknown&apos;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//test results&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// unknown&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// unknown&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;apple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;red&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// apple&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;4. Favorisez Map / Objet Litt√©ral par rapport √† l‚Äôinstruction Switch&lt;/h2&gt;
&lt;p&gt;Regardons l‚Äôexemple ci-dessous - nous voulons afficher des fruits en fonction de la couleur:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// use switch case to find fruits in color&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;color&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;red&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;apple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;strawberry&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;yellow&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;banana&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;pineapple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;purple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;grape&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;plum&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//test results&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// []&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;yellow&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// [&apos;banana&apos;, &apos;pineapple&apos;]&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Le code ci-dessus ne semble rien de mal, mais je le trouve assez verbeux. Le m√™me r√©sultat peut √™tre obtenu avec un objet litt√©ral avec une syntaxe plus prore:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// use object literal to find fruits in color&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fruitColor &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    red&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;apple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;strawberry&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    yellow&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;banana&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;pineapple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    purple&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;grape&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;plum&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; fruitColor&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;color&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Vous pouvez √©galement utiliser &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Map&lt;/a&gt; pour obtenir le m√™me r√©sultat:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// use Map to find fruits in color&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fruitColor &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;red&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;apple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;strawberry&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;yellow&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;banana&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;pineapple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;purple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;grape&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;plum&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; fruitColor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;color&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Map est le type d‚Äôobjet disponible depuis ES2015, qui vous permet d‚Äôenregistrer des paires de cl√©s/valeur.&lt;/p&gt;
&lt;p&gt;Devrions-nous interdire l‚Äôutilisation des d√©clarations switch? Ne vous limitez pas √† cela. Personnellement, j‚Äôutilise des objets litt√©raux chaque fois que c‚Äôest possible, mais je n‚Äô√©tablirais pas une r√®gle stricte pour bloquer cela - utilisez celui qui a un sens pour votre sc√©nario.&lt;/p&gt;
&lt;p&gt;Todd Motto a un article qui creuse plus en profondeur sur les d√©clarations switch par rapport aux objets litt√©raux. Vous pouvez le lire &lt;a href=&quot;https://toddmotto.com/deprecating-the-switch-statement-for-object-literals/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;ici&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;Refonte de la syntaxe&lt;/h3&gt;
&lt;p&gt;Pour l‚Äôexemple ci-dessus, nous pouvons r√©ellement refactoriser notre code pour obtenir le m√™me r√©sultat avec &lt;code&gt;Array.filter&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fruits &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;apple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;red&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;strawberry&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;red&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;banana&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;yellow&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;pineapple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;yellow&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;grape&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;purple&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;plum&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;purple&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// use Array filter to find fruits in color&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; fruits&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; f&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;color &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Il y a toujours plus d‚Äôune fa√ßon d‚Äôobtenir le m√™me r√©sultat. Nous en avons montr√© 4 avec le m√™me exemple. Coder, c‚Äôest amusant !&lt;/p&gt;
&lt;h2&gt;5. Utilisez Array.every &amp;#x26; Array.some pour tous les crit√®res / crit√®res partiels&lt;/h2&gt;
&lt;p&gt;Ce dernier conseil concerne l‚Äôutilisation de la nouvelle fonction JavaScript Array (mais pas si nouvelle) pour r√©duire les lignes de code. Regardez le code ci-dessous - nous voulons v√©rifier si tous les fruits sont de couleur rouge:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fruits &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;apple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;red&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;banana&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;yellow&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;grape&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;purple&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; isAllRed &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// condition: all fruits must be red&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; f &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; fruits&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;isAllRed&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    isAllRed &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;f&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;color &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;red&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;isAllRed&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// false&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Le code est si long ! Nous pouvons r√©duire le nombre de lignes avec &lt;code&gt;Array.every&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fruits &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;apple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;red&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;banana&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;yellow&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;grape&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;purple&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// condition: short way, all fruits must be red&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; isAllRed &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; fruits&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;every&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; f&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;color &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;red&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;isAllRed&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// false&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;C‚Äôest plus propre, non ? De la m√™me mani√®re, si nous voulons tester si un fruit est rouge, nous pouvons utiliser Array.some pour l‚Äôobtenir en une ligne.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fruits &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;apple&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;red&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;banana&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;yellow&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;grape&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;purple&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// condition: if any fruit is red&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; isAnyRed &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; fruits&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;some&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; f&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;color &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;red&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;isAnyRed&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// true&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;R√©sum√©&lt;/h2&gt;
&lt;p&gt;Produisons ensemble un code plus lisible. J‚Äôesp√®re que vous avez appris quelque chose de nouveau dans cet article.&lt;/p&gt;
&lt;p&gt;Happy coding!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Comment utiliser la console JavaScript aller au-del√† de console.log()]]></title><description><![CDATA[Comment utiliser la console JavaScript aller au-del√† de console.log() L‚Äôun des moyens les plus simples de d√©boguer quoi que ce soit en‚Ä¶]]></description><link>https://ludovicwyffels.dev/js-console-log/</link><guid isPermaLink="false">https://ludovicwyffels.dev/js-console-log/</guid><pubDate>Thu, 18 Apr 2019 08:00:00 GMT</pubDate><content:encoded>&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-javascript line-numbers&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// In your gatsby-config.js&lt;/span&gt;
plugins&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    resolve&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;gatsby-transformer-remark&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    options&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      plugins&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;gatsby-remark-prismjs&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h1&gt;Comment utiliser la console JavaScript aller au-del√† de console.log()&lt;/h1&gt;
&lt;p&gt;L‚Äôun des moyens les plus simples de d√©boguer quoi que ce soit en JavaScript consiste √† &lt;code&gt;console.log&lt;/code&gt; des √©l√©ments √† l‚Äôaide de &lt;code&gt;console.log&lt;/code&gt;. Mais il y a beaucoup d‚Äôautres m√©thodes fournies par la console qui peuvent vous aider √† mieux d√©boguer.&lt;/p&gt;
&lt;p&gt;Le cas d‚Äôutilisation tr√®s simple consiste √† enregistrer une cha√Æne ou un groupe d‚Äôobjets JavaScript. Tout simplement,&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Is this working?&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Imaginons maintenant un sc√©nario o√π vous devez vous connecter √† la console pour regrouper plusieurs objets.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; foo &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; verified&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;green&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; bar &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; verified&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;red&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Le moyen le plus intuitif de consigner cela consiste √† simplement &lt;code&gt;console.log(variable)&lt;/code&gt; une apr√®s l‚Äôautre. Le probl√®me est plus √©vident quand on voit comment il appara√Æt sur la console.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;&quot; alt=&quot;Aucun nom de variable visible&quot;&gt;&lt;/p&gt;
&lt;p&gt;Comme vous pouvez le constater, aucun nom de variable n‚Äôest visible. Cela devient extr√™mement ennuyeux lorsque vous en avez beaucoup et que vous devez agrandir la petite fl√®che √† gauche pour voir quel est exactement le nom de la variable. Entrez les noms de propri√©t√© calcul√©s. Cela nous permet de regrouper toutes les variables ensemble dans un seul &lt;code&gt;console.log({ foo, bar });&lt;/code&gt; et la sortie est facilement visible. Cela r√©duit √©galement le nombre de lignes &lt;code&gt;console.log&lt;/code&gt; dans notre code.&lt;/p&gt;
&lt;h2&gt;console.table()&lt;/h2&gt;
&lt;p&gt;Nous pouvons aller plus loin en pla√ßant tout cela dans un tableau pour le rendre plus lisible. Chaque fois que vous avez des objets avec des propri√©t√©s communes ou un tableau d‚Äôobjets, utilisez &lt;code&gt;console.table()&lt;/code&gt;. Ici, nous pouvons utiliser &lt;code&gt;console.table({ foo, bar})&lt;/code&gt; et la console affiche:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;&quot; alt=&quot;console.table en action&quot;&gt;&lt;/p&gt;
&lt;h2&gt;console.group()&lt;/h2&gt;
&lt;p&gt;Cela peut √™tre utilis√© lorsque vous souhaitez regrouper ou imbriquer des d√©tails pertinents afin de pouvoir facilement lire les journaux.&lt;/p&gt;
&lt;p&gt;Cela peut √©galement √™tre utilis√© lorsque vous avez quelques instructions de journal dans une fonction et que vous voulez pouvoir voir clairement l‚Äô√©tendue correspondant √† chaque instruction.&lt;/p&gt;
&lt;p&gt;Par exemple, si vous enregistrez les d√©tails d‚Äôun utilisateur:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;group&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;User Details&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;name: John Doe&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;job: Software Developer&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Nested Group&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;group&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Address&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Street: 123 Townsend Street&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;City: San Francisco&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;State: CA&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;groupEnd&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;groupEnd&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;&quot; alt=&quot;Logs group√©s&quot;&gt;&lt;/p&gt;
&lt;p&gt;Vous pouvez √©galement utiliser &lt;code&gt;console.groupCollapsed()&lt;/code&gt; au lieu de &lt;code&gt;console.group()&lt;/code&gt; si vous souhaitez que les groupes soient r√©duits par d√©faut. Vous auriez besoin d‚Äôappuyer sur le bouton de descripteur sur la gauche pour d√©velopper.&lt;/p&gt;
&lt;h2&gt;console.warn() et console.error()&lt;/h2&gt;
&lt;p&gt;Selon la situation, pour vous assurer que votre console est plus lisible, vous pouvez ajouter des logs √† l‚Äôaide de &lt;code&gt;console.warn()&lt;/code&gt; ou &lt;code&gt;console.error()&lt;/code&gt; . Il y a aussi &lt;code&gt;console.info()&lt;/code&gt; qui affiche une ic√¥ne ‚Äòi‚Äô dans certains navigateurs.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;&quot; alt=&quot;Log d&amp;#x27;avertissement et d&amp;#x27;erreur&quot;&gt;&lt;/p&gt;
&lt;p&gt;Cela peut √™tre pouss√© plus loin en ajoutant un style personnalis√©. Vous pouvez utiliser une directive &lt;code&gt;%c&lt;/code&gt; pour ajouter un style √† toute instruction de journal. Cela peut √™tre utilis√© pour diff√©rencier les appels d‚ÄôAPI, les √©v√©nements utilisateur, etc. en conservant une convention. Voici un exemple:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;%c Auth &apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
            &lt;span class=&quot;token string&quot;&gt;&apos;color: white; background-color: #2274A5&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
            &lt;span class=&quot;token string&quot;&gt;&apos;Login page rendered&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;%c GraphQL &apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
            &lt;span class=&quot;token string&quot;&gt;&apos;color: white; background-color: #95B46A&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
            &lt;span class=&quot;token string&quot;&gt;&apos;Get user details&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;%c Error &apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
            &lt;span class=&quot;token string&quot;&gt;&apos;color: white; background-color: #D33F49&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
            &lt;span class=&quot;token string&quot;&gt;&apos;Error getting user details&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Vous pouvez √©galement modifier la &lt;code&gt;font-size&lt;/code&gt; et le &lt;code&gt;font-style&lt;/code&gt; ainsi que d‚Äôautres √©l√©ments CSS.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;&quot; alt=&quot;Relev√© des instructions console.log&quot;&gt;&lt;/p&gt;
&lt;h2&gt;console.trace()&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;console.trace()&lt;/code&gt; une trace de pile dans la console et indique comment le code s‚Äôest termin√© √† un moment donn√©. Il existe certaines m√©thodes que vous ne souhaitez appeler qu‚Äôune seule fois, comme la suppression d‚Äôune base de donn√©es. &lt;code&gt;console.trace()&lt;/code&gt; peut √™tre utilis√© pour s‚Äôassurer que le code se comporte comme nous le voulons.&lt;/p&gt;
&lt;h2&gt;console.time()&lt;/h2&gt;
&lt;p&gt;Une autre chose importante en mati√®re de d√©veloppement front-end est que le code doit √™tre rapide. `console.time() permet de chronom√©trer certaines op√©rations dans le code √† des fins de test.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;While loop&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;timeEnd&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;While loop&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;For loop&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// For Loop&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;timeEnd&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;For loop&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;&quot; alt=&quot;Sortie console.time() pour les boucles&quot;&gt;&lt;/p&gt;
&lt;p&gt;Esp√©rons que l‚Äôarticle fournisse des informations sur les diff√©rentes mani√®res d‚Äôutiliser la console.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Bienvenue sur mon blog]]></title><description><![CDATA[Gatsby est un g√©n√©rateur de site statique pour React.js qui permet √† l‚Äôutilisateur de cr√©er des sites Web rapides et dynamiques. Gatsby se‚Ä¶]]></description><link>https://ludovicwyffels.dev/gatsby-welcome/</link><guid isPermaLink="false">https://ludovicwyffels.dev/gatsby-welcome/</guid><pubDate>Wed, 17 Apr 2019 08:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Gatsby est un g√©n√©rateur de site statique pour React.js qui permet √† l‚Äôutilisateur de cr√©er des sites Web rapides et dynamiques. Gatsby se concentre sur l‚Äôoptimisation des appareils mobiles et cr√©e automatiquement une PWA (Progressive Web App). Le site Web est aliment√© par diverses sources: Markdown, CMS, API, bases de donn√©es et bien d‚Äôautres.&lt;/p&gt;
&lt;h2&gt;Pourquoi Gatsby.js?&lt;/h2&gt;
&lt;p&gt;J‚Äôai longtemps repouss√© la relance de mon site, √©galement parce que je n‚Äôavais pas trouv√© de solution ad√©quate pour un blog. Souvent, la configuration √©tait trop compliqu√©e, les possibilit√©s trop petites; mais je ne voulais pas non plus √©crire du code HTML pur pour mes articles de blog. Avec la popularit√© croissante de React.js, je ne pouvais pas √©chapper √† cet hype m√©diatique et me lire moi-m√™me. Comme je pensais d√©j√† en termes de composants dans la phase de conception, React.js √©tait la prochaine √©tape logique.&lt;/p&gt;
&lt;p&gt;Au d√©but de 2019, j‚Äôai d√©couvert Gatsby.js et j‚Äô√©tais enthousiasm√© par la possibilit√© d‚Äô√©crire mon site Web avec React ainsi que les messages de mon blog avec Markdown ou un CMS ‚Äúheadless‚Äù (par exemple, Contentful ou Prismic). Cela vous demande beaucoup de travail et vous permet de d√©marrer facilement.&lt;/p&gt;
&lt;h2&gt;Magie (GraphQL)&lt;/h2&gt;
&lt;p&gt;Pour obtenir les donn√©es des fichiers Markdown, des CMS, etc. dans React et enfin √† l‚Äô√©cran, Gatsby utilise le langage de requ√™te GraphQL. La communaut√© d√©j√† mentionn√©e fournit certains plugins (par exemple, Contentful, Drupal, Lever, Medium, Wordpress, MongoDB, Markdown, Prismic) pour obtenir les donn√©es. L‚Äôutilisation ult√©rieure de GraphQL est un jeu d‚Äôenfant:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;graphql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-graphql line-numbers&quot;&gt;&lt;code class=&quot;language-graphql&quot;&gt;export const pageQuery &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; graphql`
  &lt;span class=&quot;token keyword&quot;&gt;query&lt;/span&gt; ProjectsQuery &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    allMarkdownRemark&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token attr-name&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;
      &lt;span class=&quot;token attr-name&quot;&gt;sort&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;fields&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;frontmatter___date&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;DESC&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token attr-name&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;fields&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;sourceInstanceName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;eq&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;projects&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      edges &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        node &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          fields &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            slug
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          frontmatter &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            title
            customer
            cover &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
              childImageSharp &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                fluid&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token attr-name&quot;&gt;maxWidth&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;quality&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;95&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                  base64
                  aspectRatio
                  src
                  srcSet
                  sizes
                  originalImg
                  originalName
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
              &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
`&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Avec cette requ√™te, vous obtenez tous les projets (y compris les donn√©es de Frontmatter) pour les sous-pages de projet, tri√©s par date (en supposant une configuration ad√©quate). Afin de g√©n√©rer les images appropri√©es pour chaque taille d‚Äô√©cran, un autre plug-in, qui utilise la biblioth√®que Sharp, prend les images d√©finies dans le fichier Markdown et en cr√©e des images dans plusieurs tailles. Si vous rencontrez des probl√®mes avec la requ√™te, vous pouvez utiliser le d√©bogueur graphique interactif GraphiQL pour afficher des suggestions et tester la requ√™te vous-m√™me - le d√©bogueur cr√©e automatiquement sa propre documentation.&lt;/p&gt;
&lt;p&gt;Ces donn√©es peuvent ensuite √™tre utilis√©es dans les composants React comme ceci:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-jsx line-numbers&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;allMarkdownRemark&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;edges&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;frontmatter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;title&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Quoi d‚Äôautre‚Ä¶ ?&lt;/h2&gt;
&lt;p&gt;La cr√©ation de mon site Web a √©t√© extr√™mement rapide avec React. J‚Äôai √©galement beaucoup appris sur les PWA et continuerai √† essayer d‚Äôam√©liorer le score de Lighthouse Score de Google. Le site Web est open source et peut √™tre consult√© sur GitHub √† des fins d‚Äôapprentissage.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Configuration d'un serveur OpenVPN sur Google Compute Engine]]></title><description><![CDATA[J‚Äôai r√©cemment commenc√© √† utiliser OpenVPN et √† profiter des diff√©rentes options qu‚Äôil propose, notamment le masquage du trafic VPN sous TCP‚Ä¶]]></description><link>https://ludovicwyffels.dev/openvpn-google/</link><guid isPermaLink="false">https://ludovicwyffels.dev/openvpn-google/</guid><pubDate>Sun, 14 Apr 2019 08:00:00 GMT</pubDate><content:encoded>&lt;p&gt;J‚Äôai r√©cemment commenc√© √† utiliser OpenVPN et √† profiter des diff√©rentes options qu‚Äôil propose, notamment le masquage du trafic VPN sous TCP:443 (autrement appel√© HTTPS). Personnellement, j‚Äôaime utiliser GCE pour h√©berger mes VPN, car je profite de la puissance et de la personnalisation que cela procure.&lt;/p&gt;
&lt;p&gt;Cependant, il n‚Äôy avait absolument aucun tutoriel sur la configuration d‚ÄôOpenVPN sur GCE. Il existe 10 √©tapes dans ce didacticiel, mais chaque √©tape peut ex√©cuter plusieurs lignes de code.&lt;/p&gt;
&lt;p&gt;Si vous essayez simplement d‚Äôajouter plus de clients, passer aux √©tapes 4, 9 et 10.&lt;/p&gt;
&lt;h2&gt;Table des mati√®res&lt;/h2&gt;
&lt;p&gt;[[toc]]&lt;/p&gt;
&lt;h2&gt;1. Cr√©ation de l‚Äôinstance&lt;/h2&gt;
&lt;p&gt;Nous voulons utiliser une instance &lt;code&gt;n1-standard-1&lt;/code&gt; pour sa durabilit√© et son co√ªt. Dirigez-vous vers le moteur de calcul et cliquez sur ‚ÄúCREATE INSTANCE‚Äù.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 450px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/bc1d8c0fe43fbdbd290421761c57cb77/cac3d/1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 139.33333333333334%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAcCAIAAADuuAg3AAAACXBIWXMAAAsSAAALEgHS3X78AAACjUlEQVQ4y41Uh3KjMBDV///cZeZcEhfsuFJtBAihyj1JPkJsp7zBO2vBtrfaJZvNZrVaLZdLSqkxRkqplJIeXdfhxHr0Iwx/SFmWRVFcPWBfegS9rms4cl+P4G3dA7/EWkPpNUliKDhCVK01DCDhIs/z8/kMdyGU0jajMr7IhruPiZDqQtvi2jStbLmsG8F5JzoHRG6apvYQwp25orQVyoZqiBA6p/pS60ulKXOSMY7EK49gDwUShTDGhspD2vbGgjXWaGu1J+k/N4CP4iP1/t8NqIugqsPhAK+h1A9KRyQPPN3RTtq2RZ92u12SJO/v76Bnv9+fPKDjHLKoVFYqyP4zCOfcFcaYUhqNQfwgAeQWdCSu/XNvjIAIQssCBfdfY9zqoWwCr43s16mlTB2Pe/gCBTsPKHuPNE0f3TljpJVVZpPqkpkiz1DBECdkHm7oc2N8AOOisZ00uOJRtAmRERCvH23AAnjdbre4M8QNg3KWSn80cCDsETgPMwMvBJ1AaSgVShzHaDv4v2PoKxBcD6QBs+PxCBdo+zCGd9w+AndbRFG0WCxms9l6vQ71oGz4ClclZHgHZAdDIoWoKoyum54QNtwTQHh8F7lu+GQevb29TqdTbJUsyzBAoRNPO3TXZ3M4pS8vf2bz+WQy+euBzNEqEPGDMX5tyy4e2BiQ2EoD4T8Yj+fulyR/zDPiIL1xh4Zqx46e9xmrb7t1PGHdIe2wfahHUCDxCr0IuzXQeRtJ1naRW91rbO/X+WsgKWzvW88g9SeMjLnK0iTPEriO4xMGq/810Cpb1Lao7LU2VdtD5tRtnItbPRLbp2w0ZF6pJ5sER22nWae5MJ0wvDNOkXgsF3hlhDTcP+ahc/8AbrFWxxhIqn8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/bc1d8c0fe43fbdbd290421761c57cb77/14b47/1.webp 293w,
/static/bc1d8c0fe43fbdbd290421761c57cb77/8a5f6/1.webp 450w&quot;
          sizes=&quot;(max-width: 450px) 100vw, 450px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/bc1d8c0fe43fbdbd290421761c57cb77/b6dd9/1.png 293w,
/static/bc1d8c0fe43fbdbd290421761c57cb77/cac3d/1.png 450w&quot;
          sizes=&quot;(max-width: 450px) 100vw, 450px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/bc1d8c0fe43fbdbd290421761c57cb77/cac3d/1.png&quot;
          alt=&quot;1&quot;
          title=&quot;1&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Configurez-le avec les options affich√©es, mais n‚Äôappuyez pas encore sur ‚ÄúCr√©er‚Äù&lt;/p&gt;
&lt;p&gt;Si vous ne voyez pas l‚Äôimage, nous utilisons une instance &lt;code&gt;n1-standard-1&lt;/code&gt; (1 vCPU, 3,75 Go de m√©moire) avec Ubuntu 16.04 LTS install√© (vous pouvez choisir un espace de stockage, mais 10 Go suffisent). Puisque notre VPN utilisera TCP: 443, nous devons autoriser le trafic HTTPS maintenant ou plus tard. Vous pouvez donc √©galement le faire imm√©diatement.&lt;/p&gt;
&lt;p&gt;Appuyez sur le bouton ‚ÄúGestion, s√©curit√©, disques, r√©seau, ‚Ä¶‚Äù pour ouvrir les options avanc√©es. Cliquez sur l‚Äôonglet R√©seau et cliquez sur le bouton d‚Äô√©dition en regard de l‚Äôinterface r√©seau s√©lectionn√©e.&lt;/p&gt;
&lt;p&gt;Cliquez sur le menu d√©roulant ‚ÄúAdresse IP externe‚Äù et s√©lectionnez ‚ÄúCr√©er une adresse IP‚Äù. Entrez un nom, puis appuyez sur ‚ÄúR√©server‚Äù. Cette op√©ration associera une adresse IP statique √† votre instance, ce qui est probablement ce que vous voulez, sauf si vous souhaitez r√©g√©n√©rer les fichiers de configuration de quelque temps. En ce qui concerne les frais, Google ne facture pas les adresses IP statiques pendant leur utilisation. La machine &lt;code&gt;n1-standard-1&lt;/code&gt; ne devrait pas vous co√ªter plus de 30 $ par mois. Certes, cela co√ªte un peu plus cher que la plupart des services VPN, mais la plupart des services VPN ne vous donnent pas un contr√¥le total :)&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 467px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/73eb40d4f0bb7c23d2790b3c426d1575/e6f90/2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 121.84154175588866%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAIAAAB1KUohAAAACXBIWXMAAAsSAAALEgHS3X78AAAB1UlEQVQ4y5VUy47TMBT1zwE7FgiEWIOQALFkPWyQGDTLEa8VX8DHdAWVyqR5x06TJnEcv+JyOq7YMXGPnKsq9fU9957jkMufzYvr6vXX6s03+uoLfX5dhayXn+nb74y8+8GefCqfXpXProrHl/mD9+n9i4V17yJ9+CF79DEnwziVrN3teT8qIa3Uc8iatBsnTeQ0rX//urn5o7U6uNmFLWu0NYZYa7uua9vWOWeM0SYI0zQppYiUklLKGNvv9zjoEAxsJlrrKIrW63VxizRNd7vdPM94v1wZm/q+B/NhGBA55+Bil+CPIOM4RtttFG03m00cx03TGmPdEkDtmIzKtCqLIisRijxLk7ZtjpO7E0KII21wEOowCDeIuR9txyGjCx0YivBRNp3ouJLKcTFrEzxtEIjjbZomjFEYRisJt4T2jIfVdVGUjNWwSl3XFaX/5vk/nHrGGRAtyzJYpaoqiAy1kHx35RNtJOMY+ASZkM3r7P9e7hlbkZYkSZ7n0OA8e4K6rwkgGUQWG8aGkz3x4EqgPpLhU0S8CbEnKnmp4tVqhVjeAvnnmIRzXCZEbz3PPKQ48T140UEYcQ7D6WJgYGgbCuMH3p73MUDbGBgGiG49ixAg8S/mDk08LO0x+gAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/73eb40d4f0bb7c23d2790b3c426d1575/14b47/2.webp 293w,
/static/73eb40d4f0bb7c23d2790b3c426d1575/b03d0/2.webp 467w&quot;
          sizes=&quot;(max-width: 467px) 100vw, 467px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/73eb40d4f0bb7c23d2790b3c426d1575/b6dd9/2.png 293w,
/static/73eb40d4f0bb7c23d2790b3c426d1575/e6f90/2.png 467w&quot;
          sizes=&quot;(max-width: 467px) 100vw, 467px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/73eb40d4f0bb7c23d2790b3c426d1575/e6f90/2.png&quot;
          alt=&quot;2&quot;
          title=&quot;2&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Vos interfaces r√©seau doivent ressembler √† l‚Äôimage. &lt;strong&gt;Veillez √† activer le transfert IP&lt;/strong&gt;, car cela ne peut plus √™tre modifi√© apr√®s la cr√©ation de l‚Äôinstance.&lt;/p&gt;
&lt;p&gt;En r√®gle g√©n√©rale, vous souhaiterez probablement garder votre adresse IP externe secr√®te. Cela ne me d√©range pas de rendre celui-ci public, car cette instance n‚Äôexistera pas lorsque vous lirez ce tutoriel, et l‚Äôadresse IP appartiendra probablement √† quelqu‚Äôun d‚Äôautre.&lt;/p&gt;
&lt;p&gt;Appuyez sur ‚ÄúTermin√©‚Äù et ‚ÄúCr√©er‚Äù. Une fois l‚Äôinstance pr√™te (un bouton ‚ÄúSSH‚Äù noir appara√Ætra), cliquez ou double-cliquez sur le bonton ‚ÄúSSH‚Äù pour ouvrir une fen√™tre SSH. Le reste de la configuration se fera sur cette machine, que nous appellerons le ‚Äúserver‚Äù.&lt;/p&gt;
&lt;h2&gt;2. Installation OpenVPN et EasyRSA&lt;/h2&gt;
&lt;p&gt;OpenVPN est (√©videmment) le serveur VPN que nous utilisons, et EasyRSA est un paquet qui nous permettra de configurer une autorit√© de certification interne √† utiliser.&lt;/p&gt;
&lt;p&gt;Bien que ce ne soit g√©n√©ralement pas le cas, pour cette configuration, il est souvent n√©cessaire de lancer une mise √† jour d‚Äôapt pour pouvoir installer un ou les deux packages. Les deux d‚Äôentre eux sont dans les d√©p√¥ts par d√©faut d‚ÄôUbuntu.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;apt-get&lt;/span&gt; update
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;apt-get&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; openvpn easy-rsa&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Temps de configurer.&lt;/p&gt;
&lt;h2&gt;3. Mise en place du CA&lt;/h2&gt;
&lt;p&gt;Comme OpenVPN utilise TLS/SSL, il a besoin de certificats pour chiffrer le trafic. Pour cela, nous devrons √©mettre nos propres certificats de confiance, ce que nous pouvons faire √† l‚Äôaide de la CA que nous sommes sur le point de configurer.&lt;/p&gt;
&lt;p&gt;Commen√ßons par copier le &lt;code&gt;easy-rsa&lt;/code&gt; de mod√®les du paquet &lt;code&gt;easy-rsa&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;make-cadir ~/openvpn-ca
&lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; ~/openvpn-ca&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Il y a des valeurs que nous pouvons vouloir √©diter, alors allons-y et &lt;code&gt;nano vars&lt;/code&gt;. Si vous voulez utiliser vim, continuez, mais puisque j‚Äôessaie de garder mes tutoriels aussi simples que possible, j‚Äôutilise nano.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;√Ä partir de ce moment, s‚Äôil y a une partie d‚Äôune commande qui d√©pend d‚Äôune valeur que vous choisissez, elle sera en gras. Tout le code qui n‚Äôest pas g√©n√©r√© par un utilisateur sera en italique.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Faites d√©filer vers le bas du fichier (ce n‚Äôest pas trop long) et vous devriez trouver ce qui suit:&lt;/p&gt;
&lt;div class=&quot;language-text extra-class&quot;&gt;
&lt;pre class=&quot;language-text code&quot;&gt;
export KEY_COUNTRY=&quot;&lt;b&gt;US&lt;/b&gt;&quot;
export KEY_PROVINCE=&quot;&lt;b&gt;CA&lt;/b&gt;&quot;
export KEY_CITY=&quot;&lt;b&gt;SanFrancisco&lt;/b&gt;&quot;
export KEY_ORG=&quot;&lt;b&gt;Fort-Funston&lt;/b&gt;&quot;
export KEY_EMAIL=&quot;&lt;b&gt;me@myhost.mydomain&lt;/b&gt;&quot;
export KEY_OU=&quot;&lt;b&gt;MyOrganizationalUnit&lt;/b&gt;&quot;
&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;√âditez autant d‚Äôentre eux (ou aucun d‚Äôeux) que vous le souhaitez. Juste en dessous de ces valeurs devrait √™tre &lt;code&gt;export KEY_NAME=&quot;EasyRSA&quot;&lt;/code&gt;. Pour simplifier notre configuration, nous allons modifier cette ligne comme suit:&lt;/p&gt;
&lt;div class=&quot;language-text extra-class&quot;&gt;
&lt;pre class=&quot;language-text code&quot;&gt;
export KEY_NAME=&quot;&lt;b&gt;server&lt;/b&gt;&quot;
&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Enregistrez et fermez le fichier (ctrl + x, y, entrez). Les variables que nous venons de modifier seront utilis√©es pour le processus de signature de notre autorit√© de certification. Toujours dans le &lt;code&gt;openvpn-ca&lt;/code&gt;, ex√©cutez la commande suivante:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;source&lt;/span&gt; vars&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Si vous avez bien fait, le re &lt;code&gt;NOTE: If you run ./clean-all, I will be doing a rm -rf on /home/&lt;b&gt;username&lt;/b&gt;/openvpn-ca/keys&lt;/code&gt;. C‚Äôest ce que nous voulons. Pour assurer un environnement de travail propre, nous allons lancer &lt;code&gt;./clean-all&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Maintenant, construisons le CA&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;./build-ca&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Toutes les variables que nous avons d√©j√† d√©finies doivent se renseigner elles-m√™mes. Il suffit donc d‚Äôy acc√©der en appuyant plusieurs fois sur Entr√©e. √Ä la fin, vous aurez une autorit√© de certification pr√™te √† commencer √† signer.&lt;/p&gt;
&lt;p&gt;Nous avons √©galement besoin d‚Äôun certificat de serveur et d‚Äôune cl√© de cryptage pour garantir la s√©curit√© de notre trafic.&lt;/p&gt;
&lt;p&gt;Cr√©ons notre certificat de serveur et notre cl√©.&lt;/p&gt;
&lt;div class=&quot;language-bash extra-class&quot;&gt;
&lt;pre class=&quot;language-bash code&quot;&gt;
./build-key-server &lt;b&gt;server&lt;/b&gt;
&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Passer √† nouveau les invites de commande. Nous n‚Äôentrerons pas un mot de passe, cette fois. Les deux derni√®res invites vous obligent √† entrer &lt;code&gt;y&lt;/code&gt; pour signer le certificat. Assurez-vous de ne pas les ignorer!&lt;/p&gt;
&lt;p&gt;Comme indiqu√© pr√©c√©demment, nous avons √©galement besoin d‚Äôune cl√© de chiffrement. Pour les besoins de ce didacticiel, nous allons g√©n√©rer une cl√© Diffie-Hellman, qui a tendance √† √™tre plut√¥t forte. Bien s√ªr, une grande [force] entra√Æne une grande [inefficacit√©]. Par cons√©quent, quelle que soit votre syst√®me, la commande suivante prendra probablement quelques minutes.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;./build-dh&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nous renforcerons cela avec une signature HMAC, afin de nous assurer que la v√©rification de l‚Äôint√©grit√© TLS est plus s√ªre.&lt;/p&gt;
&lt;div class=&quot;language-bash extra-class&quot;&gt;
&lt;pre class=&quot;language-bash code&quot;&gt;
openvpn --genkey --secret keys/&lt;b&gt;tiv&lt;/b&gt;.key
&lt;/pre&gt;
&lt;/div&gt;
&lt;h2&gt;4. G√©n√©rer un certificat client&lt;/h2&gt;
&lt;p&gt;Naturellement, si vous allez utiliser une autorit√© de certification, votre client doit √©galement disposer d‚Äôun certificat. Bien que vous puissiez le faire sur votre ordinateur client et que le serveur le signe, nous essayons de garder les choses simples et h√©berg√©es sur un seul ordinateur.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Si vous avez plusieurs clients, vous pouvez suivre cette √©tape plusieurs fois. Assurez-vous simplement de rendre vos noms de client uniques.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Assurez-vous que vous √™tes dans le &lt;code&gt;openvpn-ca&lt;/code&gt; et que votre fichier vars est synchronis√©.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; ~/openvpn-ca
&lt;span class=&quot;token builtin class-name&quot;&gt;source&lt;/span&gt; vars&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Maintenant, nous allons construire une cl√© client en tant que telle:&lt;/p&gt;
&lt;div class=&quot;language-bash extra-class&quot;&gt;
&lt;pre class=&quot;language-bash code&quot;&gt;
./build-key &lt;b&gt;client&lt;/b&gt;
&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Une fois de plus, tout doit √™tre pr√©-rempli. Passez donc tous les √©l√©ments, sauf les deux derni√®res invites, qui vous demanderont de signer en entrant &lt;code&gt;y&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;5. Configurer le serveur OpenVPN&lt;/h2&gt;
&lt;p&gt;OpenVPN s‚Äôinstalle sous le r√©pertoire &lt;code&gt;/etc/openvpn&lt;/code&gt;. Pour que tout fonctionne, nous devons d√©placer certains fichiers dans ce dossier.&lt;/p&gt;
&lt;div class=&quot;language-bash extra-class&quot;&gt;
&lt;pre class=&quot;language-bash code&quot;&gt;
cd ~/openvpn-ca/keys
sudo cp ca.crt server.crt server.key &lt;b&gt;tiv&lt;/b&gt;.key dh2048.pem /etc/openvpn
&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Par d√©faut, OpenVPN est fourni avec un exemple de configuration. Par souci de simplicit√©, nous simplifierons la d√©compression dans notre dossier de configuration.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;gunzip -c /usr/share/doc/openvpn/examples/sample-config-files/server.conf.gz | sudo tee /etc/openvpn/server.conf&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ensuite, nous allons √©diter le fichier de configuration:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;nano&lt;/span&gt; /etc/openvpn/server.conf&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;La premi√®re √©tape consiste √† trouver la directive &lt;code&gt;tls-auth&lt;/code&gt;. Il y aura un point-virgule (&lt;code&gt;;&lt;/code&gt;) √† c√¥t√© de la directive, que nous supprimerons. En dessous, nous ajouterons une ligne.&lt;/p&gt;
&lt;div class=&quot;language-text extra-class&quot;&gt;
&lt;pre class=&quot;language-text code&quot;&gt;
tls-auth &lt;b&gt;tiv&lt;/b&gt;.key 0 # This file is secret
key-direction 0
&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Nous devons √©galement chiffrer notre serveur, √©ditons donc les directives de chiffrement juste en dessous de cette section. Plus pr√©cis√©ment, nous d√©commentons la ligne AES-128-CBC et ajouterons une directive &lt;code&gt;auth&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;cipher AES-128-CBC
auth SHA256&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ensuite, les param√®tres d‚Äôutilisateur et de groupe:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;user nobody
group nogroup&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Facultativement, nous pourrions opter pour l‚Äôenvoi de tout le trafic via le VPN. Pour cela, recherchez la directive &lt;code&gt;redirect-gateway&lt;/code&gt; et d√©commentez-la.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;push &amp;quot;redirect-gateway def1 bypass-dhcp&amp;quot;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Juste en dessous, il devrait y avoir quelques lignes d‚Äô&lt;code&gt;dhcp-option&lt;/code&gt;. D√©commentez ceux-l√† aussi.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;push &amp;quot;dhcp-option DNS 208.67.222.222&amp;quot;
push &amp;quot;dhcp-option DNS 208.67.220.220&amp;quot;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Optionnellement, nous pouvons vouloir changer le port et le protocole sur lesquels OpenVPN fonctionne. La valeur par d√©faut est UDP: 1194, mais si votre r√©seau bloque les connexions VPN, ce sera probablement l‚Äôune des victimes. Le d√©guisement serait d‚Äôutiliser TCP: 443, qui est le port HTTPS.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;port 443

proto tcp
;proto udp&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Si vous n‚Äôavez pas utilis√© ¬´serveur¬ª comme nom de serveur, vos fichiers &lt;code&gt;crt&lt;/code&gt; ont un nom diff√©rent. Mettez-les √† jour en cons√©quence.&lt;/p&gt;
&lt;div class=&quot;language-text extra-class&quot;&gt;
&lt;pre class=&quot;language-text code&quot;&gt;
cert &lt;b&gt;server&lt;/b&gt;.crt
key &lt;b&gt;server&lt;/b&gt;.key
&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Enregistrez et fermez le fichier.&lt;/p&gt;
&lt;h2&gt;6. Pr√©parer Ubuntu&lt;/h2&gt;
&lt;p&gt;Bien que nous ayons d√©j√† configur√© le transfert IP, etc., nous devons apporter quelques modifications pour activer ces options.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;nano&lt;/span&gt; /etc/sysctl.conf&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Recherchez la ligne suivante et supprimez le # (caract√®re de commentaire).&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;net.ipv4.ip_forward=1&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Sauver et fermer. Pour mettre √† jour les param√®tres de session, ex√©cutez:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; sysctl -p&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ensuite, nous devons trouver et mettre √† jour nos r√®gles de pare-feu (UFW) pour masquer les clients. La premi√®re √©tape consiste √† trouver l‚Äôinterface sur laquelle nous fonctionnons:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;ip route | grep default&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;L‚Äôinterface que nous voulons est celle qui contient le mot ‚Äúdev‚Äù. Dans notre cas, cela ressemble √† ceci:&lt;/p&gt;
&lt;div class=&quot;language-text extra-class&quot;&gt;
&lt;pre class=&quot;language-text code&quot;&gt;
default via 10.138.0.1 dev &lt;b&gt;ens4&lt;/b&gt;
&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Donc, notre interface est &lt;code&gt;ens4&lt;/code&gt;. Avec cela, nous mettrons √† jour nos r√®gles de pare-feu:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;nano&lt;/span&gt; /etc/ufw/before.rules&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Au-dessus, l√† o√π il est indiqu√© &lt;code&gt;Don&apos;t delete these required lines...&lt;/code&gt; ajoutez le code suivant:&lt;/p&gt;
&lt;div class=&quot;language-text extra-class&quot;&gt;
&lt;pre class=&quot;language-text code&quot;&gt;
# OPENVPN
# NAT Table
*nat
:POSTROUTING ACCEPT [0:0] 
# OpenVPN client traffic
-A POSTROUTING -s 10.8.0.0/8 -o &lt;b&gt;ens4&lt;/b&gt; -j MASQUERADE
COMMIT
# OPENVPN
&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Sauver et fermer. Ensuite, nous devons transf√©rer les paquets.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;nano&lt;/span&gt; /etc/default/ufw&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Recherchez la directive &lt;code&gt;DEFAULT_FORWARD_POLICY&lt;/code&gt; et remplacez-la de &lt;code&gt;&quot;DROP&quot;&lt;/code&gt; par &lt;code&gt;&quot;ACCEPT&quot;&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;DEFAULT_FORWARD_POLICY=&amp;quot;ACCEPT&amp;quot;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Sauver et fermer.&lt;/p&gt;
&lt;h2&gt;7. Lancer OpenVPN&lt;/h2&gt;
&lt;p&gt;Pour d√©marrer le serveur, ex√©cutez ce qui suit:&lt;/p&gt;
&lt;div class=&quot;language-bash extra-class&quot;&gt;
&lt;pre class=&quot;language-bash code&quot;&gt;
sudo systemctl start openvpn@&lt;b&gt;server&lt;/b&gt;
&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Pour v√©rifier qu‚Äôil a bien d√©marr√©, lancez:&lt;/p&gt;
&lt;div class=&quot;language-bash extra-class&quot;&gt;
&lt;pre class=&quot;language-bash code&quot;&gt;
sudo systemctl status openvpn@&lt;b&gt;server&lt;/b&gt;
&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Si tout se passe bien, vous devriez voir une sortie incluant &lt;code&gt;Active: active (running)&lt;/code&gt;. Vous devrez peut-√™tre &lt;code&gt;q&lt;/code&gt; sur &lt;code&gt;q&lt;/code&gt; pour quitter le panneau d‚Äôinformations. Si cela vous convient, liez le service √† la s√©quence de d√©marrage.&lt;/p&gt;
&lt;div class=&quot;language-bash extra-class&quot;&gt;
&lt;pre class=&quot;language-bash code&quot;&gt;
sudo systemctl enable openvpn@&lt;b&gt;server&lt;/b&gt;
&lt;/pre&gt;
&lt;/div&gt;
&lt;h2&gt;8. Configuration d‚Äôune structure de configuration client&lt;/h2&gt;
&lt;p&gt;Pour faciliter la configuration des configurations client, nous allons d‚Äôabord cr√©er une structure. Pour commencer, cr√©ez un dossier de configuration pour stocker les fichiers de configuration du client.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;mkdir&lt;/span&gt; -p ~/clients/files&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Les cl√©s du client seront dans ces configurations, alors verrouillons les permissions sur le r√©pertoire &lt;code&gt;files&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;chmod&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;700&lt;/span&gt; ~/clients/files&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Copiez l‚Äôexemple de configuration.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;cp&lt;/span&gt; /usr/share/doc/openvpn/examples/sample-config-files/client.conf ~/clients/base.conf&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;√âditons le fichier:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;nano&lt;/span&gt; ~/clients/base.conf&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Trouvez la directive &lt;code&gt;remote&lt;/code&gt;. Remplacez &lt;code&gt;my-server-1&lt;/code&gt; par l‚Äôadresse IP externe publique attribu√©e √† votre instance GCE. Si vous avez choisi un port autre que 1194, mettez-le √† jour en cons√©quence.&lt;/p&gt;
&lt;div class=&quot;language-text extra-class&quot;&gt;
&lt;pre class=&quot;language-text code&quot;&gt;
remote &lt;b&gt;35.197.111.236 443&lt;/b&gt;
&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Mettez √©galement √† jour votre protocole.&lt;/p&gt;
&lt;div class=&quot;language-text extra-class&quot;&gt;
&lt;pre class=&quot;language-text code&quot;&gt;
proto &lt;b&gt;tcp&lt;/b&gt;
&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;D√©commentez l‚Äôutilisateur et le groupe:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;user nobody
group nogroup&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Trouvez les directives &lt;code&gt;ca&lt;/code&gt;, &lt;code&gt;cert&lt;/code&gt; et &lt;code&gt;key&lt;/code&gt;, commentez-les, car nos configurations les incluront automatiquement.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;# ca ca.crt
# cert client.crt
# key client.key&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Utilisez les m√™mes param√®tres de chiffrement et d‚Äôauthentification que pr√©c√©demment:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;cipher AES-128-CBC
auth SHA256&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Quelque part, nous devrons ajouter la &lt;code&gt;key-direction&lt;/code&gt;. Assurez-vous d‚Äôutiliser 1, comme c‚Äôest le cas pour le client. 0 √©tait pour le serveur.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;key-direction 1&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Si votre configuration client actuelle est (ou sera) utilis√©e sur un p√©riph√©rique Linux, ajoutez les √©l√©ments suivants:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;script-security 2
up /etc/openvpn/update-resolv-conf
down /etc/openvpn/update-resolv-conf&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Notez que si vous les incluez dans un environnement non-Linux (Android et macOS inclus dans un non-Linux), vos clients peuvent se comporter de mani√®re √©trange.&lt;/p&gt;
&lt;p&gt;Sauver et fermer. Ensuite, nous devons √©crire un script pour g√©n√©rer nos configs client rapidement et facilement.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;nano&lt;/span&gt; ~/clients/gen_config.sh&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;A l‚Äôint√©rieur, collez ce code:&lt;/p&gt;
&lt;pre class=&quot;language-text code&quot;&gt;
#!/bin/bash

# First argument: Client identifier

KEY_DIR=~/openvpn-ca/keys
OUTPUT_DIR=~/clients/files
BASE_CONFIG=~/clients/base.conf

cat ${BASE_CONFIG} \
    &lt;(echo -e &apos;&amp;lt;ca&amp;gt;&apos;) \
    ${KEY_DIR}/ca.crt \
    &lt;(echo -e &apos;&amp;lt;/ca&amp;gt;\n&amp;lt;cert&amp;gt;&apos;) \
    ${KEY_DIR}/${1}.crt \
    &lt;(echo -e &apos;&amp;lt;/cert&amp;gt;\n&amp;lt;key&amp;gt;&apos;) \
    ${KEY_DIR}/${1}.key \
    &lt;(echo -e &apos;&amp;lt;/key&amp;gt;\n&amp;lt;tls-auth&amp;gt;&apos;) \
    ${KEY_DIR}/&lt;b&gt;tiv&lt;/b&gt;.key \
    &lt;(echo -e &apos;&amp;lt;/tls-auth&amp;gt;&apos;) \
    &gt; ${OUTPUT_DIR}/${1}.ovpn
&lt;/pre&gt;
&lt;p&gt;&lt;a href=&quot;./02/gen_config.sh&quot; download&gt;gen_config.sh&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Le &lt;code&gt;{1}&lt;/code&gt; fait ici r√©f√©rence au premier argument, qui sera notre nom de client. Assurez-vous de mettre √† jour &lt;strong&gt;tiv&lt;/strong&gt;.key fonction du nom de votre cl√© HMAC.&lt;/p&gt;
&lt;p&gt;Autoriser l‚Äôex√©cution de ce script:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;chmod&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;700&lt;/span&gt; ~/clients/gen_config.sh&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;9. G√©n√©rer des configurations client&lt;/h2&gt;
&lt;p&gt;Le pas que vous attendiez tous est enfin arriv√©. Nous allons g√©n√©rer nos configurations client.&lt;/p&gt;
&lt;div class=&quot;language-bash extra-class&quot;&gt;
&lt;pre class=&quot;language-bash code&quot;&gt;
cd ~/clients
./gen_config.sh &lt;b&gt;client&lt;/b&gt;
&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;V√©rifiez que cela a fonctionn√© en ex√©cutant:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;ls&lt;/span&gt; ~/clients/files&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Si tel est le cas, il devrait maintenant y avoir un fichier &lt;code&gt;&lt;b&gt;client&lt;/b&gt;.ovpn&lt;/code&gt; dans ce r√©pertoire. Nous devons t√©l√©charger ce fichier et le transf√©rer sur nos appareils. Pour ce faire, cliquez sur l‚Äôic√¥ne repr√©sentant une roue en haut √† droite de la session SSH, puis s√©lectionnez ¬´T√©l√©charger le fichier¬ª.&lt;/p&gt;
&lt;p&gt;Le chemin pleinement qualifi√© devrait ressembler √† ceci:&lt;/p&gt;
&lt;div class=&quot;language-text extra-class&quot;&gt;
&lt;pre class=&quot;language-text code&quot;&gt;
/home/&lt;b&gt;username&lt;/b&gt;/clients/files/&lt;b&gt;client&lt;/b&gt;.ovpn
&lt;/pre&gt;
&lt;/div&gt;
&lt;h2&gt;10. Installation sur les clients&lt;/h2&gt;
&lt;p&gt;Pour Windows, t√©l√©chargez l‚Äôapplication client &lt;a href=&quot;https://openvpn.net/index.php/open-source/downloads.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;OpenVPN&lt;/a&gt;. Une fois install√©, d√©placez votre fichier &lt;code&gt;&lt;b&gt;client&lt;/b&gt;.ovpn&lt;/code&gt; vers &lt;code&gt;C:\Program Files\OpenVPN\config&lt;/code&gt;. Pour ouvrir OpenVPN, vous devez ex√©cuter l‚Äôapplication en tant qu‚Äôadministrateur. Une fois √† l‚Äôint√©rieur, vous devriez voir et pouvoir vous connecter √† votre VPN.&lt;/p&gt;
&lt;p&gt;Pour macOS, la plupart des gens sugg√®rent d‚Äôutiliser &lt;a href=&quot;https://tunnelblick.net/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Tunnelblick&lt;/a&gt; bien que tout autre client OpenVPN (m√™me s‚Äôil soit sans danger) soit probablement bon aussi. Une fois install√©, vous devriez pouvoir faire glisser n‚Äôimporte .ovpn fichier &lt;code&gt;.ovpn&lt;/code&gt; sur l‚Äôic√¥ne Tunnelblick de la barre de menus pour installer la configuration. Utilisez la barre de menus pour vous connecter ensuite au VPN. Si vous √™tes interrog√© sur le plugin &lt;code&gt;down-root.so&lt;/code&gt;, prenez une d√©cision! Je l‚Äôai saut√© parce que je suis capable de reconnecter ma connexion, mais c‚Äôest √† vous de d√©cider.&lt;/p&gt;
&lt;p&gt;Sous Linux, installez le paquet &lt;code&gt;openvpn&lt;/code&gt; en utilisant votre gestionnaire de paquets. Les utilisateurs de CentOS devront d‚Äôabord installer &lt;code&gt;epel-release&lt;/code&gt; utilisant &lt;code&gt;yum&lt;/code&gt;. Une fois install√©, lancez &lt;code&gt;ls /etc/openvpn&lt;/code&gt;. Si la sortie &lt;strong&gt;ne&lt;/strong&gt; pr√©sente &lt;strong&gt;pas&lt;/strong&gt; de fichier &lt;code&gt;update-resolve-conf&lt;/code&gt;, vous devez modifier votre fichier &lt;code&gt;.ovpn&lt;/code&gt; et supprimer les lignes suivantes (si vous les avez ajout√©es):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;script-security 2
up /etc/openvpn/update-resolv-conf
down /etc/openvpn/update-resolv-conf&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Si vous n‚Äôavez jamais ajout√© ces lignes mais trouv√© un fichier &lt;code&gt;update-resolv-conf&lt;/code&gt;, ajoutez-les! Les utilisateurs de CentOS devront modifier le &lt;code&gt;group&lt;/code&gt; dans le fichier &lt;code&gt;.ovpn&lt;/code&gt; de &lt;code&gt;nogroup&lt;/code&gt; √† &lt;code&gt;nobody&lt;/code&gt; pour se conformer aux normes du syst√®me d‚Äôexploitation.&lt;/p&gt;
&lt;p&gt;Pour vous connecter, lancez &lt;code&gt;sudo openvpn ‚Äî config client .ovpn&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Pour iOS, installez l‚Äôapplication &lt;a href=&quot;https://itunes.apple.com/us/app/id590379981&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;OpenVPN Connect&lt;/a&gt;. Ensuite, ouvrez iTunes sur votre ordinateur et acc√©dez √† iPhone&gt; Applications. Faites d√©filer jusqu‚Äô√† la section ¬´Partage de fichiers¬ª et s√©lectionnez ‚ÄúOpenVPN‚Äù. Faites glisser votre fichier &lt;code&gt;.ovpn&lt;/code&gt; dans le panneau ‚ÄúOpenVPN Documents‚Äù. Ouvrir l‚Äôapplication sur votre t√©l√©phone devrait maintenant afficher un message indiquant qu‚Äôun nouveau profil est pr√™t √† √™tre import√©. Une fois import√©, vous devriez pouvoir vous connecter au VPN.&lt;/p&gt;
&lt;p&gt;Pour Android, installez l‚Äôapplication &lt;a href=&quot;https://play.google.com/store/apps/details?id=net.openvpn.openvpn&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;OpenVPN Connect&lt;/a&gt;. Ensuite, transf√©rez votre fichier &lt;code&gt;.ovpn&lt;/code&gt; n‚Äôimporte o√π / de toute fa√ßon sur votre appareil (je viens d‚Äôutiliser Google Drive, mais cela peut ne pas √™tre recommand√©). Dans l‚Äôapplication, ouvrez le menu et cliquez sur ‚ÄúImporter‚Äù. Acc√©dez √† votre fichier &lt;code&gt;.ovpn&lt;/code&gt; , cliquez dessus, puis appuyez sur ‚ÄúIMPORT‚Äù en haut √† droite. Une fois termin√©, vous devriez pouvoir vous connecter au VPN.&lt;/p&gt;
&lt;h2&gt;Test du VPN&lt;/h2&gt;
&lt;p&gt;Le moyen le plus simple de tester votre VPN serait de Google ‚Äúquelle est mon adresse IP‚Äù avant et apr√®s la connexion. Votre adresse IP doit passer √† l‚Äôadresse IP publique externe de votre instance GCE une fois que vous √™tes connect√© au VPN, puis √† l‚Äôadresse IP de votre r√©seau une fois d√©connect√©e du VPN.&lt;/p&gt;
&lt;p&gt;Si tout s‚Äôest bien pass√©, c‚Äôest tout! Votre nouveau VPN est pr√™t √† √™tre utilis√©.&lt;/p&gt;
&lt;h2&gt;Cr√©dits&lt;/h2&gt;
&lt;p&gt;Cet article est bas√© en grande partie sur &lt;a href=&quot;https://www.digitalocean.com/community/tutorials/how-to-set-up-an-openvpn-server-on-ubuntu-16-04&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;ce didacticiel de la communaut√© DigitalOcean&lt;/a&gt;. Bien que la configuration elle-m√™me soit assez similaire, j‚Äôai pens√© √©crire un article s√©par√©, car il existe quelques √©l√©ments cl√©s diff√©rents dans GCE et il est assez facile de se tromper si vous le faites pour la premi√®re fois (je parle par exp√©rience).&lt;/p&gt;
&lt;style lang=&quot;scss&quot;&gt;
.content pre.code, 
.content pre[class*=&quot;language-&quot;].code {
  /* font-size: 10pt; */
  font-size: 0.85em;
  font-family: source-code-pro, Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;
  color: #fff;

  b {
    color: yellow;
    /* text-decoration:underline; */
    /* background-color: green; */
  }
}
&lt;/style&gt;</content:encoded></item><item><title><![CDATA[Principales commandes SQL/PostgreSQL que vous avez besoin de conna√Ætre]]></title><description><![CDATA[Principales commandes SQL/PostgreSQL que vous avez besoin de conna√Ætre. Ici, nous allons passer en revue les commandes les plus importantes‚Ä¶]]></description><link>https://ludovicwyffels.dev/sql-principes/</link><guid isPermaLink="false">https://ludovicwyffels.dev/sql-principes/</guid><pubDate>Sun, 14 Apr 2019 08:00:00 GMT</pubDate><content:encoded>&lt;h1&gt;Principales commandes SQL/PostgreSQL que vous avez besoin de conna√Ætre.&lt;/h1&gt;
&lt;p&gt;Ici, nous allons passer en revue les commandes les plus importantes et les plus √©l√©mentaires que vous devez conna√Ætre pour cr√©er, g√©rer et supprimer vos donn√©es sur votre base de donn√©es. Outre les commandes ici, j‚Äôutilise la syntaxe PostgreSQL. La plupart des bases de donn√©es relationnelles partagent les m√™mes concepts.&lt;/p&gt;
&lt;p&gt;En apprenant cela, vous pourrez cr√©er et g√©rer votre base de donn√©es.&lt;/p&gt;
&lt;p&gt;Ce sont les commandes que vous pouvez vous attendre √† apprendre ici:&lt;/p&gt;
&lt;p&gt;[[toc]]&lt;/p&gt;
&lt;h2&gt;Create table&lt;/h2&gt;
&lt;p&gt;Cr√©ons notre premier client:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;TABLE&lt;/span&gt; customer &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
	name &lt;span class=&quot;token keyword&quot;&gt;TEXT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
	age &lt;span class=&quot;token keyword&quot;&gt;INTEGER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
	email &lt;span class=&quot;token keyword&quot;&gt;CHARACTER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
	address &lt;span class=&quot;token keyword&quot;&gt;CHARACTER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;400&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
	zip_code &lt;span class=&quot;token keyword&quot;&gt;CHARACTER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Creusons par √©tapes:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Cr√©ez la table avec le nom &lt;code&gt;CREATE TABLE &amp;#x3C;NAME&gt;&lt;/code&gt; (qui pour nous est ‚Äúcustomer‚Äù).&lt;/li&gt;
&lt;li&gt;Ajoutez les colonnes et le type de donn√©es appropri√©, comme l‚Äô&lt;code&gt;email CHARACTER(255)&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;C‚Äôest simple, nous n‚Äôentrerons pas dans le type de donn√©es que ous pourrions utiliser, car il est long et peut changer de base de donn√©es √† une autre base de donn√©es, l‚Äôid√©e est d‚Äôapprendre le principe.&lt;/p&gt;
&lt;h2&gt;Insert&lt;/h2&gt;
&lt;p&gt;Nous passons maintenant √† notre premier tableau et vous souhaitez maintenant √† notre premier tableau et vous souhaitez maintenant ajouter des informations, sinon quel est le but, pour cela, vous lancerez cette commande:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;INTO&lt;/span&gt; customer&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; age&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;VALUES&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Felipe&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;31&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Le code parle tout seul, nous voulons ajouter &lt;code&gt;&amp;#x3C;INSERT INTO&gt;&lt;/code&gt; notre table appel√©e ‚Äúcustomer‚Äù pour la colonne portant le nom de cl√© ‚Äúname‚Äù et ‚Äúage‚Äù les &lt;code&gt;VALUES&lt;/code&gt; suivant l‚Äôordre, nommez ‚Äù&lt;code&gt;Felipe&lt;/code&gt;‚Äù et l‚Äô√¢ge &lt;code&gt;31&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;Alter Table&lt;/h2&gt;
&lt;p&gt;Il est normal que vous cr√©iez votre base de donn√©es et que vous commenciez par la base, puis que vous commenciez √† vous am√©liorer, et avec la commande, vous puissiez modifier la structure de la table. Mais bien s√ªr, ce n‚Äôest pas illimit√© si vous essayez de modifier des donn√©es existantes et susceptibles de provoquer un conflit, comme le passage d‚Äôun nombre entier √† une cha√Æne .&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;ALTER&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;TABLE&lt;/span&gt; customer &lt;span class=&quot;token keyword&quot;&gt;ADD&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;COLUMN&lt;/span&gt; height &lt;span class=&quot;token keyword&quot;&gt;INTEGER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Comme vous pouvez le constater, nous ajoutons une nouvelle &lt;code&gt;COLUMN&lt;/code&gt; avec le nom &lt;code&gt;height&lt;/code&gt; et le type &lt;code&gt;INTEGER&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt; Cette commande a beaucoup d‚Äôautres propri√©t√©s, vous pouvez donc consulter la documentation afin de voir toutes les autres variations.&lt;/p&gt;
&lt;h2&gt;Update&lt;/h2&gt;
&lt;p&gt; Nous avons ajout√© des donn√©es √† l‚Äôint√©rieur, mais consid√©rons que vous avez commis une erreur ou, en fait, que vous souhaitez simplement mettre √† jour, car c‚Äôest l‚Äôid√©e, pouvoir conserver des donn√©es et les manipuler.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;UPDATE&lt;/span&gt; customer &lt;span class=&quot;token keyword&quot;&gt;SET&lt;/span&gt; height &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ce sera utile non? Comme nous venons de modifier notre table et que nous ne voulons pas avoir de valeur vide pour une raison quelconque, nous faisons un &lt;code&gt;UPDATE&lt;/code&gt; sur notre table client avec cette commande et &lt;code&gt;SET&lt;/code&gt; la hauteur pour que tout le monde soit √† &lt;code&gt;0&lt;/code&gt;, comme une valeur par d√©faut.&lt;/p&gt;
&lt;p&gt;Mais je ne veux pas faire cela √† tout le monde, bien s√ªr, alors ce qui suit est plus sp√©cifique.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;UPDATE&lt;/span&gt; customer &lt;span class=&quot;token keyword&quot;&gt;SET&lt;/span&gt; height &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; age &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;101&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;WHERE&lt;/span&gt; name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Felipe&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nous avons fait la m√™me chose qu‚Äôavant, √† la diff√©rence que nous utilisons une nouvelle clause &lt;code&gt;WHERE&lt;/code&gt; pr√©ciser ce que nous voulons changer, je parlerai plus en d√©tail de cette question. Pour le moment, il vous suffit de comprendre que, si vous utilisez cette clause, je valide si ‚Äúname‚Äù correspond au nom, et seulement s‚Äôil est vrai, je mets √† jour les valeurs.&lt;/p&gt;
&lt;p&gt;Et ce genre de validation est vraiment important, et parce que ceci est une autre fa√ßon de faire avec encore plus de ‚Äúvalidations‚Äù.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;UPDATE&lt;/span&gt; customer &lt;span class=&quot;token keyword&quot;&gt;SET&lt;/span&gt; height &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; age &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;101&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Felipe&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;AND&lt;/span&gt; zip_code &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;2323LL&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;OR&lt;/span&gt; email &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;felipe@gmail.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nous avons deux diff√©rences importantes o√π, voyons:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Notre clause &lt;code&gt;WHERE&lt;/code&gt; a maintenant une autre clause appel√©e &lt;code&gt;AND&lt;/code&gt; , et cela nous permet de ‚Äúconcat√©ner‚Äù deux valeurs que nous voulons v√©rifier, nous disons que les deux doivent correspondre pour que notre validation soit r√©ussie . Il est important de noter qu‚Äôils sont √† l‚Äôint√©rieur de ‚Äù()‚Äù, il s‚Äôagit en quelque sorte de ‚Äúretenir‚Äù en tant que valeur ou contrainte , nous v√©rifions en gros ce qui est √† l‚Äôint√©rieur qui donnera le ‚Äúr√©sultat‚Äù qui sera vrai ou faux .&lt;/li&gt;
&lt;li&gt;Le second est &lt;code&gt;OR&lt;/code&gt; et correspond exactement √† ce que sugg√®re le ‚Äúnom‚Äù. Si notre clause &lt;code&gt;WHERE&lt;/code&gt; ne convient pas, nous v√©rifions celle-ci.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Upsert&lt;/h2&gt;
&lt;p&gt;En plus du nom qui a l‚Äôair bizarre, cette commande est tr√®s utile, car nous parlons de mise √† jour, l‚Äôun des sc√©narios les plus courants consiste √† vouloir mettre √† jour quelque chose qui existe d√©j√†, mais comment savez-vous qu‚Äôil existe d√©j√†? Pour cela, vous pouvez g√©n√©ralement penser, commencez par v√©rifier s‚Äôil existe et si vous utilisez la commande update, non? Mais en r√©alit√© vous savez d√©j√† ce que vous voulez, vous voulez que si cette valeur est d√©j√† mise √† jour.&lt;/p&gt;
&lt;p&gt;PostgreSQL impl√©mente cela il n‚Äôy a pas si longtemps, comme d‚Äôautres bases de donn√©es l‚Äôavaient d√©j√† assez longtemps, voyons comment impl√©menter l‚Äôutilisation de Postgres.&lt;/p&gt;
&lt;p&gt;Vous devez d‚Äôabord savoir que nous disposons de deux contraintes que nous pouvons utiliser pour ‚Äúdire‚Äù ce que nous voulons faire si cette valeur existe d√©j√†.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ON CONFLICT DO NOTHING&lt;/li&gt;
&lt;li&gt;ON CONFLICT DO UPDATE&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Par le nom, vous pouvez d√©j√† imaginer ce qui se passe, lors de la mise √† jour si vous trouvez un ‚Äúconflit‚Äù avec un autre, ne faites rien.&lt;/p&gt;
&lt;p&gt;Regardons comment utiliser &lt;code&gt;ON CONFLICT DO NOTHING&lt;/code&gt; :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;INTO&lt;/span&gt; customer &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; height&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;VALUES&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Felipe&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;ON&lt;/span&gt; CONFLICT &lt;span class=&quot;token keyword&quot;&gt;DO&lt;/span&gt; NOTHING&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;En gros, ce qui va se passer n‚Äôest rien, si la base de donn√©es trouve d√©j√† une valeur, ne fait rien.&lt;/p&gt;
&lt;p&gt;D‚Äôautre part pour &lt;code&gt;ON CONFLICT DO UPDATE&lt;/code&gt; :&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;INTO&lt;/span&gt; customer &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; height&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;VALUES&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Felipe&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;ON&lt;/span&gt; CONFLICT &lt;span class=&quot;token keyword&quot;&gt;DO&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;UPDATE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Voici exactement ce que dit le nom, si vous trouvez un conflit, mettez-le √† jour.&lt;/p&gt;
&lt;p&gt;Il est simple d‚Äôutiliser ce sc√©nario lorsque vous savez que vous souhaitez mettre √† jour lorsque vous avez la m√™me valeur. Rappelez-vous que l‚Äôimpl√©mentation change l√©g√®rement pour chaque base de donn√©es, mais qu‚Äôil est important de conna√Ætre le concept, il suffit de regarder sur Internet le nom de contrainte sp√©cifique de votre base de donn√©es.&lt;/p&gt;
&lt;h2&gt;Select&lt;/h2&gt;
&lt;p&gt;Maintenant que nous avons en principe commenc√© le d√©but en suivant une m√©thode logique, comme cr√©er votre base de donn√©es, mettre √† jour, supprimer, la plupart des bases afin de configurer votre base de donn√©es, nous devons obtenir les donn√©es.&lt;/p&gt;
&lt;p&gt;Tr√®s probablement, ce sera l‚Äôune des commandes les plus utilis√©es par vous, alors voyons-le.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; customer&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;La base est tr√®s simple, allons-y √©tape par √©tape:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;SELECT *&lt;/code&gt; - Ce que vous faites est de dire ‚Äúje veux‚Äù (&lt;code&gt;SELECT&lt;/code&gt;) tout (&lt;code&gt;*&lt;/code&gt;);&lt;/li&gt;
&lt;li&gt;&lt;code&gt;FROM&lt;/code&gt; - D‚Äôo√π je veux (&lt;code&gt;FROM&lt;/code&gt;) c‚Äôest √† partir du nom de la table (&lt;code&gt;customer).&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Ici, je re√ßois tout ce qui se trouve dans ma table client, soyons plus pr√©cis.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; height&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; name &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; customer&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Maintenant que vous avez d√©j√† compris comment vous cr√©ez, vous avez probablement compris que nous voulions des donn√©es sp√©cifiques, √† savoir les donn√©es des colonnes ‚Äúheight‚Äù et ‚Äúname‚Äù de ma table customer .&lt;/p&gt;
&lt;p&gt;Cette contrainte offre de nombreuses autres possibilit√©s dont vous avez absolument besoin dans la documentation pour pouvoir visualiser toutes les autres variantes.&lt;/p&gt;
&lt;p&gt;Un de plus, est pour la situation que vous ne voulez pas r√©ellement s√©lectionner par le nom de la colonne, mais si elle correspond √† la valeur, essayez ceci:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; height&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Felipe&apos;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; customer&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Comme je l‚Äôai dit, nous rechercherons des donn√©es dans la colonne ‚Äúhauteur‚Äù et toutes les valeurs correspondant √† la cha√Æne ‚ÄúFelipe‚Äù en regard du nom de la colonne correspondante.&lt;/p&gt;
&lt;h2&gt;Where&lt;/h2&gt;
&lt;p&gt;Cette contrainte est une autre que vous utiliserez encore plus avec la contrainte &lt;code&gt;SELECT&lt;/code&gt; . Voyons comment nous utilisons, vous utiliserez ceci pour filtrer ce que vous voulez lors de la s√©lection de vos donn√©es.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; height&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; name &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; customer &lt;span class=&quot;token keyword&quot;&gt;WHERE&lt;/span&gt; height &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Comme vous pouvez le constater, nous recherchons la taille du client et &lt;code&gt;WHERE&lt;/code&gt; la ‚Äúheight‚Äù est sup√©rieure √† 50 .&lt;/p&gt;
&lt;p&gt;Mais vous pouvez ajouter encore plus de contraintes (filtres).&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; height&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; name &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; customer &lt;span class=&quot;token keyword&quot;&gt;WHERE&lt;/span&gt; height &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;50&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;AND&lt;/span&gt; height &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nous avons ajout√© ici une nouvelle contrainte &lt;code&gt;AND&lt;/code&gt; qui fait exactement ce que son nom sugg√®re, qui doit √™tre plus haut que 50 ET inf√©rieur √† 80.&lt;/p&gt;
&lt;p&gt;Une autre contrainte que nous pouvons utiliser est &lt;code&gt;OR&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; height&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; name &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; customer &lt;span class=&quot;token keyword&quot;&gt;WHERE&lt;/span&gt; height &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;50&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;OR&lt;/span&gt; name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Felipe&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ici nous avons ajout√© une autre contrainte &lt;code&gt;OR&lt;/code&gt; cela signifie que si notre v√©rification ‚Äúpr√©c√©dente‚Äù ne correspond pas comme son nom l‚Äôindique ‚ÄúOU‚Äù, nous retournons sous forme de correspondance.&lt;/p&gt;
&lt;h2&gt;Join&lt;/h2&gt;
&lt;p&gt;C‚Äôest certainement un sujet tr√®s important, non seulement parce que dans un entretien d‚Äôembauche, ils vous le demanderont certainement, mais aussi parce qu‚Äôil y a beaucoup de possibilit√©s. M√™me si la premi√®re fois que vous essayez de comprendre, √ßa a l‚Äôair bizarre.&lt;/p&gt;
&lt;p&gt;Pour cela nous avons 5 types:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CROSS JOIN&lt;/li&gt;
&lt;li&gt;INNER JOIN&lt;/li&gt;
&lt;li&gt;LEFT JOIN&lt;/li&gt;
&lt;li&gt;RIGHT JOIN&lt;/li&gt;
&lt;li&gt;FULL JOIN&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Je vais essayer d‚Äôexpliquer de la mani√®re la plus simple, mais je vous recommande d‚Äôessayer cela en direct. Lorsque vous le ferez, vous comprendrez mieux et vous verrez comme cela est facile.&lt;/p&gt;
&lt;p&gt;Pour cela, nous avons besoin de quelques donn√©es pour pouvoir visualiser. Pour cela, je vais mettre une donn√©e √† ins√©rer, je reconnais que vous savez d√©j√† comment cr√©er une table. Nous aurons notre client et la table de contact .&lt;/p&gt;
&lt;p&gt;Nos donn√©es clients:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;INTO&lt;/span&gt; customer&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;age&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;email&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;address&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;zip_code&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; 
 &lt;span class=&quot;token keyword&quot;&gt;VALUES&lt;/span&gt; 
 &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Paul&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;23&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;paul@gmail.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;address from paul&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;2321LL&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
 &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Felipe&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;32&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;felipegarcia@gmail.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;address from felipe&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;3413MS&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
 &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Teddy&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;90&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;teddy@gmail.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;address from teddy&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;3423PO&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
 &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Mark&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;17&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;mark@gmail.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;address from mark&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;9423MA&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
 &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;David&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;35&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;david@gmail.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;address from david&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;2341DA&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
 &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Allen&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;56&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;allen@gmail.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;address from allen&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;3423PO&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
 &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;James&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;56&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;james@gmail.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;address from james&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;3423PO&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Et pour nos coordonn√©es:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt; &lt;span class=&quot;token keyword&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;INTO&lt;/span&gt; contact&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;email&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;zip_code&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; 
 &lt;span class=&quot;token keyword&quot;&gt;VALUES&lt;/span&gt; 
 &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;teddy@gmail.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;3423PO&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
 &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;david@gmail.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;2341DA&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
 &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;james@gmail.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;3234PO&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
 &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;felipe@gmail.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Vous devez juste ex√©cuter ceci sur votre table d√©j√† cr√©√©e et l‚Äôins√©rer.&lt;/p&gt;
&lt;h3&gt;Cross join&lt;/h3&gt;
&lt;p&gt;Je dirais que vous n‚Äôutiliserez pas trop celle-ci, car elle peut g√©n√©rer beaucoup de donn√©es. En gros, il joint ici les deux tables et g√©n√®re une sortie avec toutes les donn√©es.&lt;/p&gt;
&lt;p&gt;La fa√ßon dont cette contrainte fonctionne consiste √† renvoyer des donn√©es de produit cart√©siennes entre les deux tables. Cette commande multiplie la premi√®re table par la quantit√© de donn√©es de la seconde table. Elle renverra toujours la combinaison possible. Je crois que vous pouvez imaginer combien de donn√©es cela peut cr√©er, non?!&lt;/p&gt;
&lt;p&gt;Il est facile de voir la repr√©sentation de la fa√ßon dont cette requ√™te sera trait√©e √† partir de cette image, mais cela ne correspond pas seulement:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/29e3e8a840fc500356e30313b0782efe/b0217/crossjoin.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 59.26517571884984%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAACUUlEQVQoz2P4////v3//IeDmw2erDpxduvf0yWt3f//6BRH89+/vlbuPVxw4s3zf6fO3Hvz58wcsCNLDAKGevn6bPGGlTHK3YGy7QEybWEKnS82s0zfuP3z+OrxjsVRSl2Bsm2BMm0Ril3/z/It3HkH0MwCpZ6/fWpdO44xslUrtk07tk0ntk0rt5Y3pVElp10nv4I7ukEzpBYmn9UmlAMU7lNO6gU4A2QzE+TPWc0S0KmRMkIIoghiR0i0a2yIa2wp0DkQQZGhKr3x6P1C/Z/3c///+MDx//U4lo08iuVc6pVc0oVskoUs4vlMksVsivk0qsQMoKBXfJpbUAxQUTugST+qWBlsgGt9x5PJthsMXb4kndgH5Esk9djXz7WvmO9YtBDJkEtokk3uASsVjW8zKZ7s0LLSvna9bOE0iqUcufQJneNP8nScYDsE0A5Ualcy0qpxrVz3fumqedDxIM9CdEnEt2vnT7Grm2VbP08ibgtC86wTDizfv1DKBOoGO6YW4WQjsQqizU6HOFowDiUOcLZPWL57QeRTobEiAcUe1AwMMqBQeYLIpPRJxrUAjZFPQAmyCQFynV8O8f3//gKPq1Vuzosms4S1SKVBFQNXAGJJLaFFPaeWIakMW54pql0vuPHcTHFV/wYnk8cu3cb3LROPaeaLaeKPa+KNb7StmnLx27/6zl8EtC4Vj2nijQQiYTrzq554DR/JfSCL5C05lwGR47f7TFfvPLNp18vjVO99//IAkz99//gCT1NK9pxbvOXXmxv2f4GT75+9fIAkAz/qA/xb+AwkAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/29e3e8a840fc500356e30313b0782efe/14b47/crossjoin.webp 293w,
/static/29e3e8a840fc500356e30313b0782efe/91928/crossjoin.webp 585w,
/static/29e3e8a840fc500356e30313b0782efe/384f8/crossjoin.webp 1170w,
/static/29e3e8a840fc500356e30313b0782efe/bcff6/crossjoin.webp 1252w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/29e3e8a840fc500356e30313b0782efe/b6dd9/crossjoin.png 293w,
/static/29e3e8a840fc500356e30313b0782efe/037e5/crossjoin.png 585w,
/static/29e3e8a840fc500356e30313b0782efe/0f291/crossjoin.png 1170w,
/static/29e3e8a840fc500356e30313b0782efe/b0217/crossjoin.png 1252w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/29e3e8a840fc500356e30313b0782efe/0f291/crossjoin.png&quot;
          alt=&quot;Cross Join&quot;
          title=&quot;Cross Join&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Allons √† la commande:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; customer &lt;span class=&quot;token keyword&quot;&gt;CROSS&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;JOIN&lt;/span&gt; contact&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Je n‚Äôajouterai pas une impression de la sortie compl√®te ici, car elle est trop grande, mais cette op√©ration g√©n√©rera un total de 36 √©l√©ments/lignes, c‚Äôest-√†-dire la multiplication entre le premier client de la table ayant 9 √©l√©ments multipli√© par la table de contacts contenant 4&lt;/p&gt;
&lt;p&gt;Mais une information pr√©cieuse ici est que, avec cela, nous allons g√©n√©rer une sortie qui contient toutes les lignes de la premi√®re table et toutes les lignes de la seconde:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a7ef6ad35711b3c4d4fd7580469f3425/8f529/crossjoinselect.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 10.5%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAAsSAAALEgHS3X78AAAAeElEQVQI1w3KUQ+CIBiFYf//3+rCHEwaUqYkIIgGSJ+z2qqrvouznT17i0a0wzhLPVWUdVLFBClvrTSEnkY345+WlYvupl1Fam0cSkjAz9jaomZNhLePUBImrsO6f/Lzq+z9SLly4fH64dB9gENJeu1RsLn0xi75D+2MaVFPNgJnAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/a7ef6ad35711b3c4d4fd7580469f3425/14b47/crossjoinselect.webp 293w,
/static/a7ef6ad35711b3c4d4fd7580469f3425/91928/crossjoinselect.webp 585w,
/static/a7ef6ad35711b3c4d4fd7580469f3425/384f8/crossjoinselect.webp 1170w,
/static/a7ef6ad35711b3c4d4fd7580469f3425/43d96/crossjoinselect.webp 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/a7ef6ad35711b3c4d4fd7580469f3425/b6dd9/crossjoinselect.png 293w,
/static/a7ef6ad35711b3c4d4fd7580469f3425/037e5/crossjoinselect.png 585w,
/static/a7ef6ad35711b3c4d4fd7580469f3425/0f291/crossjoinselect.png 1170w,
/static/a7ef6ad35711b3c4d4fd7580469f3425/8f529/crossjoinselect.png 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/a7ef6ad35711b3c4d4fd7580469f3425/0f291/crossjoinselect.png&quot;
          alt=&quot;Cross Join tout s√©lectionner&quot;
          title=&quot;Cross Join tout s√©lectionner&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Et pourquoi r√©p√©ter table? Eh bien, nous avons &lt;code&gt;SELECT *&lt;/code&gt;, nous avons choisi d‚Äôobtenir toutes les donn√©es des deux, mais montrons-leur comment ne pas r√©p√©ter ou, mieux, comment choisir la ligne de sortie que nous voulons.&lt;/p&gt;
&lt;p&gt;Utilisez cette requ√™te:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; customer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; customer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;age&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; customer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;address&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; contact&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;email&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; contact&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;zip_code &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; customer &lt;span class=&quot;token keyword&quot;&gt;CROSS&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;JOIN&lt;/span&gt; contact&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Une partie de la sortie:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/275a8b3c2d723380b7a2c3452a817d18/7340e/crossjoinpart.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 12.275449101796406%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAAsSAAALEgHS3X78AAAAe0lEQVQI1w3J3Q6CIBgAUN//nWy6Sf5AwCeDzPgZKk1d4cqLuszbcxJtLAEFrYLOMZBc6YbJGl967Zwf3RD41dZUSNX5YbJ+ospgKjgIcfcJZQxVJCwxfr5r3HvjzxUpSlw2FORt23+PdUuzIs3RIcvzHebXKUdunI/6Aw0PZWk8CHylAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/275a8b3c2d723380b7a2c3452a817d18/14b47/crossjoinpart.webp 293w,
/static/275a8b3c2d723380b7a2c3452a817d18/91928/crossjoinpart.webp 585w,
/static/275a8b3c2d723380b7a2c3452a817d18/384f8/crossjoinpart.webp 1170w,
/static/275a8b3c2d723380b7a2c3452a817d18/10483/crossjoinpart.webp 1336w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/275a8b3c2d723380b7a2c3452a817d18/b6dd9/crossjoinpart.png 293w,
/static/275a8b3c2d723380b7a2c3452a817d18/037e5/crossjoinpart.png 585w,
/static/275a8b3c2d723380b7a2c3452a817d18/0f291/crossjoinpart.png 1170w,
/static/275a8b3c2d723380b7a2c3452a817d18/7340e/crossjoinpart.png 1336w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/275a8b3c2d723380b7a2c3452a817d18/0f291/crossjoinpart.png&quot;
          alt=&quot;crossjoinpart&quot;
          title=&quot;crossjoinpart&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Si vous faites attention, ce que nous avons fait √©tait de dire comment sera g√©n√©r√©, en sp√©cifiant la ligne que nous voulons et d‚Äôo√π &lt;code&gt;customer.&quot;name&quot;&lt;/code&gt; et &lt;code&gt;contact.zip_code&lt;/code&gt; afin que la sortie suive cet ordre.&lt;/p&gt;
&lt;p&gt;Je n‚Äôai pas ajout√© la ‚Äúfin‚Äù de cette requ√™te, ni m√™me la pr√©c√©dente, mais parlons du concept de ‚Äújointure‚Äù, nous cherchons fondamentalement une correspondance, mais pour cette contrainte, nous ‚Äúobtenons tout‚Äù √† partir d‚Äôune table et ‚ÄúTout √† partir de‚Äù deuxi√®me table, mais dans le type CROSS si un √©l√©ment ne correspond pas retournera quand m√™me, mais s‚Äôil n‚Äôy a pas de correspondance, la valeur sera vide.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b249e7e43d99ec1ceef9f57df07e8b22/6ca50/crossjoinpart2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 15.833333333333332%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAAAsSAAALEgHS3X78AAAAqElEQVQI1xWL2wqCMABA+/8/EgrKnDpnOe+3mKaoecFNbbh6asHhPBw4Bwihie5l/VreH7qJbmB+lKkAGpYDTDuI83ndLwAqx/MVWFFGuoGSqp0Yp+t+0DQNB0ndjnJmm+hHlj5Kx4vcMMV+kpGKbvsNByZysBeTZ7vwr4Su4j9DyzJtNy+aaRED5c2w+AlRdWQgV0cYB5mMqm4rJ1U6TIuR7f3MZZT8AFeVm2gClbK9AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/b249e7e43d99ec1ceef9f57df07e8b22/14b47/crossjoinpart2.webp 293w,
/static/b249e7e43d99ec1ceef9f57df07e8b22/91928/crossjoinpart2.webp 585w,
/static/b249e7e43d99ec1ceef9f57df07e8b22/384f8/crossjoinpart2.webp 1170w,
/static/b249e7e43d99ec1ceef9f57df07e8b22/68fc1/crossjoinpart2.webp 1200w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/b249e7e43d99ec1ceef9f57df07e8b22/b6dd9/crossjoinpart2.png 293w,
/static/b249e7e43d99ec1ceef9f57df07e8b22/037e5/crossjoinpart2.png 585w,
/static/b249e7e43d99ec1ceef9f57df07e8b22/0f291/crossjoinpart2.png 1170w,
/static/b249e7e43d99ec1ceef9f57df07e8b22/6ca50/crossjoinpart2.png 1200w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/b249e7e43d99ec1ceef9f57df07e8b22/0f291/crossjoinpart2.png&quot;
          alt=&quot;crossjoinpart2&quot;
          title=&quot;crossjoinpart2&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Parce que si vous faites attention √† notre table de contact pour l‚Äôutilisateur ‚Äúfelipe@gmail.com ‚Äù, il n‚Äôy a pas de correspondance avec personne √† la table des clients , mais sera quand m√™me retourn√©e.&lt;/p&gt;
&lt;h3&gt;Inner join&lt;/h3&gt;
&lt;p&gt;Maintenant que nous savons d√©j√† quelque chose de base concernant ce que nous pouvons faire en mati√®re de jointure , passons √† la suivante, qui ressemble beaucoup √† la jointure crois√©e, mais avec une simple diff√©rence qu‚Äôici ne renverra que des correspondances.&lt;/p&gt;
&lt;p&gt;C‚Äôest la repr√©sentation du type de jointure que nous faisons ici entre les tables, car vous ne voyez que le ‚Äúcentre‚Äù qui correspond √† ce que nous aurons comme donn√©es.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1696bc619a8faae2a659584b0b485b75/b0217/innerjoin.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 59.26517571884984%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAABh0lEQVQoz21SwUrDQBCN36LoRQQPfokfURRFDyLozQ8ogl5KT6VnQXpREBHsRfSmCNKKTQ2JtdYm226aJtls4tsMjWl1SDab2Xnz3syOlkxMSum6LmNskFoQBHEcwx9FEeecnMPhMAzDDKLRZzweO47j+76YGCKRS4gw7wdSpeD8FwwkCImHjPYvulm7fVCickew0WiEFAqMOOSmaKwSgXEshMTvbrm2UCgy7lJRcWqEh37I0VAbdhlbxtPp2Uubx3PrR9Xre1W5lHly6AdKw4tiyGWaHV039LbZ++zWH5srO6ere6XD6qXweLPR+LAs27YzGijX8GYN7Pcdw7Da7+ZXp1t/el3ePlnbLx9ULpJYtFotyzQHjE2BIZun3ZuRbfX6ixtKduXqH9lULBomHYflG4ZHRCp0q3Q+Xyh+M9VYGU01DHy4I21yySyfmMif34yzm7u/V+V5Hkv1Tw0JVkqPqUJJrsvDwLfTISF/GAqoxRFJ0LJqAaDxhCFCjSeOkgR3MePPID9sIKEO9AXojgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/1696bc619a8faae2a659584b0b485b75/14b47/innerjoin.webp 293w,
/static/1696bc619a8faae2a659584b0b485b75/91928/innerjoin.webp 585w,
/static/1696bc619a8faae2a659584b0b485b75/384f8/innerjoin.webp 1170w,
/static/1696bc619a8faae2a659584b0b485b75/bcff6/innerjoin.webp 1252w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/1696bc619a8faae2a659584b0b485b75/b6dd9/innerjoin.png 293w,
/static/1696bc619a8faae2a659584b0b485b75/037e5/innerjoin.png 585w,
/static/1696bc619a8faae2a659584b0b485b75/0f291/innerjoin.png 1170w,
/static/1696bc619a8faae2a659584b0b485b75/b0217/innerjoin.png 1252w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/1696bc619a8faae2a659584b0b485b75/0f291/innerjoin.png&quot;
          alt=&quot;Inner join&quot;
          title=&quot;Inner join&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Ici, la syntaxe est un peu diff√©rente, nous devons ajouter une contrainte suppl√©mentaire, celle qui recherchera la ligne ‚Äúvalidateur ‚Äú.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; customer &lt;span class=&quot;token keyword&quot;&gt;INNER&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;JOIN&lt;/span&gt; contact &lt;span class=&quot;token keyword&quot;&gt;ON&lt;/span&gt; customer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;zip_code&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;contact&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;zip_code&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;La principale diff√©rence que nous avons ici est que nous allons rechercher une correspondance en utilisant la table client et la table de contact , pour cela nous utiliserons la ligne ‚Äúzip_code ‚Äú.&lt;/p&gt;
&lt;p&gt;C‚Äôest ce que vous aurez comme r√©cup√©ration de donn√©es.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c69f5611fb5a032c4dce68f3b6db3888/8f529/innerexample.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 12.312500000000002%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAAsSAAALEgHS3X78AAAAhUlEQVQI1wF6AIX/ALC+0aS40rrP67XJ5KS2zpytxazA2r3S7qa50aK1zai81rjO6aG0zLvR7a3A2pqswqm9163A2ai81sLV7wC9ytq7zeXL3/nB0+yywtequc27zOPI2/azw9mwwNW3yN7E1/CwwNXH2vW6y+Gpucu5y+G7zOO3x9/M3fXtfl2Jo5cupwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/c69f5611fb5a032c4dce68f3b6db3888/14b47/innerexample.webp 293w,
/static/c69f5611fb5a032c4dce68f3b6db3888/91928/innerexample.webp 585w,
/static/c69f5611fb5a032c4dce68f3b6db3888/384f8/innerexample.webp 1170w,
/static/c69f5611fb5a032c4dce68f3b6db3888/43d96/innerexample.webp 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/c69f5611fb5a032c4dce68f3b6db3888/b6dd9/innerexample.png 293w,
/static/c69f5611fb5a032c4dce68f3b6db3888/037e5/innerexample.png 585w,
/static/c69f5611fb5a032c4dce68f3b6db3888/0f291/innerexample.png 1170w,
/static/c69f5611fb5a032c4dce68f3b6db3888/8f529/innerexample.png 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/c69f5611fb5a032c4dce68f3b6db3888/0f291/innerexample.png&quot;
          alt=&quot;innerexample&quot;
          title=&quot;innerexample&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Il est facile de voir que lorsque nous retournons toutes les cellules, nous avons le code postal de la cellule du client et du contact , toutes les correspond.&lt;/p&gt;
&lt;p&gt;Cette jointure est tr√®s utile pour r√©cup√©rer des donn√©es que vous souhaitez faire correspondre √† une valeur sp√©cifique, diff√©rente de la relation ay.&lt;/p&gt;
&lt;h3&gt;Left joint&lt;/h3&gt;
&lt;p&gt;Comme vous le savez peut-√™tre, l‚Äôobjectif principal est de faire correspondre les donn√©es et, si les donn√©es correspondent, nous renvoyons cette ligne.&lt;/p&gt;
&lt;p&gt;Vous pouvez voir ici que nous avons au centre la partie jointure , c‚Äôest-√†-dire le validateur, et la partie gauche qui signifie que si la jointure ne correspond pas, les donn√©es seront renvoy√©es mais avec la ligne pour les donn√©es qui ne correspond pas ‚Äúvide‚Äù.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7fa3c04fc7f3f18d4d3dc5e2b510a641/b0217/leftjoin.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 59.26517571884984%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAACFklEQVQoz2P4////PyD6ByT+v3j7fsuJy0v2nt5z9trHz1//g8Hfv3+/fPny4cOHj2Dw48cPiGIgYICwfv782bFqj1pWv1BsO3dEs1Bch0H+5EV7Tv/98+f9hw/fvn37DQOfP38GGvTnzx+wZpAR/7KnreMIbxZJ6NIrmh7Rt0Yzb6pgfBd3WGPbki0gy2FWQQDQJqB+oK0MQM6aQ+e4Ippl0/ulU3sVMyfqFk5XyJggndonGd8mldhx8e5joJo/f4AmQAGQ+/XrV6BfQJpD2hfzx3XIpvWJJ3YLxXcKxHUIxnVKJHZKJbQzhzaVzwNZ/vvvX2TLgUYAA4Hhy7fv+nkTxZJ6JJJ6TMpmuTQutK2Z5960RCG1Wzt3omXV3KjelV8/frh7+86TR49ev3oFDy2gyxk+wzRLJvdo5U+1qZ5rVTnHpXExULNWzgSLqrnRvSt+ff/6BAgeP37/7h3ccpBmIBXasUQgrhPobDGws4XjOxHODsHpbGC0gTSvOniON6pVLn2CTGqfNBgBGUCzpBPaZZK7zt9+hBxgEM3AyAMFGCSq0ievYQpuEE/ulQHrBCLhxB7WkPrmhZuwRtU7sPsRiaRl+S6F1B6eqFbe6HagQ7Ry+uftPPHn9+93798D7QGmM6BKYNpASSQQD0DMfvLq7cZjF+fvPLHz9LU3Hz+DpUDJExirQA3v37//9OkTMHn+hyVnAO67E4R//4YrAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/7fa3c04fc7f3f18d4d3dc5e2b510a641/14b47/leftjoin.webp 293w,
/static/7fa3c04fc7f3f18d4d3dc5e2b510a641/91928/leftjoin.webp 585w,
/static/7fa3c04fc7f3f18d4d3dc5e2b510a641/384f8/leftjoin.webp 1170w,
/static/7fa3c04fc7f3f18d4d3dc5e2b510a641/bcff6/leftjoin.webp 1252w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/7fa3c04fc7f3f18d4d3dc5e2b510a641/b6dd9/leftjoin.png 293w,
/static/7fa3c04fc7f3f18d4d3dc5e2b510a641/037e5/leftjoin.png 585w,
/static/7fa3c04fc7f3f18d4d3dc5e2b510a641/0f291/leftjoin.png 1170w,
/static/7fa3c04fc7f3f18d4d3dc5e2b510a641/b0217/leftjoin.png 1252w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/7fa3c04fc7f3f18d4d3dc5e2b510a641/0f291/leftjoin.png&quot;
          alt=&quot;left join&quot;
          title=&quot;left join&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Mais ici maintenant, nous commen√ßons √† faire les choses diff√©remment. Voyons en quoi consiste cette requ√™te:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; customer &lt;span class=&quot;token keyword&quot;&gt;LEFT&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;JOIN&lt;/span&gt; contact &lt;span class=&quot;token keyword&quot;&gt;ON&lt;/span&gt; customer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;zip_code&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;contact&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;zip_code&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;La ‚Äútranscription‚Äù de ce que nous demandons ici est la suivante: nous voulons toutes les donn√©es de &lt;code&gt;LEFT&lt;/code&gt; qui, dans notre sc√©nario, sont des clients , et nous voulons uniquement contacter la table celles qui correspondent √† notre validation.&lt;/p&gt;
&lt;p&gt;En faisant cela, vous devriez avoir ces donn√©es comme r√©sultat de cette requ√™te:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/da53e8de3d233a74208b5b13fc2ede47/8f529/leftjoinexample.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 23.125%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAAsSAAALEgHS3X78AAABAUlEQVQY0w2O2W6DMBBF+f/v6WOlqikJAYwxmzGEPZjNZod0eepIo9FI956jUd4uwT3gAUt1QlXNcH1aVE2Y1p+qbmEnyUqW1V+aGUaJw/KLqvk0CtPqqmMvYIrlsn7cxXx49KFqSDNJK9ZebndEEPFBKqZdRwQ6FR/eP9SbYT8bYWK3aqUSxtly/ABM40xHDvSitOD9ZGKPeCx85BCBpR3mpp/BlZZNP25RUnZyVeK0AlguJ40yA2DLeWRP3o/I9mw3hBsi7NJh2mA6uazn37i+6k5O27eS5Hzef4fpYEl5MzAigVhOsOqWix2aFHyYdmT78HYn1rob5fIS81nyAfY/T6cD9FcV3FgAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/da53e8de3d233a74208b5b13fc2ede47/14b47/leftjoinexample.webp 293w,
/static/da53e8de3d233a74208b5b13fc2ede47/91928/leftjoinexample.webp 585w,
/static/da53e8de3d233a74208b5b13fc2ede47/384f8/leftjoinexample.webp 1170w,
/static/da53e8de3d233a74208b5b13fc2ede47/43d96/leftjoinexample.webp 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/da53e8de3d233a74208b5b13fc2ede47/b6dd9/leftjoinexample.png 293w,
/static/da53e8de3d233a74208b5b13fc2ede47/037e5/leftjoinexample.png 585w,
/static/da53e8de3d233a74208b5b13fc2ede47/0f291/leftjoinexample.png 1170w,
/static/da53e8de3d233a74208b5b13fc2ede47/8f529/leftjoinexample.png 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/da53e8de3d233a74208b5b13fc2ede47/0f291/leftjoinexample.png&quot;
          alt=&quot;leftjoinexample&quot;
          title=&quot;leftjoinexample&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;Right join&lt;/h3&gt;
&lt;p&gt;Maintenant que nous avons d√©j√† vu comment il est laiss√© joindre cela n‚Äôest pas diff√©rent, la seule diff√©rence est que nous voulons maintenant que le c√¥t√© ‚Äúdroit‚Äù soit la table principale. Cela signifie que nous renverrons toutes les donn√©es de la table droite m√™me si elles ne correspondent pas. Bien s√ªr ce qui n‚Äôa pas de correspondance est vide.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/799ec65bf117690e0f3a72778a460cfb/b0217/rightjoin.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 59.26517571884984%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAACGklEQVQoz2P4DwN//vz58uXLx48fP4HBz58///37B5b5d/Phs1UHzy3dd+bU9Xu/f/8GCYGlGCA6f/z48eHjRyD5GwaAZvz4/v3p6/fJE1fJJHcLxLTxRrWKJ3a61889ce0eRD9I8/fvP4BKYfaAwF8w+9Hzl+b5/VxR7RLJPSrZkzTzp0qn9vLFdkondR66eBtkM1Ddhw8fITr/wcDvP3+B3MLZm7jCGhTSesSTehxrFwR2rpRJ65NN6xOI7bQpnwF0JsOPnz8/f/78HwlArH3y6q1Sei9QnXRiO1CzUFynYFyHeFK3VEqvbFo/f3Tr1pNXGIBhAwkDIHj65MnD+/cfPHjw9sWzAxduaedOdKxbIB7Xalw6y61psW31PIPiGZLJPXLp/VyRrX3rDqBofvf2LVD/48ePP7x6cejSLY3sCU71C6US2jTyptjXzreumqudP1UCWTMwSoAxBPIwNmfzx3ZIJ7SLgZzdIRTfKZYIdbZgTBvI2f9AAfYBLcD+/IUGGG9Ek0Jar3RqnwwYAXXKp/cLxXfZVsz89v0HJKq+A9MGZpg9fv7SKKeHLbxFKgWqGWgKT0yHWHz7gYs3EYkEqB8YYcDQh0YVMJF8BCaSb49fvY3rXSEa184T1cYb3SYQ3epUPfvI5dsQCxjAroUmz69fvwLTGdAUYOT9+vULIv7379+r95+t2H9m0Z5TwLT1/ecviCCQBADqEBKnImtQdwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/799ec65bf117690e0f3a72778a460cfb/14b47/rightjoin.webp 293w,
/static/799ec65bf117690e0f3a72778a460cfb/91928/rightjoin.webp 585w,
/static/799ec65bf117690e0f3a72778a460cfb/384f8/rightjoin.webp 1170w,
/static/799ec65bf117690e0f3a72778a460cfb/bcff6/rightjoin.webp 1252w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/799ec65bf117690e0f3a72778a460cfb/b6dd9/rightjoin.png 293w,
/static/799ec65bf117690e0f3a72778a460cfb/037e5/rightjoin.png 585w,
/static/799ec65bf117690e0f3a72778a460cfb/0f291/rightjoin.png 1170w,
/static/799ec65bf117690e0f3a72778a460cfb/b0217/rightjoin.png 1252w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/799ec65bf117690e0f3a72778a460cfb/0f291/rightjoin.png&quot;
          alt=&quot;Right join&quot;
          title=&quot;Right join&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Question:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; customer &lt;span class=&quot;token keyword&quot;&gt;RIGHT&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;JOIN&lt;/span&gt; contact &lt;span class=&quot;token keyword&quot;&gt;ON&lt;/span&gt; customer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;zip_code&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;contact&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;zip_code&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Mais il est important de ne pas se m√©prendre pour obtenir toutes les donn√©es de droite ou de gauche avec uniquement la quantit√© exacte de donn√©es dont nous disposons √† cette table sp√©cifique.&lt;/p&gt;
&lt;p&gt;Ce que je veux dire par l√†, c‚Äôest que pour cette jointure, nous voulons ‚Äútout‚Äù du c√¥t√© droit, c‚Äôest notre table de contact qui contient 4 √©l√©ments que nous avons ajout√©s, et voici le r√©sultat:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/31972c42804d65c58b8b6bb70089879d/8f529/rightjointexample.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 16.5625%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAAAsSAAALEgHS3X78AAAAoUlEQVQI1w2L4QqCMBhFff+3MoyyyEDTldtyThETnS41N9m07/64HM7lOudLECHSDb/qI+4hcj0fpZn4LlGc+rcwSkjTjdcgbPuZZMXh6CPMMOVhguWknUec8KqR8wpn/OYvwgD6UVFW0rwq664dZpDDpFPKXe/0xBkrajBy1k6e51qvxphlURBr7b7v0ErrbduAYVJKA0gpOedCCGNgt9B/uoGjGl7eHqAAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/31972c42804d65c58b8b6bb70089879d/14b47/rightjointexample.webp 293w,
/static/31972c42804d65c58b8b6bb70089879d/91928/rightjointexample.webp 585w,
/static/31972c42804d65c58b8b6bb70089879d/384f8/rightjointexample.webp 1170w,
/static/31972c42804d65c58b8b6bb70089879d/43d96/rightjointexample.webp 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/31972c42804d65c58b8b6bb70089879d/b6dd9/rightjointexample.png 293w,
/static/31972c42804d65c58b8b6bb70089879d/037e5/rightjointexample.png 585w,
/static/31972c42804d65c58b8b6bb70089879d/0f291/rightjointexample.png 1170w,
/static/31972c42804d65c58b8b6bb70089879d/8f529/rightjointexample.png 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/31972c42804d65c58b8b6bb70089879d/0f291/rightjointexample.png&quot;
          alt=&quot;rightjointexample&quot;
          title=&quot;rightjointexample&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Nous avons 6 √©l√©ments et non 4, mais rappelez-vous, ce n‚Äôest pas une requ√™te de ‚Äútout renvoyer d‚Äôun c√¥t√© s‚Äôil y a correspondance ‚Äù, c‚Äôest une requ√™te qui renvoie tout d‚Äô un ‚Äúc√¥t√©‚Äù qui correspond, nous avons 2 correspondances pour le code postal 3423PO , c‚Äôest un match alors revenez.&lt;/p&gt;
&lt;h3&gt;Full join&lt;/h3&gt;
&lt;p&gt;Maintenant le dernier, qui ressemble √† la jointure crois√©e, la diff√©rence ici est que nous recherchons une &lt;strong&gt;correspondance&lt;/strong&gt; et non un produit cart√©sien comme la jointure crois√©e.&lt;/p&gt;
&lt;p&gt;Nous chercherons la jointure dans toute la zone bleue, en validant fondamentalement les deux c√¥t√©s en fonction de notre contrainte de ‚Äúvalidation‚Äù, qui dans notre sc√©nario est zip_code.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/29e3e8a840fc500356e30313b0782efe/b0217/fulljoin.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 59.26517571884984%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAACUUlEQVQoz2P4////v3//IeDmw2erDpxduvf0yWt3f//6BRH89+/vlbuPVxw4s3zf6fO3Hvz58wcsCNLDAKGevn6bPGGlTHK3YGy7QEybWEKnS82s0zfuP3z+OrxjsVRSl2Bsm2BMm0Ril3/z/It3HkH0MwCpZ6/fWpdO44xslUrtk07tk0ntk0rt5Y3pVElp10nv4I7ukEzpBYmn9UmlAMU7lNO6gU4A2QzE+TPWc0S0KmRMkIIoghiR0i0a2yIa2wp0DkQQZGhKr3x6P1C/Z/3c///+MDx//U4lo08iuVc6pVc0oVskoUs4vlMksVsivk0qsQMoKBXfJpbUAxQUTugST+qWBlsgGt9x5PJthsMXb4kndgH5Esk9djXz7WvmO9YtBDJkEtokk3uASsVjW8zKZ7s0LLSvna9bOE0iqUcufQJneNP8nScYDsE0A5Ualcy0qpxrVz3fumqedDxIM9CdEnEt2vnT7Grm2VbP08ibgtC86wTDizfv1DKBOoGO6YW4WQjsQqizU6HOFowDiUOcLZPWL57QeRTobEiAcUe1AwMMqBQeYLIpPRJxrUAjZFPQAmyCQFynV8O8f3//gKPq1Vuzosms4S1SKVBFQNXAGJJLaFFPaeWIakMW54pql0vuPHcTHFV/wYnk8cu3cb3LROPaeaLaeKPa+KNb7StmnLx27/6zl8EtC4Vj2nijQQiYTrzq554DR/JfSCL5C05lwGR47f7TFfvPLNp18vjVO99//IAkz99//gCT1NK9pxbvOXXmxv2f4GT75+9fIAkAz/qA/xb+AwkAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/29e3e8a840fc500356e30313b0782efe/14b47/fulljoin.webp 293w,
/static/29e3e8a840fc500356e30313b0782efe/91928/fulljoin.webp 585w,
/static/29e3e8a840fc500356e30313b0782efe/384f8/fulljoin.webp 1170w,
/static/29e3e8a840fc500356e30313b0782efe/bcff6/fulljoin.webp 1252w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/29e3e8a840fc500356e30313b0782efe/b6dd9/fulljoin.png 293w,
/static/29e3e8a840fc500356e30313b0782efe/037e5/fulljoin.png 585w,
/static/29e3e8a840fc500356e30313b0782efe/0f291/fulljoin.png 1170w,
/static/29e3e8a840fc500356e30313b0782efe/b0217/fulljoin.png 1252w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/29e3e8a840fc500356e30313b0782efe/0f291/fulljoin.png&quot;
          alt=&quot;Full join&quot;
          title=&quot;Full join&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;La jointure compl√®te combine les deux tables, les donn√©es gauche et droite, et renvoie toutes les correspondances et toutes les correspondances , regardons la requ√™te&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; customer &lt;span class=&quot;token keyword&quot;&gt;FULL&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;JOIN&lt;/span&gt; contact &lt;span class=&quot;token keyword&quot;&gt;ON&lt;/span&gt; customer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;zip_code&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;contact&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;zip_code&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Voici ce que nous aurons comme retour:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/97dc580d3604ab840d9413c6b74816ce/8f529/fulljoinexample.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 27.625%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsSAAALEgHS3X78AAABLElEQVQY0xVQ2XKDMAzk//+lX9CHtIUEEzBNIOCAwWAbg7khZ4+XqjMazc5Ku6uR8fKKNzgPSeYeiGW7QRiVQsWZNHfu3vNpXpxZZdpuGJEwKT8sFJxikgkL+YfgZJg25vXQTddTTDcf9puJuOrbYbUd30LYD8iw3MFU6rFuJ1iwkFc1g+MdmdQGr9r1/qP7tZT6TEsm9Lg+h/lOmSxlq/QEYlpI6EqPYG27nwAgSajeSJmYLk+IyksVpyzNBc2Faqck48Bw1Y7Lg6Ss6RbdL1HCGG+68QoY7Iwk5+vte1zuJC3MrbNzMC0quND1QwRvSItpfeBjVHfzMN9Ac3n8ztcvWff/4nMGJz2b/gLgfbtHXlB3KxTyjggHhAoYOTjk9QhkITs93qAK2QL/B0/lOKwaRDFbAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/97dc580d3604ab840d9413c6b74816ce/14b47/fulljoinexample.webp 293w,
/static/97dc580d3604ab840d9413c6b74816ce/91928/fulljoinexample.webp 585w,
/static/97dc580d3604ab840d9413c6b74816ce/384f8/fulljoinexample.webp 1170w,
/static/97dc580d3604ab840d9413c6b74816ce/43d96/fulljoinexample.webp 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/97dc580d3604ab840d9413c6b74816ce/b6dd9/fulljoinexample.png 293w,
/static/97dc580d3604ab840d9413c6b74816ce/037e5/fulljoinexample.png 585w,
/static/97dc580d3604ab840d9413c6b74816ce/0f291/fulljoinexample.png 1170w,
/static/97dc580d3604ab840d9413c6b74816ce/8f529/fulljoinexample.png 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/97dc580d3604ab840d9413c6b74816ce/0f291/fulljoinexample.png&quot;
          alt=&quot;fulljoinexample&quot;
          title=&quot;fulljoinexample&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Ici, nous suivons le m√™me principe que les ‚Äújointures‚Äù avant, c‚Äôest ce qui n‚Äôa pas de correspondance nous avons encore les donn√©es, mais ‚Äúvide‚Äù&lt;/p&gt;
&lt;h2&gt;Union&lt;/h2&gt;
&lt;p&gt;Cette commande est tr√®s utile, car il est question d‚Äôobtenir des donn√©es √† partir de 2 tables, mais ne confondez bien s√ªr pas les deux.&lt;/p&gt;
&lt;p&gt;Ce que fait Union, c‚Äôest que nous allons combiner les donn√©es des deux c√¥t√©s, mais que nous ne renverrons que des donn√©es ‚Äúuniques‚Äù entre les deux, si ‚Äúidentiques‚Äù ne renvoient pas les doublons, par exemple, c‚Äôest ce qui se produit avec join.&lt;/p&gt;
&lt;p&gt;C‚Äôest la requ√™te que nous utilisons:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; customer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;email&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; customer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;zip_code &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; customer &lt;span class=&quot;token keyword&quot;&gt;UNION&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; contact&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;email&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; contact&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;zip_code &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; contact&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;C‚Äôest ce que nous aurons comme retour:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 650px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b545339b9344dfeab85903bf704e7956/8d2e0/union.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 65.53846153846153%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsSAAALEgHS3X78AAACaUlEQVQozz1Ra5OaQBDk//+VfEgqSXmJp6fIY4EVFthlWUWeKuqdqIAPRO+SjVeVqa6tnqnqmp5eoSiKOEk19grpXNZdHCzTzTHKD/GqfLwHKyxGKILB1sARorECPcdPSFaqJBWSOHFd8gInnYHx5Vu3LyPDDQ1nptmBRVObZbIT94AnmsHPHvjaGfzoyqLm6t5cNKfCLAiIR0XV6kvwqa92nuXuUHuRzaFisXgTLHbhooiXu/7I6PTk77+GJFgkm3qabpevpQAhdBxnNgsJIQghzimlwaPa9vrnUR8fH1EUuY+qqur/UCCYq6ik2z1R4/j9ooqqqZlE1u1sfVi8VhzLtwraTATmswiCdJ1vj9mm3OyOgo1sz6OYTqHlDiUATRc5nkN8OgnL4/VQNxz76mIirAAoA7hYbevzjU/q01WAuoFdjBysQ1OS1ZEMkM312CX0cr2dm/YT6TwP42wSRMWubNr76XK9XFuB8r0+0y1fVNFTTxrIpgKJOibQmSSr8hMpx7riJNvUHJzE+SHf1oI0klzHTZLEtnleaDweY4wZY3zCU3m/v/No7veb7/s8S0WRi2L7SOudQ5gwxleDsffvq3pydwAUiPnP0Vm+3l/z4pxtqnRdahYVgQWdKbfA22R14LcLfBvGxHYpNG3NGDuYji2Hc8pmYTKP4sW+OvFssMcshGVg5JvtqblVp+Z0aQWgAi7mGknReoORZpg6tEQJAH3Mgtj1WLGvj+fWY4FD6ECUFqu3c3Ovjs3p3AqEYJ9NgemNAOpLhgiQZnq89cMlt73eN9x2ti51xPgtkmZP4vX8tY4ftv8CYliZWsBLAecAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/b545339b9344dfeab85903bf704e7956/14b47/union.webp 293w,
/static/b545339b9344dfeab85903bf704e7956/91928/union.webp 585w,
/static/b545339b9344dfeab85903bf704e7956/5d8d7/union.webp 650w&quot;
          sizes=&quot;(max-width: 650px) 100vw, 650px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/b545339b9344dfeab85903bf704e7956/b6dd9/union.png 293w,
/static/b545339b9344dfeab85903bf704e7956/037e5/union.png 585w,
/static/b545339b9344dfeab85903bf704e7956/8d2e0/union.png 650w&quot;
          sizes=&quot;(max-width: 650px) 100vw, 650px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/b545339b9344dfeab85903bf704e7956/8d2e0/union.png&quot;
          alt=&quot;union&quot;
          title=&quot;union&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Comme vous pouvez le constater, nous sp√©cifions les colonnes que nous voulons, ce qui est obligatoire, car nous devons pr√©ciser lesquelles sont ‚Äú√©gales‚Äù afin qu‚Äôil puisse comparer et renvoyer des √©l√©ments uniques entre les deux.&lt;/p&gt;
&lt;p&gt;Une chose importante concernant cette commande est qu‚Äôil op√®re de mani√®re tr√®s efficace, cela signifie que l‚Äôordre peut changer.&lt;/p&gt;
&lt;h2&gt;Order&lt;/h2&gt;
&lt;p&gt;C‚Äôest une contrainte tr√®s utile pour organiser les donn√©es que vous demandez. Par cons√©quent, nous ne ‚Äúfiltrons‚Äù pas les donn√©es. En fait, il organise votre r√©ponse en fonction de certains crit√®res.&lt;/p&gt;
&lt;p&gt;Simplement, ordonnons notre requ√™te en fonction de l‚Äô√¢ge de nos clients:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; customer &lt;span class=&quot;token keyword&quot;&gt;ORDER&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;BY&lt;/span&gt; customer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;age &lt;span class=&quot;token keyword&quot;&gt;desc&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Et voici la r√©ponse √† laquelle vous devez vous attendre:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/31db92e261d604c62a93eb6b56dadb97/b0217/orderby.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 34.185303514377%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsSAAALEgHS3X78AAABUklEQVQY0x2QyXaDMAxF+f+P6mkzGU+YOcHMhAQ4QGIIkKmLKl1KetK9toaFgyg3/JgJZ8ccZvmYsCjO0jRP8pK7oU7NHdJlGAdRSmxJhUMp82TiHiINESGTslPLseptP9SZ/b3WMbeDuGjVUtaXDeJQEsO1vBAy32vsHmIYDdNd46ablfW4vPthPkSZYXmrLYbzUVre7r91N+hECGfPTW8v07pVIJIW1TC/5vtL06mIs9NteXfXKYhyatgbRDEzHV9CtOlGRAzD8qFve7Lphh3mMjmO8/uzTJiV/F9qrxPQCLc2OtsgBoRDlDf9Z1nYe3Bx91HTDwALk6MC8vLSwBPchunZqVkmBbzio204xblV0xNQCBvc8phwk+Jcdwozq2oVjOYHaAO5bJvrcmrHMKswd75WaIvNID216pFXlzXiRHjwkV6Q5VX/s6V+WEB+mB5/a8NoZtOghZ4AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/31db92e261d604c62a93eb6b56dadb97/14b47/orderby.webp 293w,
/static/31db92e261d604c62a93eb6b56dadb97/91928/orderby.webp 585w,
/static/31db92e261d604c62a93eb6b56dadb97/384f8/orderby.webp 1170w,
/static/31db92e261d604c62a93eb6b56dadb97/bcff6/orderby.webp 1252w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/31db92e261d604c62a93eb6b56dadb97/b6dd9/orderby.png 293w,
/static/31db92e261d604c62a93eb6b56dadb97/037e5/orderby.png 585w,
/static/31db92e261d604c62a93eb6b56dadb97/0f291/orderby.png 1170w,
/static/31db92e261d604c62a93eb6b56dadb97/b0217/orderby.png 1252w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/31db92e261d604c62a93eb6b56dadb97/0f291/orderby.png&quot;
          alt=&quot;orderby&quot;
          title=&quot;orderby&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;Alias&lt;/h2&gt;
&lt;p&gt;Ceci n‚Äôest pas destin√© √† interroger quelque chose ou quelque chose comme √ßa, c‚Äôest juste un moyen de vous aider √† organiser le nom d‚Äôune table, c‚Äôest simplement un surnom .&lt;/p&gt;
&lt;p&gt;La syntaxe de base est la suivante:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; A&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; A&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;zip_code &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; customer A&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Et vous devriez obtenir quelque chose comme √ßa:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 476px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4e5838dddfadaa7a507848178e1c8f7d/3c24c/alias.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 88.65546218487394%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAACXBIWXMAAAsSAAALEgHS3X78AAADI0lEQVQ4y1WTiW7iSBCG/f6vsdFqk2w2mckczGRJuAK+8dnubt8XN9jYxgGGJFMBLdKWfpWs+rqlv6rLzHw+z/OcEqrYKQ3GYRA4jjtOU2+8Yg2f2K7iTsM49T1vMpn4vk+pnWcrHM9lmjDpMRRFGRihbDpf7z9dXV4+d9t2NG70NUnR+ijlRen2n5tupwP57+vrJAo0O2oKFmOYpue5vCD/eGh1+gIvI8uJdRIa2NeQK2nkqf3871O/2eH6go7s2KSRankG8VXkMoqiBoGvmbjNao3HvumMknkdTIpwWsXz2kuzZk/sclpPMNghmAVURtMKaDSrmOFwiDF2XZdSyvP8gGWrqnp/f399fX17e9tut4IgwBn+GMvl8owgf1wmhFDbCeORbmJZ0efLfLs/1Ns9qKhqTB3HCy1ie2G8ysuX3a8TAjHdbnc4lIeadfPl8eL6vtkbuqMSh0scrZwk12gKxbvv7T+u7i+u7lnFsZM1UBKtQNCzghAyTMvENiIOtv3VelPU+/VmV9S75bpSdAsmoiMqKfp0mRcvv/JqCxTEQCfQbeD7YB4siKKwOfYMXUHe7XaWZWFswVCAbjabM4JgOI7TdU3VUasvN5rPvILjWRlO1qB4WnjJ4sdj/+lZbDR7D23WdBKgwTg/HWBgmBZCqm7BtccuryBvnG0BRNPi49wo63EqK5ldyDIiwSSeVdGRgphet6frehTBXvqGoUuSGIXh2dt+vwe3UOd5Dj7W6/X/bA8GA3gtGNhQQ5pBEPWi0QyGsSpqGMw8KwVZk1VT0ZFq4Pg/lJUvIAbmNEpTzSQPHemv28afN18lFLqjghyfioSLu+8tWL7bb08XV5851TkhGmd2nDEsy3681sdMKShORrAG290BtNsfyqrWDSg7CNMknZzqZzHtdlsURYwJJkRVtSzLoJnD4XDawbquTRPBBvpBEMfJaTfPwUiy7Di2SZyfbeFzowUmhyjyxyW4ctM1jRZfHnpg+1OjdXnXEDT3hKAjENPpdMC5KCvwJ3KSzopakC7Gi2o0L8eLMpnmomKZNJA1wkmGG00BpbMCKOg3q82lm1BRDhAAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/4e5838dddfadaa7a507848178e1c8f7d/14b47/alias.webp 293w,
/static/4e5838dddfadaa7a507848178e1c8f7d/d1cf8/alias.webp 476w&quot;
          sizes=&quot;(max-width: 476px) 100vw, 476px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/4e5838dddfadaa7a507848178e1c8f7d/b6dd9/alias.png 293w,
/static/4e5838dddfadaa7a507848178e1c8f7d/3c24c/alias.png 476w&quot;
          sizes=&quot;(max-width: 476px) 100vw, 476px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/4e5838dddfadaa7a507848178e1c8f7d/3c24c/alias.png&quot;
          alt=&quot;alias&quot;
          title=&quot;alias&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;S√©parons pour chaque partie, d‚Äôabord ce que nous avons fait, nous s√©lectionnons ce que nous voulons, mais si vous faites attention, nous ajoutons un caract√®re ‚Äù&lt;strong&gt;A&lt;/strong&gt;‚Äù avant le nom de la colonne , dans notre nom de sc√©nario et code postal . Mais nous devons dire √† notre code SQL ce que ce personnage ou ‚Äúpseudo‚Äù signifie, n‚Äôest-ce pas?! Et nous le faisons apr√®s, lorsque nous disons &lt;code&gt;FROM customer A&lt;/code&gt;, nous disons ici comment SQL devrait interpr√©ter cette lettre, ce devrait √™tre l‚Äô&lt;strong&gt;alias&lt;/strong&gt; du client .&lt;/p&gt;
&lt;p&gt;Vous pouvez √©galement le faire lorsque vous avez plusieurs tables, par exemple:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; A&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;zip_code&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; B&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;zip_code &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; customer A&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; contact B&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Vous pouvez voir que les deux sont ‚Äúidentiques‚Äù, mais nous renommons pour avoir un autre &lt;strong&gt;alias&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Une autre chose que vous pouvez faire est de ‚Äúchanger‚Äù le nom de la table que vous retournez, par exemple:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; name &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Person Age&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; A&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;zip_code &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; customer A&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Si vous voyez ici, j‚Äôai utilis√© deux formats d‚Äôalias, pour le premier, je n‚Äôutilise pas l‚Äôalias pour savoir quelle colonne est, mais ce que je veux, c‚Äôest que le retour de cette colonne soit appel√© ‚Äú√Çge de la personne‚Äù et le second est l‚Äôalias fa√ßon de l‚Äôappel que nous avons d√©j√† appris, c‚Äôest le r√©sultat.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 550px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ef33855965537ae2dd6d0dfc023f5510/5bdfc/alias2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 24.727272727272727%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAAsSAAALEgHS3X78AAABC0lEQVQY0z2O3U6DMABGef8H8cKYzAslUTcHRhlQKJSflpYJdGOjTMWxjU1ZAhIvlpycLzlXn1RVVSmE6iSvYaHO3DcLmyjWINFsHPJqjFZ2EPtJGQRBFBGMMYTwY1OS5afpM0kIkaWpalOTFA9TfUDR3EfFuJWf/XcxcTKAIn+emyaY6YauG1NF5ZxHaWEgInkeYiwe3Y+vbu50l+Fkg2iO2MqL1xBnHl0Cb349kuWJ9qQCK0hwUkLCYZiydC0hhCilPqYQhVGcbvc/u6bdNb//tPvT+as+mDaK4sSw3CwXQ6mbtj62zeksAQCKomCMOtB+UZXvqur7vuu6i4/NYbjrOo5lgcWCX/owf0EjAKq7rayJAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/ef33855965537ae2dd6d0dfc023f5510/14b47/alias2.webp 293w,
/static/ef33855965537ae2dd6d0dfc023f5510/33862/alias2.webp 550w&quot;
          sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/ef33855965537ae2dd6d0dfc023f5510/b6dd9/alias2.png 293w,
/static/ef33855965537ae2dd6d0dfc023f5510/5bdfc/alias2.png 550w&quot;
          sizes=&quot;(max-width: 550px) 100vw, 550px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/ef33855965537ae2dd6d0dfc023f5510/5bdfc/alias2.png&quot;
          alt=&quot;alias2&quot;
          title=&quot;alias2&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;Delete&lt;/h2&gt;
&lt;p&gt;Comme son nom l‚Äôindique, il s‚Äôagit d‚Äôune suppression, et je n‚Äôai pas besoin de vous avertir qu‚Äôil s‚Äôagit d‚Äôune commande tr√®s ‚Äúdangereuse‚Äù, alors faites attention, je vais montrer 2 syntaxe de base:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;DELETE&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; customer&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Vous avez peut-√™tre remarqu√© que nous ne sp√©cifions aucune donn√©e particuli√®re. Nous allons donc tout supprimer, c‚Äôest simple, mais nous souhaitons supprimer une donn√©e sp√©cifique. Pour cela, proc√©dez comme suit:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;DELETE&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; customer &lt;span class=&quot;token keyword&quot;&gt;WHERE&lt;/span&gt; name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Felipe&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ici, je dirais que la fa√ßon la plus s√ªre de faire, utilisez une personne sp√©cifique.&lt;/p&gt;
&lt;h2&gt;Drop table&lt;/h2&gt;
&lt;p&gt;Le sujet est sur la suppression, continuons avec ceci, la commande pr√©c√©dente est de supprimer les donn√©es d‚Äôune table / colonne, maintenant nous allons continuer, mais avec un autre type de suppression, celle qui supprime la table ou la supprime.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-sql line-numbers&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;DROP&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;TABLE&lt;/span&gt; customer&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;C‚Äôest simple comme √ßa, mais vous devez √™tre encore plus prudent que la commande delete . Ici, vous allez laisser tomber la table des trous et il n‚Äôy a aucun moyen de r√©cup√©rer.&lt;/p&gt;
&lt;p&gt;Une autre diff√©rence majeure est que cela ne devrait pas √™tre utilis√© dans votre ‚Äúprogramme‚Äù. Cette commande ne devrait √™tre utilis√©e que par la commande de terminal lorsque vous savez ce qui doit √™tre fait ou supprim√©.&lt;/p&gt;
&lt;hr&gt;</content:encoded></item><item><title><![CDATA[Map, filter, reduce]]></title><description><![CDATA[Ces trois fonctions sont utiles pour parcourir une liste (ou un tableau) et effectuer une sorte de transformation ou de calcul. Cela‚Ä¶]]></description><link>https://ludovicwyffels.dev/js-map-filter-reduce/</link><guid isPermaLink="false">https://ludovicwyffels.dev/js-map-filter-reduce/</guid><pubDate>Sun, 03 Mar 2019 08:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Ces trois fonctions sont utiles pour parcourir une liste (ou un tableau) et effectuer une sorte de transformation ou de calcul. Cela produira alors une nouvelle liste ou le r√©sultat du calcul effectu√© sur la liste pr√©c√©dente.&lt;/p&gt;
&lt;h2&gt;Les types&lt;/h2&gt;
&lt;p&gt;Avant de plonger dans map, filter et reduce, configurons la liste.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;enum&lt;/span&gt; House &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  Gryffindor &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Gryffindor&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  Hufflepuff &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Hufflepuff&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  Ravenclaw &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Ravenclaw&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  Slytherin &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Slytherin&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

type Wizard &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; string&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  house&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; House&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  points&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; number&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;types.ts&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Chaque objet de l‚Äôassistant a un nom, une maison et le nombre de points qu‚Äôil a gagn√©s pour sa maison. D√©clarons un groupe de magiciens et mettons-les dans une liste.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; HarryPotter&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Wizard &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Harry Potter&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  house&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; House&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Gryffindor&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  points&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;40&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; HermioneGranger&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Wizard &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Hermione Granger&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  house&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; House&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Gryffindor&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  points&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;140&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; DracoMalfoy&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Wizard &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Draco Malfoy&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  house&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; House&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Slytherin&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  points&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; TaylorSwift&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Wizard &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Taylor Swift&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  house&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; House&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Slytherin&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  points&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; LinManuelMiranda&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Wizard &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Lin Manuel Miranda&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  house&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; House&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Slytherin&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  points&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5000&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; CedricDiggory&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Wizard &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Cedric Diggory&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  house&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; House&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Hufflepuff&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  points&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;12&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; SallyPerks&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Wizard &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Sally Perks&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  house&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; House&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Hufflepuff&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  points&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;15&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; LunaLovegood&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Wizard &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Luna Lovegood&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  house&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; House&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Ravenclaw&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  points&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; ChoChang&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Wizard &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Cho Chang&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  house&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; House&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Ravenclaw&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  points&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; wizards&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Wizard&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
  HarryPotter&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  HermioneGranger&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  DracoMalfoy&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  LinManuelMiranda&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  TaylorSwift&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  CedricDiggory&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  SallyPerks&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  LunaLovegood&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  ChoChang
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;wizards.ts&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Map&lt;/h2&gt;
&lt;p&gt;Maintenant que nous avons la base, allons-y. La premi√®re fonction est la plus simple, map. Map it√®re (ou boucle) sur une liste, applique une fonction √† chaque √©l√©ment de cette liste, puis renvoie une nouvelle liste d‚Äô√©l√©ments transform√©s. Regardons un exemple.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; wizardNames &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; wizards&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;wizard&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; wizard&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;wizard-names.ts&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Cette fonction parcourt la liste des assistants, obtient leur nom et le place dans un nouveau tableau. Le r√©sultat de ceci ressemble √† ceci.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;[
  &amp;quot;Harry Potter&amp;quot;undefined
  &amp;quot;Hermione Granger&amp;quot;undefined
  &amp;quot;Draco Malfoy&amp;quot;undefined
  &amp;quot;Lin Manuel Miranda&amp;quot;undefined
  &amp;quot;Taylor Swift&amp;quot;undefined
  &amp;quot;Cedric Diggory&amp;quot;undefined
  &amp;quot;Sally Perks&amp;quot;undefined
  &amp;quot;Luna Lovegood&amp;quot;undefined
  &amp;quot;Cho Chang&amp;quot;
];&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Dans cet exemple, nous utilisions une fonction lambda (ou fonction anonyme), mais nous pouvons √©galement utiliser une fonction nomm√©e.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;wizardToString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; house&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; points &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Wizard&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;name&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;, &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;house&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;, &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;points&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; wizardStrings &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; wizards&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;wizardToString&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;wizardToString.ts&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Dans cet exemple, nous avons une fonction appel√©e &lt;code&gt;wizardToString&lt;/code&gt; que nous transmettons directement au map. Il retournera alors une nouvelle liste qui ressemble √† ceci.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;[
  &amp;quot;Harry Potterundefined Gryffindorundefined 40&amp;quot;undefined
  &amp;quot;Hermione Grangerundefined Gryffindorundefined 140&amp;quot;undefined
  &amp;quot;Draco Malfoyundefined Slytherinundefined -20&amp;quot;undefined
  &amp;quot;Lin Manuel Mirandaundefined Slytherinundefined 5000&amp;quot;undefined
  &amp;quot;Taylor Swiftundefined Slytherinundefined 100&amp;quot;undefined
  &amp;quot;Cedric Diggoryundefined Hufflepuffundefined 12&amp;quot;undefined
  &amp;quot;Sally Perksundefined Hufflepuffundefined 15&amp;quot;undefined
  &amp;quot;Luna Lovegoodundefined Ravenclawundefined 100&amp;quot;undefined
  &amp;quot;Cho Changundefined Ravenclawundefined 100&amp;quot;
];&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Filter&lt;/h2&gt;
&lt;p&gt;Le &lt;code&gt;filter&lt;/code&gt; se comporte comme un &lt;code&gt;map&lt;/code&gt; dans la mesure o√π il it√®re sur la liste, mais au lieu de transformer chaque √©l√©ment, il transforme la liste enti√®re. Le filter prend une fonction qui renvoie &lt;em&gt;true&lt;/em&gt; ou &lt;em&gt;false&lt;/em&gt; ou un &lt;em&gt;pr√©dicat&lt;/em&gt;. Il renvoie ensuite une nouvelle liste avec des √©l√©ments o√π le pr√©dicat renvoie &lt;code&gt;true&lt;/code&gt;. Regardons un exemple.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; slytherins &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; wizards&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;wizard&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; wizard&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;house &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; House&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Slytherin&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;slytherins.ts&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Dans cet exemple, nous filtrons par-dessus la liste et n‚Äôincluons que les sorciers qui se trouvent dans la maison Serpentard. Le r√©sultat serait ceci.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;[
  { name: &amp;quot;Draco Malfoy&amp;quot;undefined house: &amp;quot;Slytherin&amp;quot;undefined points: -20 }undefined
  { name: &amp;quot;Lin Manuel Miranda&amp;quot;undefined house: &amp;quot;Slytherin&amp;quot;undefined points: 5000 }undefined
  { name: &amp;quot;Taylor Swift&amp;quot;undefined house: &amp;quot;Slytherin&amp;quot;undefined points: 100 }
];&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;En passant, Taylor et Lin sont deux des Serpentards les plus acclam√©s de notre √©poque.&lt;/p&gt;
&lt;p&gt;Comme avec map, nous n‚Äôavons pas besoin d‚Äôutiliser un lambda , nous pouvons √©galement utiliser une fonction pr√©d√©finie.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;isWinner&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; points &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Wizard&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; points &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;isLoser&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;wizard&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Wizard&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isWinner&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;wizard&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; winners &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; slytherins&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;wizard&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; wizard&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;points &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; losers &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; slytherins&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;wizard&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; wizard&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;points &lt;span class=&quot;token operator&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;winners-losers.ts&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Dans cet exemple, nous faisons deux listes, la liste des Serpentards ayant gagn√© des points (gagnants) et la liste des Serpentards ayant perdu des points (perdants). Nous pouvons voir ces r√©sultats ci-dessous.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;const winnersResult = [
  { name: &amp;quot;Lin Manuel Miranda&amp;quot;undefined house: &amp;quot;Slytherin&amp;quot;undefined points: 5000 }undefined
  { name: &amp;quot;Taylor Swift&amp;quot;undefined house: &amp;quot;Slytherin&amp;quot;undefined points: 100 }
];
const losersResult = [
  { name: &amp;quot;Draco Malfoy&amp;quot;undefined house: &amp;quot;Slytherin&amp;quot;undefined points: -20 }
];&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Reduce&lt;/h2&gt;
&lt;p&gt;Nous arrivons maintenant √† la fonction la plus int√©ressante, reduce. Reduce it√®re sur une liste et produit une valeur unique. Regardons un exemple.&lt;/p&gt;
&lt;p&gt;Supposons que nous voulions obtenir le nombre total de points pour tous les assistants. Nous pouvons utiliser r√©duire pour faire cela.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; totalPoints &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; wizards&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;reduce&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;accumulator&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; points &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; accumulator &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; points&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Que se passe t-il ici? Bien r√©duire est une fonction qui prend deux arguments, une fonction et une valeur initiale pour l‚Äôaccumulateur. L‚Äôaccumulateur est le nom de la chose r√©duire les rendements. Dans ce cas, nous commen√ßons le compte de points √† 0.&lt;/p&gt;
&lt;p&gt;Maintenant, la fonction prend l‚Äô√©tat actuel de l‚Äôaccumulateur et de l‚Äô√©l√©ment dans la liste qu‚Äôil est suppos√© traiter. Pour le premier assistant, il passera 0 pour l‚Äôaccumulateur. Cette fonction retourne ensuite &lt;code&gt;accumulator + points&lt;/code&gt;. Cela finira par r√©sumer tous les points. Si vous √™tes curieux, le r√©sultat est 5487.&lt;/p&gt;
&lt;p&gt;Maintenant, l‚Äôaccumulateur peut √™tre n‚Äôimporte quoi, on peut m√™me utiliser r√©duire pour produire un objet. Regardons un exemple o√π nous additionnons les points pour chaque maison.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; pointsPerHouse &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; wizards&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;reduce&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;acc&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; house&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; points &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;acc&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;house&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    acc&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;house&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  acc&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;house&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; points&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; acc&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;points-per-house.ts&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Dans ce cas, nous initialisons notre accumulateur ou &lt;code&gt;acc&lt;/code&gt; avec &lt;code&gt;{}&lt;/code&gt;. Ensuite, pour chaque assistant, nous appelons une fonction qui ajoute le nombre de points qu‚Äôil a gagn√©s pour sa maison. Si vous √™tes curieux, ce r√©sultat ressemble √† ceci.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{
  Gryffindor: 180undefined
  Slytherin: 5080undefined
  Hufflepuff: 27undefined
  Ravenclaw: 200
};&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Regardons un autre exemple, disons que nous voulons le meilleur assistant pour chaque maison. Nous pouvons modifier notre fonction pr√©c√©dente pour utiliser le meilleur assistant pour chaque maison.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; bestPerHouse &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; wizards&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;reduce&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;acc&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; wizard&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; house&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; points &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; wizard&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;acc&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;house&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    acc&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;house&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; wizard&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;acc&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;house&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;points &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; points&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    acc&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;house&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; wizard&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; acc&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Si vous √™tes curieux, le r√©sultat est le suivant.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{
  Gryffindor: { name: &amp;quot;Hermione Granger&amp;quot;undefined house: &amp;quot;Gryffindor&amp;quot;undefined points: 140 }undefined
  Slytherin: { name: &amp;quot;Lin Manuel Miranda&amp;quot;undefined house: &amp;quot;Slytherin&amp;quot;undefined points: 5000 }undefined
  Hufflepuff: { name: &amp;quot;Sally Perks&amp;quot;undefined house: &amp;quot;Hufflepuff&amp;quot;undefined points: 15 }undefined
  Ravenclaw: { name: &amp;quot;Luna Lovegood&amp;quot;undefined house: &amp;quot;Ravenclaw&amp;quot;undefined points: 100 }
};&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Juste un peu plus de plaisir maintenant, nous pouvons utiliser &lt;code&gt;Object.values&lt;/code&gt; pour transformer cet map.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-js line-numbers&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; bestNamesPerHouse &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;bestPerHouse&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;wizardToString&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;Hermione Granger, Gryffindor, 140&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;Lin Manuel Miranda, Slytherin, 5000&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;Sally Perks, Hufflepuff, 15&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;Luna Lovegood, Ravenclaw, 100&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;best-names-per-house.ts&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Maintenant, nous avons de beaux noms pour la meilleure personne dans chaque maison.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Introduction aux strat√©gies de d√©ploiement]]></title><description><![CDATA[De nos jours, le changement le plus important dans le d√©veloppement logiciel est la fr√©quence des d√©ploiements. Les √©quipes de produits‚Ä¶]]></description><link>https://ludovicwyffels.dev/deploy/</link><guid isPermaLink="false">https://ludovicwyffels.dev/deploy/</guid><pubDate>Sat, 02 Feb 2019 08:00:00 GMT</pubDate><content:encoded>&lt;p&gt;De nos jours, le changement le plus important dans le d√©veloppement logiciel est la fr√©quence des d√©ploiements. Les √©quipes de produits d√©ploient les versions en production plus t√¥t (et plus souvent). Des cycles de publication de plusieurs mois ou ann√©es sont en train de devenir rares, en particulier parmi ceux qui construisent des produits logiciels purs.&lt;/p&gt;
&lt;p&gt;Aujourd‚Äôhui, en utilisant une approche ax√©e sur les services et sur les microservices, les d√©veloppeurs peuvent concevoir une base de code modulaire. Cela leur permet d‚Äô√©crire et de d√©ployer des modifications simultan√©ment sur diff√©rentes parties de la base de code.&lt;/p&gt;
&lt;p&gt;Les avantages commerciaux de cycles de d√©ploiement plus courts sont clairs:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Le temps de mise sur le march√© est r√©duit&lt;/li&gt;
&lt;li&gt;Les clients obtiennent la valeur du produit en moins de temps&lt;/li&gt;
&lt;li&gt;Les commentaires des clients sont √©galement renvoy√©s plus rapidement dans l‚Äô√©quipe produit, ce qui permet √† l‚Äô√©quipe de parcourir les fonctionnalit√©s et de r√©soudre les probl√®mes plus rapidement.&lt;/li&gt;
&lt;li&gt;Le moral des d√©veloppeurs augmente&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Cependant, ce changement cr√©e √©galement de nouveaux d√©fis pour les op√©rations ou l‚Äô√©quipe de DevOps. Avec des d√©ploiements plus fr√©quents, il est plus probable que le code d√©ploy√© puisse affecter n√©gativement la fiabilit√© du site ou l‚Äôexp√©rience client. C‚Äôest pourquoi il est important de d√©velopper des strat√©gies de d√©ploiement de code minimisant les risques pour le produit et les clients.&lt;/p&gt;
&lt;p&gt;Dans cet article, nous allons parler de diff√©rentes strat√©gies de d√©ploiement, de meilleures pratiques et d‚Äôoutils qui permettront √† votre √©quipe de travailler plus rapidement et de mani√®re plus fiable.&lt;/p&gt;
&lt;h2&gt;D√©fis des applications modernes&lt;/h2&gt;
&lt;p&gt;Les applications modernes sont souvent distribu√©es et bas√©es sur le cloud. Ils peuvent √©voluer pour r√©pondre √† la demande et sont plus r√©sistants aux pannes gr√¢ce √† des architectures hautement disponibles. Ils peuvent utiliser des services enti√®rement g√©r√©s comme AWS Lambda ou Elastic Container Service (ECS), o√π la plate-forme assume une partie de la responsabilit√© op√©rationnelle.&lt;/p&gt;
&lt;p&gt;Ces applications ont presque toujours des d√©ploiements fr√©quents. Par exemple, une application mobile ou une application Web grand public peut subir plusieurs modifications au cours d‚Äôun mois. Certains sont m√™me d√©ploy√©s en production plusieurs fois par jour.&lt;/p&gt;
&lt;p&gt;Ils utilisent souvent des architectures de microservices dans lesquelles plusieurs composants travaillent ensemble pour offrir une fonctionnalit√© compl√®te. Il peut y avoir diff√©rents cycles de publication pour diff√©rents composants, mais ils doivent tous fonctionner ensemble de mani√®re transparente.&lt;/p&gt;
&lt;p&gt;L‚Äôaugmentation du nombre de pi√®ces mobiles signifie plus de chances que quelque chose se passe mal. Avec plusieurs √©quipes de d√©veloppement apportant des modifications dans la base de code, il peut √™tre difficile de d√©terminer la cause premi√®re d‚Äôun probl√®me in√©vitablement.&lt;/p&gt;
&lt;p&gt;Un autre d√©fi: l‚Äôabstraction de la couche infrastructure, qui est maintenant consid√©r√©e comme du code. Le d√©ploiement d‚Äôune nouvelle application peut √©galement n√©cessiter le d√©ploiement d‚Äôun nouveau code d‚Äôinfrastructure.&lt;/p&gt;
&lt;h2&gt;Strat√©gies de d√©ploiement populaires&lt;/h2&gt;
&lt;p&gt;Pour relever ces d√©fis, les √©quipes charg√©es des applications et de l‚Äôinfrastructure doivent concevoir et adopter une strat√©gie de d√©ploiement adapt√©e √† leur cas d‚Äôutilisation.&lt;/p&gt;
&lt;p&gt;Nous en examinerons plusieurs et discuterons des avantages et des inconv√©nients de diff√©rentes strat√©gies de d√©ploiement afin que vous puissiez choisir celle qui convient √† votre organisation.&lt;/p&gt;
&lt;h2&gt;D√©ploiement ‚ÄúBig Bang‚Äù&lt;/h2&gt;
&lt;p&gt;Comme son nom l‚Äôindique, les d√©ploiements ‚Äúbig bang‚Äù mettent √† jour des parties enti√®res ou volumineuses d‚Äôune application en un seul coup. Cette strat√©gie remonte √† l‚Äô√©poque o√π le logiciel √©tait publi√© sur un support physique et install√© par le client.&lt;/p&gt;
&lt;p&gt;Les d√©ploiements √† grande √©chelle ont oblig√© l‚Äôentreprise √† proc√©der √† des d√©veloppements et √† des tests approfondis avant la publication, souvent associ√©s au ‚Äúmod√®le en cascade‚Äù de grandes versions s√©quentielles.&lt;/p&gt;
&lt;p&gt;Les applications modernes pr√©sentent l‚Äôavantage de se mettre √† jour r√©guli√®rement et automatiquement, c√¥t√© client ou c√¥t√© serveur. Cela rend l‚Äôapproche big bang plus lent et moins agile pour les √©quipes modernes.&lt;/p&gt;
&lt;p&gt;Les caract√©ristiques du d√©ploiement du Big Bang comprennent:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Toutes les pi√®ces majeures conditionn√©es en un seul d√©ploiement;&lt;/li&gt;
&lt;li&gt;Remplacer en grande partie ou totalement une version de logiciel existante par une nouvelle;&lt;/li&gt;
&lt;li&gt;D√©ploiement entra√Ænant g√©n√©ralement de longs cycles de d√©veloppement et de test;&lt;/li&gt;
&lt;li&gt;En supposant un risque minimal d‚Äô√©chec, les retours en arri√®re peuvent √™tre impossibles ou peu pratiques;&lt;/li&gt;
&lt;li&gt;Les d√©lais de r√©alisation sont g√©n√©ralement longs et peuvent n√©cessiter les efforts de plusieurs √©quipes;&lt;/li&gt;
&lt;li&gt;Action requise des clients pour mettre √† jour l‚Äôinstallation c√¥t√© client.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Les d√©ploiements √† fort rendement ne conviennent pas aux applications modernes, car les risques sont inacceptables pour les applications grand public ou critiques pour les entreprises, o√π les pannes entra√Ænent des pertes financi√®res √©normes. Les reculs sont souvent co√ªteux, prennent du temps, voire impossibles.&lt;/p&gt;
&lt;p&gt;L‚Äôapproche big bang peut convenir √† des syst√®mes hors production (par exemple, recr√©er un environnement de d√©veloppement) ou √† des solutions pr√™tes √† l‚Äôemploi, tel que les applications de bureau.&lt;/p&gt;
&lt;h2&gt;D√©ploiement progressif (Rolling)&lt;/h2&gt;
&lt;p&gt;Les d√©ploiements progressifs, par paliers ou par √©tapes sont pr√©f√©rables aux d√©ploiements big bang, car ils minimisent de nombreux risques, y compris les temps d‚Äôarr√™t pour les utilisateurs, sans restauration simple.&lt;/p&gt;
&lt;p&gt;Dans un d√©ploiement en continu, la nouvelle version d‚Äôune application remplace progressivement l‚Äôancienne. Le d√©ploiement r√©el se produit sur une p√©riode de temps. Pendant ce temps, les nouvelles versions et les anciennes versions coexisteront sans affecter la fonctionnalit√© ou l‚Äôexp√©rience utilisateur. Ce processus facilite la restauration de tout nouveau composant incompatible avec les anciens composants.&lt;/p&gt;
&lt;p&gt;Le diagramme suivant illustre le mod√®le de d√©ploiement: l‚Äôancienne version appara√Æt en bleu et la nouvelle version en vert sur chaque serveur du cluster.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 880px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0b12bf01bb94837761152d7076de13e2/03ca2/rolling.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 52.27272727272727%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsSAAALEgHS3X78AAAB4UlEQVQoz53QzW/SYBwHcG76F+zgwbtXD570NP8GDxoTjDG7AMlIXIS4ZZkXMo3JHPFkNpGOoSnLEh0Liy9jcTALbIWNjhZogSbYUVtoeelDn77YrfWiN7/PS/LL8/vkefK4TNMUxG6FZgVpADRTVjQA9QHQh2PdvEirzdEsp6j6SDX6QIM6VDSrgtaRy1qJYvdaqDyz2XSvt24tnT5LtW++Ih/G6sYFnt1uX39BBD+yd94xk2Fyo5p8kp1JNXYcvHrAu7zYvbfU5GtqIpD3oI2Jp0e3l8s2fhRvXPbnHiC1Gy+Jq3P46nH8fuouSqIOrvLgTaazS/W2yiKC/czQEoJxyZNf9rP3aTny4+w7LW+W+Hi+Qwr1r80vdJd2sKkB01BM077pn0BoTUNVTePvhnNcaorLO9U9SiREIscV6hKDneXLAmF3HLbwTyfbGJMv8qVC54iRmCyXZfusg5GCeOkx7o6Sz/GQ55snWol6095QLmTjCBmZ2p1aIVYWsAV/2h8jY+7P7gSVcPD6oXBlruhDa+HjpeB+8D31IZAJhPGwjdcqa9N708gpslhYnD+YR2uoL+1LMkkHj6HOy0p/pFpDGkljCGRFHo6HNgYq6I16ClQGYCADGcDz0tr/fNj/5jdWTvmFtnUPOgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/0b12bf01bb94837761152d7076de13e2/14b47/rolling.webp 293w,
/static/0b12bf01bb94837761152d7076de13e2/91928/rolling.webp 585w,
/static/0b12bf01bb94837761152d7076de13e2/f2da9/rolling.webp 880w&quot;
          sizes=&quot;(max-width: 880px) 100vw, 880px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/0b12bf01bb94837761152d7076de13e2/b6dd9/rolling.png 293w,
/static/0b12bf01bb94837761152d7076de13e2/037e5/rolling.png 585w,
/static/0b12bf01bb94837761152d7076de13e2/03ca2/rolling.png 880w&quot;
          sizes=&quot;(max-width: 880px) 100vw, 880px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/0b12bf01bb94837761152d7076de13e2/03ca2/rolling.png&quot;
          alt=&quot;D√©ploiement continu&quot;
          title=&quot;D√©ploiement continu&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Une mise √† niveau d‚Äôune suite d‚Äôapplications est un exemple de d√©ploiement progressif. Si les applications d‚Äôorigine ont √©t√© d√©ploy√©es dans des conteneurs, la mise √† niveau peut traiter un conteneur √† la fois. Chaque conteneur est modifi√© pour t√©l√©charger la derni√®re image √† partir du site du fournisseur de l‚Äôapplication. S‚Äôil existe un probl√®me de compatibilit√© pour l‚Äôune des applications, l‚Äôancienne image peut recr√©er le conteneur. Dans ce cas, les nouvelles versions et les anciennes versions des applications de la suite coexistent jusqu‚Äô√† ce que chaque application soit mise √† niveau.&lt;/p&gt;
&lt;h2&gt;D√©ploiement Blue-Green, Red-Black ou A/B&lt;/h2&gt;
&lt;p&gt;C‚Äôest un autre processus √† s√©curit√© int√©gr√©e. Dans cette m√©thode, deux environnements de production identiques fonctionnent en parall√®le.&lt;/p&gt;
&lt;p&gt;L‚Äôun est l‚Äôenvironnement de production en cours d‚Äôex√©cution recevant tout le trafic utilisateur (repr√©sent√© en bleu). L‚Äôautre en est un clone, mais inactif (vert). Les deux utilisent la m√™me base de donn√©es et la m√™me configuration d‚Äôapplication:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 880px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b6b08527d33c833f35055797a7ea1324/03ca2/bluegreen-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 59.20454545454545%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAABrElEQVQoz4WSS0sCURTHg6CP06oo6AP0Edq1kSCiKFpID1wILSJrEZSzaGW5yIUuDUKoKEttUpumfJQzY+nkY9SZfM3cuffaHa0gcuhwuXA553f+9zwGOiaGu4YwggiaxQyYOQAAgiAkEglFUXq5TOG/HlUDe05qdW09mUr/A/f7NkonWToUbNb/U9YRbutY0zGAWIWYPIuKevfEn4WYnNQEOjStGWJcbuh1FZUbkKtoeRm8VMD8/sXI7OHEgntyxStKH0YYQqR/P+cLxl3e0IeGuFEw7GRzxZsoG46yD0mexJoqx/Nt6lq65uueuOyNV6/4hjNY5qtaL0JDarwSCxfDGSUTLARTtVRMitElmogb8GbgfWj5ds6TGd56GnMwM8fC4GL4KFLq9qlTapVsN7al8yV30m0JWA6YA1vIZr20AgQM2BWRxnfYzdO3KVdm2pXaOBVHHQ8nj9WesqzK1D21TW/7Ob89ZPc9+yiG2o3u6kg3YFJno63nxMIzl+Vfc+Wq3AJksfDPqhGRmlITXgUuy4kF8aNZJ+SvOWOjgbjTu/tuK0mHuwP/9n8Cz/6QmVBe4AIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/b6b08527d33c833f35055797a7ea1324/14b47/bluegreen-1.webp 293w,
/static/b6b08527d33c833f35055797a7ea1324/91928/bluegreen-1.webp 585w,
/static/b6b08527d33c833f35055797a7ea1324/f2da9/bluegreen-1.webp 880w&quot;
          sizes=&quot;(max-width: 880px) 100vw, 880px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/b6b08527d33c833f35055797a7ea1324/b6dd9/bluegreen-1.png 293w,
/static/b6b08527d33c833f35055797a7ea1324/037e5/bluegreen-1.png 585w,
/static/b6b08527d33c833f35055797a7ea1324/03ca2/bluegreen-1.png 880w&quot;
          sizes=&quot;(max-width: 880px) 100vw, 880px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/b6b08527d33c833f35055797a7ea1324/03ca2/bluegreen-1.png&quot;
          alt=&quot;Avant le d√©ploiement Blue-Green&quot;
          title=&quot;Avant le d√©ploiement Blue-Green&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;La nouvelle version de l‚Äôapplication est d√©ploy√©e dans l‚Äôenvironnement vert et test√©e pour ses fonctionnalit√©s et ses performances. Une fois les r√©sultats des tests r√©ussis, le trafic des applications passent du bleu au vert. Le vert devient alors la nouvelle production.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 880px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e89e4df2a1a5e75d843264fb524252cc/03ca2/bluegreen-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 59.20454545454545%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAABoklEQVQoz5WRS0sCURTHJejjtIxq1Udo3apFrQrCdj10E7RIwlU1UBSJm1wZhBBRZCA5OthrzBwHncnGfKQzjVbOvXPvne44PSEXHi5nc+7/PH5/l9UlyFdgjLv9cXUrQAhlWc4KQrPZdHr1IDYA3NhkFheXsjmxZzHdV8jwHBt7bek9i591I5WRowleqb+3IUQWMomJMDKxSd+PGBNiYuJkhGm2CS3snA3PbI+6d8e8oWslryO13m6ohgoQ0IGOCPp/srPhg1KJp9LsJZ8WJMME2B5BAAY2SwyJRT7FfLkd4NQLqXWQ1g/TWqzwupdsSA3Q6WRBApK1RLwSF3UxWormtBxbZbkaR3vZYt9puX+Omw7lB3yZQd/t1L7cN5sIJqqdLazKW9Vz4XGfu4P3wcmTyS1+yxv3zsfmqf+2OMjVR/x3q8eP44H8REBYOX4aWuOP7lTnCs3QmBvGn/JHCpFldjkshplbZv1qnVKyxdAkb4aplKui9CAVlWf1pQ0xJfeNgOLVdE0qSrReKpda7y0HuOu3sfaJ//npHG+DJH8M/wCA/5EDE/sNjQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/e89e4df2a1a5e75d843264fb524252cc/14b47/bluegreen-2.webp 293w,
/static/e89e4df2a1a5e75d843264fb524252cc/91928/bluegreen-2.webp 585w,
/static/e89e4df2a1a5e75d843264fb524252cc/f2da9/bluegreen-2.webp 880w&quot;
          sizes=&quot;(max-width: 880px) 100vw, 880px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/e89e4df2a1a5e75d843264fb524252cc/b6dd9/bluegreen-2.png 293w,
/static/e89e4df2a1a5e75d843264fb524252cc/037e5/bluegreen-2.png 585w,
/static/e89e4df2a1a5e75d843264fb524252cc/03ca2/bluegreen-2.png 880w&quot;
          sizes=&quot;(max-width: 880px) 100vw, 880px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/e89e4df2a1a5e75d843264fb524252cc/03ca2/bluegreen-2.png&quot;
          alt=&quot;Apr√®s le d√©ploiement Blue-Green&quot;
          title=&quot;Apr√®s le d√©ploiement Blue-Green&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;S‚Äôil y a un probl√®me apr√®s que le vert devient actif, le trafic peut √™tre redirig√© vers le bleu.&lt;/p&gt;
&lt;p&gt;Dans un d√©ploiement Blue-Green, les deux syst√®mes utilisent la m√™me couche de persistance ou la m√™me base de donn√©es. Il est essentiel de synchroniser les donn√©es de l‚Äôapplication, mais une base de donn√©es en miroir peut aider √† atteindre cet objectif.&lt;/p&gt;
&lt;p&gt;Vous pouvez utiliser la base de donn√©es primaire en bleu pour les op√©rations d‚Äô√©criture et la base secondaire en vert pour les op√©rations de lecture. Lors du passage du bleu au vert, la base de donn√©es est bascul√©e du primaire au secondaire. Si le vert a √©galement besoin d‚Äô√©crire des donn√©es pendant le test, les bases de donn√©es peuvent √™tre en r√©plication bidirectionnelle.&lt;/p&gt;
&lt;p&gt;Une fois que le vert devient actif, vous pouvez fermer ou recycler les anciennes instances bleues. Vous pouvez d√©ployer une version plus r√©cente sur ces instances et en faire le nouveau vert pour la prochaine version.&lt;/p&gt;
&lt;p&gt;Les d√©ploiements Blue-Green reposent sur le routage du trafic. Cela peut √™tre fait en mettant √† jour les DNS (CNAMES) pour les h√¥tes. Cependant, des valeurs TTL longues peuvent retarder ces modifications. Vous pouvez √©galement modifier les param√®tres du load balancer pour que les modifications prennent effet imm√©diatement.&lt;/p&gt;
&lt;h2&gt;D√©ploiement canari&lt;/h2&gt;
&lt;p&gt;Le d√©ploiement canari ressemble √† du Blue-Green, √† la diff√©rence qu‚Äôil est moins enclin √† prendre des risques. Au lieu de passer du bleu au vert en une seule √©tape, vous utilisez une approche progressive.&lt;/p&gt;
&lt;p&gt;Avec le d√©ploiement canari, vous d√©ployez un nouveau code d‚Äôapplication dans une petite partie de l‚Äôinfrastructure de production. Une fois que l‚Äôapplication est valid√©e pour la publication, seuls quelques utilisateurs y sont rout√©s. Cela minimise tout impact.&lt;/p&gt;
&lt;p&gt;En l‚Äôabsence d‚Äôerreur signal√©e, la nouvelle version peut progressivement √™tre d√©ploy√©e dans le reste de l‚Äôinfrastructure. L‚Äôimage ci-dessous illustre le d√©ploiement canari:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 880px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/78642c8dd77bf1c3b88d2bb27d66797e/03ca2/canari.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 66.25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsSAAALEgHS3X78AAAB/0lEQVQoz52SX2/SUBTA+VD6bqIPfhJN5sOyxGRL3CfwxUSNiYsCTSBzEcPDeBAzF/kPQ7NSoC2FFdsCLZTelpY/be/txTKgy7I9eZJ7cnPu+Z1z7jkntNyKaZotriWKIsZ4eUcghIPBgGYY3y0whvzjeZ6vKar+6vAwGiUQQvfACEUJwneg6vUAWcHrVABohXyWYZr3ZvaNLN0s5LIAjAMktH6b225PW3zPVGtcT5+6d2HNckhOSmcv+mBhO3BTtncdg+qOn7w8ebQbe/Ds09tkJYgdyOuTwsPnR4/3Ik/341cDfVU5xqFtP1CR5LK/m9Uao2qTa/imYF/LI1AhG2WSYtoCRN5Nw0zTUlQtQQJKnk0c2TB0x3FudcuD3hJZcKIuhhA7CEO83P75B2t+uQRVaR6/nJx39CvQrqm1GZytScMx8nKe0Rl2whaHxa7VLQ3LDa2+geMVeTdWC2f4/a/0h1/i+/q7F+c7Hb2zhtW5muwkU51UqpkKX4Qz3Uyincj1chv4c0nZOeYiJXnvG//mp3REfzwoHgiWuIaVuRKjY6f8aZpPR6iojxE0cSacbeABmJbpvzTf+9OSBNUS+gLbZaW+NJuuKnc9dzwb8zLPCVyDb4iKOJqOjIWxnTP2MHSg63jInzB2V1do27a/kkHPEESu7SIXQRfeWs//ln94ZcMgMGYiewAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/78642c8dd77bf1c3b88d2bb27d66797e/14b47/canari.webp 293w,
/static/78642c8dd77bf1c3b88d2bb27d66797e/91928/canari.webp 585w,
/static/78642c8dd77bf1c3b88d2bb27d66797e/f2da9/canari.webp 880w&quot;
          sizes=&quot;(max-width: 880px) 100vw, 880px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/78642c8dd77bf1c3b88d2bb27d66797e/b6dd9/canari.png 293w,
/static/78642c8dd77bf1c3b88d2bb27d66797e/037e5/canari.png 585w,
/static/78642c8dd77bf1c3b88d2bb27d66797e/03ca2/canari.png 880w&quot;
          sizes=&quot;(max-width: 880px) 100vw, 880px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/78642c8dd77bf1c3b88d2bb27d66797e/03ca2/canari.png&quot;
          alt=&quot;D√©ploiement canari&quot;
          title=&quot;D√©ploiement canari&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Le principal d√©fi du d√©ploiement canari est de trouver un moyen d‚Äôacheminer certains utilisateurs vers la nouvelle application. En outre, certaines applications peuvent toujours avoir besoin du m√™me groupe d‚Äôutilisateurs pour les tests, tandis que d‚Äôautres peuvent n√©cessiter un groupe diff√©rent √† chaque fois.&lt;/p&gt;
&lt;p&gt;Envisagez un moyen d‚Äôacheminer de nouveaux utilisateurs en explorant plusieurs techniques:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Exposer les utilisateurs internes au d√©ploiement canari avant d‚Äôautoriser l‚Äôacc√®s des utilisateurs externes;&lt;/li&gt;
&lt;li&gt;Baser le routage sur la plage IP source;&lt;/li&gt;
&lt;li&gt;Livrer l‚Äôapplication dans des r√©gions g√©ographiques sp√©cifiques;&lt;/li&gt;
&lt;li&gt;Utilisation d‚Äôune logique d‚Äôapplication pour d√©verrouiller de nouvelles fonctionnalit√©s pour des utilisateurs et des groupes sp√©cifiques. Cette logique est supprim√©e lorsque l‚Äôapplication est en ligne pour le reste des utilisateurs.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Meilleures pratiques de d√©ploiement&lt;/h2&gt;
&lt;p&gt;Les √©quipes d‚Äôapplications modernes peuvent suivre un certain nombre de meilleures pratiques pour minimiser les risques de d√©ploiement:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Utilisez une liste de d√©ploiement&lt;/strong&gt;. Par exemple, un √©l√©ment de la liste peut consister √† ‚Äúsauvegarder toutes les bases de donn√©es uniquement apr√®s que les services d‚Äôapplication ont √©t√© arr√™t√©s‚Äù afin d‚Äô√©viter toute corruption des donn√©es.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Adopter l‚Äôint√©gration continue (CI)&lt;/strong&gt;. CI s‚Äôassure que le code archiv√© dans la branche de fonctionnalit√© d‚Äôun r√©f√©rentiel de code ne fusionne avec sa branche principale qu‚Äôapr√®s une s√©rie de v√©rifications de d√©pendance, de tests d‚Äôunit√© et d‚Äôint√©gration et une g√©n√©ration r√©ussit. S‚Äôil y a des erreurs le long du chemin, la construction √©choue et l‚Äô√©quipe de l‚Äôapplication en est inform√©e. L‚Äôutilisation de CI signifie donc que chaque modification apport√©e √† l‚Äôapplication est test√©e avant son d√©ploiement. Les exemples d‚Äôoutils de CI incluent: CircleCI, Jenkins.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Adoptez la livraison continue (CD)&lt;/strong&gt;. Avec le CD, l‚Äôartefact de code construit par le CI est packag√© et toujours pr√™t √† √™tre d√©ploy√© dans un ou plusieurs environnements.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Utilisez des environnements d‚Äôexploitation standard&lt;/strong&gt; pour assurer la coh√©rence de l‚Äôenvironnement. Vous pouvez utiliser des outils tels que Vagrant et Packer pour les postes de travail et les serveurs de d√©veloppement.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Utilisez les outils d‚Äôautomatisation de build pour automatiser les g√©n√©rations d‚Äôenvironnement&lt;/strong&gt;. Avec ces outils, il est souvent simple de cliquer sur un bouton pour d√©truire une pile d‚Äôinfrastructure compl√®te et la reconstruire √† partir de z√©ro. CloudFormation est un exemple de tels outils.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Utilisez des outils de gestion de configuration&lt;/strong&gt; tels que Puppet, Chef ou Ansible sur les serveurs cibles pour appliquer automatiquement les param√®tres du syst√®me d‚Äôexploitation, appliquer des correctifs ou installer des logiciels.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Utilisez des canaux de communication&lt;/strong&gt; tels que Slack pour les notifications automatis√©es des g√©n√©rations infructueuses et des √©checs d‚Äôapplication.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Cr√©ez un processus pour alerter l‚Äô√©quipe responsable des d√©ploiements qui √©chouent&lt;/strong&gt;. Dans l‚Äôid√©al, vous les rencontrez dans l‚Äôenvironnement CI, mais si les modifications sont appliqu√©es, vous aurez besoin d‚Äôun moyen d‚Äôavertir l‚Äô√©quipe responsable.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Activez les restaurations automatis√©es pour les d√©ploiements&lt;/strong&gt; qui √©chouent aux v√©rifications de l‚Äô√©tat, que ce soit en raison de probl√®mes de disponibilit√© ou de taux d‚Äôerreur.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Surveillance post-d√©ploiement&lt;/h2&gt;
&lt;p&gt;M√™me apr√®s que vous ayez adopt√© toutes ces pratiques, il est possible que des choses se passent mal. Pour cette raison, la surveillance des probl√®mes survenant imm√©diatement apr√®s un d√©ploiement est aussi importante que la planification et l‚Äôex√©cution d‚Äôun d√©ploiement parfait.&lt;/p&gt;
&lt;p&gt;Un outil de surveillance des performances des applications peut aider votre √©quipe √† surveiller les m√©triques de performances critiques, y compris les temps de r√©ponse du serveur apr√®s les d√©ploiements. Les modifications apport√©es √† l‚Äôarchitecture des applications ou du syst√®me peuvent affecter consid√©rablement les performances des applications.&lt;/p&gt;
&lt;p&gt;Une solution de surveillance des erreurs est √©galement essentielle. Il informera rapidement votre √©quipe des erreurs nouvelles ou r√©activ√©es lors d‚Äôun d√©ploiement est susceptibles de r√©v√©ler des bogues importants n√©cessitant une intervention imm√©diate.&lt;/p&gt;
&lt;p&gt;Sans outil de surveillance des erreurs, les bogues n‚Äôauraient peut-√™tre jamais √©t√© d√©couverts. Alors que quelques utilisateurs rencontrant les bugs prendront le temps de les signaler, la plupart des autres ne le font pas. L‚Äôexp√©rience client n√©gative peut entra√Æner des probl√®mes de satisfaction au fil du temps ou, pire, emp√™cher les transactions commerciales d‚Äôavoir lieu.&lt;/p&gt;
&lt;p&gt;Un outil de surveillance des erreurs cr√©e √©galement une visibilit√© partag√©e de tous les probl√®mes de post-d√©ploiement parmi les √©quipes Op√©rateur / DevOps et les d√©veloppeurs. Cette compr√©hension partag√©e permet aux √©quipes d‚Äô√™tre plus collaboratives et r√©actives.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Git hooks avec Husky]]></title><description><![CDATA[Dans cet article, vous apprendrez √† cr√©er et √† g√©rer facilement des git hooks pour vos projets Node/NPM √† l‚Äôaide de Husky. Git Hooks En‚Ä¶]]></description><link>https://ludovicwyffels.dev/git-husky/</link><guid isPermaLink="false">https://ludovicwyffels.dev/git-husky/</guid><pubDate>Sun, 25 Nov 2018 08:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Dans cet article, vous apprendrez √† cr√©er et √† g√©rer facilement des git hooks pour vos projets Node/NPM √† l‚Äôaide de Husky.&lt;/p&gt;
&lt;h2&gt;Git Hooks&lt;/h2&gt;
&lt;p&gt;En termes simples, les git hooks sont des scripts personnalis√©s, qui peuvent √™tre ex√©cut√©s automatiquement lorsque des √©v√©nements sp√©cifiques se produisent. Des crochets (hooks) c√¥t√© client sont d√©clench√©s pour des actions telles que le commit ou le merge. Les crochets c√¥t√© serveur s‚Äôex√©cutent dans des situations telles que la r√©ception de donn√©es (&lt;code&gt;git push&lt;/code&gt;) du client.&lt;/p&gt;
&lt;p&gt;Les hooks peuvent ex√©cuter n‚Äôimporte quelle logique personnalis√©e et, plus important encore, rejeter l‚Äôaction effectu√©e si quelque chose ne va pas. Par exemple, vous pouvez annuler la validation du commit si son message ne contient pas l‚ÄôID de probl√®me du suivi des probl√®mes. Vous pouvez √©galement le refuser si l‚Äôanalyse de code statique √©choue. Cela peut √™tre tr√®s utile si vous voulez vous assurer que votre base de code reste propre ou si vous souhaitez appliquer certaines r√®gles de qualit√©.&lt;/p&gt;
&lt;p&gt;Mais comment pouvez-vous r√©ellement installer et g√©rer ces hooks? Chaque fois que vous clonez un repo git, toutes les donn√©es git de votre projet sont stock√©es dans un r√©pertoire &lt;code&gt;.git&lt;/code&gt; dans votre dossier. Il contient plusieurs fichiers et sous-r√©pertoires, l‚Äôun d‚Äôeux √©tant appel√© &lt;code&gt;hooks&lt;/code&gt;. √Ä l‚Äôint√©rieur, vous trouverez un tas de fichiers.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7fb95d529b6827b77db65603da882cba/eef53/githooks.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 41.02564102564102%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABYklEQVQoz1WSWXLCQAxEff8bYS5A8hWoEMA2ixfwvoA3bEN11MpSyYdqXCNN67Vkw7IsXC4XZHmOXCLLMqQSZVkijmPs93vYto0oilDIHe9Zz+A37/0gQFEUGobtODDnc+x2O2y2W6xWKwRS0N/v6LpOv0N5xPN6u2GcJgzDgDhJVLSqKgTnswKN4wjDOezx8vqqyePppJFIMQv7vleCJE31rJvmV/Am4rkQsQnFq+v1S/BwPGKxWMB1XbVGYhY+nk8lJB2tM/4KkoiNKBxJjgAq+LHdYGbOdFa0S8FOyAZJtm2rjWjJ9/1/lu8SqQhybsxx9ip48ly8LZdq05NEGIZKNz0eKswFkZiPGxLKIwo20oxUt7pWWpISwtjKMkzTVLvv6zUcITzLPLlxWvY8TwkZfDR9E9YiRAhumoSsJ70RJzEs29LBcl60ySAdN01LpZDwl2mlwQ8hT4qSmqKcLwk/AQF3V7IELSymAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/7fb95d529b6827b77db65603da882cba/14b47/githooks.webp 293w,
/static/7fb95d529b6827b77db65603da882cba/91928/githooks.webp 585w,
/static/7fb95d529b6827b77db65603da882cba/384f8/githooks.webp 1170w,
/static/7fb95d529b6827b77db65603da882cba/28eb2/githooks.webp 1248w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/7fb95d529b6827b77db65603da882cba/b6dd9/githooks.png 293w,
/static/7fb95d529b6827b77db65603da882cba/037e5/githooks.png 585w,
/static/7fb95d529b6827b77db65603da882cba/0f291/githooks.png 1170w,
/static/7fb95d529b6827b77db65603da882cba/eef53/githooks.png 1248w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/7fb95d529b6827b77db65603da882cba/0f291/githooks.png&quot;
          alt=&quot;R√©pertoire Git Hooks&quot;
          title=&quot;R√©pertoire Git Hooks&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Chacun d‚Äôentre eux est un script, qui est ex√©cut√© lorsqu‚Äôun √©v√©nement sp√©cifique se produit. Le nom de l‚Äô√©v√©nement correspond au nom du fichier. Par exemple, la &lt;code&gt;pre-commit&lt;/code&gt; est ex√©cut√©e avant de commiter vos modifications.&lt;/p&gt;
&lt;p&gt;Comme vous pouvez le constater, tous les fichiers ont une extension &lt;code&gt;.sample&lt;/code&gt;. Git ignore ces fichiers √† moins que vous ne les renommiez. Vous devez supprimer l‚Äôextension &lt;code&gt;.sample&lt;/code&gt; pour activer ces hooks. Dans les exemples de fichiers, vous pouvez trouver une description et un exemple d‚Äôimpl√©mentation que vous pouvez utiliser comme point de d√©part pour impl√©menter vos propres hooks.&lt;/p&gt;
&lt;h2&gt;√Ä quoi √ßa sert?&lt;/h2&gt;
&lt;p&gt;Maintenant, regardons quelques exemples sp√©cifiques de ce qui peut √™tre r√©alis√© avec les git hooks. Comme ce ne sont que des scripts, vous pouvez faire √† peu pr√®s n‚Äôimporte quoi. Habituellement, cela signifie effectuer divers contr√¥les de qualit√©.&lt;/p&gt;
&lt;p&gt;Vous pouvez vous assurer que l‚Äôutilisateur a son nom et son email renseign√©s. Vous pouvez v√©rifier que le message de validation est correctement format√©. Vous pouvez essayer de cr√©er votre application et rejeter le commit si la construction √©choue. Vous pouvez ex√©cuter des tests pour vous assurer qu‚Äôils passent avant le commit.&lt;/p&gt;
&lt;p&gt;L‚Äôutilisation typique est √©galement l‚Äôanalyse de code statique ou le formatage. Cela signifie qu‚Äôil faut v√©rifier dans votre code les probl√®mes courants, les mauvaises pratiques, les conventions de d√©nomination, etc. Il peut √©galement √™tre utile d‚Äôex√©cuter un outil tel que Prettier pour s‚Äôassurer que le code est bien format√© avant le commit. Cela √©vite de nombreux maux de t√™te lors de la r√©vision du code. Vous pouvez m√™me v√©rifier les failles de s√©curit√© de votre code avec un outil tel que Snyk.&lt;/p&gt;
&lt;h2&gt;Distribution aux membres de l‚Äô√©quipe&lt;/h2&gt;
&lt;p&gt;Avec les hooks c√¥t√© serveur, la distribution est facile. Vous n‚Äôavez g√©n√©ralement qu‚Äôun seul r√©f√©rentiel de serveur principal. Cela signifie que tous les membres de l‚Äô√©quipe mettent g√©n√©ralement leurs modifications au m√™me endroit. Vous y installez vos hooks et vous avez termin√©.&lt;/p&gt;
&lt;p&gt;Avec les hooks c√¥t√© client, cela devient plus compliqu√©. Lorsque vous clonez un r√©f√©rentiel, les hooks ne sont pas transf√©r√©s au client. Cela signifie qu‚Äôun r√©f√©rentiel fra√Æchement clon√© n‚Äôa aucun hook, peu importe le type de hook que vous avez sur le serveur. Si vous voulez que les membres de votre √©quipe aient un ensemble unifi√© de git hooks, vous devez les distribuer d‚Äôune mani√®re ou d‚Äôune autre et vous assurer qu‚Äôils sont inclus dans leur sous-r√©pertoire git hooks.&lt;/p&gt;
&lt;p&gt;La solution la plus √©l√©mentaire consiste √† cr√©er un emplacement partag√©, o√π vous stockez vos hooks, puis demandez √† vos d√©veloppeurs de les t√©l√©charger et de les mettre dans leur r√©pertoire de hooks. Bien s√ªr, vous ne pouvez pas √™tre s√ªr qu‚Äôils le feront r√©ellement. Le probl√®me est qu‚Äôils ont besoin de savoir qu‚Äôils devraient le faire et comment. Et m√™me s‚Äôils le font, ils peuvent √™tre paresseux ou simplement ignorer votre politique.&lt;/p&gt;
&lt;p&gt;Vous pouvez am√©liorer un peu cette solution de base en ayant des hooks dans le r√©f√©rentiel de votre projet et en laissant simplement √† vos d√©veloppeurs ex√©cuter un script personnalis√© &lt;a href=&quot;https://gist.github.com/tilap/0590e78c9cfd8f6548f5&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;comme celui-ci&lt;/a&gt;, qui les copie ensuite dans leur r√©pertoire de hooks. Sinon, git propose une option pour changer la destination du r√©pertoire des hooks en un emplacement personnalis√©:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; config core.hooksPath YOUR_DIRECTORY&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ces solutions facilitent la distribution, mais ne r√©solvent pas les probl√®mes essentiels.&lt;/p&gt;
&lt;h2&gt;Husky&lt;/h2&gt;
&lt;h3&gt;Installation&lt;/h3&gt;
&lt;p&gt;Vous pouvez installer &lt;a href=&quot;https://github.com/typicode/husky&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Husky&lt;/a&gt; simplement en ex√©cutant:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; husky --save-dev&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Alternative, avec yarn:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;yarn&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt; husky --dev&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Ajout de hooks&lt;/h3&gt;
&lt;p&gt;Ajouter des hooks avec Husky est facile. Vous devez juste √©diter votre &lt;code&gt;package.json&lt;/code&gt;. Vous d√©finissez quels scripts doivent √™tre ex√©cut√©s sur quel √©v√©nement git.&lt;/p&gt;
&lt;p&gt;Pour Husky 1.0.0+, utilisez:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-json line-numbers&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;husky&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;hooks&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;pre-commit&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;npm test&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;pre-push&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;npm test&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;...&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;...&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Si vous utilisez une version de Husky ant√©rieure √† 1.0.0 (disponible dans la version candidate du 06/2018), la syntaxe est l√©g√®rement diff√©rente. Vous ajoutez vos hooks Husky directement dans la section scripts.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-json line-numbers&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;scripts&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;precommit&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;npm test&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;prepush&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;npm test&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;...&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;...&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;L‚Äôexemple ci-dessus ex√©cute tous vos tests avant de commiter et avant de pousser et si vos tests √©chouent, l‚Äôaction git n‚Äôest pas ex√©cut√©e. Bien s√ªr, vous pouvez ex√©cuter tout autre script nom plut√¥t que le &lt;code&gt;nom test&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;Probl√®me de correction automatique avant validation&lt;/h3&gt;
&lt;p&gt;Il est utile de casser le build si quelque chose ne va pas, mais il est encore plus utile de corriger automatiquement les probl√®mes avant de s‚Äôengager. Par exemple, vous pouvez personnaliser votre code en utilisant &lt;a href=&quot;https://prettier.io/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Prettier&lt;/a&gt; avant de faire un commit ou vous pouvez corriger automatiquement les probl√®mes de formatage, qui peuvent √™tre r√©solus automatiquement. C‚Äôest beaucoup plus facile de cette fa√ßon.&lt;/p&gt;
&lt;p&gt;Heureusement, il existe un outil pour cela. Cela s‚Äôappelle &lt;a href=&quot;https://github.com/okonet/lint-staged&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;lint-staged&lt;/a&gt;. Vous pouvez l‚Äôinstaller par:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; installer --save-dev lint-staged&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Maintenant, sur votre action de pre-commit, vous ex√©cutez directement &lt;code&gt;lint-staged&lt;/code&gt; au lieu de votre linter. Dans &lt;code&gt;lint-staged&lt;/code&gt;, vous d√©finissez ce qui doit √™tre ex√©cut√©:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-json line-numbers&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;husky&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;hooks&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;pre-commit&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;lint-staged&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;lint-staged&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;*.js&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;eslint --fix&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;git add&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lorsque vous essayez de commiter maintenant, &lt;code&gt;lint-staged&lt;/code&gt; peut modifier vos fichiers avant l‚Äôex√©cution de la validation. Cependant, ce qui est vraiment bien, c‚Äôest que vous ne filtrez que les fichiers en attente de validation, et non l‚Äôensemble de votre projet. Cela signifie que l‚Äôensemble du processus est beaucoup plus rapide.&lt;/p&gt;
&lt;h2&gt;Bug JetBrains IDE&lt;/h2&gt;
&lt;p&gt;La bonne nouvelle est que les git hooks configur√©s de cette mani√®re sont ex√©cut√©s non seulement lorsque vous utilisez git √† partir de votre terminal, mais √©galement √† partir d‚Äôun IDE. La mauvaise nouvelle est que les IDE JetBrains (IDEA, Webstorm, ‚Ä¶) ont actuellement un &lt;a href=&quot;https://github.com/okonet/lint-staged/issues/151&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;m√©chant bogue&lt;/a&gt; (voir &lt;a href=&quot;https://youtrack.jetbrains.com/issue/IDEA-135454&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;IDEA-135454&lt;/a&gt;) et ne fonctionnent pas bien avec cette configuration.&lt;/p&gt;
&lt;p&gt;Le probl√®me n‚Äôest pas r√©solu avant plusieurs ann√©es, mais heureusement, il existe une solution de contournement. Vous devez juste ajouter ce hook post-commit:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-json line-numbers&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token property&quot;&gt;&quot;post-commit&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;git update-index -g&quot;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Bien entendu, il ne s‚Äôagit que d‚Äôune solution de contournement jusqu‚Äô√† ce que le probl√®me soit r√©solu. Le suivi des probl√®mes de JetBrains contient une fonctionnalit√© de vote, alors assurez-vous de voter pour que ce probl√®me soit r√©solu s‚Äôil vous pose probl√®me.&lt;/p&gt;
&lt;h2&gt;Int√©gration continue&lt;/h2&gt;
&lt;p&gt;Une chose √† noter est que Husky installe les hooks uniquement lorsqu‚Äôil ne s‚Äôex√©cute pas sur un serveur d‚Äôint√©gration continue. Husky &lt;a href=&quot;https://github.com/watson/is-ci&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;peut d√©tecter&lt;/a&gt; qu‚Äôil est en cours d‚Äôex√©cution dans le cadre d‚Äôun travail CI et n‚Äôinstalle aucun hook.&lt;/p&gt;
&lt;h2&gt;En ignorant&lt;/h2&gt;
&lt;p&gt;Les hooks c√¥t√© client peuvent √™tre utiles, mais vous ne pouvez pas trop compter sur eux. Ils ne sont que le premier niveau de d√©fense. Vous ne pouvez pas √™tre s√ªr √† 100% qu‚Äôils soient ex√©cut√©s. Ils peuvent √™tre ignor√©s √† la demande en ajoutant une option de ligne de commande:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; commit --no-verify&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Pour rendre les choses encore plus faciles, les hooks peuvent √™tre d√©sactiv√©s √† l‚Äôaide de certaines variables environnementales. Pour cette raison, il est toujours utile d‚Äôappliquer la m√™me fonctionnalit√© sur le serveur.&lt;/p&gt;
&lt;h2&gt;Performance&lt;/h2&gt;
&lt;p&gt;Bien que les hooks cot√©s client tels que le pre-commit puissent s‚Äôav√©rer tr√®s utiles, vous devez garder √† l‚Äôesprit qu‚Äôils prennent un certain temps √† s‚Äôex√©cuter. Les commits, qui sont g√©n√©ralement tr√®s rapides, car ils ne se produisent que sur le client, peuvent prendre soudainement tr√®s longtemps. Vous serez peut-√™tre tent√© d‚Äôex√©cuter tous les tests, l‚Äôanalyse de code statique, les v√©rifications pr√©alables, etc., avant chaque validation. Lorsqu‚Äôun commit prend des ann√©es, vos d√©veloppeurs ne seront pas heureux et seront tent√©s d‚Äôignorer les hooks lors de l‚Äôex√©cution de leurs commandes git. Vous devez donc trouver le bon √©quilibre entre ce qui doit √™tre effectu√© sur le client et ce qui peut √™tre un point d‚Äôacc√®s c√¥t√© serveur.&lt;/p&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Husky est un outil utile qui permet de cr√©er et de g√©rer facilement des hooks git sur le client. Vous n‚Äôavez plus besoin de distribuer vos hooks manuellement. Comme pour tout, gardez le nombre de hooks c√¥t√© client avec mod√©ration afin d‚Äô√©viter les temps d‚Äôex√©cution trop longs.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Comment envoyer un epub vers une Kindle sans utiliser Calibre ni de cable USB ?]]></title><description><![CDATA[Si vous avez un Kindle d‚ÄôAmazon, vous ne le savez peut-√™tre pas, mais vous poss√©dez une adresse mail ‚Ä¶.@kindle.com qui vous permet de vous‚Ä¶]]></description><link>https://ludovicwyffels.dev/kindle/</link><guid isPermaLink="false">https://ludovicwyffels.dev/kindle/</guid><pubDate>Sat, 24 Nov 2018 08:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Si vous avez un &lt;a href=&quot;https://www.amazon.fr/dp/B00QJDO0QC&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Kindle&lt;/a&gt; d‚ÄôAmazon, vous ne le savez peut-√™tre pas, mais vous poss√©dez une adresse mail ‚Ä¶.@kindle.com qui vous permet de vous envoyer des livres et documents directement sur votre liseuse.&lt;/p&gt;
&lt;p&gt;Pour cela, il faut ajouter votre email &lt;a href=&quot;https://www.amazon.com/hz/mycd/myx#/home/settings/payment?tag=amazon0d16-21&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;via cette page&lt;/a&gt;, dans la section &lt;strong&gt;‚ÄúSettings‚Äù&lt;/strong&gt; &gt; &lt;strong&gt;‚ÄúPersonal Document Settings‚Äù&lt;/strong&gt; &gt; &lt;strong&gt;‚ÄúApproved Personal Document E-mail List‚Äù&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Et juste au-dessus, vous devriez voir dans la section &lt;strong&gt;‚ÄúSend-to-Kindle E-Mail Settings‚Äù&lt;/strong&gt;, le ou les emails @kindle.com associ√©s avec chacun de vos appareils Kindle.&lt;/p&gt;
&lt;p&gt;En effet, en envoyant un fichier depuis votre email r√©f√©renc√© vers votre email kindle.com, vous pouvez le transf√©rer vers votre liseuse sans avoir besoin de brancher le moindre c√¢ble ou d‚Äôinstaller le moindre soft.&lt;/p&gt;
&lt;p&gt;Seulement, Amazon autorise l‚Äôenvoi uniquement des fichiers aux formats suivants :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Kindle Format (.MOBI, .AZW)&lt;/li&gt;
&lt;li&gt;Microsoft Word (.DOC, .DOCX)&lt;/li&gt;
&lt;li&gt;HTML (.HTML, .HTM)&lt;/li&gt;
&lt;li&gt;RTF (.RTF)&lt;/li&gt;
&lt;li&gt;Text (.TXT)&lt;/li&gt;
&lt;li&gt;JPEG (.JPEG, .JPG)&lt;/li&gt;
&lt;li&gt;GIF (.GIF)&lt;/li&gt;
&lt;li&gt;PNG (.PNG)&lt;/li&gt;
&lt;li&gt;BMP (.BMP)&lt;/li&gt;
&lt;li&gt;PDF (.PDF)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Malheureusement, comme vous pouvez le voir, &lt;strong&gt;pas de format epub&lt;/strong&gt;. Oblig√© de brancher le Kindle √† votre ordinateur et d‚Äôutiliser Calibre ?&lt;/p&gt;
&lt;p&gt;Non, non, non. Il suffit de vous rendre sur le site &lt;a href=&quot;https://www.sendepubtokindle.com/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;&lt;strong&gt;Send epub to Kindle&lt;/strong&gt;&lt;/a&gt; , puis de renseigner les infos demand√©es, √† savoir votre email r√©f√©renc√©, l‚Äôemail Kindle et de glisser-d√©poser le livre au format epub de votre choix.&lt;/p&gt;
&lt;p&gt;Cliquez ensuite sur le bouton vert ¬´ Upload &amp;#x26; Send ¬ª et tadaaaa, au bout de quelques secondes, le livre apparaitra sur votre liseuse Kindle.&lt;/p&gt;
&lt;p&gt;Elle est pas belle la vie ?&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Docker Swarm vs Kubernetes]]></title><description><![CDATA[J‚Äôai install√© Docker Swarm et Kubernetes sur deux machines virtuelles. J‚Äôai trouv√© que Docker Swarm est tr√®s facile √† installer et √†‚Ä¶]]></description><link>https://ludovicwyffels.dev/dockerSwarm-vs-kubernetes/</link><guid isPermaLink="false">https://ludovicwyffels.dev/dockerSwarm-vs-kubernetes/</guid><pubDate>Thu, 01 Nov 2018 08:00:00 GMT</pubDate><content:encoded>&lt;p&gt;J‚Äôai install√© Docker Swarm et Kubernetes sur deux machines virtuelles. J‚Äôai trouv√© que Docker Swarm est tr√®s facile √† installer et √† configurer, alors que Kubernetes est un peu plus difficile √† installer mais reste simple √† utiliser.&lt;/p&gt;
&lt;h2&gt;Introduction&lt;/h2&gt;
&lt;p&gt;Cela fait des ann√©es que je veux essayer des conteneurs: la configuration manuelle de serveurs prend du temps, n‚Äôest pas reproductible et risque d‚Äôintroduire des diff√©rences entre mon environnement de test local et la production. Les containers offrent une solution √† tous ces probl√®mes et facilite beaucoup l‚Äôex√©cution d‚Äôinstances suppl√©mentaires d‚Äôune application. Cela peut rendre un service plus √©volutif.&lt;/p&gt;
&lt;p&gt;Pour ex√©cuter un service √©volutif, vous avez besoin d‚Äôun moteur Container Orchestration qui r√©partit la charge en ex√©cutant des conteneurs sur plusieurs ordinateurs et en envoyant des demandes √† chaque instance de l‚Äôapplication. &lt;a href=&quot;https://docs.docker.com/engine/swarm/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Docker Swarm&lt;/a&gt; et &lt;a href=&quot;https://kubernetes.io/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Kubernetes&lt;/a&gt; sont deux moteurs d‚Äôorchestration populaires. J‚Äôai d√©cid√© d‚Äôessayer les deux en d√©ployant la m√™me application avec chaque moteur.&lt;/p&gt;
&lt;h2&gt;Cr√©ation du conteneur&lt;/h2&gt;
&lt;p&gt;J‚Äôai d√©cid√© d‚Äôutiliser Samba pour l‚Äôapplication de test. &lt;a href=&quot;https://fr.wikipedia.org/wiki/Samba_(informatique)&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Samba&lt;/a&gt; est un serveur de fichiers populaire permettant aux ordinateurs Linux de partager des fichiers avec des ordinateurs Windows. Il communique via TCP sur le port 445.&lt;/p&gt;
&lt;p&gt;C‚Äôest la premi√®re fois que je travaille avec Docker, j‚Äôai donc modifi√© un &lt;a href=&quot;https://github.com/crops/samba&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;conteneur Samba standard&lt;/a&gt; afin d‚Äôinclure le fichier que je voulais servir.&lt;/p&gt;
&lt;p&gt;Apr√®s le &lt;a href=&quot;https://docs.docker.com/get-started/part2/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;tutoriel de Docker&lt;/a&gt;, j‚Äôai lanc√© manuellement le conteneur √† partir de la ligne de commande pour v√©rifier son fonctionnement:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;docker build -t sambaonly-v1 .
docker run --init -p 445:445 -i sambaonly-v1&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Et en effet, j‚Äôai pu me connecter au serveur Samba dans le conteneur avec &lt;a href=&quot;https://www.samba.org/samba/docs/current/man-html/smbclient.1.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;smbclient&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;~$ smbclient \\\\localhost\\workdir -U %
WARNING: The &amp;quot;syslog&amp;quot; option is deprecated
Try &amp;quot;help&amp;quot; to get a list of possible commands.
smb: \&amp;gt; ls
.                          D        0  Fri Oct  5 12:14:43 2018
..                         D        0  Sun Oct  7 22:09:49 2018
hello.txt                  N       13  Fri Oct  5 11:17:34 2018

102685624 blocks of size 1024. 72252576 blocks available
smb: \&amp;gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Maintenant que je sais que le conteneur fonctionne, je peux l‚Äôutiliser dans un moteur d‚Äôorchestration de conteneur.&lt;/p&gt;
&lt;h2&gt;Pr√©parer les machines virtuelles&lt;/h2&gt;
&lt;p&gt;J‚Äôai cr√©√© deux machines virtuelles ex√©cutant Ubuntu 18.04 dans VirtualBox.&lt;/p&gt;
&lt;p&gt;J‚Äôai ajout√© une carte r√©seau suppl√©mentaire √† chaque machine virtuelle, configur√©e pour le r√©seau interne afin qu‚Äôils puissent se parler:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://cdn-images-1.medium.com/max/1600/1*chCjRdcU_mV9ioAyQ7oB5A.png&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://cdn-images-1.medium.com/max/1600/1*chCjRdcU_mV9ioAyQ7oB5A.png&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Ensuite, j‚Äôai &lt;a href=&quot;https://www.virtualbox.org/manual/ch08.html#vboxmanage-dhcpserver&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;ajout√© un serveur DHCP&lt;/a&gt; pour attribuer des adresses IP √† chaque machine virtuelle:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;VBoxManage dhcpserver add --netname intnet --ip 10.133.7.99 --netmask 255.255.255.0 --lowerip 10.133.7.100 --upperip 10.133.7.200 --enable&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Les machines virtuelles peuvent d√©sormais communiquer entre elles. Cela donne √† ma machine virtuelle principale l‚Äôadresse IP 10.133.7.100.&lt;/p&gt;
&lt;h2&gt;Docker Swarm&lt;/h2&gt;
&lt;p&gt;Docker Swarm est un moteur d‚Äôorchestration de conteneur int√©gr√© √† Docker lui-m√™me. Quand je l‚Äôai trouv√©, j‚Äô√©tais sceptique: pourquoi l‚Äôutiliser √† la place des Kubernetes, beaucoup plus c√©l√®bres? La r√©ponse: Docker Swarm est ax√© sur la simplicit√© par rapport √† la configuration. Cela ressemblait √† l‚ÄôiOS des moteurs d‚Äôorchestration de conteneurs par rapport √† l‚ÄôAndroid de Kubernetes.&lt;/p&gt;
&lt;h3&gt;Mise en place de Docker Swarm&lt;/h3&gt;
&lt;p&gt;Docker Swarm est facile √† installer: il suffit d‚Äôinstaller Docker et docker-compose. Ensuite, apr√®s le &lt;a href=&quot;https://docs.docker.com/engine/swarm/swarm-tutorial/create-swarm/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;tutoriel officiel&lt;/a&gt;, j‚Äôai ex√©cut√© la seule commande n√©cessaire pour d√©marrer le noeud du gestionnaire, en transmettant l‚Äôadresse IP de la machine virtuelle actuelle:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;~$ docker swarm init --advertise-addr 10.133.7.100 
Swarm initialized: current node (abcdefghijklmnopqrstuvwxy) is now a manager.

To add a worker to this swarmundefined run the following command:

docker swarm join --token SWMTKN-1-abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwx-abcdefghijklmnopqrstuvwxy 10.133.7.100:2377

To add a manager to this swarmundefined run &amp;#39;docker swarm join-token manager&amp;#39; and follow the instructions.&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;C‚Äôest tout: le moteur Docker tourne maintenant en mode Swarm.&lt;/p&gt;
&lt;p&gt;Ensuite, j‚Äôai d√©ploy√© un registre priv√© Docker afin que les autres noeuds puissent extraire des images, en suivant √† nouveau les &lt;a href=&quot;https://docs.docker.com/engine/swarm/stack-deploy/#set-up-a-docker-registry&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;instructions d‚Äôinstallation&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;docker service create --name registry --publish published=5000undefinedtarget=5000 registry:2&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;D√©ploiement de l‚Äôapplication&lt;/h2&gt;
&lt;p&gt;Docker Swarm utilise le format &lt;a href=&quot;https://docs.docker.com/compose/overview/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Docker Compose&lt;/a&gt; pour sp√©cifier les conteneurs √† ex√©cuter et les ports qu‚Äôils exportent.&lt;/p&gt;
&lt;p&gt;Apr√®s le &lt;a href=&quot;https://docs.docker.com/compose/gettingstarted/#step-3-define-services-in-a-compose-file&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;didacticiel Docker Compose&lt;/a&gt;, j‚Äôai cr√©√© ce manifeste Docker Compose:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;version: &amp;#39;3.7&amp;#39;
services:
  samba:
    image: 127.0.0.1:5000/samba
    build: sambaonly
    init: true
    stdin_open: true
    ports:
      - &amp;quot;445:445&amp;quot;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Cela indique √† Docker Compose de cr√©er le fichier Docker √† partir du r√©pertoire ¬´sambaonly¬ª, d‚Äôupload/pull les conteneurs construits vers mon registre priv√© nouvellement configur√© et d‚Äôexporter le port 445 √† partir du conteneur.&lt;/p&gt;
&lt;p&gt;Pour d√©ployer ce manifeste, j‚Äôai suivi le tutoriel de Docker Swarm. J‚Äôai d‚Äôabord utilis√© Docker Compose pour cr√©er et t√©l√©charger le conteneur dans le registre priv√©:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;docker-compose build
docker-compose push&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Une fois le conteneur cr√©√©, l‚Äôapplication peut √™tre d√©ploy√©e avec la commande &lt;code&gt;docker stack deploy&lt;/code&gt;, en sp√©cifiant le nom du service:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ docker stack deploy --compose-file docker-compose.yml samba-swarm
Ignoring unsupported options: build
Creating network samba-swarm_default
Creating service samba-swarm_samba
~/Documents/docker$ docker stack services samba-swarm
ID           NAME                  MODE       REPLICAS IMAGE PORTS
yg8x8yfytq5d samba-swarm_samba     replicated 1/1&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Et maintenant, l‚Äôapplication fonctionne sous Samba Swarm. J‚Äôai test√© qu‚Äôil fonctionne toujours avec &lt;code&gt;smbclient&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;~$ smbclient \\\\localhost\\workdir -U %
WARNING: The &amp;quot;syslog&amp;quot; option is deprecated
Try &amp;quot;help&amp;quot; to get a list of possible commands.
smb: \&amp;gt; ls
.                          D        0  Fri Oct  5 12:14:43 2018
..                         D        0  Sun Oct  7 22:09:49 2018
hello.txt                  N       13  Fri Oct  5 11:17:34 2018

102685624 blocks of size 1024. 72252576 blocks available
smb: \&amp;gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Ajout d‚Äôun autre noeud&lt;/h2&gt;
&lt;p&gt;Ici encore, la simplicit√© de Docker Swarm transpara√Æt. Pour installer un deuxi√®me noeud, j‚Äôai d‚Äôabord install√© Docker, puis ex√©cut√© la commande que Docker m‚Äôavait donn√©e lors de l‚Äôinstallation de swarm:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;ralph:~# docker swarm join --token SWMTKN-1-abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwx-abcdefghijklmnopqrstuvwxy 10.133.7.100:2377

This node joined a swarm as a worker.&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Pour ex√©cuter mon application sur les deux n≈ìuds, j‚Äôai ex√©cut√© la commande scale de Docker Swarm sur le n≈ìud du gestionnaire:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;~/Documents/docker$ docker service scale samba-swarm_samba=2
samba-swarm_samba scaled to 2 overall progress: 2 out of 2 tasks
1/2: running [==================================================&amp;gt;]
2/2: running [==================================================&amp;gt;] verify: Service converged&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Sur le nouveau noeud de travail, le nouveau conteneur est apparu:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;ralph:~# docker container ls
CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES
7539549283bd 127.0.0.1:5000/samba:latest &amp;quot;/usr/sbin/smbd -FS ‚Ä¶&amp;quot; 20 seconds ago Up 18 seconds 445/tcp samba-swarm_samba.1.abcdefghijklmnopqrstuvwxy&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Test de l‚Äô√©quilibrage de charge (load balancing)&lt;/h2&gt;
&lt;p&gt;Docker Swarm comprend un load balancing int√©gr√© appel√© routeur Mesh: les demandes adress√©es √† l‚Äôadresse IP de tout noeud sont automatiquement r√©parties sur l‚Äôensemble de Swarm.&lt;/p&gt;
&lt;p&gt;Pour tester cela, j‚Äôai √©tabli 1000 connexions √† l‚Äôadresse IP du noeud du gestionnaire avec &lt;code&gt;nc&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;print(&amp;quot;#!/bin/bash&amp;quot;)
for i in range(1000):
    print(&amp;quot;nc -v 10.133.7.100 445 &amp;amp;&amp;quot;)
print(&amp;quot;wait&amp;quot;)&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Samba g√©n√®re un nouveau processus pour chaque connexion. Par cons√©quent, si l‚Äô√©quilibrage de la charge fonctionne, je m‚Äôattendrais √† environ 500 processus Samba sur chaque noeud de Swarm. C‚Äôest bien ce qui se passe.&lt;/p&gt;
&lt;p&gt;Apr√®s avoir ex√©cut√© le script pour √©tablir 1000 connexions, j‚Äôai v√©rifi√© le nombre de processus Samba sur le gestionnaire (10.133.7.100):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;~$ ps -ef|grep smbd|wc
506 5567 42504&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Et sur le noeud travailleur (10.133.7.50):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;ralph:~# ps -ef|grep smbd|wc
506 3545 28862&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ainsi, exactement la moiti√© des demandes adress√©es au noeud de gestion ont √©t√© redirig√©es de mani√®re magique vers le premier noeud de travail, ce qui montre que le cluster Swarm fonctionne correctement.&lt;/p&gt;
&lt;p&gt;J‚Äôai trouv√© que Docker Swarm √©tait tr√®s facile √† installer et il fonctionnait bien sous une charge (l√©g√®re).&lt;/p&gt;
&lt;h1&gt;Kubernetes&lt;/h1&gt;
&lt;p&gt;Kubernetes est en train de devenir l‚Äôindustrie standard de l‚Äôorchestration de conteneurs. C‚Äôest beaucoup plus flexible que Docker Swarm, mais cela rend plus difficile la configuration. Je l‚Äôai trouv√© pas si difficile, cependant.&lt;/p&gt;
&lt;p&gt;Pour cette exp√©rience, au lieu d‚Äôutiliser un environnement de d√©veloppement Kubernetes pr√©-construit tel que &lt;a href=&quot;https://kubernetes.io/docs/setup/minikube/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;&lt;code&gt;minikube&lt;/code&gt;&lt;/a&gt;, j‚Äôai d√©cid√© de configurer mon propre cluster, √† l‚Äôaide de Kubadm, WeaveNet et MetalLB.&lt;/p&gt;
&lt;h2&gt;Mise en place de Kubernetes&lt;/h2&gt;
&lt;p&gt;Kubernetes √† la r√©putation d‚Äô√™tre difficile √† configurer: vous avez entendu le processus complexe en plusieurs √©tapes du didacticiel &lt;a href=&quot;https://github.com/kelseyhightower/kubernetes-the-hard-way&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Kubernetes the Hard Way&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Les d√©veloppeurs de Kubernetes ont simplifi√© l‚Äôutilisation de &lt;code&gt;kubeadm&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Malheureusement, Kubernetes √©tant si flexible, le &lt;a href=&quot;https://kubernetes.io/docs/setup/independent/create-cluster-kubeadm/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;tutoriel sur &lt;code&gt;kubeadm&lt;/code&gt;&lt;/a&gt; ne couvre pas encore quelques √©tapes. J‚Äôai donc d√ª d√©terminer le r√©seau et l‚Äô√©quilibreur de charge √† utiliser moi-m√™me.&lt;/p&gt;
&lt;p&gt;Voici ce que j‚Äôai fini par lancer.&lt;/p&gt;
&lt;p&gt;J‚Äôai d‚Äôabord d√ª d√©sactiver Swap sur chaque noeud:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;root@dora:~# swapoff -a
root@dora:~# systemctl restart kubelet.service&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ensuite, j‚Äôai configur√© le noeud ma√Ætre (10.133.7.100) avec la commande suivante:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;sudo kubeadm init --pod-network-cidr=10.134.0.0/16 --apiserver-advertise-address=10.133.7.100 --apiserver-cert-extra-sans=10.0.2.15&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;L‚Äôoption &lt;code&gt;--pod-network-cidr&lt;/code&gt; attribue une adresse r√©seau interne √† tous les noeuds du r√©seau, utilis√©e pour les communications internes dans Kubernetes.&lt;/p&gt;
&lt;p&gt;Les options &lt;code&gt;--apiserver-advertise-address&lt;/code&gt; et &lt;code&gt;--apiserver-cert-extra-sans&lt;/code&gt; ont √©t√© ajout√©es √† cause d‚Äôun probl√®me particulier dans l‚Äôinstallation de VirtualBox: la carte virtuelle principale des machines virtuelles (IP 10.0.2.15) ne peut acc√©der qu‚Äô√† l‚ÄôInternet. J‚Äôai d√ª pr√©ciser que d‚Äôautres noeuds doivent acc√©der au ma√Ætre √† l‚Äôaide de l‚Äôadresse IP 10.133.7.100.&lt;/p&gt;
&lt;p&gt;Apr√®s avoir ex√©cut√© cette commande, Kubeadm a affich√© quelques instructions:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Your Kubernetes master has initialized successfully!
To start using your clusterundefined you need to run the following as a regular user:

mkdir -p $HOME/.kube
sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config
sudo chown $(id -u):$(id -g) $HOME/.kube/config

You should now deploy a pod network to the cluster.
Run &amp;quot;kubectl apply -f [podnetwork].yaml&amp;quot; with one of the options listed at:
https://kubernetes.io/docs/concepts/cluster-administration/addons/
You can now join any number of machines by running the following on each node as root:

kubeadm join 10.133.7.100:6443 --token abcdefghijklmnopqrstuvw --discovery-token-ca-cert-hash sha256:abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcdefghijkl&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;J‚Äôai rat√© ces instructions la premi√®re fois et je n‚Äôai donc pas termin√© la configuration. J‚Äôai ensuite pass√© une semaine enti√®re √† me demander pourquoi aucun de mes conteneurs ne fonctionnait!&lt;/p&gt;
&lt;p&gt;Apr√®s avoir enfin lu les instructions, je devais faire trois autres choses:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Tout d‚Äôabord, je devais ex√©cuter les commandes donn√©es par &lt;code&gt;kubeadm&lt;/code&gt; pour configurer un fichier de configuration.&lt;/li&gt;
&lt;li&gt;Par d√©faut, Kubernetes ne planifie pas les conteneurs sur le n≈ìud ma√Ætre, mais uniquement sur les noeuds de travail. Comme je n‚Äôai qu‚Äôun seul noeud pour le moment, le &lt;a href=&quot;https://kubernetes.io/docs/setup/independent/create-cluster-kubeadm/#master-isolation&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;tutoriel&lt;/a&gt; m‚Äôa montr√© cette commande pour autoriser l‚Äôex√©cution de conteneurs sur le seul noeud:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;kubectl taint node --all node-role.kubernetes.io/master-&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Enfin, je devais choisir un r√©seau pour mon cluster.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Installation du r√©seau&lt;/h2&gt;
&lt;p&gt;Contrairement √† Docker Swarm, qui doit utiliser sa propre couche de routage maill√© pour la mise en r√©seau et l‚Äô√©quilibrage de la charge, Kubernetes offre de multiples choix pour la mise en r√©seau et l‚Äô√©quilibrage de la charge.&lt;/p&gt;
&lt;p&gt;Le composant de mise en r√©seau permet aux conteneurs de communiquer en interne. J‚Äôai fait des recherches et &lt;a href=&quot;https://www.objectif-libre.com/en/blog/2018/07/05/k8s-network-solutions-comparison/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;cet article comparatif&lt;/a&gt; sugg√©rait Flannel ou WeaveNet, car ils sont faciles √† configurer. Ainsi, j‚Äôai d√©cid√© d‚Äôessayer WeaveNet. J‚Äôai suivi les instructions du &lt;a href=&quot;https://kubernetes.io/docs/setup/independent/create-cluster-kubeadm/#pod-network&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;didacticiel kubeadm&lt;/a&gt; pour appliquer la configuration de WeaveNet:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;kubectl apply -f &amp;quot;https://cloud.weave.works/k8s/net?k8s-version=$(kubectl version | base64 | tr -d &amp;#39;\n&amp;#39;)&amp;quot;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ensuite, pour permettre aux conteneurs de communiquer avec le monde ext√©rieur, j‚Äôai besoin d‚Äôun √©quilibreur de charge. D‚Äôapr√®s mes recherches, j‚Äôai eu l‚Äôimpression que la plupart des impl√©mentations de l‚Äô√©quilibreur de charge Kubernetes se concentrent uniquement sur les services HTTP, et non sur le TCP brut. Heureusement, j‚Äôai trouv√© MetalLB, un projet r√©cent (vieux d‚Äôun an) qui comble cette lacune.&lt;/p&gt;
&lt;p&gt;Pour installer MetalLB, j‚Äôai suivi son &lt;a href=&quot;https://metallb.universe.tf/tutorial/layer2/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;didacticiel de mise en route&lt;/a&gt; et j‚Äôai tout d‚Äôabord d√©ploy√© MetalLB:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;kubectl apply -f https://raw.githubusercontent.com/google/metallb/v0.7.3/manifests/metallb.yaml&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ensuite, j‚Äôai attribu√© la plage d‚Äôadresses IP 10.133.7.200 √† 10.133.7.230 √† MetalLB, en cr√©ant et en appliquant &lt;a href=&quot;https://gist.github.com/ludovicwyffels/917a399b423868f9415e6c384138e550&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;ce fichier de configuration&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;kubectl apply -f metallb-config.yaml&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;D√©ploiement de l‚Äôapplication&lt;/h2&gt;
&lt;p&gt;Les fichiers de configuration du service de Kubernetes sont plus d√©taill√©s que ceux de Docker Swarm, en raison de la flexibilit√© de Kubernetes. En plus de sp√©cifier le conteneur √† ex√©cuter, comme Docker Swarm, je dois sp√©cifier comment chaque port doit √™tre trait√©.&lt;/p&gt;
&lt;p&gt;Apr√®s avoir lu &lt;a href=&quot;https://kubernetes.io/docs/tasks/run-application/run-stateless-application-deployment/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;le tutoriel de Kubernetes&lt;/a&gt;, j‚Äôai propos√© cette configuration de Kubernetes, compos√©e d‚Äôun service et d‚Äôun d√©ploiement.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://gist.github.com/ludovicwyffels/911bb25b611f3519745aeee0d53c6447&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://gist.github.com/ludovicwyffels/911bb25b611f3519745aeee0d53c6447&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Ce &lt;a href=&quot;https://kubernetes.io/docs/concepts/services-networking/#defining-a-service&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;service&lt;/a&gt; demande √† Kubernetes d‚Äôexporter le port TCP 445 de nos conteneurs Samba vers l‚Äô√©quilibreur de charge.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://gist.github.com/ludovicwyffels/41022da159c539e45027c68776f459d8&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://gist.github.com/ludovicwyffels/41022da159c539e45027c68776f459d8&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Cet objet &lt;code&gt;Deployment&lt;/code&gt; indique √† Kubernetes d‚Äôex√©cuter mon conteneur et d‚Äôexporter un port que le service doit g√©rer.&lt;/p&gt;
&lt;p&gt;Notez le &lt;code&gt;replicas: 1&lt;/code&gt; - c‚Äôest le nombre d‚Äôinstances du conteneur que je veux ex√©cuter.&lt;/p&gt;
&lt;p&gt;Je peux d√©ployer ce service sur Kubernetes en utilisant &lt;code&gt;kubectl apply&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;ludo@dora:~/Documents/docker$ kubectl apply -f kubernetes-samba.yaml
service/samba configured
deployment.apps/samba configured&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Et, apr√®s avoir red√©marr√© ma machine virtuelle √† quelque reprises, le d√©ploiement a finalement commenc√© √† fonctionner:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;ludo@dora:~/Documents/docker$ kubectl get pods
NAME                   READY STATUS  RESTARTS AGE
samba-57945b8895-dfzgl 1/1   Running 0        52m
ludo@dora:~/Documents/docker$ kubectl get service samba
NAME  TYPE         CLUSTER-IP     EXTERNAL-IP  PORT(S)       AGE
samba LoadBalancer 10.108.157.165 10.133.7.200 445:30246/TCP 91m&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Mon service est maintenant disponible sur l‚Äôadresse IP externe attribu√©e par MetalLB:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;ludo@dora:~$ smbclient \\\\10.133.7.200\\workdir -U %
WARNING: The &amp;quot;syslog&amp;quot; option is deprecated
Try &amp;quot;help&amp;quot; to get a list of possible commands.
smb: \&amp;gt; ls
.                          D        0  Fri Oct  5 12:14:43 2018
..                         D        0  Sun Oct  7 22:09:49 2018
hello.txt                  N       13  Fri Oct  5 11:17:34 2018

102685624 blocks of size 1024. 72252576 blocks available
smb: \&amp;gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Ajout d‚Äôun autre noeud&lt;/h2&gt;
&lt;p&gt;Ajouter un autre noeud dans un cluster Kubernetes est beaucoup plus simple: il me suffisait d‚Äôex√©cuter la commande donn√©e par &lt;code&gt;kubeadm&lt;/code&gt; sur le nouvel ordinateur:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;ludo@davy:~$ sudo kubeadm join 10.133.7.100:6443 --token abcdefghijklmnopqrstuvw --discovery-token-ca-cert-hash sha256:abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcdefghijkl

(snip...)

This node has joined the cluster:* Certificate signing request was sent to apiserver and a response was received.
* The Kubelet was informed of the new secure connection details.

Run &amp;#39;kubectl get nodes&amp;#39; on the master to see this node join the cluster.&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Bizarreries de ma configuration&lt;/h2&gt;
&lt;p&gt;J‚Äôai d√ª faire deux changements en raison de la configuration de VirtualBox:&lt;/p&gt;
&lt;p&gt;Premi√®rement, comme ma machine virtuelle dispose de deux cartes r√©seau, je dois indiquer manuellement l‚Äôadresse IP de ma machine √† Kubernetes. Selon &lt;a href=&quot;https://github.com/kubernetes/kubeadm/issues/203&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;ce probl√®me&lt;/a&gt;, je devais √©diter&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;/etc/systemd/system/kubelet.service.d/10-kubeadm.conf&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Et changer une ligne en&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Environment=&amp;quot;KUBELET_CONFIG_ARGS=--config=/var/lib/kubelet/config.yaml --node-ip=10.133.7.101&amp;quot;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;avant de red√©marrer Kubernetes:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;root@davy:~# systemctl daemon-reload
root@davy:~# systemctl restart kubelet.service&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;L‚Äôautre solution concerne le registre Docker: comme le nouveau noeud ne peut acc√©der √† mon registre priv√© sur le noeud ma√Ætre, j‚Äôai d√©cid√© de proc√©der √† un terrible hack et de partager le registre de mon noeud ma√Ætre vers la nouvelle machine √† l‚Äôaide de &lt;code&gt;ssh&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;ludo@davy:~$ ssh dora.local -L 5000:localhost:5000&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Cela transmet le port 5000 du noeud principal, dora (qui ex√©cute le registre Docker) √† localhost, o√π Kubernetes peut le trouver sur cette machine.&lt;/p&gt;
&lt;p&gt;En production r√©elle, il est probable que le registre Docker sera h√©berg√© sur une machine distincte, afin que tous les noeuds puissent y acc√©der.&lt;/p&gt;
&lt;h2&gt;‚ÄúScaling‚Äù de l‚Äôapplication&lt;/h2&gt;
&lt;p&gt;Lors de la deuxi√®me installation de l‚Äôordinateur, j‚Äôai modifi√© mon d√©ploiement d‚Äôorigine pour ajouter une autre instance de l‚Äôapplication:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;replicas: 2&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Apr√®s avoir red√©marr√© le ma√Ætre et le worker √† quelques reprises, la nouvelle instance de mon application a finalement quitt√© le statut de &lt;code&gt;CreatingContainer&lt;/code&gt; et a commenc√© √† s‚Äôex√©cuter:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;ludo@dora:~/Documents/docker$ kubectl get pods
NAME                   READY STATUS  RESTARTS AGE
samba-57945b8895-dfzgl 1/1   Running 0        62m
samba-57945b8895-qhrtl 1/1   Running 0        12m&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Test de l‚Äô√©quilibrage de charge&lt;/h2&gt;
&lt;p&gt;J‚Äôai utilis√© la m√™me proc√©dure pour ouvrir 1000 connexions √† Samba s‚Äôex√©cutant sur Kubernetes. Le r√©sultat est int√©ressant.&lt;/p&gt;
&lt;p&gt;Master:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;ludo@dora$ ps -ef|grep smbd|wc
492 5411 41315&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Worker:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-text line-numbers&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;ludo@davy:~$ ps -ef|grep smbd|wc
518 5697 43499&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Kubernetes / MetalLB a √©galement √©quilibr√© la charge sur les deux machines, mais la machine principale a eu un peu moins de connexions que le worker. Je me demande pourquoi.&lt;/p&gt;
&lt;p&gt;Quoi qu‚Äôil en soit, cela montre que j‚Äôai finalement r√©ussi √† installer Kubernetes apr√®s plusieurs d√©tours.&lt;/p&gt;
&lt;h1&gt;Comparaison et conclusion&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;Fonctionnalit√©s communes aux deux&lt;/strong&gt;: les deux peuvent g√©rer des conteneurs et g√©rer intelligemment les demandes d‚Äô√©quilibrage de charge sur la m√™me application TCP sur deux machines virtuelles diff√©rentes. Les deux ont une bonne documentation pour la configuration initiale.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Les atouts de Docker Swarm&lt;/strong&gt;: une configuration simple, aucune configuration requise, une int√©gration √©troite avec Docker.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Les points forts de Kubernetes&lt;/strong&gt;: composants souples, nombreuses ressources disponibles et add-ons.&lt;/p&gt;
&lt;p&gt;Kubernetes vs Docker Swarm est un compromis entre simplicit√© et flexibilit√©.&lt;/p&gt;
&lt;p&gt;J‚Äôai trouv√© plus facile d‚Äôinstaller Docker Swarm, mais je ne peux pas, par exemple, √©changer l‚Äô√©quilibreur de charge contre un autre composant. Il n‚Äôya aucun moyen de le configurer: je devrais &lt;a href=&quot;https://docs.docker.com/engine/swarm/ingress/#using-the-routing-mesh&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;tout d√©sactiver en m√™me temps&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Sur Kubernetes, il m‚Äôa fallu un certain temps pour trouver la bonne configuration, mais en √©change, je pouvais changer certaines parties de mon cluster selon les besoins et installer facilement des add-ons, tels qu‚Äôun &lt;a href=&quot;https://kubernetes.io/docs/tasks/access-application-cluster/web-ui-dashboard/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;tableau de bord sophistiqu√©&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Si vous voulez juste essayer Kubernetes sans toute cette configuration, je vous sugg√®re d‚Äôutiliser &lt;a href=&quot;https://kubernetes.io/docs/setup/minikube/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;&lt;code&gt;minikube&lt;/code&gt;&lt;/a&gt;, qui offre une machine virtuelle de cluster Kubernetes pr√©d√©finie, aucune installation requise.&lt;/p&gt;
&lt;p&gt;Enfin, je suis impressionn√© par le fait que les deux moteurs ont pris en charge les services TCP bruts: d‚Äôautres fournisseurs de services d‚Äôinfrastructure en tant que services, tels que Heroku ou Glitch, ne prennent en charge que l‚Äôh√©bergement de sites Web HTTP. La disponibilit√© des services TCP signifie que l‚Äôon peut d√©ployer ses propres serveurs de base de donn√©es, ses serveurs de cache et m√™me ses serveurs Minecraft en utilisant les m√™mes outils pour d√©ployer des applications Web, faisant de la gestion de l‚Äôorchestration de conteneurs une comp√©tence tr√®s utile.&lt;/p&gt;
&lt;p&gt;En conclusion, si je construisais un cluster, j‚Äôutiliserais Docker Swarm. Si je payais quelqu‚Äôun d‚Äôautre pour construire un cluster pour moi, je demanderais Kubernetes.&lt;/p&gt;
&lt;h1&gt;Ce que j‚Äôai appris&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Comment travailler avec les conteneurs Docker&lt;/li&gt;
&lt;li&gt;Comment configurer un cluster Docker Swarm √† deux noeuds&lt;/li&gt;
&lt;li&gt;Comment configurer un cluster Kubernetes √† deux noeuds et quels choix fonctionneraient pour une application bas√©e sur TCP&lt;/li&gt;
&lt;li&gt;Comment d√©ployer une application sur Docker Swarm et Kubernetes&lt;/li&gt;
&lt;li&gt;Comment r√©parer quoi que ce soit en red√©marrant un ordinateur assez souvent, comme si je utilisais encore Windows 98&lt;/li&gt;
&lt;li&gt;Kubernetes et Docker Swarm ne sont pas aussi intimidants qu‚Äôils semblent&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Comment paginer des enregistrements dans MySQL avec Sequelize et Nodejs]]></title><description><![CDATA[Souvent, je me trouve aux prises avec Sequelize pour trouver une r√©ponse directe √† ma requ√™te. R√©cemment, je travaillais sur une application‚Ä¶]]></description><link>https://ludovicwyffels.dev/node-sequelize-pagination/</link><guid isPermaLink="false">https://ludovicwyffels.dev/node-sequelize-pagination/</guid><pubDate>Sat, 13 Oct 2018 08:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Souvent, je me trouve aux prises avec Sequelize pour trouver une r√©ponse directe √† ma requ√™te. R√©cemment, je travaillais sur une application full stack dans laquelle il √©tait imp√©ratif de paginer les r√©sultats depuis le backend (API REST) vers le client. Je me suis battu pour deux raisons. Tout d‚Äôabord, venant du context NoSQL, il est difficile de saisir les bases de donn√©es SQL. La deuxi√®me raison √©tant que la documentation de Sequelize ne fournit pas une solution claire et directe √† cette abstraction tr√®s basique. Beaucoup de gens supposent des choses dans le monde des bases de donn√©es SQL.&lt;/p&gt;
&lt;p&gt;Ainsi, dans cet article, nous allons parler d‚Äôun module de base de pagination utilisant Sequelize, MySQL et Node.js. J‚Äôutilise des tables et des enregistrements dans votre base de donn√©es MySQL. Pour configurer une nouvelle application et √©tablir une connexion √† une base de donn√©es, lisez mon post sur &lt;code&gt;Premiers pas avec Sequelize&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;D√©finir un mod√®le&lt;/h2&gt;
&lt;p&gt;Je saute directement sur la d√©finition du mod√®le utilisateur:&lt;/p&gt;
&lt;p&gt;J‚Äôutilise une table contenant une centaine d‚Äôenregistrements d‚Äôutilisateur que nous voulons afficher sur une application Web, par exemple dans le panneau d‚Äôadministration, et nous voulons afficher seulement 50 enregistrements √† la fois.&lt;/p&gt;
&lt;p&gt;Dans le fichier &lt;code&gt;api/user.js&lt;/code&gt;, je d√©finis un endpoint &lt;code&gt;/:page&lt;/code&gt; qui extraira le nombre de r√©sultats n√©cessaires de la base de donn√©es.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;findAndCountAll&lt;/code&gt; est le mod√®le de recherche dans plusieurs enregistrements de la base de donn√©es. Il retourne √† la fois les donn√©es requises et le nombre d‚Äô√©l√©ments de cette table. La requ√™te ci-dessus obtiendra 50 enregistrements d‚Äôutilisateur √† la fois jusqu‚Äô√† ce que la page suivante soit appel√©e pour extraire les 50 prochains enregistrements. &lt;code&gt;limit&lt;/code&gt; et &lt;code&gt;offset&lt;/code&gt; sont n√©cessaires dans les requ√™tes li√©es √† la pagination dans lesquelles &lt;code&gt;limit&lt;/code&gt; extrait le nombre de lignes en fonction de la requ√™te, tandis que &lt;code&gt;offset&lt;/code&gt; est utilis√© pour ignorer le nombre&lt;/p&gt;</content:encoded></item><item><title><![CDATA[D√©marrer avec Sequelize]]></title><description><![CDATA[Introduction √† l‚ÄôORM ORM ou Object Relation Mapping est un processus de mappage entre des objets et des syst√®mes de base de donn√©es‚Ä¶]]></description><link>https://ludovicwyffels.dev/node-sequelize-intro/</link><guid isPermaLink="false">https://ludovicwyffels.dev/node-sequelize-intro/</guid><pubDate>Fri, 12 Oct 2018 08:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;Introduction √† l‚ÄôORM&lt;/h2&gt;
&lt;p&gt;ORM ou Object Relation Mapping est un processus de mappage entre des objets et des syst√®mes de base de donn√©es relationnels. Un ORM agit comme une interface entre deux syst√®mes. Les ORM offrent aux d√©veloppeurs des avantages de base, tels que la r√©duction du temps et des efforts et la concentration sur la logique m√©tier. Le code est robuste au lieu de redondant. ORM aide √† g√©rer les requ√™tes sur plusieurs tables de mani√®re efficace. Enfin, un ORM (comme sequelize) est capable de se connecter √† diff√©rentes bases de donn√©es (ce qui est pratique lors du passage d‚Äôune base de donn√©es √† une autre).&lt;/p&gt;
&lt;h1&gt;D√©marrer avec Sequelize&lt;/h1&gt;
&lt;h2&gt;D√©buter avec Sequelize&lt;/h2&gt;
&lt;p&gt;Sequelize est un ORM bas√© sur des promesses pour Node.js. Sequelize est facile √† apprendre et poss√®de des dizaines de fonctionnalit√©s int√©ressantes comme la synchronisation, l‚Äôassociation, la validation, etc. Il prend √©galement en charge PostgreSQL, MySQL, MariaDB, SQLite et MSSQL. J‚Äôutilise actuellement PostgreSQL.&lt;/p&gt;
&lt;h2&gt;Installation&lt;/h2&gt;
&lt;p&gt;Sequelize est disponible via npm.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-bash line-numbers&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; --save sequelize

&lt;span class=&quot;token comment&quot;&gt;# Choisiser en un:&lt;/span&gt;
$ &lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; --save pg pg-hstore // PostgreSQL
$ &lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; --save mysql // mysql et mariadb
$ &lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; --save sqlite3
$ &lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; --save tedious // MSSQL&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;√âtablissement d‚Äôune connexion&lt;/h2&gt;
&lt;p&gt;Sequelize √©tablit une connexion entre l‚ÄôAPI / application restante et votre base de donn√©es SQL. Pour configurer la connexion de base entre les deux:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-javascript line-numbers&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; sequelize &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Sequelize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;database&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;username&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;password&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  host&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;localhost&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  dialect&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;mysql&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;mariadb&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;sqlite&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;postgres&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;mssql&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//choose anyone between them&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// To create a pool of connections&lt;/span&gt;
  pool&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    max&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    min&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    idle&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// For SQLite only&lt;/span&gt;
  storage&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;path/to/database.sqlite&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[AWS SDK pour Node.js: Meilleures pratiques]]></title><description><![CDATA[La plupart des exemples de code couvrant le kit AWS SDK comme ci-dessous, c‚Äôest √† dire qu‚Äôils importent l‚Äôint√©gralit√© du kit AWS m√™me s‚Äôils‚Ä¶]]></description><link>https://ludovicwyffels.dev/aws-sdk/</link><guid isPermaLink="false">https://ludovicwyffels.dev/aws-sdk/</guid><pubDate>Sun, 23 Sep 2018 08:00:00 GMT</pubDate><content:encoded>&lt;p&gt;La plupart des exemples de code couvrant le kit AWS SDK comme ci-dessous, c‚Äôest √† dire qu‚Äôils importent l‚Äôint√©gralit√© du kit AWS m√™me s‚Äôils utilisent seulement quelques services AWS, parfois un seul (AWS DynamoDB).&lt;/p&gt;
&lt;p&gt;&lt;div id=&quot;gist92067546&quot; class=&quot;gist&quot;&gt;
    &lt;div class=&quot;gist-file&quot;&gt;
      &lt;div class=&quot;gist-data&quot;&gt;
        &lt;div class=&quot;js-gist-file-update-container js-task-list-container file-box&quot;&gt;
  &lt;div id=&quot;file-aws-sdk-node-best-practices-non-optimized-js&quot; class=&quot;file&quot;&gt;
    

  &lt;div itemprop=&quot;text&quot; class=&quot;Box-body p-0 blob-wrapper data type-javascript &quot;&gt;
      
&lt;table class=&quot;highlight tab-size js-file-line-container&quot; data-tab-size=&quot;8&quot;&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-non-optimized-js-L1&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-non-optimized-js-LC1&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=pl-c&gt;// imports the entire AWS SDK&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-non-optimized-js-L2&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;2&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-non-optimized-js-LC2&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=pl-k&gt;const&lt;/span&gt; &lt;span class=pl-s1&gt;aws&lt;/span&gt; &lt;span class=pl-c1&gt;=&lt;/span&gt; &lt;span class=pl-en&gt;require&lt;/span&gt;&lt;span class=pl-kos&gt;(&lt;/span&gt;&lt;span class=pl-s&gt;&amp;#39;aws-sdk&amp;#39;&lt;/span&gt;&lt;span class=pl-kos&gt;)&lt;/span&gt;&lt;span class=pl-kos&gt;;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-non-optimized-js-L3&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;3&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-non-optimized-js-LC3&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-non-optimized-js-L4&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;4&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-non-optimized-js-LC4&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=pl-s1&gt;aws&lt;/span&gt;&lt;span class=pl-kos&gt;.&lt;/span&gt;&lt;span class=pl-c1&gt;config&lt;/span&gt;&lt;span class=pl-kos&gt;.&lt;/span&gt;&lt;span class=pl-en&gt;update&lt;/span&gt;&lt;span class=pl-kos&gt;(&lt;/span&gt;&lt;span class=pl-kos&gt;{&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-non-optimized-js-L5&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;5&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-non-optimized-js-LC5&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=pl-c1&gt;region&lt;/span&gt;: &lt;span class=pl-s&gt;&amp;#39;us-east-1&amp;#39;&lt;/span&gt;&lt;span class=pl-kos&gt;,&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-non-optimized-js-L6&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;6&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-non-optimized-js-LC6&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=pl-c1&gt;endpoint&lt;/span&gt;: &lt;span class=pl-s&gt;&amp;#39;https://dynamodb.us-east-1.amazonaws.com&amp;#39;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-non-optimized-js-L7&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;7&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-non-optimized-js-LC7&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=pl-kos&gt;}&lt;/span&gt;&lt;span class=pl-kos&gt;)&lt;/span&gt;&lt;span class=pl-kos&gt;;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-non-optimized-js-L8&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;8&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-non-optimized-js-LC8&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-non-optimized-js-L9&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;9&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-non-optimized-js-LC9&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=pl-k&gt;const&lt;/span&gt; &lt;span class=pl-s1&gt;docClient&lt;/span&gt; &lt;span class=pl-c1&gt;=&lt;/span&gt; &lt;span class=pl-k&gt;new&lt;/span&gt; &lt;span class=pl-s1&gt;aws&lt;/span&gt;&lt;span class=pl-kos&gt;.&lt;/span&gt;&lt;span class=pl-c1&gt;DynamoDB&lt;/span&gt;&lt;span class=pl-kos&gt;.&lt;/span&gt;&lt;span class=pl-en&gt;DocumentClient&lt;/span&gt;&lt;span class=pl-kos&gt;(&lt;/span&gt;&lt;span class=pl-kos&gt;)&lt;/span&gt;&lt;span class=pl-kos&gt;;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
&lt;/table&gt;


  &lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;

      &lt;/div&gt;
      &lt;div class=&quot;gist-meta&quot;&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/195d29bab3640e1c25981fbe6fab4f58/raw/20d21fdfb6f71668df09d34cc9475e14029b5243/aws-sdk-node-best-practices-non-optimized.js&quot; style=&quot;float:right&quot;&gt;view raw&lt;/a&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/195d29bab3640e1c25981fbe6fab4f58#file-aws-sdk-node-best-practices-non-optimized-js&quot;&gt;aws-sdk-node-best-practices-non-optimized.js&lt;/a&gt;
        hosted with &amp;#10084; by &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;Cependant, la m√©thode recommand√©e pour initialiser divers clients de service AWS consiste √† ne les importer que lorsque n√©cessaire, comme ci-dessous. √âconomise des temps de chargement et de la m√©moire pr√©cieux, particuli√®rement utile dans les environnements √† ressources de calcul comme un p√©riph√©rique IoT ou dans une fonction AWS Lamba.&lt;/p&gt;
&lt;p&gt;&lt;div id=&quot;gist92067561&quot; class=&quot;gist&quot;&gt;
    &lt;div class=&quot;gist-file&quot;&gt;
      &lt;div class=&quot;gist-data&quot;&gt;
        &lt;div class=&quot;js-gist-file-update-container js-task-list-container file-box&quot;&gt;
  &lt;div id=&quot;file-aws-sdk-node-best-practices-optimized-js&quot; class=&quot;file&quot;&gt;
    

  &lt;div itemprop=&quot;text&quot; class=&quot;Box-body p-0 blob-wrapper data type-javascript &quot;&gt;
      
&lt;table class=&quot;highlight tab-size js-file-line-container&quot; data-tab-size=&quot;8&quot;&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-optimized-js-L1&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-optimized-js-LC1&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=pl-c&gt;// only imports the AWS DynamoDB service client&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-optimized-js-L2&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;2&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-optimized-js-LC2&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=pl-k&gt;const&lt;/span&gt; &lt;span class=pl-s1&gt;dynamodb&lt;/span&gt; &lt;span class=pl-c1&gt;=&lt;/span&gt; &lt;span class=pl-en&gt;require&lt;/span&gt;&lt;span class=pl-kos&gt;(&lt;/span&gt;&lt;span class=pl-s&gt;&amp;#39;aws-sdk/clients/dynamodb&amp;#39;&lt;/span&gt;&lt;span class=pl-kos&gt;)&lt;/span&gt;&lt;span class=pl-kos&gt;;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-optimized-js-L3&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;3&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-optimized-js-LC3&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-optimized-js-L4&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;4&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-optimized-js-LC4&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=pl-k&gt;const&lt;/span&gt; &lt;span class=pl-s1&gt;config&lt;/span&gt; &lt;span class=pl-c1&gt;=&lt;/span&gt; &lt;span class=pl-kos&gt;{&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-optimized-js-L5&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;5&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-optimized-js-LC5&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=pl-c1&gt;region&lt;/span&gt;: &lt;span class=pl-s&gt;&amp;#39;us-east-1&amp;#39;&lt;/span&gt;&lt;span class=pl-kos&gt;,&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-optimized-js-L6&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;6&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-optimized-js-LC6&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;  &lt;span class=pl-c1&gt;endpoint&lt;/span&gt;: &lt;span class=pl-s&gt;&amp;#39;https://dynamodb.us-east-1.amazonaws.com&amp;#39;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-optimized-js-L7&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;7&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-optimized-js-LC7&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=pl-kos&gt;}&lt;/span&gt;&lt;span class=pl-kos&gt;;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-optimized-js-L8&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;8&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-optimized-js-LC8&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-optimized-js-L9&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;9&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-aws-sdk-node-best-practices-optimized-js-LC9&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;&lt;span class=pl-k&gt;const&lt;/span&gt; &lt;span class=pl-s1&gt;docClient&lt;/span&gt; &lt;span class=pl-c1&gt;=&lt;/span&gt; &lt;span class=pl-k&gt;new&lt;/span&gt; &lt;span class=pl-s1&gt;dynamodb&lt;/span&gt;&lt;span class=pl-kos&gt;.&lt;/span&gt;&lt;span class=pl-c1&gt;DocumentClient&lt;/span&gt;&lt;span class=pl-kos&gt;(&lt;/span&gt;&lt;span class=pl-s1&gt;config&lt;/span&gt;&lt;span class=pl-kos&gt;)&lt;/span&gt;&lt;span class=pl-kos&gt;;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
&lt;/table&gt;


  &lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;

      &lt;/div&gt;
      &lt;div class=&quot;gist-meta&quot;&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/ab860daf4dfb446ded1a9b03dc3942e4/raw/98b34602f7d029b177dcba7fa4f312d6e07862ad/aws-sdk-node-best-practices-optimized.js&quot; style=&quot;float:right&quot;&gt;view raw&lt;/a&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/ab860daf4dfb446ded1a9b03dc3942e4#file-aws-sdk-node-best-practices-optimized-js&quot;&gt;aws-sdk-node-best-practices-optimized.js&lt;/a&gt;
        hosted with &amp;#10084; by &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;NB: vous pouvez toujours acc√©der √† l‚Äôespace de noms AWS global sans chaque service AWS associ√© en √©crivant sous le code. Cette technique est utile lorsque vous appliquez la m√™me configuration √† plusieurs services AWS individuels, par exemple pour fournir les m√™mes informations d‚Äôidentification √† tous les services AWS.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;const aws = require(&apos;aws-sdk/global&apos;);&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Consultez la documentation officielle d‚ÄôAWS pour plus d‚Äôinformations ci-dessous.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.aws.amazon.com/sdk-for-javascript/v2/developer-guide/creating-and-calling-service-objects.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://docs.aws.amazon.com/sdk-for-javascript/v2/developer-guide/creating-and-calling-service-objects.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Bonne programmation!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Flexbox illustr√©]]></title><description><![CDATA[Flex Flex est un ensemble de r√®gles pour √©tirer automatiquement plusieurs colonnes et lignes de contenu dans son conteneur parent. display‚Ä¶]]></description><link>https://ludovicwyffels.dev/css-flexbox-illustre/</link><guid isPermaLink="false">https://ludovicwyffels.dev/css-flexbox-illustre/</guid><pubDate>Thu, 12 Jul 2018 08:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;Flex&lt;/h2&gt;
&lt;p&gt;Flex est un ensemble de r√®gles pour √©tirer automatiquement plusieurs colonnes et lignes de contenu dans son conteneur parent.&lt;/p&gt;
&lt;h2&gt;display:flex&lt;/h2&gt;
&lt;p&gt;Contrairement √† de nombreuses autres propri√©t√©s CSS, vous disposez d‚Äôun conteneur principal et d‚Äô√©l√©ments imbriqu√©s dans Flex. Certaines propri√©t√©s CSS flex sont utilis√©es uniquement sur le parent. D‚Äôautres seulement sur les items.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b4d59495c2fa971c6f8803bcead03304/f5dff/15314221531955.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 24.9%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAFABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAEDBf/EABYBAQEBAAAAAAAAAAAAAAAAAAEAAv/aAAwDAQACEAMQAAAB2rCIBr//xAAWEAADAAAAAAAAAAAAAAAAAAACEDH/2gAIAQEAAQUCGL//xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAwEBPwEn/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAEP/aAAgBAQAGPwJ//8QAGRAAAQUAAAAAAAAAAAAAAAAAEQABEDFB/9oACAEBAAE/ITe2wV//2gAMAwEAAgADAAAAEIQ//8QAFxEBAAMAAAAAAAAAAAAAAAAAAAERMf/aAAgBAwEBPxDCof/EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/EKr/xAAbEAEAAgIDAAAAAAAAAAAAAAABABEhQVFxkf/aAAgBAQABPxBOW6LU6wwvz7P/2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/b4d59495c2fa971c6f8803bcead03304/14b47/15314221531955.webp 293w,
/static/b4d59495c2fa971c6f8803bcead03304/91928/15314221531955.webp 585w,
/static/b4d59495c2fa971c6f8803bcead03304/384f8/15314221531955.webp 1170w,
/static/b4d59495c2fa971c6f8803bcead03304/57557/15314221531955.webp 1755w,
/static/b4d59495c2fa971c6f8803bcead03304/56b60/15314221531955.webp 2000w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/b4d59495c2fa971c6f8803bcead03304/ec1cd/15314221531955.jpg 293w,
/static/b4d59495c2fa971c6f8803bcead03304/f2ede/15314221531955.jpg 585w,
/static/b4d59495c2fa971c6f8803bcead03304/740b7/15314221531955.jpg 1170w,
/static/b4d59495c2fa971c6f8803bcead03304/31d97/15314221531955.jpg 1755w,
/static/b4d59495c2fa971c6f8803bcead03304/f5dff/15314221531955.jpg 2000w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/b4d59495c2fa971c6f8803bcead03304/740b7/15314221531955.jpg&quot;
          alt=&quot;15314221531955&quot;
          title=&quot;15314221531955&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Vous pouvez consid√©rer un √©l√©ment flex comme un conteneur parent avec &lt;strong&gt;display: flex&lt;/strong&gt;. Les √©l√©ments plac√©s √† l‚Äôint√©rieur de ce conteneur sont appel√©s items. Chaque conteneur a un point &lt;strong&gt;flex-start&lt;/strong&gt; et &lt;strong&gt;flex-end&lt;/strong&gt; comme indiqu√© dans le diagramme ci-dessus.&lt;/p&gt;
&lt;h2&gt;Axe principal et axe crois√©&lt;/h2&gt;
&lt;p&gt;Alors que la liste des items est fournie de mani√®re lin√©aire, Flex vous oblige √† tenir compte des lignes et des colonnes. Pour cette raison, il a deux axes de coordonn√©es. L‚Äôaxe horizontal est appel√© axe principal (Main-Axis) et la verticale est l‚Äôaxe crois√© (Cross-Axis).&lt;/p&gt;
&lt;p&gt;Pour contr√¥ler le comportement de la largeur du contenu et des √©carts entre les deux, et pour lui permettre de s‚Äô√©tendre horizontalement sur l‚Äôaxe principal, vous utiliserez des propri√©t√©s de justification. Pour contr√¥ler le comportement vertical des √©l√©ments, vous utiliserez les propri√©t√©s d‚Äôalignement.&lt;/p&gt;
&lt;p&gt;Si vous avez 3 colonnes et 6 √©l√©ments, une deuxi√®me ligne sera cr√©√©e automatiquement par Flex pour accueillir les items restants.&lt;/p&gt;
&lt;p&gt;Si vous avez r√©pertori√© plus de 6 √©l√©ments, d‚Äôautres lignes seront cr√©√©es.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c17120844d0912e10a0819dd072fa464/f5dff/15314221815702.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 16.900000000000002%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAADABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAMF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAQAC/9oADAMBAAIQAxAAAAHaASFn/8QAFxABAAMAAAAAAAAAAAAAAAAAAgAxQf/aAAgBAQABBQIUZv8A/8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQMBAT8BJ//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABUQAQEAAAAAAAAAAAAAAAAAAAAB/9oACAEBAAY/AlV//8QAFxABAQEBAAAAAAAAAAAAAAAAALEBof/aAAgBAQABPyG6zej/2gAMAwEAAgADAAAAEAvv/8QAFxEBAAMAAAAAAAAAAAAAAAAAAAERMf/aAAgBAwEBPxCGKf/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABgQAAMBAQAAAAAAAAAAAAAAAAABIXGh/9oACAEBAAE/EIbRK1O4f//Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/c17120844d0912e10a0819dd072fa464/14b47/15314221815702.webp 293w,
/static/c17120844d0912e10a0819dd072fa464/91928/15314221815702.webp 585w,
/static/c17120844d0912e10a0819dd072fa464/384f8/15314221815702.webp 1170w,
/static/c17120844d0912e10a0819dd072fa464/57557/15314221815702.webp 1755w,
/static/c17120844d0912e10a0819dd072fa464/56b60/15314221815702.webp 2000w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/c17120844d0912e10a0819dd072fa464/ec1cd/15314221815702.jpg 293w,
/static/c17120844d0912e10a0819dd072fa464/f2ede/15314221815702.jpg 585w,
/static/c17120844d0912e10a0819dd072fa464/740b7/15314221815702.jpg 1170w,
/static/c17120844d0912e10a0819dd072fa464/31d97/15314221815702.jpg 1755w,
/static/c17120844d0912e10a0819dd072fa464/f5dff/15314221815702.jpg 2000w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/c17120844d0912e10a0819dd072fa464/740b7/15314221815702.jpg&quot;
          alt=&quot;15314221815702&quot;
          title=&quot;15314221815702&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Les √©l√©ments Flex sont √©galement r√©partis sur l‚Äôaxe principal. Nous allons examiner les propri√©t√©s et les valeurs pour y parvenir dans un instant.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d0cd04ceb7942d4e08690b95287aea28/f5dff/15314221922744.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 16.900000000000002%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAADABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBf/EABYBAQEBAAAAAAAAAAAAAAAAAAEAAv/aAAwDAQACEAMQAAAB2YDNBH//xAAXEAEAAwAAAAAAAAAAAAAAAAACADFB/9oACAEBAAEFAhQm/wD/xAAVEQEBAAAAAAAAAAAAAAAAAAAQUf/aAAgBAwEBPwGH/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFRABAQAAAAAAAAAAAAAAAAAAAAH/2gAIAQEABj8CVX//xAAYEAACAwAAAAAAAAAAAAAAAAAAATFxof/aAAgBAQABPyGWxw9D/9oADAMBAAIAAwAAABCL/wD/xAAXEQEAAwAAAAAAAAAAAAAAAAAAAREx/9oACAEDAQE/EI0p/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGRAAAwEBAQAAAAAAAAAAAAAAAAERIXGh/9oACAEBAAE/EM9g5undp65//9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/d0cd04ceb7942d4e08690b95287aea28/14b47/15314221922744.webp 293w,
/static/d0cd04ceb7942d4e08690b95287aea28/91928/15314221922744.webp 585w,
/static/d0cd04ceb7942d4e08690b95287aea28/384f8/15314221922744.webp 1170w,
/static/d0cd04ceb7942d4e08690b95287aea28/57557/15314221922744.webp 1755w,
/static/d0cd04ceb7942d4e08690b95287aea28/56b60/15314221922744.webp 2000w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/d0cd04ceb7942d4e08690b95287aea28/ec1cd/15314221922744.jpg 293w,
/static/d0cd04ceb7942d4e08690b95287aea28/f2ede/15314221922744.jpg 585w,
/static/d0cd04ceb7942d4e08690b95287aea28/740b7/15314221922744.jpg 1170w,
/static/d0cd04ceb7942d4e08690b95287aea28/31d97/15314221922744.jpg 1755w,
/static/d0cd04ceb7942d4e08690b95287aea28/f5dff/15314221922744.jpg 2000w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/d0cd04ceb7942d4e08690b95287aea28/740b7/15314221922744.jpg&quot;
          alt=&quot;15314221922744&quot;
          title=&quot;15314221922744&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Vous pouvez d√©terminer le nombre de colonnes.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;La fa√ßon dont les lignes et les colonnes sont distribu√©es dans l‚Äô√©l√©ment parent est d√©termin√©e par les propri√©t√©s CSS Flex &lt;strong&gt;flex-direction, flex-wrap&lt;/strong&gt; et quelques autres qui seront d√©montr√©es tout au long de cet article.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/95f776315ea3c6c759d30368cbb0787a/6a31d/15314222044035.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 36.283185840707965%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAHABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB2AUH/8QAFhAAAwAAAAAAAAAAAAAAAAAAAAIR/9oACAEBAAEFAoxGIx//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAVEAEBAAAAAAAAAAAAAAAAAAAAMf/aAAgBAQAGPwJVf//EABkQAAEFAAAAAAAAAAAAAAAAAAABMWHB8P/aAAgBAQABPyGYZsZKf//aAAwDAQACAAMAAAAQ88//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAaEAEAAQUAAAAAAAAAAAAAAAABEQAQIUFh/9oACAEBAAE/EAZCMdrAtrI//9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/95f776315ea3c6c759d30368cbb0787a/14b47/15314222044035.webp 293w,
/static/95f776315ea3c6c759d30368cbb0787a/91928/15314222044035.webp 585w,
/static/95f776315ea3c6c759d30368cbb0787a/384f8/15314222044035.webp 1170w,
/static/95f776315ea3c6c759d30368cbb0787a/a078f/15314222044035.webp 1356w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/95f776315ea3c6c759d30368cbb0787a/ec1cd/15314222044035.jpg 293w,
/static/95f776315ea3c6c759d30368cbb0787a/f2ede/15314222044035.jpg 585w,
/static/95f776315ea3c6c759d30368cbb0787a/740b7/15314222044035.jpg 1170w,
/static/95f776315ea3c6c759d30368cbb0787a/6a31d/15314222044035.jpg 1356w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/95f776315ea3c6c759d30368cbb0787a/740b7/15314222044035.jpg&quot;
          alt=&quot;15314222044035&quot;
          title=&quot;15314222044035&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Ici, nous avons un nombre n arbitraire d‚Äô√©l√©ments plac√©s dans un conteneur. Par d√©faut, les √©l√©ments s‚Äô√©tendent de gauche √† droite. Cependant, le point d‚Äôorigine peut √™tre invers√©.&lt;/p&gt;
&lt;h1&gt;Direction&lt;/h1&gt;
&lt;p&gt;Il est possible de d√©finir la direction du flex de l‚Äô√©l√©ment en l‚Äôinversant.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/573442655139a19f772ba811abb1db1a/eee88/flex-direction-row.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 20.558002936857562%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAEABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAIF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAL/2gAMAwEAAhADEAAAAdmhNhX/xAAXEAADAQAAAAAAAAAAAAAAAAAAARIQ/9oACAEBAAEFApRCz//EABYRAAMAAAAAAAAAAAAAAAAAAAEQEf/aAAgBAwEBPwGBf//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAABD/2gAIAQEABj8Cf//EABkQAAIDAQAAAAAAAAAAAAAAAAARAUFxkf/aAAgBAQABPyGHWb9Ef//aAAwDAQACAAMAAAAQh8//xAAVEQEBAAAAAAAAAAAAAAAAAAAQYf/aAAgBAwEBPxCB/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGhAAAQUBAAAAAAAAAAAAAAAAAQAQESFRYf/aAAgBAQABPxAkxrWCNcX/2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/573442655139a19f772ba811abb1db1a/14b47/flex-direction-row.webp 293w,
/static/573442655139a19f772ba811abb1db1a/91928/flex-direction-row.webp 585w,
/static/573442655139a19f772ba811abb1db1a/384f8/flex-direction-row.webp 1170w,
/static/573442655139a19f772ba811abb1db1a/e374a/flex-direction-row.webp 1362w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/573442655139a19f772ba811abb1db1a/ec1cd/flex-direction-row.jpg 293w,
/static/573442655139a19f772ba811abb1db1a/f2ede/flex-direction-row.jpg 585w,
/static/573442655139a19f772ba811abb1db1a/740b7/flex-direction-row.jpg 1170w,
/static/573442655139a19f772ba811abb1db1a/eee88/flex-direction-row.jpg 1362w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/573442655139a19f772ba811abb1db1a/740b7/flex-direction-row.jpg&quot;
          alt=&quot;flex direction row&quot;
          title=&quot;flex direction row&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/37e8739029f6c1ac8bcfcfe517daa5a6/eee88/15314222323110.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 20.558002936857562%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAEABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAEDBf/EABYBAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAAB3Ky6kH//xAAYEAEBAAMAAAAAAAAAAAAAAAABAAISE//aAAgBAQABBQJxG0LmX//EABYRAAMAAAAAAAAAAAAAAAAAAAABEf/aAAgBAwEBPwGsrP/EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/AVf/xAAVEAEBAAAAAAAAAAAAAAAAAAAQIf/aAAgBAQAGPwKv/8QAGhAAAgIDAAAAAAAAAAAAAAAAAAEhkRFBUf/aAAgBAQABPyHGyga3uxN7Z//aAAwDAQACAAMAAAAQcD//xAAXEQEBAQEAAAAAAAAAAAAAAAABABFh/9oACAEDAQE/EADBu1//xAAWEQEBAQAAAAAAAAAAAAAAAAABABH/2gAIAQIBAT8QFtX/xAAbEAACAQUAAAAAAAAAAAAAAAABEQAxQVFhgf/aAAgBAQABPxDngioOKveDmb85/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/37e8739029f6c1ac8bcfcfe517daa5a6/14b47/15314222323110.webp 293w,
/static/37e8739029f6c1ac8bcfcfe517daa5a6/91928/15314222323110.webp 585w,
/static/37e8739029f6c1ac8bcfcfe517daa5a6/384f8/15314222323110.webp 1170w,
/static/37e8739029f6c1ac8bcfcfe517daa5a6/e374a/15314222323110.webp 1362w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/37e8739029f6c1ac8bcfcfe517daa5a6/ec1cd/15314222323110.jpg 293w,
/static/37e8739029f6c1ac8bcfcfe517daa5a6/f2ede/15314222323110.jpg 585w,
/static/37e8739029f6c1ac8bcfcfe517daa5a6/740b7/15314222323110.jpg 1170w,
/static/37e8739029f6c1ac8bcfcfe517daa5a6/eee88/15314222323110.jpg 1362w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/37e8739029f6c1ac8bcfcfe517daa5a6/740b7/15314222323110.jpg&quot;
          alt=&quot;15314222323110&quot;
          title=&quot;15314222323110&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;flex-direction:row-reverse&lt;/strong&gt; change la direction du flux de la liste d‚Äô√©l√©ments. La valeur par d√©faut est row, ce qui veut dire que √ßa va de gauche √† droite, comme on s‚Äôy attendrait!&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex-direction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; row | row-reverse | column | column-reverse&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h1&gt;Wrap&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 800px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b1b4709fd9c7dd1f12ff8114e524d2f2/6f008/15314222381066.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 30.5%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAGABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAMF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAL/2gAMAwEAAhADEAAAAdkJqFf/xAAXEAEBAQEAAAAAAAAAAAAAAAABAAIR/9oACAEBAAEFAnL0zBf/xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAwEBPwGH/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFhAAAwAAAAAAAAAAAAAAAAAAABAh/9oACAEBAAY/Air/xAAXEAEBAQEAAAAAAAAAAAAAAAABEQAx/9oACAEBAAE/IVJut06BDf/aAAwDAQACAAMAAAAQgA//xAAVEQEBAAAAAAAAAAAAAAAAAAAREP/aAAgBAwEBPxAs/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGhABAAIDAQAAAAAAAAAAAAAAAQARITFBUf/aAAgBAQABPxAmEHmYIbFapSAaNHrP/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/b1b4709fd9c7dd1f12ff8114e524d2f2/14b47/15314222381066.webp 293w,
/static/b1b4709fd9c7dd1f12ff8114e524d2f2/91928/15314222381066.webp 585w,
/static/b1b4709fd9c7dd1f12ff8114e524d2f2/8d2ea/15314222381066.webp 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/b1b4709fd9c7dd1f12ff8114e524d2f2/ec1cd/15314222381066.jpg 293w,
/static/b1b4709fd9c7dd1f12ff8114e524d2f2/f2ede/15314222381066.jpg 585w,
/static/b1b4709fd9c7dd1f12ff8114e524d2f2/6f008/15314222381066.jpg 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/b1b4709fd9c7dd1f12ff8114e524d2f2/6f008/15314222381066.jpg&quot;
          alt=&quot;15314222381066&quot;
          title=&quot;15314222381066&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.container&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex-wrap&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; nowrap | wrap | wrap-reverse&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;flex-wrap:wrap&lt;/strong&gt; d√©termine comment les √©l√©ments sont encapsul√©s lorsque le conteneur parent manque d‚Äôespace.&lt;/p&gt;
&lt;h1&gt;Flow&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 800px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c66adfaa2b82cc1e86879a64fc70a6fc/6f008/15314222496092.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 17.875000000000004%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAEABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAdyAuD//xAAXEAADAQAAAAAAAAAAAAAAAAAAARAR/9oACAEBAAEFAmbP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAEP/aAAgBAQAGPwJ//8QAFxAAAwEAAAAAAAAAAAAAAAAAAAEREP/aAAgBAQABPyFoy8//2gAMAwEAAgADAAAAEHPP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGhABAAEFAAAAAAAAAAAAAAAAAQARITFRYf/aAAgBAQABPxCrgG5wIXMz/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/c66adfaa2b82cc1e86879a64fc70a6fc/14b47/15314222496092.webp 293w,
/static/c66adfaa2b82cc1e86879a64fc70a6fc/91928/15314222496092.webp 585w,
/static/c66adfaa2b82cc1e86879a64fc70a6fc/8d2ea/15314222496092.webp 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/c66adfaa2b82cc1e86879a64fc70a6fc/ec1cd/15314222496092.jpg 293w,
/static/c66adfaa2b82cc1e86879a64fc70a6fc/f2ede/15314222496092.jpg 585w,
/static/c66adfaa2b82cc1e86879a64fc70a6fc/6f008/15314222496092.jpg 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/c66adfaa2b82cc1e86879a64fc70a6fc/6f008/15314222496092.jpg&quot;
          alt=&quot;15314222496092&quot;
          title=&quot;15314222496092&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token property&quot;&gt;flex-flow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &amp;lt;‚Äòflex-direction‚Äô&gt; || &amp;lt;‚Äòflex-wrap‚Äô&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;flex-flow&lt;/strong&gt; est un raccourci pour &lt;strong&gt;flex-direction&lt;/strong&gt; et &lt;strong&gt;flex-wrap&lt;/strong&gt;, vous permettant de sp√©cifier les deux en utilisant un seul nom de propri√©t√©.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 800px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c7152a293cded3f8ae9dd6451202403a/6f008/15314222567787.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 17.875000000000004%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAEABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAC/9oADAMBAAIQAxAAAAHdgTYK/8QAFhABAQEAAAAAAAAAAAAAAAAAABEB/9oACAEBAAEFAoxH/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAEP/aAAgBAQAGPwJ//8QAGRAAAgMBAAAAAAAAAAAAAAAAAAERQXGR/9oACAEBAAE/IdsSbfTTP//aAAwDAQACAAMAAAAQd8//xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAwEBPxAn/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGhABAAMAAwAAAAAAAAAAAAAAAQARMSFR0f/aAAgBAQABPxBJaHfOzA4dpQ9J/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/c7152a293cded3f8ae9dd6451202403a/14b47/15314222567787.webp 293w,
/static/c7152a293cded3f8ae9dd6451202403a/91928/15314222567787.webp 585w,
/static/c7152a293cded3f8ae9dd6451202403a/8d2ea/15314222567787.webp 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/c7152a293cded3f8ae9dd6451202403a/ec1cd/15314222567787.jpg 293w,
/static/c7152a293cded3f8ae9dd6451202403a/f2ede/15314222567787.jpg 585w,
/static/c7152a293cded3f8ae9dd6451202403a/6f008/15314222567787.jpg 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/c7152a293cded3f8ae9dd6451202403a/6f008/15314222567787.jpg&quot;
          alt=&quot;15314222567787&quot;
          title=&quot;15314222567787&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex-flow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; row wrap
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;flex-flow:row wrap&lt;/strong&gt; d√©termine &lt;strong&gt;flex-direction&lt;/strong&gt; √† √™tre &lt;strong&gt;row&lt;/strong&gt; et &lt;strong&gt;flex-wrap&lt;/strong&gt; √† √™tre &lt;strong&gt;wrap&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 800px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d708e38aa106423663f9765cea278611/6f008/15314222854358.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 17.750000000000004%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAEABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAIF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAHcDNBf/8QAFRABAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQEAAQUCj//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAABD/2gAIAQEABj8Cf//EABkQAQADAQEAAAAAAAAAAAAAAAEAETEhYf/aAAgBAQABPyFqcWG6yvWf/9oADAMBAAIAAwAAABBz3//EABURAQEAAAAAAAAAAAAAAAAAAAAB/9oACAEDAQE/EEf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAaEAACAgMAAAAAAAAAAAAAAAAAARExUaHx/9oACAEBAAE/EFTW8itw3C7j/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/d708e38aa106423663f9765cea278611/14b47/15314222854358.webp 293w,
/static/d708e38aa106423663f9765cea278611/91928/15314222854358.webp 585w,
/static/d708e38aa106423663f9765cea278611/8d2ea/15314222854358.webp 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/d708e38aa106423663f9765cea278611/ec1cd/15314222854358.jpg 293w,
/static/d708e38aa106423663f9765cea278611/f2ede/15314222854358.jpg 585w,
/static/d708e38aa106423663f9765cea278611/6f008/15314222854358.jpg 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/d708e38aa106423663f9765cea278611/6f008/15314222854358.jpg&quot;
          alt=&quot;15314222854358&quot;
          title=&quot;15314222854358&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex-flow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; row wrap-reverse
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 800px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/63fef6976539d1807bb0cb448f0c1548/6f008/15314222935771.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 21.375000000000004%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAEABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAIDBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHdiJYF/8QAFxAAAwEAAAAAAAAAAAAAAAAAAAEQEf/aAAgBAQABBQLBT//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAABD/2gAIAQEABj8Cf//EABcQAQEBAQAAAAAAAAAAAAAAAAEAIRH/2gAIAQEAAT8hRrbYOX//2gAMAwEAAgADAAAAEPQP/8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQMBAT8Qh//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABoQAQADAAMAAAAAAAAAAAAAAAEAETEhYZH/2gAIAQEAAT8QIclvcwK5esEUX7P/2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/63fef6976539d1807bb0cb448f0c1548/14b47/15314222935771.webp 293w,
/static/63fef6976539d1807bb0cb448f0c1548/91928/15314222935771.webp 585w,
/static/63fef6976539d1807bb0cb448f0c1548/8d2ea/15314222935771.webp 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/63fef6976539d1807bb0cb448f0c1548/ec1cd/15314222935771.jpg 293w,
/static/63fef6976539d1807bb0cb448f0c1548/f2ede/15314222935771.jpg 585w,
/static/63fef6976539d1807bb0cb448f0c1548/6f008/15314222935771.jpg 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/63fef6976539d1807bb0cb448f0c1548/6f008/15314222935771.jpg&quot;
          alt=&quot;15314222935771&quot;
          title=&quot;15314222935771&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex-flow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;row wrap&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; 
  &lt;span class=&quot;token property&quot;&gt;justify-content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; space-between&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 800px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ad520689bd871a162d266c8dd99477ad/6f008/15314222996390.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 19.125%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAEABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAIF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAdwJYX//xAAWEAADAAAAAAAAAAAAAAAAAAAAARD/2gAIAQEAAQUCFP/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAABD/2gAIAQEABj8Cf//EABcQAQEBAQAAAAAAAAAAAAAAAAERABD/2gAIAQEAAT8hSC14N//aAAwDAQACAAMAAAAQc8//xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAwEBPxAn/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGRABAQEBAQEAAAAAAAAAAAAAAREAMYGR/9oACAEBAAE/EJhTvdSgr9whK+7/2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/ad520689bd871a162d266c8dd99477ad/14b47/15314222996390.webp 293w,
/static/ad520689bd871a162d266c8dd99477ad/91928/15314222996390.webp 585w,
/static/ad520689bd871a162d266c8dd99477ad/8d2ea/15314222996390.webp 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/ad520689bd871a162d266c8dd99477ad/ec1cd/15314222996390.jpg 293w,
/static/ad520689bd871a162d266c8dd99477ad/f2ede/15314222996390.jpg 585w,
/static/ad520689bd871a162d266c8dd99477ad/6f008/15314222996390.jpg 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/ad520689bd871a162d266c8dd99477ad/6f008/15314222996390.jpg&quot;
          alt=&quot;15314222996390&quot;
          title=&quot;15314222996390&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex-flow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;row-reverse wrap&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0c3ec2a57bcdfb822b761d50bdba1468/25c02/15314223071439.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 19.166666666666664%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAEABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAEDBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAC/9oADAMBAAIQAxAAAAHcgTYFf//EABUQAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAEBAAEFAm//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAY/An//xAAZEAEAAwEBAAAAAAAAAAAAAAABABExIUH/2gAIAQEAAT8hFdua6wK9Z//aAAwDAQACAAMAAAAQhA//xAAWEQEBAQAAAAAAAAAAAAAAAAAAATH/2gAIAQMBAT8QTH//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAZEAEBAQADAAAAAAAAAAAAAAABEQAhUXH/2gAIAQEAAT8QjQquKI83TopT13//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/0c3ec2a57bcdfb822b761d50bdba1468/14b47/15314223071439.webp 293w,
/static/0c3ec2a57bcdfb822b761d50bdba1468/91928/15314223071439.webp 585w,
/static/0c3ec2a57bcdfb822b761d50bdba1468/384f8/15314223071439.webp 1170w,
/static/0c3ec2a57bcdfb822b761d50bdba1468/68fc1/15314223071439.webp 1200w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/0c3ec2a57bcdfb822b761d50bdba1468/ec1cd/15314223071439.jpg 293w,
/static/0c3ec2a57bcdfb822b761d50bdba1468/f2ede/15314223071439.jpg 585w,
/static/0c3ec2a57bcdfb822b761d50bdba1468/740b7/15314223071439.jpg 1170w,
/static/0c3ec2a57bcdfb822b761d50bdba1468/25c02/15314223071439.jpg 1200w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/0c3ec2a57bcdfb822b761d50bdba1468/740b7/15314223071439.jpg&quot;
          alt=&quot;15314223071439&quot;
          title=&quot;15314223071439&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex-flow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;row-reverse wrap-reverse&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 800px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b3300747e092aa4f9dca04ff13881090/6f008/15314223197263.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 22.499999999999996%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAFABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAd2AsD//xAAXEAEAAwAAAAAAAAAAAAAAAAAAAREx/9oACAEBAAEFAsQp/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAEP/aAAgBAQAGPwJ//8QAFxABAAMAAAAAAAAAAAAAAAAAAQAQIf/aAAgBAQABPyFALFtP/9oADAMBAAIAAwAAABCDz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABsQAQACAgMAAAAAAAAAAAAAAAEAIRFBYXGR/9oACAEBAAE/EAAX3M5LvlgDb7P/2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/b3300747e092aa4f9dca04ff13881090/14b47/15314223197263.webp 293w,
/static/b3300747e092aa4f9dca04ff13881090/91928/15314223197263.webp 585w,
/static/b3300747e092aa4f9dca04ff13881090/8d2ea/15314223197263.webp 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/b3300747e092aa4f9dca04ff13881090/ec1cd/15314223197263.jpg 293w,
/static/b3300747e092aa4f9dca04ff13881090/f2ede/15314223197263.jpg 585w,
/static/b3300747e092aa4f9dca04ff13881090/6f008/15314223197263.jpg 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/b3300747e092aa4f9dca04ff13881090/6f008/15314223197263.jpg&quot;
          alt=&quot;15314223197263&quot;
          title=&quot;15314223197263&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex-flow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;row wrap&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; 
  &lt;span class=&quot;token property&quot;&gt;justify-content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; space-between&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/caf974c0df29c381fc0a6a59c9cf21cb/b7efe/15314815802685.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 63.1875%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHXm1VXAA//xAAcEAABAwUAAAAAAAAAAAAAAAABAAIxAxAREjL/2gAIAQEAAQUCfLn62wCqvQj/xAAYEQACAwAAAAAAAAAAAAAAAAACAxAhIv/aAAgBAwEBPwFY6uP/xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAgEBPwEn/8QAFhAAAwAAAAAAAAAAAAAAAAAAACAx/9oACAEBAAY/AiL/AP/EABoQAQEAAwEBAAAAAAAAAAAAAAEAESExcZH/2gAIAQEAAT8hb8wIHPUclmzMNPLhf//aAAwDAQACAAMAAAAQMA//xAAWEQEBAQAAAAAAAAAAAAAAAAABEEH/2gAIAQMBAT8QBWJ//8QAFhEBAQEAAAAAAAAAAAAAAAAAARAh/9oACAECAQE/ECLs/8QAGxABAAICAwAAAAAAAAAAAAAAAQARIWExQaH/2gAIAQEAAT8QJipoxQDQ3iMShVkuBrctqrj1PAT/2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/caf974c0df29c381fc0a6a59c9cf21cb/14b47/15314815802685.webp 293w,
/static/caf974c0df29c381fc0a6a59c9cf21cb/91928/15314815802685.webp 585w,
/static/caf974c0df29c381fc0a6a59c9cf21cb/384f8/15314815802685.webp 1170w,
/static/caf974c0df29c381fc0a6a59c9cf21cb/43d96/15314815802685.webp 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/caf974c0df29c381fc0a6a59c9cf21cb/ec1cd/15314815802685.jpg 293w,
/static/caf974c0df29c381fc0a6a59c9cf21cb/f2ede/15314815802685.jpg 585w,
/static/caf974c0df29c381fc0a6a59c9cf21cb/740b7/15314815802685.jpg 1170w,
/static/caf974c0df29c381fc0a6a59c9cf21cb/b7efe/15314815802685.jpg 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/caf974c0df29c381fc0a6a59c9cf21cb/740b7/15314815802685.jpg&quot;
          alt=&quot;15314815802685&quot;
          title=&quot;15314815802685&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex-direction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; column&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex-direction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; column-reverse&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lorsque nous changeons la direction du flex en colonne, la propri√©t√© &lt;strong&gt;flex-flow&lt;/strong&gt; se comporte exactement de la m√™me mani√®re que dans les exemples pr√©c√©dents. Sauf cette fois, ils suivent la direction verticale d‚Äôune colonne.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b42368a719fa2e5da2f4406e739d4295/25c02/15314223335135.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 30.5%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAGABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAMF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAgP/2gAMAwEAAhADEAAAAdcKlwZ//8QAGBAAAwEBAAAAAAAAAAAAAAAAAAECERL/2gAIAQEAAQUCcPpTSFp//8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQMBAT8Bp//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABcQAAMBAAAAAAAAAAAAAAAAAAABESH/2gAIAQEABj8CtMaNP//EABkQAQACAwAAAAAAAAAAAAAAAAEAESFhsf/aAAgBAQABPyFiEdgQUyL1P//aAAwDAQACAAMAAAAQgB//xAAXEQADAQAAAAAAAAAAAAAAAAAAAREx/9oACAEDAQE/ELkHp//EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAgEBPxDar//EABoQAQEAAgMAAAAAAAAAAAAAAAERAEEhMVH/2gAIAQEAAT8QPYD0V8w+VbhcIaNo4z//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/b42368a719fa2e5da2f4406e739d4295/14b47/15314223335135.webp 293w,
/static/b42368a719fa2e5da2f4406e739d4295/91928/15314223335135.webp 585w,
/static/b42368a719fa2e5da2f4406e739d4295/384f8/15314223335135.webp 1170w,
/static/b42368a719fa2e5da2f4406e739d4295/68fc1/15314223335135.webp 1200w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/b42368a719fa2e5da2f4406e739d4295/ec1cd/15314223335135.jpg 293w,
/static/b42368a719fa2e5da2f4406e739d4295/f2ede/15314223335135.jpg 585w,
/static/b42368a719fa2e5da2f4406e739d4295/740b7/15314223335135.jpg 1170w,
/static/b42368a719fa2e5da2f4406e739d4295/25c02/15314223335135.jpg 1200w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/b42368a719fa2e5da2f4406e739d4295/740b7/15314223335135.jpg&quot;
          alt=&quot;15314223335135&quot;
          title=&quot;15314223335135&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex-wrap&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; wrap-reverse
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h1&gt;justify-content&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 800px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/91dac269a61c455e2310fc7d8a840a07/6f008/15314223514996.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 69.75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAECAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB3U4pYIX/xAAXEAADAQAAAAAAAAAAAAAAAAAAARAR/9oACAEBAAEFAqzJ/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGRABAQEBAQEAAAAAAAAAAAAAAQARIUFx/9oACAEBAAE/IX7akPIbafYOX//aAAwDAQACAAMAAAAQoM//xAAWEQADAAAAAAAAAAAAAAAAAAABEBH/2gAIAQMBAT8QNX//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAbEAEAAgMBAQAAAAAAAAAAAAABABEhMUFhkf/aAAgBAQABPxBo1Y9qCMAPV7Lgu/kUOaI4jlyCA3U//9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/91dac269a61c455e2310fc7d8a840a07/14b47/15314223514996.webp 293w,
/static/91dac269a61c455e2310fc7d8a840a07/91928/15314223514996.webp 585w,
/static/91dac269a61c455e2310fc7d8a840a07/8d2ea/15314223514996.webp 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/91dac269a61c455e2310fc7d8a840a07/ec1cd/15314223514996.jpg 293w,
/static/91dac269a61c455e2310fc7d8a840a07/f2ede/15314223514996.jpg 585w,
/static/91dac269a61c455e2310fc7d8a840a07/6f008/15314223514996.jpg 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/91dac269a61c455e2310fc7d8a840a07/6f008/15314223514996.jpg&quot;
          alt=&quot;15314223514996&quot;
          title=&quot;15314223514996&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex-direction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;row&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;justify-content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; flex-start | flex-end | center | space-between | space-around | space-evenly&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Dans cet exemple, nous n‚Äôutilisons que 3 √©l√©ments par ligne. Il n‚Äôy a aucune limite sur le nombre d‚Äôarticles que vous souhaitez utiliser en flex. Ces diagrammes montrent uniquement le comportement des √©l√©ments lorsque l‚Äôune des valeurs r√©pertori√©es est appliqu√©e √† la propri√©t√© &lt;strong&gt;justify-content&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 800px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0b38edf9a16a4b7a92d8d37f29dfa83d/6f008/15314223629978.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 69.75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAECAwX/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAQL/2gAMAwEAAhADEAAAAe3OiZZQv//EABkQAQACAwAAAAAAAAAAAAAAABEAARAhMf/aAAgBAQABBQJjquEMf//EABURAQEAAAAAAAAAAAAAAAAAABAh/9oACAEDAQE/Aaf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAZEAEBAQEBAQAAAAAAAAAAAAABEQAhMaH/2gAIAQEAAT8he097rOH5mtOabmyK6b//2gAMAwEAAgADAAAAEHMf/8QAFREBAQAAAAAAAAAAAAAAAAAAAQD/2gAIAQMBAT8QSF//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAbEAEBAQACAwAAAAAAAAAAAAABEQAhYUGR0f/aAAgBAQABPxBKDwHRlZN4tep9xpK1w1esKJXi3ADf/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/0b38edf9a16a4b7a92d8d37f29dfa83d/14b47/15314223629978.webp 293w,
/static/0b38edf9a16a4b7a92d8d37f29dfa83d/91928/15314223629978.webp 585w,
/static/0b38edf9a16a4b7a92d8d37f29dfa83d/8d2ea/15314223629978.webp 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/0b38edf9a16a4b7a92d8d37f29dfa83d/ec1cd/15314223629978.jpg 293w,
/static/0b38edf9a16a4b7a92d8d37f29dfa83d/f2ede/15314223629978.jpg 585w,
/static/0b38edf9a16a4b7a92d8d37f29dfa83d/6f008/15314223629978.jpg 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/0b38edf9a16a4b7a92d8d37f29dfa83d/6f008/15314223629978.jpg&quot;
          alt=&quot;15314223629978&quot;
          title=&quot;15314223629978&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex-direction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;column&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;justify-content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; flex-start | flex-end | center | space-between | space-around | space-evenly&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;la m√™me propi√©t√© &lt;strong&gt;justify-content&lt;/strong&gt; est utilis√©e pour aligner les √©l√©ments lorsque &lt;strong&gt;flex-direction&lt;/strong&gt; est en colonne.&lt;/p&gt;
&lt;h1&gt;Packing flex lines (selon la sp√©cification Flex)&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/07e3bc026d912fed15180086928ffceb/b7efe/15314236292664.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 69.75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAECBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHemkjGH//EABgQAAIDAAAAAAAAAAAAAAAAAAABEBEx/9oACAEBAAEFAoWFCP/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABgQAQEBAQEAAAAAAAAAAAAAAAEAEUFh/9oACAEBAAE/IXRXmQ9JqVk1vTDDL//aAAwDAQACAAMAAAAQMB//xAAXEQADAQAAAAAAAAAAAAAAAAAAAREx/9oACAEDAQE/EIxYf//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABkQAQEBAQEBAAAAAAAAAAAAAAERACExUf/aAAgBAQABPxBIHnwe5Ao9PEcgFU05sjc09E+YTHZv/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/07e3bc026d912fed15180086928ffceb/14b47/15314236292664.webp 293w,
/static/07e3bc026d912fed15180086928ffceb/91928/15314236292664.webp 585w,
/static/07e3bc026d912fed15180086928ffceb/384f8/15314236292664.webp 1170w,
/static/07e3bc026d912fed15180086928ffceb/43d96/15314236292664.webp 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/07e3bc026d912fed15180086928ffceb/ec1cd/15314236292664.jpg 293w,
/static/07e3bc026d912fed15180086928ffceb/f2ede/15314236292664.jpg 585w,
/static/07e3bc026d912fed15180086928ffceb/740b7/15314236292664.jpg 1170w,
/static/07e3bc026d912fed15180086928ffceb/b7efe/15314236292664.jpg 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/07e3bc026d912fed15180086928ffceb/740b7/15314236292664.jpg&quot;
          alt=&quot;15314236292664&quot;
          title=&quot;15314236292664&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex-direction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; row&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;align-content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; flex-start | flex-end | center | baseline | stretch&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;La sp√©cification Flex se r√©f√®re √† ceci comme ‚Äù&lt;strong&gt;packing flex lines&lt;/strong&gt;‚Äù. Fondamentalement, cela fonctionne exactement comme les exemples que nous avons vu dans les images pr√©c√©dentes. Sauf cette fois, notez que l‚Äôespacement est entre les ensembles entiers d‚Äôarticles. Ceci est utile lorsque vous souhaitez cr√©er des vides autour d‚Äôun lot de plusieurs √©l√©ments.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/982add1c5d9ecef3a8a1d57b0742ca49/b7efe/15314236681469.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 69.75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAECAwX/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAQL/2gAMAwEAAhADEAAAAe5GiZoYv//EABkQAAMAAwAAAAAAAAAAAAAAAAABERASMf/aAAgBAQABBQJsouQ1x//EABURAQEAAAAAAAAAAAAAAAAAABAh/9oACAEDAQE/Aaf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAWEAEBAQAAAAAAAAAAAAAAAAABABH/2gAIAQEAAT8hYW0T0LO2xBhl/9oADAMBAAIAAwAAABBwH//EABYRAQEBAAAAAAAAAAAAAAAAAAEAMf/aAAgBAwEBPxBIZf/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABoQAQADAAMAAAAAAAAAAAAAAAEAITERQcH/2gAIAQEAAT8QCBqvYKp6iahITK7xLNYZjCf/2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/982add1c5d9ecef3a8a1d57b0742ca49/14b47/15314236681469.webp 293w,
/static/982add1c5d9ecef3a8a1d57b0742ca49/91928/15314236681469.webp 585w,
/static/982add1c5d9ecef3a8a1d57b0742ca49/384f8/15314236681469.webp 1170w,
/static/982add1c5d9ecef3a8a1d57b0742ca49/43d96/15314236681469.webp 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/982add1c5d9ecef3a8a1d57b0742ca49/ec1cd/15314236681469.jpg 293w,
/static/982add1c5d9ecef3a8a1d57b0742ca49/f2ede/15314236681469.jpg 585w,
/static/982add1c5d9ecef3a8a1d57b0742ca49/740b7/15314236681469.jpg 1170w,
/static/982add1c5d9ecef3a8a1d57b0742ca49/b7efe/15314236681469.jpg 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/982add1c5d9ecef3a8a1d57b0742ca49/740b7/15314236681469.jpg&quot;
          alt=&quot;15314236681469&quot;
          title=&quot;15314236681469&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex-direction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; column&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;align-content&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; flex-start | flex-end | center | baseline | stretch&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;Packing Flex Lines (suite.) Mais maintenant avec flex-direction: column.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;align-items&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f1f164a73d67c8557249c5edb416e0e1/b7efe/15314237212173.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 94.5625%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAATABQDASIAAhEBAxEB/8QAGQABAQEAAwAAAAAAAAAAAAAAAAECAwQF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAAID/9oADAMBAAIQAxAAAAH3M3jZ9hDSQTsK/8QAGRAAAwADAAAAAAAAAAAAAAAAAQIQABIx/9oACAEBAAEFAmrQcIzUT//EABYRAAMAAAAAAAAAAAAAAAAAAAEgMf/aAAgBAwEBPwE1P//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABsQAAEEAwAAAAAAAAAAAAAAAAAQESAxMkFC/9oACAEBAAY/AtnSU5jH/8QAGxAAAwACAwAAAAAAAAAAAAAAAAExEUEhkeH/2gAIAQEAAT8hy10FAoahyYCnRYPRQ//aAAwDAQACAAMAAAAQFMd8/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAEREP/aAAgBAwEBPxBoERXP/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPxAf/8QAHBAAAgMAAwEAAAAAAAAAAAAAAREAITFBUZHR/9oACAEBAAE/EEAb3r7GRhuZnuc7BJoesdSoTemdBVnUA0PpEQUfUBABgn//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/f1f164a73d67c8557249c5edb416e0e1/14b47/15314237212173.webp 293w,
/static/f1f164a73d67c8557249c5edb416e0e1/91928/15314237212173.webp 585w,
/static/f1f164a73d67c8557249c5edb416e0e1/384f8/15314237212173.webp 1170w,
/static/f1f164a73d67c8557249c5edb416e0e1/43d96/15314237212173.webp 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/f1f164a73d67c8557249c5edb416e0e1/ec1cd/15314237212173.jpg 293w,
/static/f1f164a73d67c8557249c5edb416e0e1/f2ede/15314237212173.jpg 585w,
/static/f1f164a73d67c8557249c5edb416e0e1/740b7/15314237212173.jpg 1170w,
/static/f1f164a73d67c8557249c5edb416e0e1/b7efe/15314237212173.jpg 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/f1f164a73d67c8557249c5edb416e0e1/740b7/15314237212173.jpg&quot;
          alt=&quot;15314237212173&quot;
          title=&quot;15314237212173&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.container&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;align-items&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; flex-start | flex-end | center | baseline | stretch&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;align-items contr√¥le l‚Äôalignement des √©l√©ments horizontalement par rapport au conteneur parent&lt;/p&gt;
&lt;h1&gt;flex-basis&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/445f37e19ff507683b9213055f9de07b/b7efe/15314224014856.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 17.125%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAADABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAIDBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAC/9oADAMBAAIQAxAAAAHaiIvC/wD/xAAXEAADAQAAAAAAAAAAAAAAAAAAAQIh/9oACAEBAAEFArE9P//EABURAQEAAAAAAAAAAAAAAAAAABBB/9oACAEDAQE/Aaf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAY/An//xAAZEAABBQAAAAAAAAAAAAAAAAABABARITH/2gAIAQEAAT8h0Eakt//aAAwDAQACAAMAAAAQ98//xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAwEBPxBY/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAFxABAAMAAAAAAAAAAAAAAAAAAQARMf/aAAgBAQABPxBpTFjC6yGT/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/445f37e19ff507683b9213055f9de07b/14b47/15314224014856.webp 293w,
/static/445f37e19ff507683b9213055f9de07b/91928/15314224014856.webp 585w,
/static/445f37e19ff507683b9213055f9de07b/384f8/15314224014856.webp 1170w,
/static/445f37e19ff507683b9213055f9de07b/43d96/15314224014856.webp 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/445f37e19ff507683b9213055f9de07b/ec1cd/15314224014856.jpg 293w,
/static/445f37e19ff507683b9213055f9de07b/f2ede/15314224014856.jpg 585w,
/static/445f37e19ff507683b9213055f9de07b/740b7/15314224014856.jpg 1170w,
/static/445f37e19ff507683b9213055f9de07b/b7efe/15314224014856.jpg 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/445f37e19ff507683b9213055f9de07b/740b7/15314224014856.jpg&quot;
          alt=&quot;15314224014856&quot;
          title=&quot;15314224014856&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.item&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex-basis&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &amp;lt;length&gt; | auto&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;/* default auto */&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;flex-basis&lt;/strong&gt; fonctionne de mani√®re similaire √† une autre propri√©t√© CSS: min-width outside of flex. Il va augmenter la taille d‚Äôun objet en fonction du contenu interne. Sinon, la valeur de base par d√©faut sera utilis√©e.&lt;/p&gt;
&lt;h1&gt;flex-grow&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 800px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7ae5235ba63ec3ae8e79b26298d0f3ba/6f008/15314224076177.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 36%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAHABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAdyCAf/EABYQAQEBAAAAAAAAAAAAAAAAAAAhIv/aAAgBAQABBQKq0//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/AUf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAY/An//xAAZEAADAAMAAAAAAAAAAAAAAAAAEVFBobH/2gAIAQEAAT8hV7Fj0VH/2gAMAwEAAgADAAAAEAQP/8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQMBAT8Qg//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABgQAAMBAQAAAAAAAAAAAAAAAAABIUGh/9oACAEBAAE/EFswk6Dy6P/Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/7ae5235ba63ec3ae8e79b26298d0f3ba/14b47/15314224076177.webp 293w,
/static/7ae5235ba63ec3ae8e79b26298d0f3ba/91928/15314224076177.webp 585w,
/static/7ae5235ba63ec3ae8e79b26298d0f3ba/8d2ea/15314224076177.webp 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/7ae5235ba63ec3ae8e79b26298d0f3ba/ec1cd/15314224076177.jpg 293w,
/static/7ae5235ba63ec3ae8e79b26298d0f3ba/f2ede/15314224076177.jpg 585w,
/static/7ae5235ba63ec3ae8e79b26298d0f3ba/6f008/15314224076177.jpg 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/7ae5235ba63ec3ae8e79b26298d0f3ba/6f008/15314224076177.jpg&quot;
          alt=&quot;15314224076177&quot;
          title=&quot;15314224076177&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.item&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; none | [ &amp;lt;&lt;span class=&quot;token string&quot;&gt;&apos;flex-grow&apos;&lt;/span&gt;&gt; &amp;lt;&lt;span class=&quot;token string&quot;&gt;&apos;flex-shrink&apos;&lt;/span&gt;&gt;? || &amp;lt;&lt;span class=&quot;token string&quot;&gt;&apos;flex-basis&apos;&lt;/span&gt;&gt; ]
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;flex-grow&lt;/strong&gt;, lorsqu‚Äôil est appliqu√© √† un √©l√©ment, il est mis √† l‚Äô√©chelle par rapport √† la somme de la taille de tous les autres √©l√©ments de la m√™me ligne, qui sont automatiquement ajust√©s en fonction de la valeur sp√©cifi√©e. Dans chaque exemple, la valeur flex-grow de l‚Äô√©l√©ment a √©t√© d√©finie sur 1, 7 et (3 et 5) dans le dernier exemple.&lt;/p&gt;
&lt;h1&gt;flex-shrink&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/26ad07529d3ea3e098238399b5d57e31/f39ea/15314223926451.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 14.551607445008461%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAADABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAdwJQf/EABYQAAMAAAAAAAAAAAAAAAAAAAABEf/aAAgBAQABBQKIiIj/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAWEAADAAAAAAAAAAAAAAAAAAAAEDH/2gAIAQEABj8CUP/EABgQAAMBAQAAAAAAAAAAAAAAAAABYREx/9oACAEBAAE/IXtxEESH/9oADAMBAAIAAwAAABAH3//EABYRAAMAAAAAAAAAAAAAAAAAAAABEf/aAAgBAwEBPxCIiP/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABoQAAICAwAAAAAAAAAAAAAAAAABETFRwfH/2gAIAQEAAT8QQiqsHKFHoP/Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/26ad07529d3ea3e098238399b5d57e31/14b47/15314223926451.webp 293w,
/static/26ad07529d3ea3e098238399b5d57e31/91928/15314223926451.webp 585w,
/static/26ad07529d3ea3e098238399b5d57e31/384f8/15314223926451.webp 1170w,
/static/26ad07529d3ea3e098238399b5d57e31/57557/15314223926451.webp 1755w,
/static/26ad07529d3ea3e098238399b5d57e31/e07bc/15314223926451.webp 1773w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/26ad07529d3ea3e098238399b5d57e31/ec1cd/15314223926451.jpg 293w,
/static/26ad07529d3ea3e098238399b5d57e31/f2ede/15314223926451.jpg 585w,
/static/26ad07529d3ea3e098238399b5d57e31/740b7/15314223926451.jpg 1170w,
/static/26ad07529d3ea3e098238399b5d57e31/31d97/15314223926451.jpg 1755w,
/static/26ad07529d3ea3e098238399b5d57e31/f39ea/15314223926451.jpg 1773w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/26ad07529d3ea3e098238399b5d57e31/740b7/15314223926451.jpg&quot;
          alt=&quot;15314223926451&quot;
          title=&quot;15314223926451&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.item&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;flex-shrink&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &amp;lt;number&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;/* default 1 */&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;flex-shrink est le contraire de flex-grow. Dans cet exemple, une valeur de 7 a √©t√© utilis√©e pour ‚Äúr√©duire‚Äù l‚Äô√©l√©ment s√©lectionn√© dans la quantit√© √©gale √† 1/7 de la taille de ses √©l√©ments environnants - qui seront √©galement ajust√©s automatiquement.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/47c3acb7a1f9204cb6634279b23065c8/2f0b0/15314239254436.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 12.605042016806722%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAADABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB3QUH/8QAFBABAAAAAAAAAAAAAAAAAAAAEP/aAAgBAQABBQJ//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAEP/aAAgBAQAGPwJ//8QAFBABAAAAAAAAAAAAAAAAAAAAEP/aAAgBAQABPyF//9oADAMBAAIAAwAAABDwD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABgQAAIDAAAAAAAAAAAAAAAAAAABIUGB/9oACAEBAAE/ELZonB//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/47c3acb7a1f9204cb6634279b23065c8/14b47/15314239254436.webp 293w,
/static/47c3acb7a1f9204cb6634279b23065c8/91928/15314239254436.webp 585w,
/static/47c3acb7a1f9204cb6634279b23065c8/384f8/15314239254436.webp 1170w,
/static/47c3acb7a1f9204cb6634279b23065c8/57557/15314239254436.webp 1755w,
/static/47c3acb7a1f9204cb6634279b23065c8/d6905/15314239254436.webp 1785w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/47c3acb7a1f9204cb6634279b23065c8/ec1cd/15314239254436.jpg 293w,
/static/47c3acb7a1f9204cb6634279b23065c8/f2ede/15314239254436.jpg 585w,
/static/47c3acb7a1f9204cb6634279b23065c8/740b7/15314239254436.jpg 1170w,
/static/47c3acb7a1f9204cb6634279b23065c8/31d97/15314239254436.jpg 1755w,
/static/47c3acb7a1f9204cb6634279b23065c8/2f0b0/15314239254436.jpg 1785w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/47c3acb7a1f9204cb6634279b23065c8/740b7/15314239254436.jpg&quot;
          alt=&quot;15314239254436&quot;
          title=&quot;15314239254436&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Lorsque vous traitez des √©l√©ments individuels, vous pouvez utiliser la propri√©t√© flex comme raccourci pour &lt;strong&gt;flex-grow&lt;/strong&gt;, &lt;strong&gt;flex-shrink&lt;/strong&gt; et &lt;strong&gt;flex-basis&lt;/strong&gt; en utilisant un seul nom de propi√©t√©.&lt;/p&gt;
&lt;h1&gt;order&lt;/h1&gt;
&lt;p&gt;En utilisant la propri√©t√© order, il est possible de r√©organiser l‚Äôordre naturel des objets.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 800px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b8d23ff6b558a36b500a7d2512827e38/6f008/15314224155902.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 95.375%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAATABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAECAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAABAP/aAAwDAQACEAMQAAAB9yWBsNnIPQN//8QAFhABAQEAAAAAAAAAAAAAAAAAARAx/9oACAEBAAEFAmGMMYZ//8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAFxAAAwEAAAAAAAAAAAAAAAAAABBBIP/aAAgBAQAGPwIqpc//xAAdEAACAgEFAAAAAAAAAAAAAAAAMRCBcQERIVHB/9oACAEBAAE/IW1ccljeI5rGNub7FH//2gAMAwEAAgADAAAAEBAfAP/EABgRAAIDAAAAAAAAAAAAAAAAAAABECEx/9oACAEDAQE/EGLB3H//xAAXEQEBAQEAAAAAAAAAAAAAAAABECEx/9oACAECAQE/EDsAHJ//xAAdEAACAgIDAQAAAAAAAAAAAAAAASExEUFhgeFx/9oACAEBAAE/EESdPhCSThWKvQWTz8sZy6SdFHoJPox2dtjlds//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/b8d23ff6b558a36b500a7d2512827e38/14b47/15314224155902.webp 293w,
/static/b8d23ff6b558a36b500a7d2512827e38/91928/15314224155902.webp 585w,
/static/b8d23ff6b558a36b500a7d2512827e38/8d2ea/15314224155902.webp 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/b8d23ff6b558a36b500a7d2512827e38/ec1cd/15314224155902.jpg 293w,
/static/b8d23ff6b558a36b500a7d2512827e38/f2ede/15314224155902.jpg 585w,
/static/b8d23ff6b558a36b500a7d2512827e38/6f008/15314224155902.jpg 800w&quot;
          sizes=&quot;(max-width: 800px) 100vw, 800px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/b8d23ff6b558a36b500a7d2512827e38/6f008/15314224155902.jpg&quot;
          alt=&quot;15314224155902&quot;
          title=&quot;15314224155902&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.item&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &amp;lt;integer&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;/* default is 0 */&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h1&gt;justify-items&lt;/h1&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9c7f3e8c6fba55b25f59e45632d9ba52/b7efe/15314224258603.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50.5%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAgABBf/EABYBAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAAB7aOsqMv/xAAXEAADAQAAAAAAAAAAAAAAAAAAICFB/9oACAEBAAEFAqmH/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAHhAAAQMEAwAAAAAAAAAAAAAAAAERQRAhMWFxgZH/2gAIAQEAAT8hbQjHlGv2IVjg/9oADAMBAAIAAwAAABD3z//EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAwEBPxCVr//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABwQAAIBBQEAAAAAAAAAAAAAAAABMREhQXGxUf/aAAgBAQABPxDBwUSqd0ti3jKMFLhDp8IaD//Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/9c7f3e8c6fba55b25f59e45632d9ba52/14b47/15314224258603.webp 293w,
/static/9c7f3e8c6fba55b25f59e45632d9ba52/91928/15314224258603.webp 585w,
/static/9c7f3e8c6fba55b25f59e45632d9ba52/384f8/15314224258603.webp 1170w,
/static/9c7f3e8c6fba55b25f59e45632d9ba52/43d96/15314224258603.webp 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/9c7f3e8c6fba55b25f59e45632d9ba52/ec1cd/15314224258603.jpg 293w,
/static/9c7f3e8c6fba55b25f59e45632d9ba52/f2ede/15314224258603.jpg 585w,
/static/9c7f3e8c6fba55b25f59e45632d9ba52/740b7/15314224258603.jpg 1170w,
/static/9c7f3e8c6fba55b25f59e45632d9ba52/b7efe/15314224258603.jpg 1600w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/9c7f3e8c6fba55b25f59e45632d9ba52/740b7/15314224258603.jpg&quot;
          alt=&quot;15314224258603&quot;
          title=&quot;15314224258603&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;css&quot;&gt;&lt;pre style=&quot;counter-reset: linenumber NaN&quot; class=&quot;language-css line-numbers&quot;&gt;&lt;code class=&quot;language-css&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;.item&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;justify-items&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; auto | stretch | center | start | end&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;/code&gt;&lt;span aria-hidden=&quot;true&quot; class=&quot;line-numbers-rows&quot; style=&quot;white-space: normal; width: auto; left: 0;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Conteneuriser des applications Node.js avec Docker]]></title><description><![CDATA[Les conteneurs d‚Äôapplications ont √©merg√© comme un outil puissant dans le d√©veloppement de logiciels modernes. Plus l√©gers et plus √©conomes‚Ä¶]]></description><link>https://ludovicwyffels.dev/docker-nodejs/</link><guid isPermaLink="false">https://ludovicwyffels.dev/docker-nodejs/</guid><pubDate>Fri, 11 May 2018 08:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Les conteneurs d‚Äôapplications ont √©merg√© comme un outil puissant dans le d√©veloppement de logiciels modernes. Plus l√©gers et plus √©conomes en ressources que les machines virtuelles traditionnelles, les conteneurs offrent aux organisations informatiques de nouvelles opportunit√©s dans le contr√¥le de version, le d√©ploiement, la graduation (scaling) et la s√©curit√©.&lt;/p&gt;
&lt;p&gt;Ce post traitera de ce que sont exactement les conteneurs, pourquoi ils se r√©v√®lent si avantageux, comment les utilisateurs les utilisent et des meilleures pratiques pour conteneuriser vos applications Node.js avec Docker.&lt;/p&gt;
&lt;h2&gt;Qu‚Äôest-ce qu‚Äôun conteneur?&lt;/h2&gt;
&lt;p&gt;En termes simples, les conteneurs &lt;strong&gt;ex√©cutent des instances d‚Äô images de conteneur&lt;/strong&gt;. Les images sont des alternatives en couches aux disques de machines virtuelles (VMD) qui permettent aux applications d‚Äô√™tre extraites de l‚Äôenvironnement dans lequel elles sont r√©ellement ex√©cut√©es. Les images conteneur sont ex√©cutables, logiciel isol√© avec acc√®s aux ressources de l‚Äôh√¥te, au r√©seau et au syst√®me de fichiers. Ces images sont cr√©√©es avec leurs propres outils syst√®me, biblioth√®ques, code, environnement d‚Äôex√©cution et d√©pendances associ√©es cod√©es en dur. Cela permet aux conteneurs d‚Äô√™tre fil√©s ind√©pendamment de l‚Äôenvironnement. Cette approche ‚Äútout-en-un‚Äù aide √† r√©soudre les probl√®mes d‚Äôapplication ind√©pendante, en am√©liorant la s√©curit√© des syst√®mes et en facilitant le d√©bogage.&lt;/p&gt;
&lt;p&gt;Contrairement aux machines virtuelles traditionnelles, les images de conteneur donnent √† chacune de ses instances un acc√®s partag√© au syst√®me d‚Äôexploitation h√¥te via une ex√©cution de conteneur. Cet acc√®s partag√© aux ressources du syst√®me h√¥te permet d‚Äôobtenir des performances et des ressources qui ne sont pas trouv√©es dans d‚Äôautres m√©thodes de virtualisation.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1170px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/eeb2dd2a094646b08033d318d1f85001/a04ab/vm-vs-containers.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAABFElEQVQoz6VS7W4EIQjc93/WO9ddBATB67h77Y+mSZOW+DHADBJ1e/3DNsyYERmZ+QYTAFvMOX8Rg/SspdS9MmYtx37IWY6KoJiC4TFHTlTCukDOO/IWU2vcmKRhB2h9rUTNh3cfz30H3knKXo+TKivOAIJ+iU9Qm5xLrI2VlBtcYhtuI+pJxEJiB2owaFaJIIklnkHWMJpL0frQHaAZH50szPN19miWh+aDR+Fx9qQOCW5ntZ02hl9D1ES7+8LmHsumWbhntxAZqoinXyNxMpbF9mHmLCpQd/S73HX1kQDDQ7utrGK3mw/hhvfIy8YYrMoi7n4H52V3Fj3wVTg/Dant69HgmBkKg/fjqyKLA75/kj/bB4nJhY/JKPpZAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/eeb2dd2a094646b08033d318d1f85001/14b47/vm-vs-containers.webp 293w,
/static/eeb2dd2a094646b08033d318d1f85001/91928/vm-vs-containers.webp 585w,
/static/eeb2dd2a094646b08033d318d1f85001/384f8/vm-vs-containers.webp 1170w,
/static/eeb2dd2a094646b08033d318d1f85001/ff8d7/vm-vs-containers.webp 1440w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/eeb2dd2a094646b08033d318d1f85001/b6dd9/vm-vs-containers.png 293w,
/static/eeb2dd2a094646b08033d318d1f85001/037e5/vm-vs-containers.png 585w,
/static/eeb2dd2a094646b08033d318d1f85001/0f291/vm-vs-containers.png 1170w,
/static/eeb2dd2a094646b08033d318d1f85001/a04ab/vm-vs-containers.png 1440w&quot;
          sizes=&quot;(max-width: 1170px) 100vw, 1170px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/eeb2dd2a094646b08033d318d1f85001/0f291/vm-vs-containers.png&quot;
          alt=&quot;Virtual Machines vs Containers&quot;
          title=&quot;Virtual Machines vs Containers&quot;
          loading=&quot;lazy&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Imaginez une image de conteneur qui n√©cessite 500 Mo. Dans un environnement conteneuris√©, ces 500 Mo peuvent √™tre partag√©s entre des centaines de conteneurs en supposant qu‚Äôils fonctionnent tous sur la m√™me image de base. D‚Äôun autre c√¥t√©, les machines virtuelles auraient besoin de 500 Mo par machine virtuelle . Cela rend les conteneurs beaucoup plus adapt√©s aux &lt;em&gt;horizontal scaling&lt;/em&gt; et aux environnements restreints aux ressources.&lt;/p&gt;
&lt;h2&gt;Pourquoi les conteneurs d‚Äôapplications?&lt;/h2&gt;
&lt;p&gt;La l√©g√®ret√© et la reproductibilit√© des conteneurs en ont fait une option de plus en plus utilis√©e par les entreprises souhaitant d√©velopper des applications logicielles √©volutives, hautement disponibles et contr√¥l√©es par les versions.&lt;/p&gt;
&lt;p&gt;Les conteneurs offrent plusieurs avantages cl√©s aux d√©veloppeurs:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;L√©ger et √©conome en ressources&lt;/strong&gt;. Par rapport aux machines virtuelles, qui g√©n√®rent des copies de leur syst√®me d‚Äôexploitation h√¥te pour chaque application ou processus, les conteneurs ont nettement moins d‚Äôimpact sur la m√©moire, l‚Äôutilisation du processeur et l‚Äôespace disque.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Immuable&lt;/strong&gt;. Les conteneurs sont g√©n√©r√©s √† partir d‚Äôune seule source v√©rifi√©e, une image. Si des modifications sont valid√©es sur une image, une nouvelle image est cr√©√©e . Cela rend les changements d‚Äôimage de conteneur faciles √† suivre et les restaurations de d√©ploiement intuitives. La reproductibilit√© et la stabilit√© des conteneurs permettent aux √©quipes de d√©veloppement d‚Äô√©viter la d√©rive de la configuration, ce qui simplifie consid√©rablement le test de version et la mise en miroir des environnements de d√©veloppement et de production.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Portable&lt;/strong&gt;. La nature isol√©e et autonome des conteneurs en fait un excellent choix pour les applications qui doivent fonctionner sur une multitude de services, de plates-formes et d‚Äôenvironnements. Ils peuvent fonctionner sous Linux, Windows et macOS. Fournissez-les depuis le cloud, sur site ou l√† o√π votre infrastructure l‚Äôexige.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;√âvolutif et hautement disponible&lt;/strong&gt;. Les conteneurs sont facilement reproductibles et peuvent r√©pondre dynamiquement aux demandes de trafic, gr√¢ce aux services d‚Äôorchestration tels que les instances de conteneur &lt;a href=&quot;https://azure.microsoft.com/en-us/services/container-instances/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Azure&lt;/a&gt;, &lt;a href=&quot;https://cloud.google.com/compute/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Google Cloud Engine&lt;/a&gt; et &lt;a href=&quot;https://aws.amazon.com/ecs/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Amazon ECS&lt;/a&gt;, qui facilitent et acc√©l√®rent la cr√©ation ou le retrait de conteneurs de votre infrastructure.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Cas d‚Äôutilisation de conteneurs d‚Äôapplications&lt;/h2&gt;
&lt;p&gt;Toutes les applications et les organisations n‚Äôauront pas les m√™mes besoins en infrastructure. Les avantages susmentionn√©s des conteneurs les rendent particuli√®rement aptes √† r√©pondre aux besoins suivant:&lt;/p&gt;
&lt;h3&gt;DEVOPS ORGANISATIONS&lt;/h3&gt;
&lt;p&gt;Pour les √©quipes qui travaillent √† pratiquer ¬´l‚Äôinfrastructure comme code¬ª et qui cherchent √† adopter le paradigme DevOps, les conteneurs offrent des opportunit√©s in√©gal√©es. Leur portabilit√©, leur r√©sistance √† la d√©rive de configuration et leur temps de d√©marrage rapide font des conteneurs un excellent outil pour tester rapidement et de mani√®re reproductible diff√©rents environnements de code, ind√©pendamment de la machine ou de l‚Äôemplacement.&lt;/p&gt;
&lt;h3&gt;MICROSERVICE ET ARCHITECTURES DISTRIBU√âES&lt;/h3&gt;
&lt;p&gt;Une expression courante dans le d√©veloppement de microservices est ¬´faites une chose et faites-le bien¬ª, et cela s‚Äôharmonise √©troitement avec les conteneurs d‚Äôapplications. Les conteneurs offrent un excellent moyen d‚Äôenvelopper les microservices et de les isoler de l‚Äôenvironnement d‚Äôapplication plus large. Ceci est tr√®s utile lorsque vous souhaitez mettre √† jour des (micro-) services sp√©cifiques d‚Äôune suite d‚Äôapplications sans mettre √† jour l‚Äôensemble de l‚Äôapplication.&lt;/p&gt;
&lt;h3&gt;TESTS A / B&lt;/h3&gt;
&lt;p&gt;Les conteneurs facilitent le d√©ploiement de plusieurs versions de la m√™me application. Lorsqu‚Äôils sont associ√©s √† des d√©ploiements incr√©mentaux , les conteneurs peuvent maintenir votre application dans un √©tat dynamique et r√©actif aux tests. Voulez-vous tester une nouvelle fonctionnalit√© de performance? Faites d√©filer un nouveau conteneur, ajoutez des mises √† jour, acheminez 1% du trafic vers celui-ci et collectez des commentaires sur les utilisateurs et les performances. √Ä mesure que les changements se stabilisent et que votre √©quipe d√©cide de l‚Äôappliquer √† l‚Äôapplication en g√©n√©ral, les conteneurs peuvent rendre cette transition fluide et efficace.&lt;/p&gt;
&lt;h2&gt;Conteneurs et Node.js&lt;/h2&gt;
&lt;p&gt;En raison de la pertinence des conteneurs d‚Äôapplications pour les environnements d‚Äôapplication cibl√©s, Node.js est sans doute le meilleur moteur d‚Äôex√©cution pour la conteneurisation.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;D√©pendances explicites&lt;/strong&gt;. Les applications Node.js conteneuris√©es peuvent verrouiller les arborescences de d√©pendance et g√©rer des fichiers stables package.json , package-lock.json ou npm-shrinkwrap.json .&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;D√©marrage rapide et red√©marrage&lt;/strong&gt;. Les conteneurs sont l√©gers et d√©marrent rapidement, ce qui en fait une paire strat√©gique pour les applications Node.js. L‚Äôune des fonctionnalit√©s les plus appr√©ci√©es de Node.js est son temps de d√©marrage impressionnant. Cette performance de d√©marrage robuste obtient des processus termin√©s red√©marr√©s rapidement et les applications stabilis√©es; La conteneurisation fournit une solution √©volutive pour maintenir cette performance.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Scaling au niveau du processus&lt;/strong&gt;. Semblable √† la meilleure pratique de Node.js consistant √† faire tourner plus de processus au lieu de plus de threads, un environnement conteneuris√© augmentera le nombre de processus en augmentant le nombre de conteneurs. Cet &lt;em&gt;horizontal scaling&lt;/em&gt; cr√©e de la redondance et permet de maintenir les applications hautement disponibles, sans le co√ªt significatif des ressources d‚Äôune nouvelle machine virtuelle par processus.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Dockeriser votre application Node.js&lt;/h1&gt;
&lt;h2&gt;Pr√©sentation de Docker&lt;/h2&gt;
&lt;p&gt;Docker est un syst√®me de fichiers en couches pour l‚Äôenvoi d‚Äôimages, et permet aux organisations d‚Äôabstraire leurs applications de leur infrastructure.&lt;/p&gt;
&lt;p&gt;Avec Docker, les images sont g√©n√©r√©es via un fichier Docker. Ce fichier fournit des configurations et des commandes pour g√©n√©rer des images par programme.&lt;/p&gt;
&lt;p&gt;Chaque commande Docker dans un Dockerfile ajoute un ‚Äòcalque‚Äô. Plus il y a de couches, plus le conteneur r√©sultant est grand.&lt;/p&gt;
&lt;p&gt;Voici un exemple simple de Dockerfile:&lt;/p&gt;
&lt;p&gt;&lt;div id=&quot;gist90346269&quot; class=&quot;gist&quot;&gt;
    &lt;div class=&quot;gist-file&quot;&gt;
      &lt;div class=&quot;gist-data&quot;&gt;
        &lt;div class=&quot;js-gist-file-update-container js-task-list-container file-box&quot;&gt;
  &lt;div id=&quot;file-docker-nodeapp-basic&quot; class=&quot;file&quot;&gt;
    

  &lt;div itemprop=&quot;text&quot; class=&quot;Box-body p-0 blob-wrapper data type-text &quot;&gt;
      
&lt;table class=&quot;highlight tab-size js-file-line-container&quot; data-tab-size=&quot;8&quot;&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-basic-L1&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-basic-LC1&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;FROM node:8&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-basic-L2&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;2&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-basic-LC2&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-basic-L3&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;3&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-basic-LC3&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;WORKDIR /home/nodejs/app&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-basic-L4&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;4&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-basic-LC4&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-basic-L5&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;5&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-basic-LC5&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;COPY . .&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-basic-L6&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;6&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-basic-LC6&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;RUN npm install --production&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-basic-L7&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;7&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-basic-LC7&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-basic-L8&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;8&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-basic-LC8&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;CMD [‚Äúnode‚Äù, ‚Äúindex.js‚Äù]&lt;/td&gt;
      &lt;/tr&gt;
&lt;/table&gt;


  &lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;

      &lt;/div&gt;
      &lt;div class=&quot;gist-meta&quot;&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/319ac2d2b4214ca0b39981da50743a99/raw/6f10759e187398fd341f8e3ffb373332b8b36a29/docker-nodeApp-basic&quot; style=&quot;float:right&quot;&gt;view raw&lt;/a&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/319ac2d2b4214ca0b39981da50743a99#file-docker-nodeapp-basic&quot;&gt;docker-nodeApp-basic&lt;/a&gt;
        hosted with &amp;#10084; by &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;La commande &lt;code&gt;FROM&lt;/code&gt; d√©signe l‚Äôimage de base qui sera utilis√©e; dans ce cas, il s‚Äôagit de l‚Äôimage de la ligne de lancement Node.js 8 LTS.&lt;/p&gt;
&lt;p&gt;La commande &lt;code&gt;RUN&lt;/code&gt; prend les commandes bash comme arguments. Dans la ligne 2, nous cr√©ons un r√©pertoire pour placer l‚Äôapplication Node.js. La ligne 3 indique √† Docker que le r√©pertoire de travail pour chaque commande apr√®s la ligne 3 sera le r√©pertoire de l‚Äôapplication. La ligne 5 copie tout le r√©pertoire courant dans le r√©pertoire courant de l‚Äôimage, qui est &lt;code&gt;/home/nodejs/app&lt;/code&gt; pr√©c√©demment d√©fini par la commande WORKDIR de mani√®re similaire. Sur la ligne 6, nous installons l‚Äôinstallation de production.&lt;/p&gt;
&lt;p&gt;Enfin, sur la ligne 8, nous transmettons √† Docker une commande et un argument pour ex√©cuter l‚Äôapplication Node.js √† l‚Äôint√©rieur du conteneur.&lt;/p&gt;
&lt;p&gt;L‚Äôexemple ci-dessus fournit un Dockerfile de base, mais finalement probl√©matique.&lt;/p&gt;
&lt;p&gt;Dans la section suivante, nous examinerons certaines des meilleures pratiques de Dockerfile pour ex√©cuter Node.js en production.&lt;/p&gt;
&lt;h2&gt;Meilleures pratiques Dockerfile&lt;/h2&gt;
&lt;h3&gt;NE PAS EX√âCUTER L‚ÄôAPPLICATION EN TANT QUE ROOT&lt;/h3&gt;
&lt;p&gt;Assurez-vous que l‚Äôapplication ex√©cut√©e dans le conteneur Docker n‚Äôest pas ex√©cut√©e en tant que &lt;code&gt;root&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;div id=&quot;gist90346317&quot; class=&quot;gist&quot;&gt;
    &lt;div class=&quot;gist-file&quot;&gt;
      &lt;div class=&quot;gist-data&quot;&gt;
        &lt;div class=&quot;js-gist-file-update-container js-task-list-container file-box&quot;&gt;
  &lt;div id=&quot;file-docker-nodeapp-secure-part1&quot; class=&quot;file&quot;&gt;
    

  &lt;div itemprop=&quot;text&quot; class=&quot;Box-body p-0 blob-wrapper data type-text &quot;&gt;
      
&lt;table class=&quot;highlight tab-size js-file-line-container&quot; data-tab-size=&quot;8&quot;&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part1-L1&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part1-LC1&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;FROM node:8 &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part1-L2&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;2&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part1-LC2&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part1-L3&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;3&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part1-LC3&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;RUN groupadd -r nodejs &amp;amp;&amp;amp; useradd -m -r -g -s /bin/bash nodejs nodejs &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part1-L4&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;4&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part1-LC4&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part1-L5&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;5&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part1-LC5&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;USER nodejs&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part1-L6&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;6&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part1-LC6&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part1-L7&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;7&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part1-LC7&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;...&lt;/td&gt;
      &lt;/tr&gt;
&lt;/table&gt;


  &lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;

      &lt;/div&gt;
      &lt;div class=&quot;gist-meta&quot;&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/6237f74e2cfebbbbd6247c27c4fa1310/raw/a514481490028932ce5615be92070547df63d09f/docker-nodeApp-secure-part1&quot; style=&quot;float:right&quot;&gt;view raw&lt;/a&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/6237f74e2cfebbbbd6247c27c4fa1310#file-docker-nodeapp-secure-part1&quot;&gt;docker-nodeApp-secure-part1&lt;/a&gt;
        hosted with &amp;#10084; by &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;Dans l‚Äôexemple ci-dessus, quelques lignes de code ont √©t√© ajout√©es √† l‚Äôexemple Dockerfile d‚Äôorigine pour extraire l‚Äôimage de la derni√®re version LTS de Node.js, ainsi que pour ajouter et d√©finir un nouvel utilisateur, &lt;code&gt;nodejs&lt;/code&gt; . De cette fa√ßon, dans le cas o√π une vuln√©rabilit√© de l‚Äôapplication est exploit√©e, et que quelqu‚Äôun r√©ussit √† entrer dans le conteneur au niveau du syst√®me, au mieux, ce sont des utilisateurs &lt;code&gt;nodejs&lt;/code&gt; qui n‚Äôont pas d‚Äôautorisations root et n‚Äôexistent pas sur l‚Äôh√¥te.&lt;/p&gt;
&lt;h3&gt;CACHE NODE_MODULES&lt;/h3&gt;
&lt;p&gt;Docker construit chaque ligne d‚Äôun Dockerfile individuellement. Cela forme les ‚Äúcouches‚Äù de l‚Äôimage Docker. Au fur et √† mesure qu‚Äôune image est construite, Docker met en cache chaque couche.&lt;/p&gt;
&lt;p&gt;&lt;div id=&quot;gist90346342&quot; class=&quot;gist&quot;&gt;
    &lt;div class=&quot;gist-file&quot;&gt;
      &lt;div class=&quot;gist-data&quot;&gt;
        &lt;div class=&quot;js-gist-file-update-container js-task-list-container file-box&quot;&gt;
  &lt;div id=&quot;file-docker-nodeapp-secure-part2&quot; class=&quot;file&quot;&gt;
    

  &lt;div itemprop=&quot;text&quot; class=&quot;Box-body p-0 blob-wrapper data type-text &quot;&gt;
      
&lt;table class=&quot;highlight tab-size js-file-line-container&quot; data-tab-size=&quot;8&quot;&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-L1&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-LC1&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;FROM node:8 &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-L2&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;2&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-LC2&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-L3&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;3&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-LC3&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;RUN groupadd -r nodejs &amp;amp;&amp;amp; useradd -m -r -g -s /bin/bash nodejs nodejs &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-L4&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;4&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-LC4&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-L5&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;5&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-LC5&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;USER nodejs&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-L6&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;6&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-LC6&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-L7&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;7&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-LC7&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;WORKDIR /home/nodejs/app &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-L8&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;8&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-LC8&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-L9&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;9&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-LC9&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;COPY package.json . &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-L10&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;10&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-LC10&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;RUN npm install --production&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-L11&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;11&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-LC11&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;COPY . .&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-L12&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;12&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-LC12&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-L13&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;13&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-part2-LC13&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;...&lt;/td&gt;
      &lt;/tr&gt;
&lt;/table&gt;


  &lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;

      &lt;/div&gt;
      &lt;div class=&quot;gist-meta&quot;&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/b010c5e5ab987804b89dff82ed98cf45/raw/cedda0ca8f7164223f2056eaff9c25d60ac4a5fd/docker-nodeApp-secure-part2&quot; style=&quot;float:right&quot;&gt;view raw&lt;/a&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/b010c5e5ab987804b89dff82ed98cf45#file-docker-nodeapp-secure-part2&quot;&gt;docker-nodeApp-secure-part2&lt;/a&gt;
        hosted with &amp;#10084; by &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;Sur la ligne 9 du Dockerfile ci-dessus, le fichier package.json est copi√© dans le r√©pertoire de travail √©tabli sur la ligne 7. Apr√®s le &lt;code&gt;npm install&lt;/code&gt; sur la ligne 10, la ligne 11 copie le r√©pertoire courant dans le r√©pertoire de travail (l‚Äôimage).&lt;/p&gt;
&lt;p&gt;Si aucune modification n‚Äôest apport√©e √† votre package.json , Docker ne reconstruira pas la couche d‚Äôimage &lt;code&gt;npm install&lt;/code&gt;, ce qui peut consid√©rablement am√©liorer les temps de construction.&lt;/p&gt;
&lt;h3&gt;CONFIGUREZ VOTRE ENVIRONNEMENT&lt;/h3&gt;
&lt;p&gt;Il est important de d√©finir explicitement les variables d‚Äôenvironnement que votre application Node.js s‚Äôattend √† rester constante tout au long du cycle de vie du conteneur.&lt;/p&gt;
&lt;p&gt;&lt;div id=&quot;gist90346446&quot; class=&quot;gist&quot;&gt;
    &lt;div class=&quot;gist-file&quot;&gt;
      &lt;div class=&quot;gist-data&quot;&gt;
        &lt;div class=&quot;js-gist-file-update-container js-task-list-container file-box&quot;&gt;
  &lt;div id=&quot;file-docker-nodeapp-secure&quot; class=&quot;file&quot;&gt;
    

  &lt;div itemprop=&quot;text&quot; class=&quot;Box-body p-0 blob-wrapper data type-text &quot;&gt;
      
&lt;table class=&quot;highlight tab-size js-file-line-container&quot; data-tab-size=&quot;8&quot;&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-L1&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-LC1&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;FROM node:8 &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-L2&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;2&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-LC2&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-L3&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;3&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-LC3&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;RUN groupadd -r nodejs &amp;amp;&amp;amp; useradd -m -r -g -s /bin/bash nodejs nodejs &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-L4&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;4&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-LC4&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-L5&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;5&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-LC5&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;USER nodejs&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-L6&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;6&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-LC6&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-L7&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;7&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-LC7&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;WORKDIR /home/nodejs/app &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-L8&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;8&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-LC8&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-L9&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;9&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-LC9&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;COPY package.json . &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-L10&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;10&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-LC10&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;RUN npm install --production&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-L11&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;11&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-LC11&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;COPY . .&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-L12&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;12&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-LC12&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-L13&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;13&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-LC13&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;ENV NODE_ENV production&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-L14&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;14&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-LC14&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;
&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-L15&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;15&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-nodeapp-secure-LC15&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;CMD [&amp;quot;node.js&amp;quot;, &amp;quot;index.js&amp;quot;]&lt;/td&gt;
      &lt;/tr&gt;
&lt;/table&gt;


  &lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;

      &lt;/div&gt;
      &lt;div class=&quot;gist-meta&quot;&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/27412e8ac874b059a5a509acfe757705/raw/4c3864831f4bd30de5a4556d7e6df01226235b58/docker-nodeApp-secure&quot; style=&quot;float:right&quot;&gt;view raw&lt;/a&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/27412e8ac874b059a5a509acfe757705#file-docker-nodeapp-secure&quot;&gt;docker-nodeApp-secure&lt;/a&gt;
        hosted with &amp;#10084; by &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://hub.docker.com/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;DockerHub&lt;/a&gt; fournit une ressource centralis√©e pour la d√©couverte d‚Äôimages de conteneur, la distribution et la gestion des modifications, la collaboration entre utilisateurs et √©quipes et l‚Äôautomatisation du flux de travail tout au long du pipeline de d√©veloppement‚Äô.
Pour associer la CLI Docker √† votre compte DockerHub, utilisez la &lt;code&gt;docker login&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;docker login [OPTIONS] [SERVER]&lt;/code&gt; : &lt;code&gt;docker login [OPTIONS] [SERVER]&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;COMPTES GITHUB PRIV√âS ET MODULES NPM&lt;/h3&gt;
&lt;p&gt;Docker ex√©cute ses builds √† l‚Äôint√©rieur d‚Äôun sandbox et cet environnement sandbox n‚Äôa pas acc√®s √† des informations telles que les cl√©s ssh ou les informations d‚Äôidentification npm. Pour contourner cette contrainte, quelques options recommand√©es sont disponibles pour les d√©veloppeurs:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Stocker les cl√©s et les informations d‚Äôidentification sur le syst√®me CI / CD&lt;/strong&gt;. Les probl√®mes de s√©curit√© d‚Äôavoir des informations d‚Äôidentification sensibles √† l‚Äôint√©rieur de la construction Docker peuvent √™tre √©vit√©s enti√®rement en ne les mettant jamais l√† en premier lieu. Au lieu de cela, stockez-les et r√©cup√©rez-les dans le syst√®me CI / CD de votre infrastructure, et copiez manuellement les d√©pendances priv√©es dans l‚Äôimage.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Utilisez un serveur npm interne&lt;/strong&gt;. √Ä l‚Äôaide d‚Äôun outil comme Verdaccio, configurez un proxy npm qui garde le flux des modules internes et des informations d‚Äô identification priv√©es .&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;SOYEZ EXPLICITE AVEC LES TAGS&lt;/h3&gt;
&lt;p&gt;Les balises aident √† diff√©rencier les diff√©rentes versions d‚Äôimages. Les balises peuvent √™tre utilis√©es pour identifier les builds, les √©quipes qui travaillent sur l‚Äôimage et litt√©ralement toute autre d√©signation utile √† une organisation pour g√©rer le d√©veloppement des images. Si aucune balise n‚Äôest ajout√©e explicitement, Docker assignera une balise par d√©faut √† &lt;code&gt;latest&lt;/code&gt; apr√®s la &lt;code&gt;docker build&lt;/code&gt;. En tant que tag, le d√©veloppement est le latest en date, mais peut √™tre tr√®s probl√©matique dans les environnements de production et de mise en sc√®ne.&lt;/p&gt;
&lt;p&gt;Pour √©viter les probl√®mes &lt;code&gt;latest&lt;/code&gt; , &lt;strong&gt;soyez explicites avec vos balises de construction&lt;/strong&gt;. Voici un exemple de script attribuant des balises avec des variables d‚Äôenvironnement pour le git sha, le nom de la branche et le num√©ro de build de la construction, tous les trois pouvant √™tre tr√®s utiles dans la gestion des versions, du d√©bogage et du d√©ploiement:&lt;/p&gt;
&lt;p&gt;&lt;div id=&quot;gist90346485&quot; class=&quot;gist&quot;&gt;
    &lt;div class=&quot;gist-file&quot;&gt;
      &lt;div class=&quot;gist-data&quot;&gt;
        &lt;div class=&quot;js-gist-file-update-container js-task-list-container file-box&quot;&gt;
  &lt;div id=&quot;file-docker-tag&quot; class=&quot;file&quot;&gt;
    

  &lt;div itemprop=&quot;text&quot; class=&quot;Box-body p-0 blob-wrapper data type-text &quot;&gt;
      
&lt;table class=&quot;highlight tab-size js-file-line-container&quot; data-tab-size=&quot;8&quot;&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-tag-L1&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;1&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-tag-LC1&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;# !/bin/sh &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-tag-L2&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;2&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-tag-LC2&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;docker tag helloworld:latest yourorg/helloworld:$SHA1 &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-tag-L3&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;3&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-tag-LC3&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;docker tag helloworld:latest yourorg/helloworld:$BRANCH_NAME &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td id=&quot;file-docker-tag-L4&quot; class=&quot;blob-num js-line-number&quot; data-line-number=&quot;4&quot;&gt;&lt;/td&gt;
        &lt;td id=&quot;file-docker-tag-LC4&quot; class=&quot;blob-code blob-code-inner js-file-line&quot;&gt;docker tag helloworld:latest yourorg/build_$BUILD_NUM&lt;/td&gt;
      &lt;/tr&gt;
&lt;/table&gt;


  &lt;/div&gt;

  &lt;/div&gt;
&lt;/div&gt;

      &lt;/div&gt;
      &lt;div class=&quot;gist-meta&quot;&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/70fdd653abba16c4451c0781f6dd9fc5/raw/1d49ac14e5a358a84bb1afdf5695b5ea95d3811e/docker-tag&quot; style=&quot;float:right&quot;&gt;view raw&lt;/a&gt;
        &lt;a href=&quot;https://gist.github.com/ludovicwyffels/70fdd653abba16c4451c0781f6dd9fc5#file-docker-tag&quot;&gt;docker-tag&lt;/a&gt;
        hosted with &amp;#10084; by &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;En savoir plus sur le marquage &lt;a href=&quot;https://docs.docker.com/get-started/part2/#tag-the-image&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;ici&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Conteneurs et gestion des processus&lt;/h2&gt;
&lt;p&gt;Les conteneurs sont con√ßus pour √™tre l√©gers et bien adapt√©s au niveau du processus, ce qui contribue √† simplifier la gestion des processus: si le processus se termine, le conteneur se ferme. Cependant, cette cartographie 1:1 est une id√©alisation qui n‚Äôest pas toujours maintenue dans la pratique.&lt;/p&gt;
&lt;p&gt;Comme les conteneurs Docker ne sont pas fournis avec un gestionnaire de processus, ajoutez un outil pour une gestion simple des processus.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/Yelp/dumb-init&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;dumb-init&lt;/a&gt; de Yelp est un superviseur de processus simple et l√©ger et un syst√®me d‚Äôinitialisation con√ßu pour fonctionner en tant que &lt;code&gt;PID 1&lt;/code&gt; dans des environnements de conteneur. Cette d√©signation &lt;code&gt;PID 1&lt;/code&gt; pour le processus dumb-init est normalement affect√©e √† un conteneur Linux en cours d‚Äôex√©cution et poss√®de ses propres idiosyncrasies de signalisation du noyau qui compliquent la gestion des processus. Dumb-init fournit un niveau d‚Äôabstraction qui lui permet d‚Äôagir comme un proxy de signal, assurant le comportement attendu du processus.&lt;/p&gt;
&lt;h2&gt;Ce qu‚Äôil faut inclure dans vos conteneurs d‚Äôapplications&lt;/h2&gt;
&lt;p&gt;Le principal avantage des conteneurs est qu‚Äôils ne fournissent que ce qui est n√©cessaire. Gardez cela √† l‚Äôesprit lorsque vous ajoutez des calques √† vos images.&lt;/p&gt;
&lt;p&gt;Voici une liste de contr√¥le √† inclure lors de la cr√©ation d‚Äôimages de conteneur:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Votre code d‚Äôapplication et ses d√©pendances.&lt;/li&gt;
&lt;li&gt;Variables d‚Äôenvironnement n√©cessaires.&lt;/li&gt;
&lt;li&gt;Un proxy de signal simple pour la gestion de processus, comme dumb-init.
C‚Äôest tout.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Les conteneurs sont une solution de virtualisation moderne mieux adapt√©e aux infrastructures n√©cessitant un partage efficace des ressources, des d√©lais de d√©marrage rapides et une mise √† l‚Äô√©chelle rapide.&lt;/p&gt;
&lt;p&gt;Les organisations DevOps utilisent des conteneurs d‚Äôapplications pour impl√©menter ‚Äòl‚Äôinfrastructure en tant que code‚Äô, des √©quipes d√©veloppant des microservices et s‚Äôappuyant sur des architectures distribu√©es et des groupes d‚Äôassurance qualit√© (QA) tirant parti de strat√©gies telles que les tests A/B et les d√©ploiements incr√©mentaux en production.&lt;/p&gt;
&lt;p&gt;Tout comme l‚Äôapproche recommand√©e pour Node.js monothread est 1 processus: 1 application, la meilleure pratique pour les conteneurs d‚Äôapplications est 1 processus: 1 conteneur. Cette relation en miroir fait sans doute de Node.js l‚Äôenvironnement d‚Äôex√©cution le plus appropri√© pour le d√©veloppement de conteneurs.&lt;/p&gt;
&lt;p&gt;Docker est une plate-forme ouverte pour le d√©veloppement, l‚Äôexp√©dition et l‚Äôex√©cution d‚Äôapplications conteneuris√©es. Docker vous permet de s√©parer vos applications de votre infrastructure afin de pouvoir livrer des logiciels rapidement. Lorsque vous utilisez Docker avec Node.js, gardez √† l‚Äôesprit:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ne lancez pas l‚Äôapplication en tant que &lt;code&gt;root&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Cache &lt;code&gt;node_modules&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Utilisez votre syst√®me CI / CD ou un serveur interne pour conserver les informations d‚Äôidentification sensibles hors de l‚Äôimage du conteneur&lt;/li&gt;
&lt;li&gt;Soyez explicite avec les balises de construction&lt;/li&gt;
&lt;li&gt;Gardez les r√©cipients &lt;em&gt;l√©gers&lt;/em&gt; !&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item></channel></rss>